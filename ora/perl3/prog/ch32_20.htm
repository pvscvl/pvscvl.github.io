<html>
<head>
<title>File::Copy (Programming Perl)</title>

<!-- STYLESHEET -->

<link rel="stylesheet" type="text/css" href="../style/style1.css">

<!-- METADATA -->



<!--Dublin Core Metadata-->

<meta name="DC.Creator" content="">
<meta name="DC.Date" content="">
<meta name="DC.Format" content="text/xml" scheme="MIME">
<meta name="DC.Generator" content="XSLT stylesheet, xt by James Clark">
<meta name="DC.Identifier" content="">
<meta name="DC.Language" content="en-US">
<meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="DC.Source" content="" scheme="ISBN">
<meta name="DC.Subject.Keyword" content="">
<meta name="DC.Title" content="File::Copy">
<meta name="DC.Type" content="Text.Monograph">

</head>

<body>

<!-- START OF BODY -->



<!-- TOP BANNER -->

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home">
<map name="banner-map"><AREA SHAPE="rect" coords="1,-2,616,66" HREF="index.htm" ALT="Programming Perl"><AREA SHAPE="rect" coords="629,-11,726,25" HREF="jobjects/fsearch.htm" ALT="Search this book">
</map>

<!-- TOP NAV BAR -->

<div class="navbar">
<table width="684" border="0">
<tr>
<td align="left" valign="top" width="228"><a href="ch32_19.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0"></a></td><td align="center" valign="top" width="228"><a href="ch32_01.htm"></a></td><td align="right" valign="top" width="228"><a href="ch32_21.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0"></a></td>
</tr>
</table>
</div>



<h2 class="sect1">32.20. File::Copy</h2>

<p>
<blockquote>
<pre class="programlisting">use File::Copy;

copy("/tmp/fileA", "/tmp/fileA.orig") or die "copy failed: $!";
copy("/etc/motd", *STDOUT)            or die "copy failed: $!";
move("/tmp/fileA", "/tmp/fileB")      or die "move failed: $!";

use File::Copy qw/cp mv/;             # Get normal Unix names.
cp "/tmp/fileA", "/tmp/fileA.orig"    or die "copy failed: $!";
mv "/tmp/fileA", "/tmp/fileB"         or die "move failed: $!";</pre>
</blockquote>

The <tt class="literal">File::Copy</tt> module exports two functions,
<tt class="literal">copy</tt> and <tt class="literal">move</tt>, that respectively
copy or rename their first argument to their second argument, similar
to calling the Unix <em class="emphasis">cp</em>(1) and
<em class="emphasis">mv</em>(1) commands (names you may use if you
import them explicitly).  The <tt class="literal">copy</tt> function also
accepts filehandles as arguments.  These functions return true when
they work and false when they fail, setting <tt class="literal">$!</tt>
(<tt class="literal">$OS_ERROR</tt>) as appropriate.  (Unfortunately, you
can't tell whether something like "Permission denied" applies to the
first file or to the second one.)  These functions are something of a
compromise between convenience and precision.  They do not support the
numerous options and optimizations found in
<em class="emphasis">cp</em>(1) and
<em class="emphasis">mv</em>(1), such as recursive copying,
automatic backups, retention of original timestamps and ownership
information, and interactive confirmation.  If you need any of those
features, it's probably best to call your platform's versions of those
commands.<a href="#FOOTNOTE-2">[2]</a> Just realize that not all systems
support the same commands or use the same options for them.
<blockquote>
<pre class="programlisting">system("cp -R -pi /tmp/dir1 /tmp/dir2") == 0
    or die "external cp command status was $?";</pre>
</blockquote>
</p>
<blockquote class="footnote">

<a name="FOOTNOTE-2"></a>
<p>[2]Or get the PPT versions if your platform is
tool-challenged.</p>

</blockquote>


<!-- BOTTOM NAV BAR -->

<hr width="684" align="left">
<div class="navbar">
<table width="684" border="0">
<tr>
<td align="left" valign="top" width="228"><a href="ch32_19.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0"></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0"></a></td><td align="right" valign="top" width="228"><a href="ch32_21.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0"></a></td>
</tr>
<tr>
<td align="left" valign="top" width="228">32.19. File::Compare</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0"></a></td><td align="right" valign="top" width="228">32.21. File::Find</td>
</tr>
</table>
</div>
<hr width="684" align="left">

<!-- LIBRARY NAV BAR -->

<img src="../gifs/smnavbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links"><p>
<font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font>
</p>
<map name="library-map"> <area shape="rect" coords="1,0,85,94" href="../index.htm"><area shape="rect" coords="86,1,178,103" href="../lwp/index.htm"><area shape="rect" coords="180,0,265,103" href="../lperl/index.htm"><area shape="rect" coords="267,0,353,105" href="../perlnut/index.htm"><area shape="rect" coords="354,1,446,115" href="index.htm"><area shape="rect" coords="448,0,526,132" href="../tk/index.htm"><area shape="rect" coords="528,1,615,119" href="../cookbook/index.htm"><area shape="rect" coords="617,0,690,135" href="../pxml/index.htm">
</map>

<!-- END OF BODY -->

</body>
</html>
