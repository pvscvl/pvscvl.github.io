<HTML
><HEAD
>
<TITLE>Recipe 2.8. Generating Different Random Numbers (Perl Cookbook)</TITLE>
<META
NAME="DC.title"
CONTENT="Perl Cookbook"><META
NAME="DC.creator"
CONTENT="Tom Christiansen &amp; Nathan Torkington"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1999-07-02T01:30:11Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-243-3"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch02_01.htm"
TITLE="2. Numbers"><LINK
REL="prev"
HREF="ch02_08.htm"
TITLE="2.7. Generating Random Numbers"><LINK
REL="next"
HREF="ch02_10.htm"
TITLE="2.9. Making Numbers Even More Random"></HEAD
><BODY
BGCOLOR="#FFFFFF"><img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Perl Cookbook"><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map><div class="navbar"><p>
<TABLE
WIDTH="684"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="228"
><A
CLASS="sect1"
HREF="ch02_08.htm"
TITLE="2.7. Generating Random Numbers"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 2.7. Generating Random Numbers"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="228"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
><A
CLASS="chapter"
REL="up"
HREF="ch02_01.htm"
TITLE="2. Numbers"
></A
></FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="228"
><A
CLASS="sect1"
HREF="ch02_10.htm"
TITLE="2.9. Making Numbers Even More Random"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 2.9. Making Numbers Even More Random"
BORDER="0"></A
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="ch02-40473"
>2.8. Generating Different Random Numbers</A
></H2
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch02-pgfId-573"
>Problem</A
></H3
><P
CLASS="para"
>Every time you run your program you get the same set of "random" numbers. You want Perl to produce different random numbers each time. This is important in nearly every application of random numbers, especially games.</P
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch02-pgfId-579"
>Solution</A
></H3
><P
CLASS="para"
>Use Perl's <CODE
CLASS="literal"
>srand</CODE
><A
CLASS="indexterm"
NAME="ch02-idx-1000008039-0"
></A
> function:</P
><PRE
CLASS="programlisting"
>srand EXPR;</PRE
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch02-pgfId-587"
>Discussion</A
></H3
><P
CLASS="para"
>Making random numbers is hard. The best that computers can do, without special hardware, is generate "pseudo-random" numbers, which are evenly distributed in their range of values. These are generated using a mathematical formula, which means that given the same <I
CLASS="firstterm"
>seed</I
> (starting point), two programs will produce identical pseudo-random numbers.</P
><P
CLASS="para"
>The <CODE
CLASS="literal"
>srand</CODE
> function creates a new seed for the pseudo-random number generator. If given an argument, it uses that number as the seed. If no argument is given, <CODE
CLASS="literal"
>srand</CODE
> uses a value that's reasonably difficult to guess as the seed (as of Perl 5.004 or later; before that it just used <CODE
CLASS="literal"
>time</CODE
>, which isn't random at all). Don't call <CODE
CLASS="literal"
>srand</CODE
> more than once in a program.</P
><P
CLASS="para"
>If you haven't called <CODE
CLASS="literal"
>srand</CODE
> yourself, Perl version 5.004 and later calls <CODE
CLASS="literal"
>srand</CODE
> with a "good" seed the first time you call <CODE
CLASS="literal"
>rand</CODE
>. Earlier versions did not, so the same program always produced the same sequence. If you prefer that behavior, call <CODE
CLASS="literal"
>srand</CODE
> yourself with a particular seed:</P
><PRE
CLASS="programlisting"
>srand( &lt;STDIN&gt; );</PRE
><P
CLASS="para"
>Just because Perl tries to use a good default seed does not necessarily guarantee that the numbers generated are cryptographically secure against the most intrepid crackers. Textbooks on cryptography are usually good sources of cryptographically secure random number generators.</P
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch02-pgfId-601"
>See Also</A
></H3
><P
CLASS="para"
>The <CODE
CLASS="literal"
>srand</CODE
> function in <EM
CLASS="emphasis"
>perlfunc </EM
>(1); <A
CLASS="olink"
HREF="../prog/ch03_01.htm"
>Chapter 3</A
> of <A
CLASS="citetitle"
HREF="../prog/index.htm"
TITLE="Programming Perl"
><CITE
CLASS="citetitle"
>Programming Perl</CITE
></A
>; Recipes <A
CLASS="xref"
HREF="ch02_08.htm"
TITLE="Generating Random Numbers"
>Recipe 2.7</A
> and <A
CLASS="xref"
HREF="ch02_10.htm"
TITLE="Making Numbers Even More Random"
>Recipe 2.9</A
>; Bruce Schneier's excellent <CITE
CLASS="citetitle"
>Applied Cryptography </CITE
>; John Wiley &amp; Sons (1995) <A
CLASS="indexterm"
NAME="ch02-idx-1000008990-0"
></A
><A
CLASS="indexterm"
NAME="ch02-idx-1000008990-1"
></A
></P
></DIV
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="684"
TITLE="footer"><TABLE
WIDTH="684"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="228"
><A
CLASS="sect1"
HREF="ch02_08.htm"
TITLE="2.7. Generating Random Numbers"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 2.7. Generating Random Numbers"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="228"
><A
CLASS="book"
HREF="index.htm"
TITLE="Perl Cookbook"
><IMG
SRC="../gifs/txthome.gif"
ALT="Perl Cookbook"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="228"
><A
CLASS="sect1"
HREF="ch02_10.htm"
TITLE="2.9. Making Numbers Even More Random"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 2.9. Making Numbers Even More Random"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="228"
>2.7. Generating Random Numbers</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="228"
><A
CLASS="index"
HREF="index/index.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="228"
>2.9. Making Numbers Even More Random</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="684"
TITLE="footer"><FONT
SIZE="-1"
></DIV<!-- LIBRARY NAV BAR --> <img src="../gifs/smnavbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links"><p> <a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font> </p> <map name="library-map"> <area shape="rect" coords="1,0,85,94" href="../index.htm"><area shape="rect" coords="86,1,178,103" href="../lwp/index.htm"><area shape="rect" coords="180,0,265,103" href="../lperl/index.htm"><area shape="rect" coords="267,0,353,105" href="../perlnut/index.htm"><area shape="rect" coords="354,1,446,115" href="../prog/index.htm"><area shape="rect" coords="448,0,526,132" href="../tk/index.htm"><area shape="rect" coords="528,1,615,119" href="index.htm"><area shape="rect" coords="617,0,690,135" href="../pxml/index.htm"></map> </BODY
></HTML
>
