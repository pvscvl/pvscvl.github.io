<html><head><title>ExtUtils::MM_Unix (Perl in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Stephen Spainhour" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002416L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Perl in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Java and XSLT" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch08_84.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch08_86.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">8.85. ExtUtils::MM_Unix</h2>

<p><a name="INDEX-1430" />Provides methods for MakeMaker to
handle portability issues. You never need to
<tt class="literal">require</tt> this module, but you might want to if you
are working on improving MakeMaker's portability
</p>

<p>Provides methods for both Unix and non-Unix systems; on non-Unix
systems, they can be overridden by methods defined in other MM_*
modules. The methods are the following.
</p>


<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>catdir</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
catdir <em class="replaceable">list</em>
</pre><p>Concatenates a list of directory names to form a complete path ending
with a directory. On Unix, joins the names with <tt class="literal">/</tt>.
</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>catfile</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
catfile <em class="replaceable">list</em>
</pre><p>Concatenates one or more directory names and a filename to form a
complete path ending with a filename. On Unix, joins the names with
<tt class="literal">/</tt>.
</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>dir_target</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
dir_target <em class="replaceable">array</em>
</pre><p>Takes an array of required directory names and returns a
<em class="emphasis">Makefile</em> entry to create an
<em class="emphasis">.exists</em> file in the directories. Returns nothing
if the entry has already been processed.
</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>file_name_is_absolute</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
file_name_is_absolute <em class="replaceable">filename</em>
</pre><p>Takes a path as argument and returns true if it is an absolute path.</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>find_perl</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
find_perl <em class="replaceable">version</em>, \<em class="replaceable">names</em>, \<em class="replaceable">dirs</em>, <em class="replaceable">trace</em>
</pre><p>Searches for an executable Perl. Takes the following arguments:</p><dl>
<dt><i><em class="replaceable"><tt>version</tt></em></i></dt>
<dd>
The executable must be at least the version given by
<em class="replaceable"><tt>version</tt></em>.
</p>
</dd>


<dt><i><em class="replaceable"><tt>\names</tt></em></i></dt>
<dd>
Array reference. The name of the executable must be an entry in the
array.
</p>
</dd>


<dt><i><em class="replaceable"><tt>\dirs</tt></em></i></dt>
<dd>
Array reference. The executable must be in a directory that is one of
the entries in the array.
</p>
</dd>


<dt><i><em class="replaceable"><tt>trace</tt></em></i></dt>
<dd>
If true, prints debugging information.</p>
</dd>

</dl></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>guess_name</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
guess_name
</pre><p>Guesses the name of the package based on the working
directory's name. Called only if the NAME attribute
is missing.
</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>has_link_code</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
has_link_code
</pre><p>Returns true if there are C, XS, MYEXTLIB, or similar objects in this
object that need a compiler. Does not descend into subdirectories.
</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>libscan</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
libscan <em class="replaceable">filename</em>
</pre><p>Uses <tt class="literal">init_dirscan</tt> to find a file; returns false if
the file should not be included in the library. Used primarily to
keep revision-control directories from being installed.
</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>lsdir</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
lsdir <em class="replaceable">dir</em>, <em class="replaceable">regexp</em>
</pre><p>Returns all entries in the specified directory that match the regular
expression. Takes the following arguments:
</p><dl>
<dt><i><em class="replaceable"><tt>dir</tt></em></i></dt>
<dd>
Name of the directory</p>
</dd>


<dt><i><em class="replaceable"><tt>regexp</tt></em></i></dt>
<dd>
Regular expression to match the entries against</p>
</dd>

</dl></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>maybe_command</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
maybe_command <em class="replaceable">filename</em>
</pre><p>Returns true if <em class="replaceable">filename</em> is likely to be a
command.
</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>maybe_command_in_dirs</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
maybe_command_in_dirs
</pre><p>For future use.</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>needs_linking</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
needs_linking
</pre><p>Returns true if the module needs linking. Searches subdirectories.</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>nicetext</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
nicetext <em class="replaceable">target</em>
</pre><p>The MM_Unix version returns the argument with no processing.</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>path</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
path
</pre><p>Returns PATH environment variable as an array.</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>perl_script</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
perl_script <em class="replaceable">filename</em>
</pre><p>Returns true if <em class="replaceable">filename</em> is likely to be a
Perl script. With MM_Unix, this is true for any ordinary, readable
file.
</p></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>prefixify</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
prefixify <em class="replaceable">attrname</em>, <em class="replaceable">oldprefix</em>, <em class="replaceable">newprefix</em>
</pre><p>Processes a path attribute in <tt class="literal">$self-&gt;{</tt>
<em class="replaceable"><tt>attrname</tt></em> <tt class="literal">}</tt>. Looks up
the attribute in <tt class="literal">%Config</tt> if it
doesn't have a value. Takes the following arguments:
</p><dl>
<dt><i><em class="replaceable"><tt>attrname</tt></em></i></dt>
<dd>
Name of the attribute to be processed</p>
</dd>


<dt><i><em class="replaceable"><tt>oldprefix</tt></em></i></dt>
<dd>
Prefix to be replaced</p>
</dd>


<dt><i><em class="replaceable"><tt>newprefix</tt></em></i></dt>
<dd>
New prefix, replaced in-place</p>
</dd>

</dl></div>

<div class="refentry"><table width="515" border="0" cellpadding="5"><tr><td align="left"><font size="+1"><b>replace_manpage_separator</b></font></td><td align="right"><i></i></td></tr></table><hr width="515" size="3" noshade="true" align="left" color="black" /><pre>
replace_manpage_separator <em class="replaceable">filename</em>
</pre><p>Takes the filename of a package and replaces the subdirectory
delimiter (<tt class="literal">/</tt> in Unix) with <tt class="literal">::</tt>.
Returns the altered name.
</p></div>

<a name="perlnut2-CHP-8-SECT-85.1" /><div class="sect2">
<h3 class="sect2">8.85.1. Methods to Produce the Makefile</h3>

<p>ExtUtils::MM_Unix has some additional methods that are called in
sequence to produce a Makefile. The list of methods is specified in
the array <tt class="literal">@ExtUtils::MakeMaker::MM_Sections</tt>, one
method per section. The routines are all called the same way and so
are just listed here. Each method returns the string to be put into
its section of the <em class="emphasis">Makefile</em>.
</p>

<p>The methods are called in the order that they are listed in the
following table, reading down the columns:
</p>

<a name="ch08-199-fm2xml" /><table border="1" cellpadding="3">




<tr>
<td>
<p><tt class="literal">post_initialize</tt></p>
</td>
<td>
<p><tt class="literal">top_targets</tt></p>
</td>
<td>
<p><tt class="literal">realclean</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">const_config</tt></p>
</td>
<td>
<p><tt class="literal">linkext</tt></p>
</td>
<td>
<p><tt class="literal">dist_basics</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">constants</tt></p>
</td>
<td>
<p><tt class="literal">dlsyms</tt></p>
</td>
<td>
<p><tt class="literal">dist_core</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">const_loadlibs</tt></p>
</td>
<td>
<p><tt class="literal">dynamic</tt></p>
</td>
<td>
<p><tt class="literal">dist_dir</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">const_cccmd</tt></p>
</td>
<td>
<p><tt class="literal">dynamic_bs</tt></p>
</td>
<td>
<p><tt class="literal">dist_test</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">tool_autosplit</tt></p>
</td>
<td>
<p><tt class="literal">dynamic_lib</tt></p>
</td>
<td>
<p><tt class="literal">dist_ci</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">tool_xsubpp</tt></p>
</td>
<td>
<p><tt class="literal">static</tt></p>
</td>
<td>
<p><tt class="literal">install</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">tools_other</tt></p>
</td>
<td>
<p><tt class="literal">static_lib</tt></p>
</td>
<td>
<p><tt class="literal">force</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">dist</tt></p>
</td>
<td>
<p><tt class="literal">installpm</tt></p>
</td>
<td>
<p><tt class="literal">perldepend</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">macro</tt></p>
</td>
<td>
<p><tt class="literal">installpm_x</tt></p>
</td>
<td>
<p><tt class="literal">makefile</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">depend</tt></p>
</td>
<td>
<p><tt class="literal">manifypods</tt></p>
</td>
<td>
<p><tt class="literal">staticmake</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">post_constants</tt></p>
</td>
<td>
<p><tt class="literal">processPL</tt></p>
</td>
<td>
<p><tt class="literal">test</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">pasthru</tt></p>
</td>
<td>
<p><tt class="literal">installbin</tt></p>
</td>
<td>
<p><tt class="literal">test_via_harness</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">c_o</tt></p>
</td>
<td>
<p><tt class="literal">subdirs</tt></p>
</td>
<td>
<p><tt class="literal">test_via_script</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">xs_c</tt></p>
</td>
<td>
<p><tt class="literal">subdir_x</tt></p>
</td>
<td>
<p><tt class="literal">postamble</tt></p>
</td>
</tr>
<tr>
<td>
<p><tt class="literal">xs_o</tt></p>
</td>
<td>
<p><tt class="literal">clean</tt></p>
</td>
<td>
&nbsp;
</td>
</tr>

</table><p>

<p>Finally, there are two special methods:
<tt class="literal">post_initialize</tt> and <tt class="literal">postamble</tt>.
They each return an empty string by default and can be defined in
<em class="emphasis">Makefile.PL</em> to insert customized text near the
beginning or end of the <em class="emphasis">Makefile</em>.
</p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch08_84.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch08_86.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">8.84. ExtUtils::MM_OS2</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">8.86. ExtUtils::MM_UWIN</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,85,94" href="../index.htm"><area shape="rect" coords="86,1,178,103" href="../lwp/index.htm"><area shape="rect" coords="180,0,265,103" href="../lperl/index.htm"><area shape="rect" coords="267,0,353,105" href="index.htm"><area shape="rect" coords="354,1,446,115" href="../prog/index.htm"><area shape="rect" coords="448,0,526,132" href="../tk/index.htm"><area shape="rect" coords="528,1,615,119" href="../cookbook/index.htm"><area shape="rect" coords="617,0,690,135" href="../pxml/index.htm">
</map>

</body></html>