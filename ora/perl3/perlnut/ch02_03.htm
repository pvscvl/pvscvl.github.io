<html><head><title>Installing Perl (Perl in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Stephen Spainhour" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002416L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Perl in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Java and XSLT" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch02_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch02_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">2.3. Installing Perl</h2>

<p><a name="INDEX-42" /><a name="INDEX-43" />Most likely, your system
administrator is responsible for installing and upgrading Perl. But
if you are the system administrator, or you want to install Perl on
your own system, sooner or later you will find yourself installing a
new version of Perl.
</p>



<a name="ch02-4-fm2xml" /><blockquote><b>TIP:</b> 
If you run Perl and plan on upgrading to the latest distribution, be
aware that pre-5.005 Perl extensions are not compatible with 5.6 and
later. This means that you must rebuild and reinstall any dynamically
loaded extensions you built under Perl distributions earlier than
5.005. If you're building under a Unix variant
that's running Perl 5.005, choose the Configure
option for 5.005 compatibility. </p>
</blockquote>

<p>Specific installation
instructions come in the <em class="emphasis">README</em> and
<em class="emphasis">INSTALL</em> files of the Perl distribution kit. If
you don't already have the Perl distribution, you
can download it from CPAN&#x2014;the latest Unix distribution is in
<em class="emphasis">stable.tar.gz</em>. The information in this section
is an overview of the installation process. The gory details are in
the <em class="emphasis">INSTALL</em> file, which you should look at
before starting, especially if you haven't done an
installation before. Note that operating systems other than Unix may
have special instructions; if so, follow those instructions instead
of what's in this section or in
<em class="emphasis">INSTALL</em>. Look for a file named
<em class="emphasis">README.xxx</em>, in which <em class="emphasis">xxx</em>
represents your operating-system type. </p> <p>In addition to
Perl itself, the standard distribution includes a set of core modules
that are automatically installed with Perl. See <a href="ch02_04.htm">Section 2.4, "Getting and Installing Modules"</a> later in this chapter to
learn how to install modules that are not bundled with Perl; <a href="ch08_01.htm">Chapter 8, "Standard Modules"</a> describes the standard modules in some detail.
</p>


<a name="perlnut2-CHP-2-SECT-3.1" /><div class="sect2">
<h3 class="sect2">2.3.1. Installing on Unix</h3>

<p><a name="INDEX-44" />Typically, the Perl kit will be packed as
either a
<em class="emphasis">tar</em><a name="INDEX-45" />
file or a set of
<em class="emphasis">shar</em><a name="INDEX-46" />
(shell archive) scripts; in either case, the file will be in a
compressed format. If you got your version of Perl directly from
CPAN, it is probably in
"tar-gzipped" format;
<em class="emphasis">tar</em> and
<em class="emphasis">gzip</em><a name="INDEX-47" />
are popular Unix data-archiving formats. In any case, once
you've downloaded the distribution, you need to
uncompress and unpack it. The filename indicates the kind of
compression that was used. A
<em class="emphasis">.Z</em><a name="INDEX-48" /> extension indicates you need to
<em class="emphasis">uncompress</em><a name="INDEX-49" /> the file first, while a
<em class="emphasis">.gz</em><a name="INDEX-50" /> extension indicates you need to
<em class="emphasis">gunzip</em> the file. You then unpack the file as
appropriate, read the <em class="emphasis">README</em> and
<em class="emphasis">INSTALL</em> files, and run a massive shell script
called <em class="emphasis">Configure</em><a name="INDEX-51" />, which tries to figure out
everything about your system and creates the file
<em class="emphasis">Config.pm</em> to store the information. After this
is done, you do a series of "makes"
to find header file dependencies, to compile Perl (and
<em class="emphasis">a2p</em>, which translates <em class="emphasis">awk</em>
scripts to Perl), to run regression tests, and to install Perl in
your system directories.
</p>

<p>If you opt to build your own Perl under Win32, you will find that the
Perl source kit is also shipped in zip format, which you can easily
extract with <i class="command">pkunzip</i> or
<em class="emphasis">Winzip</em> (<a href="../../../../../../www.winzip.com/">www.winzip.com</a>).
</p>

<p>If you're building Perl under Unix, it is likely
that your architecture and development environment is supported by
<em class="emphasis">Configure</em>. You shouldn't have
any problems with the build process or running the test suite. One
common problem is not making sure that Perl is linked against all the
libraries it needs to build correctly. Also, you should say
"yes" when
<em class="emphasis">Configure</em> asks if you want dynamic loading, if
your system supports it. Otherwise, you won't be
able to install modules that use XS, which provides an interface
between Perl and C.
</p>

<p><a name="INDEX-52" />If you are running Linux, and
you've installed Perl from a tarball (or rpm
package), you should make sure everything is there; one way to do
that is to check the
<em class="emphasis">Config.pm</em><a name="INDEX-53" /> file. If MakeMaker is not correctly
installed, you might need to build Perl yourself.
</p>

<p><a name="INDEX-54" />It's possible
you'll get a compiled (<a name="INDEX-55" />binary) copy of Perl, rather than
the source. In that case, make sure you get
<em class="emphasis">suidperl</em>,<a href="#FOOTNOTE-2">[2]</a> <em class="emphasis">a2p</em>, <em class="emphasis">s2p</em>, and
the Perl library routines. Install these files in the directories
that your version was compiled for. Note that binary distributions of
Perl are made available because they're handy, not
because you are restricted from getting the source and compiling it
yourself. The people who give you the binary distribution ought to
provide you with some form of access to the source, if only a pointer
to where <em class="emphasis">they</em> got the source. See the
<em class="emphasis">Copying</em> file in the distribution for more
information.
</p><blockquote class="footnote"> <a name="FOOTNOTE-2" /><p> [2]Be care ful with
<em class="emphasis">suidperl</em>. Most people do not understand the
complexities and pitfalls of <em class="emphasis">suidperl</em>. Also, it
will likely be deprecated after the Perl 5.8 release.</p>
</blockquote>

<a name="perlnut2-CHP-2-SECT-3.1.1" /><div class="sect3">
<h3 class="sect3">2.3.1.1. Perl examples</h3>

<p><a name="INDEX-56" /><a name="INDEX-57" /><a name="INDEX-58" />The Perl source distribution comes with
some sample scripts in the <em class="emphasis">eg/</em> subdirectory.
Feel free to browse among them and use them. They are not installed
automatically, however, so you need to copy them to the appropriate
directory and possibly fix the <tt class="literal">#!</tt> line to point to
the right interpreter.
</p>

<p>The files in the <em class="emphasis">t/</em> and
<em class="emphasis">lib/</em> subdirectories, although arcane in spots,
can also serve as examples.
</p>

</div>

<a name="perlnut2-CHP-2-SECT-3.1.2" /><div class="sect3">
<h3 class="sect3">2.3.1.2. Patches</h3>

<p><a name="INDEX-59" />Since Perl is constantly being honed and
improved, patches are sometimes made available through CPAN. Your
distribution is likely to have had most of the patches applied
already&#x2014;run <tt class="literal">perl</tt> <tt class="literal">-v</tt> to
check the patch level of your distribution. Patches are sent out with
complete instructions on how to apply them using
<em class="emphasis">patch</em>, which is available from the GNU project.
</p>

</div>
</div>
<a name="perlnut2-CHP-2-SECT-3.2" /><div class="sect2">
<h3 class="sect2">2.3.2. Installing on Win32</h3>

<p><a name="INDEX-60" />You need to obtain and install a copy of
Perl yourself, unless you have had the good fortune of having either
a system administrator install Perl on your system or access to a set
of development tools to compile the Perl distribution.
</p>

<p><a name="INDEX-61" />The
official precompiled Perl distribution for Win32 is
<em class="emphasis">ActivePerl</em>, which is developed by ActiveState
Tool Corporation (<a href="../../../../../../www.activestate.com/">www.activestate.com</a>).
You'll find that ActivePerl is quite complete, down
to the availability of such modules as <em class="emphasis">Win32</em> and
<em class="emphasis">mod_perl</em>.
</p>

<p>When Perl 5.005 was released, Perl developers could build their own
Perl for Win32 from the same source kit that their Unix counterparts
used. In addition, the Perl build mechanism for Win32 began to
support more than just commercial development toolkits, such as
Microsoft's Visual C++. A Perl developer who wanted
to build the Perl source kit with a free development toolkit could
build Perl with
<a name="INDEX-62" />Cygwin (<a href="../../../../../../www.cygnus.com/">www.cygnus.com</a>), a Unix layer on top of
Win32, or <a name="INDEX-63" />Mingw32
(<a href="../../../../../../www.mingw.org/">www.mingw.org</a>) with
<i class="command">dmake</i>, a set of Win32 runtime libraries that
provide a Unix emulation under native Win32.
</p>



<a name="ch02-6-fm2xml" /><blockquote><b>TIP:</b> 
Unless there's something specific that you gain by
building your own Perl for Win32, then you should use the Activestate
build, ActivePerl.
</p>
</blockquote>

<a name="perlnut2-CHP-2-SECT-3.2.1" /><div class="sect3">
<h3 class="sect3">2.3.2.1. ActivePerl</h3>

<p>The canonical source for the <a name="INDEX-64" />ActivePerl distribution at the time
of this writing is at <a href="../../../../../../aspn.activestate.com/ASPN/Downloads/ActivePerl/">http://aspn.activestate.com/ASPN/Downloads/ActivePerl/</a>.
Included in the distribution are:
</p>

<dl>
<dt><i><em class="emphasis">Perl for Win32</em></i></dt>
<dd>
Binary for the core Perl distribution</p>
</dd>


<dt><i><em class="emphasis">Perl for ISAPI</em></i></dt>
<dd>
IIS plug-in for use with ISAPI-compliant web servers</p>
</dd>


<dt><i><em class="emphasis">PerlScript</em></i></dt>
<dd>
ActiveX scripting engine</p>
</dd>


<dt><i><em class="emphasis">Perl Package Manager</em></i></dt>
<dd>
Manager for Perl modules and extensions</p>
</dd>

</dl>

<p><a name="INDEX-65" />The ActivePerl binary comes as a
self-extracting executable that uses the standard Win32 InstallShield
setup wizard to guide you through the installation process. By
default, Perl is installed into the directory
<em class="emphasis">C:\Perl\version</em>, in which
<em class="emphasis">version</em> is the current version number (e.g.,
5.005). (For information on customizing your installation, see the
Win32 FAQ on the ActiveState web site.) The installation also
associates the file extension <em class="emphasis">.pl</em> with Perl and
adds the directory into which you installed Perl to your PATH
environment variable.
</p>

<p>If you want to install ActivePerl, you can do so by running the
<em class="emphasis">MSI</em> archive that's shipped by
ActiveState. If the <em class="emphasis">MSI</em> archive is not
associated with the MSI application, you need to obtain
<em class="emphasis">InstMsi.exe</em><a name="INDEX-66" />
from the downloads section at <a href="../../../../../../www.microsoft.com/">www.microsoft.com</a>.
</p>

<p>If you don't (or can't) install MSI
on your system, ActiveState has made available a Perl installer that
doesn't use MSI, but be aware that this installer
doesn't have a corresponding de-installer.
</p>

</div>

<a name="perlnut2-CHP-2-SECT-3.2.2" /><div class="sect3">
<h3 class="sect3">2.3.2.2. Standard Perl distribution</h3>

<p>The standard Perl distribution is available from CPAN, where
you'll find binary and source distributions for the
current version of Perl. The <a name="INDEX-67" /><a name="INDEX-68" /><a name="INDEX-69" />source distributions come as
<em class="emphasis">.tar.gz</em> files, which you can extract using a
utility that supports <em class="emphasis">gzip</em> files,
<em class="emphasis">tar</em> files, and long filenames. Ports of both GNU
<em class="emphasis">gzip</em><a name="INDEX-70" /> and
<em class="emphasis">tar</em><a name="INDEX-71" /> <a name="INDEX-72" /> are available for the various Win32
platforms, or you can use a graphical <em class="emphasis">zip</em>
archive program such as WinZip. Make sure you preserve the directory
structure when you unpack the distribution.
</p>

<p>To install from the source, you need the Microsoft Visual C++
compiler, the Borland C++ compiler, or
<a name="INDEX-73" />Mingw32 with EGCS
gcc-2.95.X. If you're using
<a name="INDEX-74" />Cygwin32, <em class="emphasis">do not</em> try
to build Perl in the win32 subdirectory. Instead, you should run
<em class="emphasis">Configure</em> in the <em class="emphasis">src</em>
directory as you would when building under a Unix platform. You also
need a <em class="emphasis">make</em> utility. Microsoft Visual C++ comes
with <em class="emphasis">nmake</em>, or you can use
<em class="emphasis">dmake</em>.<a href="#FOOTNOTE-3">[3]</a></p><blockquote class="footnote"> <a name="FOOTNOTE-3" /><p> [3]See the
<em class="emphasis">README.win32</em> file for information on obtaining
Mingw32 and a Win32 <em class="emphasis">dmake</em> port.</p>
</blockquote>

<p>Once you have the distribution, start by reading the file
<em class="emphasis">README.win32</em>. Next, edit the file
<em class="emphasis">Makefile</em> in the <em class="emphasis">win32</em>
subdirectory of the distribution and make sure that
you're happy with the values for the install drive
and directory. Then execute the following commands from the
<em class="emphasis">win32</em> subdirectory of the distribution to build,
test, and install the distribution. This example assumes that you
have the proper environment variables (LIB, INCLUDE, etc.) set up for
your compiler and that <em class="emphasis">nmake</em> is your make
program.
</p>

<blockquote><pre class="code">C:\&gt; nmake         <em class="emphasis">Build all of Perl</em>
C:\&gt; nmake test    <em class="emphasis">Test your distribution</em>
C:\&gt; nmake install <em class="emphasis">Install to target directory, as specified in the Makefile</em></pre></blockquote>



<a name="ch02-8-fm2xml" /><blockquote><b>TIP:</b> 
If you're running Mingw32, you'll
use <i class="command">dmake</i>, since <i class="command">nmake</i> is part
of commercial development suites&#x2014;such as Microsoft Visual
C++&#x2014;and is not available separately. </p>
</blockquote>

<p>Assuming everything
is now built correctly, you just need to add the
<em class="emphasis">bin</em> subdirectory of the installation target
directory to your path or to your operating environment under
Microsoft server platforms such as Windows NT. For example, if you
installed the Perl distribution to <em class="emphasis">C:\Perl</em>,
you'll want to add the directory containing
<em class="filename">perl.exe</em> (e.g.,
<em class="emphasis">C:\Perl\bin</em>) to your path. </p>
<p>Finally, you should restart your machine so the environment
changes take effect, and you're ready to go. This is
of particular importance if you're running Perl
under Windows 95, 98, or ME. </p>

<blockquote><b>WARNING:</b> 
<a name="INDEX-75" />
<a name="INDEX-76" />Windows 95/98 users can
expect significantly different functionality from their Perl
distribution than Windows NT users. For various reasons, some of the
Win32 modules don't work on Windows 95/98. The
functionality required to implement them may be missing on Windows
95/98, or bugs in Windows 95 may prevent them from working
correctly<a name="INDEX-77" /><a name="INDEX-78" />. 
</p>
</blockquote>

</div>
</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch02_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch02_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">2.2. How Is CPAN Organized?</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">2.4. Getting and Installing Modules</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,85,94" href="../index.htm"><area shape="rect" coords="86,1,178,103" href="../lwp/index.htm"><area shape="rect" coords="180,0,265,103" href="../lperl/index.htm"><area shape="rect" coords="267,0,353,105" href="index.htm"><area shape="rect" coords="354,1,446,115" href="../prog/index.htm"><area shape="rect" coords="448,0,526,132" href="../tk/index.htm"><area shape="rect" coords="528,1,615,119" href="../cookbook/index.htm"><area shape="rect" coords="617,0,690,135" href="../pxml/index.htm">
</map>

</body></html>
