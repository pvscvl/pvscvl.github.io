<html><head><title>The Text Widget (Perl in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Stephen Spainhour" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002416L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Perl in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Java and XSLT" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch21_10.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch21_12.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">21.11. The Text Widget</h2>

<p><a name="INDEX-2946" /><a name="INDEX-2947" /><a name="INDEX-2948" />Create a Text widget with the
<tt class="literal">Text</tt> method:
</p>

<blockquote><pre class="code">$parentwidget-&gt;Text ( <em class="replaceable"><tt>options</tt></em>)</pre></blockquote>

<p>The standard configuration options that apply to
<tt class="literal">Text</tt> are: <tt class="literal">-background</tt>,
<tt class="literal">-bg</tt>,
<tt class="literal">-bor</tt>-<tt class="literal">derwidth</tt>,
<tt class="literal">-bd</tt>, <tt class="literal">-cursor</tt>,
<tt class="literal">-exportselection</tt>, <tt class="literal">-font</tt>,
<tt class="literal">-foreground</tt>, <tt class="literal">-fg</tt>,
<tt class="literal">-height</tt>,
<tt class="literal">-high</tt>-<tt class="literal">lightbackground</tt>,
<tt class="literal">-highlightcolor</tt>,
<tt class="literal">-highlightthickness</tt>,
<tt class="literal">-insertbackground</tt>,
<tt class="literal">-in</tt>-<tt class="literal">sertborderwidth</tt>,
<tt class="literal">-insertofftime</tt>, <tt class="literal">-insertontime</tt>,
<tt class="literal">-insertwidth</tt>, <tt class="literal">-padx</tt>,
<tt class="literal">-pady</tt>,
<tt class="literal">-re</tt>-<tt class="literal">lief</tt>,
<tt class="literal">-selectbackground</tt>,
<tt class="literal">-selectborderwidth</tt>,
<tt class="literal">-selectforeground</tt>, <tt class="literal">-state</tt>,
<tt class="literal">-takefo</tt>-<tt class="literal">cus</tt>,
<tt class="literal">-width</tt>, <tt class="literal">-xscrollcommand</tt>, and
<tt class="literal">-yscrollcommand</tt>.
</p>

<p>Other options are:</p>

<dl>
<dt><b><tt class="literal">-setgrid =&gt;</tt> <em class="replaceable">boolean</em></b></dt>
<dd>
<a name="INDEX-2949" />Turns
on gridding for the Text widget. Default is <tt class="literal">0</tt>
(off).
</p>
</dd>


<dt><b><tt class="literal">-spacing1 =&gt;</tt> <em class="replaceable">amount</em></b></dt>
<dd>
<a name="INDEX-2950" />Defines the amount of space left on the
top of a line of text that starts on its own line. Default is
<tt class="literal">0</tt>. 
</p>
</dd>


<dt><b><tt class="literal">-spacing2 =&gt;</tt> <em class="replaceable">amount</em></b></dt>
<dd>
Defines the amount of space left on the top of a line of text after
it has been automatically wrapped by the Text widget. Default is
<tt class="literal">0</tt>. 
</p>
</dd>


<dt><b><tt class="literal">-spacing3 =&gt;</tt> <em class="replaceable">amount</em></b></dt>
<dd>
Defines the amount of space left after a line of text that has been
ended by <tt class="literal">\n</tt>. Default is <tt class="literal">0</tt>.
</p>
</dd>


<dt><b><tt class="literal">-tabs =&gt;</tt> <em class="replaceable">list</em></b></dt>
<dd>
<a name="INDEX-2951" />Specifies a list of tab stops to use in
the text widget. Default is undefined (no tab stops).
</p>
</dd>


<dt><b><tt class="literal">-wrap =&gt;</tt> <em class="replaceable">mode</em></b></dt>
<dd>
<a name="INDEX-2952" />Sets the mode for determining automatic
line wrapping. Values are <tt class="literal">none</tt> (no wrapping),
<tt class="literal">char</tt> (wrap at any character), or
<tt class="literal">word</tt> (wrap at a word boundary). Default is
<tt class="literal">char</tt>.
</p>
</dd>

</dl>

<a name="perlnut2-CHP-21-SECT-11.1" /><div class="sect2">
<h3 class="sect2">21.11.1. Text Indexes and Modifiers</h3>

<p>In a Text widget, several indexes are defined to identify positions
in the text. These are used by the methods that retrieve and
manipulate text.
</p>

<dl>
<dt><i><em class="replaceable"><tt>n</em>.<em class="replaceable">m</tt></em></i></dt>
<dd>
<a name="INDEX-2953" />Numbers representing character
<em class="replaceable"><tt>m</em> on line <em class="replaceable">n</tt></em></p>
</dd>


<dt><b><tt class="literal">@</tt><em class="replaceable">x,y</em></b></dt>
<dd>
The character closest to the <em class="replaceable"><tt>x,y</tt></em> coordinate</p>
</dd>


<dt><b><tt class="literal">end</tt></b></dt>
<dd>
<a name="INDEX-2954" />The end of the text
</p>
</dd>


<dt><b><tt class="literal">insert</tt></b></dt>
<dd>
<a name="INDEX-2955" />The character after the insert cursor
</p>
</dd>


<dt><b><tt class="literal">current</tt></b></dt>
<dd>
<a name="INDEX-2956" />The position closest to the mouse cursor
</p>
</dd>


<dt><i><em class="replaceable"><tt>mark</tt></em></i></dt>
<dd>
Other marks defined for the widget (see discussion of text marks
later in this section)
</p>
</dd>


<dt><b><tt class="literal">sel.first</tt></b></dt>
<dd>
<a name="INDEX-2957" />The
first selected character
</p>
</dd>


<dt><b><tt class="literal">sel.last</tt></b></dt>
<dd>
The character just after the last selected character</p>
</dd>


<dt><em class="replaceable"><tt>tag</tt></em>.<tt class="literal">first</tt></dt>
<dd>
The first character in the widget of the specified tag type</p>
</dd>


<dt><em class="replaceable"><tt>tag</tt></em>.<tt class="literal">last</tt></dt>
<dd>
The character just after the last character of the specified tag type</p>
</dd>


<dt><i><em class="replaceable"><tt>widget</tt></em></i></dt>
<dd>
The location of an embedded widget</p>
</dd>

</dl>

<p>There are also several modifiers to use with text indexes. They are:</p>

<dl>
<dt><b><tt class="literal">-</tt> <em class="replaceable">n lines</em></b></dt>
<dt><b><tt class="literal">+</tt> <em class="replaceable">n lines</em></b></dt>
<dd>
<em class="replaceable"><tt>n</tt></em> lines before or after the index</p>
</dd>


<dt><b><tt class="literal">-</tt> <em class="replaceable">n chars</em></b></dt>
<dt><b><tt class="literal">+</tt> <em class="replaceable">n chars</em></b></dt>
<dd>
<em class="replaceable"><tt>n</tt></em> characters before or after the index</p>
</dd>


<dt><b><tt class="literal">linestart</tt></b></dt>
<dd>
<a name="INDEX-2958" />The first character on the line
</p>
</dd>


<dt><b><tt class="literal">lineend</tt></b></dt>
<dd>
The last character on the line (often a newline)</p>
</dd>


<dt><b><tt class="literal">wordstart</tt></b></dt>
<dd>
<a name="INDEX-2959" />The first character in the word
</p>
</dd>


<dt><b><tt class="literal">wordend</tt></b></dt>
<dd>
The character after the last character in the word</p>
</dd>

</dl>

</div>
<a name="perlnut2-CHP-21-SECT-11.2" /><div class="sect2">
<h3 class="sect2">21.11.2. Text Methods</h3>

<p>In addition to <tt class="literal">configure</tt> and
<tt class="literal">cget</tt>, the following methods are defined for the
Text widget:
</p>

<dl>
<dt><b><tt class="literal">bbox</tt></b></dt>
<dd>
<a name="INDEX-2960" />Returns the location and dimensions of
the bounding box surrounding the character at the specified index.
The returned list contains four numbers representing (respectively)
the x coordinate of the upper-left corner, the y coordinate of the
upper-left corner, the width of the text in pixels, and the height of
the text in pixels.
</p>
</dd>


<dt><b><tt class="literal">compare</tt></b></dt>
<dd>
<a name="INDEX-2961" />Performs a comparison on two indexes.
For example:
</p>

<blockquote><pre class="code">if ($text-&gt;compare('insert', '==', 'end') { 
        # we're at the end of the text
}</pre></blockquote>

<p>The valid operators are <tt class="literal">&lt;</tt>,
<tt class="literal">&lt;=</tt>, <tt class="literal">==</tt>,
<tt class="literal">&gt;=</tt>, and <tt class="literal">!=</tt>.
</p>
</dd>


<dt><b><tt class="literal">debug</tt></b></dt>
<dd>
<a name="INDEX-2962" />Given a Boolean, turns debugging on or
off.
</p>
</dd>


<dt><b><tt class="literal">delete</tt></b></dt>
<dd>
<a name="INDEX-2963" />Deletes text from the text widget. To
delete everything:
</p>

<blockquote><pre class="code">$text-&gt;delete(0, 'end');</pre></blockquote>
</dd>


<dt><b><tt class="literal">dlineinfo</tt></b></dt>
<dd>
<a name="INDEX-2964" />Returns the location and dimensions of
the bounding box surrounding the line at the specified index. The
returned list contains five numbers representing (respectively) the x
coordinate of the upper-left corner, the y coordinate of the
upper-left corner, the width of the text in pixels, the height of the
text in pixels, and the baseline position of the line.
</p>
</dd>


<dt><b><tt class="literal">get</tt></b></dt>
<dd>
<a name="INDEX-2965" />Returns the text located in the given
index range.
</p>
</dd>


<dt><b><tt class="literal">index</tt></b></dt>
<dd>
<a name="INDEX-2966" />Given a named index, returns its
numeric equivalent in the format
<em class="replaceable"><tt>line.char</tt></em>.
</p>
</dd>


<dt><b><tt class="literal">insert</tt></b></dt>
<dd>
<a name="INDEX-2967" />Inserts text into the widget at the
specified location. The second argument is the text to insert, and
the third argument is either a single tag or a list reference
containing the names of multiple tags to apply to the text.
Subsequent arguments alternate between text and tags. For example:
</p>


<blockquote><pre class="code">$text-&gt;insert('end', 'You want to do ', 'normal', 
                     'what?!', ['bold','red']);</pre></blockquote>
</dd>


<dt><b><tt class="literal">search</tt></b></dt>
<dd>
<a name="INDEX-2968" />Returns the index containing a
particular string in the Text widget. For example, to search
backwards for a case-insensitive hostname starting from the end of
the text:
</p>


<blockquote><pre class="code">$hostindex = $text-&gt;search(-nocase, -backwards, $hostname, 'end');</pre></blockquote>

<p>The <tt class="literal">search</tt> method takes several switches to modify
the search, each starting with -. The first argument that does not
start with - is taken to be the search string. The switches are:
</p>
<dl>

<dt><i> <tt class="literal">-forwards</tt> </i></dt>
<dd>
Searches forwards starting at the specified index.</p>
</dd>


<dt><i> <tt class="literal">-backwards</tt></i></dt>
<dd>
Searches backwards starting at the specified index.</p>
</dd>


<dt><i> <tt class="literal">-exact</tt></i></dt>
<dd>
Matches the string exactly (default).</p>
</dd>


<dt><i> <tt class="literal">-regexp</tt></i></dt>
<dd>
Treat the pattern as a regular expression.</p>
</dd>


<dt><i> <tt class="literal">-nocase</tt></i></dt>
<dd>
Ignores case.</p>
</dd>


<dt><i> <tt class="literal">-count =&gt;</tt> <em class="replaceable"><tt>$variable</tt></em> </i></dt>
<dd>
Stores the number of matches into the specified variable.</p>
</dd>


<dt><b><tt class="literal">--</tt></b></dt>
<dd>
Interprets the next argument as the pattern. (Useful when the pattern
starts with a -.)
</p>
</dd>

</dl>
</dd>


<dt><b><tt class="literal">see</tt></b></dt>
<dd>
<a name="INDEX-2969" />Scrolls the text so that the portion of
the text containing the specified index is visible.
</p>
</dd>


<dt><b><tt class="literal">window</tt></b></dt>
<dd>
<a name="INDEX-2970" />Embeds widgets within the Text widget.
The first argument can be any of: <tt class="literal">create</tt>,
<tt class="literal">names</tt>, <tt class="literal">cget</tt>, and
<tt class="literal">configure</tt>.
</p>
</dd>


<dt><b><tt class="literal">create</tt> </b></dt>
<dd>
Inserts an embedded widget at a specified index. Each widget occupies
one character in the Text widget. The widget must have already been
created as a child of the Text widget. For example:
</p>

<blockquote><pre class="code">$button = $text-&gt;Label(-text =&gt; "How ya doing?");
$text-&gt;window('create','end', -window =&gt; $button);</pre></blockquote>

<p>Here, the <tt class="literal">-window</tt> option is used to identify the
widget to embed. The list of options to <tt class="literal">window
('create')</tt> is:
</p>
<dl>

<dt><i> <tt class="literal">-align</tt></i></dt>
<dd>
Determines the positioning within the line of text. Values are
<tt class="literal">baseline</tt>, <tt class="literal">bottom</tt>,
<tt class="literal">top</tt>, or <tt class="literal">center</tt> (default).
</p>
</dd>


<dt><i> <tt class="literal">-padx</tt></i></dt>
<dd>
Adds padding in the <tt class="literal">x</tt> direction.</p>
</dd>


<dt><i> <tt class="literal">-pady</tt></i></dt>
<dd>
Adds padding in the <tt class="literal">y</tt> direction.</p>
</dd>


<dt><i> <tt class="literal">-window</tt></i></dt>
<dd>
Identifies the widget to embed.</p>
</dd>


<dt><i> <tt class="literal">names</tt></i></dt>
<dd>
Returns a list of widget types embedded into the Text widget.</p>
</dd>


<dt><i> <tt class="literal">cget</tt></i></dt>
<dd>
Returns information on the widget at the specified index:</p>

<blockquote><pre class="code">$text-&gt;window('cget',0);</pre></blockquote>
</dd>


<dt><i> <tt class="literal">configure</tt></i></dt>
<dd>
Configures widget at the specified index:</p>

<blockquote><pre class="code">$text-&gt;window('configure',0,-background =&gt; "green");</pre></blockquote>
</dd>
</dl>
</dd>


<dt><b><tt class="literal">xview</tt></b></dt>
<dd>
<a name="INDEX-2971" />Manipulates the text in view. With no
arguments, returns a list of two numbers between 0 and 1, defining
the portion of the text that is currently hidden on the left and
right sides, respectively. With arguments, the function of
<tt class="literal">xview</tt> changes:
</p>
<dl>

<dt><i><em class="replaceable"><tt>index</tt></em></i></dt>
<dd>
If the first argument is an index, that position becomes the leftmost
position in view.
</p>
</dd>


<dt><i> <tt class="literal">moveto</tt> </i></dt>
<dd>
Moves the specified fraction of the text to the left of the visible
portion.
</p>
</dd>


<dt><i> <tt class="literal">scroll</tt></i></dt>
<dd>
Scrolls the text left or right by the specified number of units
(characters, in this context) or pages. Used primarily as a callback
to a scrollbar; pressing on an arrow would move by units
(characters), and pressing on the trough would move by pages. The
number is either <tt class="literal">1</tt> or <tt class="literal">-1</tt>, to
move forwards or backwards, respectively.
</p>
</dd>

</dl>
</dd>


<dt><b><tt class="literal">yview</tt></b></dt>
<dd>
<a name="INDEX-2972" />Manipulates the text in view. With no
arguments, returns a list of two numbers between 0 and 1, defining
the portion of the text that is currently hidden on the top and
bottom, respectively. With arguments, the function of
<tt class="literal">yview</tt> changes:
</p>
<dl>

<dt><i><em class="replaceable"><tt>index</tt></em></i></dt>
<dd>
If the first argument is an index, that position becomes the topmost
position in view.
</p>
</dd>


<dt><i> <tt class="literal">moveto</tt> </i></dt>
<dd>
Moves the specified fraction of the text to the top of the visible
portion.
</p>
</dd>


<dt><i> <tt class="literal">scroll</tt></i></dt>
<dd>
Scrolls the text up or down by the specified number of units (lines,
in this context) or pages. Used primarily as a callback to a
scrollbar; pressing on an arrow would move by units (lines), and
pressing on the trough would move by pages. The number is either
<tt class="literal">1</tt> or <tt class="literal">-1</tt>, to move forwards or
backwards, respectively.
</p>
</dd>

</dl>
</dd>

</dl>

</div>
<a name="perlnut2-CHP-21-SECT-11.3" /><div class="sect2">
<h3 class="sect2">21.11.3. Tags</h3>

<p><a name="INDEX-2973" />You
can associate a distinct set of format properties to a portion of the
text using <em class="emphasis">tags</em>. A tag is defined with the
<tt class="literal">tagConfigure</tt> method, and text is associated with a
tag via an option to the <tt class="literal">insert</tt> or
<tt class="literal">tagAdd</tt> method. For example:
</p>

<blockquote><pre class="code">$text-&gt;Text-&gt;pack;
$text-&gt;tagConfigure('bold', -font =&gt;
     '-*-Courier-Medium-B-Normal-*-120-*-*-*-*-*-*');
$text-&gt;insert('end', "Normal text\n");
$text-&gt;insert('end', "Bold text\n", 'bold');</pre></blockquote>

<p>There are several methods defined for manipulating text tags:</p>

<dl>
<dt><b><tt class="literal">tagAdd</tt></b></dt>
<dd>
<a name="INDEX-2974" />Adds a tag to the text within the
specified index range. For example, to assign the
<tt class="literal">bold</tt> tag defined above to the current selection:
</p>

<blockquote><pre class="code">$text-&gt;tagAdd('bold','sel.first','sel.last');</pre></blockquote>

<p>You can supply multiple ranges as arguments to
<tt class="literal">tagAdd</tt>.
</p>
</dd>


<dt><b><tt class="literal">tagBind</tt></b></dt>
<dd>
<a name="INDEX-2975" />Executes a callback when a specified
event happens on the tagged text. For example:
</p>

<blockquote><pre class="code">$text-&gt;tagBind('goto_end', "&lt;Button-1&gt;", sub {shift-&gt;see('end');} );</pre></blockquote>

</dd>


<dt><b><tt class="literal">tagConfigure</tt></b></dt>
<dd>
<a name="INDEX-2976" />Creates or changes settings for a text
tag. For example:
</p>

<blockquote><pre class="code">$text-&gt;tagConfigure('link', -foreground =&gt; 'red');</pre></blockquote>


<p>Options for configuring text tags are:</p>

<dl>
<dt><i> <tt class="literal">-background =&gt;</tt> <em class="replaceable"><tt>color</tt></em></i></dt>
<dd>
The color to use behind the text.</p>
</dd>


<dt><i> <tt class="literal">-bgstipple =&gt;</tt> <em class="replaceable"><tt>bitmap</tt></em></i></dt>
<dd>
A pattern to draw behind the text.</p>
</dd>


<dt><i> <tt class="literal">-borderwidth =&gt;</tt> <em class="replaceable"><tt>amount</tt></em></i></dt>
<dd>
The width of the edge drawn around the text.</p>
</dd>


<dt><i> <tt class="literal">-fgstipple =&gt;</tt> <em class="replaceable"><tt>bitmap</tt></em></i></dt>
<dd>
A pattern used to draw the text.</p>
</dd>


<dt><i> <tt class="literal">-font =&gt;</tt> <em class="replaceable"><tt>fontname</tt></em></i></dt>
<dd>
The font used for the text.</p>
</dd>


<dt><i> <tt class="literal">-foreground =&gt;</tt> <em class="replaceable"><tt>color</tt></em></i></dt>
<dd>
The color of the text.</p>
</dd>


<dt><i> <tt class="literal">-justify =&gt;</tt> <em class="replaceable"><tt>position</tt></em></i></dt>
<dd>
The justification of the text (any of <tt class="literal">left</tt>,
<tt class="literal">right</tt>, and <tt class="literal">center</tt>). The default
is <tt class="literal">left</tt>.
</p>
</dd>


<dt><i> <tt class="literal">-lmargin1 =&gt;</tt> <em class="replaceable"><tt>amount</tt></em></i></dt>
<dd>
The indentation for the first line of a paragraph.</p>
</dd>


<dt><i> <tt class="literal">-lmargin2 =&gt;</tt> <em class="replaceable"><tt>amount</tt></em></i></dt>
<dd>
The indentation for subsequent lines of a paragraph (for hanging
indents).
</p>
</dd>


<dt><i> <tt class="literal">-offset =&gt;</tt> <em class="replaceable"><tt>amount</tt></em></i></dt>
<dd>
The amount the text is raised or lowered from the baseline (for
subscripts and superscripts).
</p>
</dd>


<dt><i> <tt class="literal">-overstrike =&gt;</tt> <em class="replaceable"><tt>boolean</tt></em></i></dt>
<dd>
Draws the text with a line through it.</p>
</dd>


<dt><i> <tt class="literal">-relief =&gt;</tt> <em class="replaceable"><tt>type</tt></em></i></dt>
<dd>
The types of edges drawn around the text. Values for
<em class="replaceable"><tt>type</tt></em> can be <tt class="literal">flat</tt>,
<tt class="literal">groove</tt>, <tt class="literal">raised</tt>,
<tt class="literal">ridge</tt>, and <tt class="literal">sunken</tt>. Default is
<tt class="literal">flat</tt>.
</p>
</dd>


<dt><i> <tt class="literal">-rmargin =&gt;</tt> <em class="replaceable"><tt>amount</tt></em></i></dt>
<dd>
The right margin.</p>
</dd>


<dt><i> <tt class="literal">-spacing1 =&gt;</tt> <em class="replaceable"><tt>amount</tt></em></i></dt>
<dd>
The amount of space left on the top of a line of text that starts on
its own line.
</p>
</dd>


<dt><i> <tt class="literal">-spacing2 =&gt;</tt> <em class="replaceable"><tt>amount</tt></em></i></dt>
<dd>
The amount of space left on the top of a line of text after it has
been automatically wrapped by the Text widget.
</p>
</dd>


<dt><i> <tt class="literal">-spacing3 =&gt;</tt> <em class="replaceable"><tt>amount</tt></em></i></dt>
<dd>
The amount of space left after a line of text ended by
<tt class="literal">\n</tt>.
</p>
</dd>


<dt><i> <tt class="literal">-tabs =&gt;</tt> <em class="replaceable"><tt>list</tt></em></i></dt>
<dd>
A list of tab stops to use in the Text widget.</p>
</dd>


<dt><i> <tt class="literal">-underline =&gt;</tt> <em class="replaceable"><tt>boolean</tt></em></i></dt>
<dd>
Whether to underline the text.</p>
</dd>


<dt><i> <tt class="literal">-wrap =&gt;</tt> <em class="replaceable"><tt>mode</tt></em></i></dt>
<dd>
Sets the mode for determining automatic line wrapping. Values are
<tt class="literal">none</tt> (no wrapping), <tt class="literal">char</tt> (wrap
at any character), or <tt class="literal">word</tt> (wrap at a word
boundary).
</p>
</dd>

</dl>
</dd>


<dt><b><tt class="literal">tagCget</tt></b></dt>
<dd>
<a name="INDEX-2977" />Returns configuration settings for a
tag.
</p>
</dd>


<dt><b><tt class="literal">tagDelete</tt></b></dt>
<dd>
<a name="INDEX-2978" />Deletes the specified tag(s).
</p>
</dd>


<dt><b><tt class="literal">tagRemove</tt></b></dt>
<dd>
<a name="INDEX-2979" />Removes the tags from the text in the
specified index range. (The tag itself remains defined, but is no
longer applied to that text.)
</p>
</dd>


<dt><b><tt class="literal">tagRaise</tt></b></dt>
<dd>
<a name="INDEX-2980" />Increases priority for a specified tag.
With only one argument, the tag takes highest priority over all
others; with a second argument of another tag, the
tag's priority is just higher than the second tag.
For example:
</p>
<blockquote><pre class="code">$text-&gt;tagRaise('bold','italic');</pre></blockquote>

</dd>


<dt><b><tt class="literal">tagLower</tt></b></dt>
<dd>
<a name="INDEX-2981" />Decreases priority for a specified tag.
With only one argument, the tag takes lowest priority to all others;
with a second argument of another tag, the tag's
priority is just lower than the second tag. For example:
</p>

<blockquote><pre class="code">$text-&gt;tagLower('italic','bold');</pre></blockquote>
</dd>


<dt><b><tt class="literal">tagNames</tt></b></dt>
<dd>
<a name="INDEX-2982" />Returns the names of all tags applying
to the specified index. With no index specified, returns all tags
defined for the Text widget, regardless of whether they have been
applied. For example:
</p>

<blockquote><pre class="code">@defined_tags = $text-&gt;tagNames;</pre></blockquote>
</dd>


<dt><b><tt class="literal">tagRanges</tt></b></dt>
<dd>
<a name="INDEX-2983" />Returns a list of index ranges to which
the specified tag is defined. The returned list contains pairs of
starting and ending indexes for the ranges. For example:
</p>

<blockquote><pre class="code">@bold_indexes = $text-&gt;tagRanges('bold');</pre></blockquote>
</dd>


<dt><b><tt class="literal">tagNextrange</tt></b></dt>
<dd>
<a name="INDEX-2984" />Given a tag
name and an index, returns the next index range to which the
specified tag is defined. For example:
</p>

<blockquote><pre class="code">@next_bold = $text-&gt;tagRanges('bold', 'insert');</pre></blockquote>
</dd>

</dl>

</div>
<a name="perlnut2-CHP-21-SECT-11.4" /><div class="sect2">
<h3 class="sect2">21.11.4. Marks</h3>

<p><a name="INDEX-2985" />A
<em class="emphasis">mark</em> is a particular position between characters
in a Text widget. Once you create a mark, you can use it as an index.
The gravity of the mark affects to which side the text is inserted.
<tt class="literal">Right</tt> gravity is the default, in which case the
text is inserted to the right of the mark.
</p>

<p>The two marks that are automatically set are
<tt class="literal">insert</tt> and <tt class="literal">current</tt>. The
<tt class="literal">insert</tt> mark refers to the position of the insert
cursor. The <tt class="literal">current</tt> mark is the position closest
to the mouse cursor.
</p>

<p>The following methods are defined for marking:</p>

<dl>
<dt><b><tt class="literal">markGravity</tt></b></dt>
<dd>
<a name="INDEX-2986" />Sets the gravity of a mark. For example:
</p>

<blockquote><pre class="code">$text-&gt;markGravity('insert', 'left');</pre></blockquote>
</dd>


<dt><b><tt class="literal">markNames</tt></b></dt>
<dd>
<a name="INDEX-2987" />Returns a list of all marks defined for
the Text widget.
</p>
</dd>


<dt><b><tt class="literal">markSet</tt></b></dt>
<dd>
<a name="INDEX-2988" />Creates a mark at a specified index:
</p>

<blockquote><pre class="code">$text-&gt;markSet('saved', 'insert');</pre></blockquote>
</dd>


<dt><b><tt class="literal">markUnset</tt></b></dt>
<dd>
<a name="INDEX-2989" />Deletes mark(s) from the Text widget:
</p>

<blockquote><pre class="code">$text-&gt;markUnset('saved');</pre></blockquote>


<p>Note that you cannot delete the <tt class="literal">insert</tt> or
<tt class="literal">current</tt> marks.<a name="INDEX-2990" /><a name="INDEX-2991" /><a name="INDEX-2992" /> 
</p>
</dd>

</dl>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch21_10.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch21_12.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">21.10. The Listbox Widget</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">21.12. The Canvas Widget</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="1,0,85,94" href="../index.htm"><area shape="rect" coords="86,1,178,103" href="../lwp/index.htm"><area shape="rect" coords="180,0,265,103" href="../lperl/index.htm"><area shape="rect" coords="267,0,353,105" href="index.htm"><area shape="rect" coords="354,1,446,115" href="../prog/index.htm"><area shape="rect" coords="448,0,526,132" href="../tk/index.htm"><area shape="rect" coords="528,1,615,119" href="../cookbook/index.htm"><area shape="rect" coords="617,0,690,135" href="../pxml/index.htm">
</map>

</body></html>
