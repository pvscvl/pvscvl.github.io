<html><head><title>Checkbutton and Radiobutton Indicator Status (Mastering Perl/Tk)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Steve Lidie and Nancy Walsh" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565927168L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Mastering Perl/Tk" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Mastering Perl/Tk" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch04_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch04_07.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">4.6. Checkbutton and Radiobutton Indicator Status</h2>

<p><a name="INDEX-542" /><a name="INDEX-543" /><a name="INDEX-544" /><a name="INDEX-545" />With Checkbutton and Radiobutton widgets,
you must include a <tt class="literal">-variable</tt> option to associate a
variable with the status of the indicator.
</p>

<blockquote><pre class="code">-variable =&gt; \$value</pre></blockquote>

<p>How the variable is used, however, varies between Checkbuttons and
Radiobuttons. When a Checkbutton is clicked,
<tt class="literal">$value</tt> contains the status of the indicator;
typically 0 if the indicator is off and 1 if the indicator is on. You
can use the <tt class="literal">-onvalue</tt> and
<tt class="literal">-offvalue</tt> options to change those defaults (more
on that soon).
</p>

<p>With Radiobuttons, there is no default value, and you need to
explicitly assign <tt class="literal">$value</tt> with the
<tt class="literal">-value</tt> option. We'll show some examples of
this in <a href="ch04_08.htm">Section 4.8, "Radiobutton Values"</a>.
</p>

<p>By changing the contents of <tt class="literal">$value</tt>, you can change
the status of the indicator. Changing the contents of
<tt class="literal">$value</tt> will toggle the indicator on a Checkbutton;
on a Radiobutton, the currently selected Radiobutton might change. It
is important to note that the subroutine associated with
<tt class="literal">-command</tt> (if there is one) is
<em class="emphasis">not</em> invoked when the value of
<tt class="literal">$value</tt> is changed. (See the
next section for more information on using the
<tt class="literal">-command</tt> option.)
</p>

<p>Reading the value associated with <tt class="literal">-variable</tt> is
usually the easiest way to check the status of the indicator on the
Button. Here is an example with two Buttons that change the
<tt class="literal">$cb_value</tt> variable:
</p>

<blockquote><pre class="code">$cb_value = 0;
$cb = $mw-&gt;Checkbutton(-text =&gt; "Checkbutton",
                       -variable =&gt; \$cb_value,
                       -command =&gt; sub { print "Clicked! $cb_value\n" }
                       )-&gt;pack(-side =&gt; 'top');

$mw-&gt;Button(-text =&gt; "CB on",
            -command =&gt; sub { $cb_value = 1 })-&gt;pack(-side =&gt; 'left');
$mw-&gt;Button(-text =&gt; "CB off",
            -command =&gt; sub { $cb_value = 0 })-&gt;pack(-side =&gt; 'left');</pre></blockquote>

<p>See <a href="ch04_06.htm">Figure 4-11</a> for the resulting window.</p>

<a name="mastperltk-CHP-4-FIG-11" /><div class="figure"><img src="figs/mptk.0411.gif" alt="Figure 4-11" width="118" height="70" /></div><h4 class="objtitle">Figure 4-11. Buttons changing the value of a Checkbutton</h4>

<p>The value stored in <tt class="literal">$cb_value</tt> can be changed in
three ways: clicking the Checkbutton, clicking the "CB
off" Button, or clicking the "CB on" Button. Only
when you click on the Checkbutton will you see the word
"Clicked!" written in the shell window from which it was
run, followed by the value of <tt class="literal">$cb_value</tt>.
</p>

<p>There are other ways to change the value associated with the
Checkbutton. See <tt class="literal">invoke</tt>,
<tt class="literal">select</tt>, <tt class="literal">deselect</tt>, and
<tt class="literal">toggle</tt>, later in this chapter.
</p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch04_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch04_07.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">4.5. Displaying an Image or Bitmap </td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">4.7. On and Off Values for a Checkbutton</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,85,94" href="../index.htm"><area shape="rect" coords="86,1,178,103" href="../lwp/index.htm"><area shape="rect" coords="180,0,265,103" href="../lperl/index.htm"><area shape="rect" coords="267,0,353,105" href="../perlnut/index.htm"><area shape="rect" coords="354,1,446,115" href="../prog/index.htm"><area shape="rect" coords="448,0,526,132" href="index.htm"><area shape="rect" coords="528,1,615,119" href="../cookbook/index.htm"><area shape="rect" coords="617,0,690,135" href="../pxml/index.htm"></map>

</body></html>