<html><head><title>The Balloon Widget (Mastering Perl/Tk)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Steve Lidie and Nancy Walsh" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565927168L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Mastering Perl/Tk" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Mastering Perl/Tk" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch23_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch23_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">23.5. The Balloon Widget</h2>

<p><a name="INDEX-3307" />Using a Balloon widget, you can create
help-text-like labels that appear as the mouse hovers over a widget.
You can also use it to create help text that appears in a status bar.
Let's look at a very simple example, then go over the relevant
options and methods:
</p>

<blockquote><pre class="code">use Tk;
use Tk::Balloon;

$mw = MainWindow-&gt;new(-title =&gt; "Simple Balloon example");
$button = $mw-&gt;Button(-text =&gt; "Exit", -command =&gt; sub { exit })-&gt;pack;
$msgarea = $mw-&gt;Label(-borderwidth =&gt; 2, -relief =&gt; 'groove')
  -&gt;pack(-side =&gt; 'bottom', fill =&gt; 'x');
$balloon = $mw-&gt;Balloon(-statusbar =&gt; $msgarea);
$balloon-&gt;attach($button, -balloonmsg =&gt; "Exit the App",  
  -statusmsg =&gt; "Press the Button to exit the application");
$balloon-&gt;attach($msgarea, -msg =&gt; 'Displays the help text for a widget');
MainLoop;</pre></blockquote>

<p><a href="ch23_05.htm">Figure 23-12</a> illustrates this example. </p>

<a name="mastperltk-CHP-23-FIG-12" /><div class="figure"><img src="figs/mptk.2312.gif" alt="Figure 23-12" width="280" height="99" /></div><h4 class="objtitle">Figure 23-12.  Using a Balloon as both help text and a status message</h4>

<p>Using a status bar is optional. We've just included it here to
show you how easy it is. Here are the options you can use when
creating your Balloon widget:<a href="#FOOTNOTE-68">[68]</a>
</p><blockquote class="footnote"> <a name="FOOTNOTE-68" /><p> [68] Not all the options are
detailed here, only those used 99% of the time. See the documentation
included with the widget for a complete listing.</p> </blockquote>

<dl>
<dt><tt class="literal">-state =&gt; 'balloon' | 'status' | '</tt><tt class="userinput"><b>both</b></tt><tt class="literal">' | 'none'</tt></dt>
<dd>
<a name="INDEX-3308" />Determines if the Balloon widget will be
displaying only balloons, only status messages, both (the default),
or nothing.
</p>
</dd>


<dt><tt class="literal">-statusbar</tt> =&gt; <tt><em class="replaceable"><tt>widget</tt></em></tt></dt>
<dd>
<a name="INDEX-3309" />Tells the
Balloon what widget to use for displaying status messages. The widget
specified must have a <tt class="literal">-text</tt> or
<tt class="literal">-textvariable</tt> option.
</p>
</dd>


<dt><tt class="literal">-balloonposition =&gt; 'widget' | 'mouse'</tt></dt>
<dd>
<a name="INDEX-3310" />Determines the position in which the
Balloon is displayed. Specify <tt class="literal">mouse</tt> to use the
cursor position.
</p>
</dd>


<dt><tt class="literal">-initwait</tt> =&gt; <tt><em class="replaceable"><tt>time</tt></em></tt></dt>
<dd>
<a name="INDEX-3311" />The amount
of time in milliseconds to wait before showing the balloon message or
status message. Default is 350 milliseconds.
</p>
</dd>

</dl>

<p><a name="INDEX-3312" />Once the
Balloon is created, you can both <tt class="literal">attach</tt> and
<tt class="literal">detach</tt> widgets. Here's the
<tt class="literal">attach</tt> method:
</p>

<blockquote><pre class="code">$balloon-&gt;attach($widget, option =&gt; value, ... );</pre></blockquote>

<p>This method takes a widget and a list of the following option/value
pairs:
</p>

<dl>
<dt><tt class="literal">-msg</tt> =&gt; <tt><em class="replaceable"><tt>string</tt></em></tt></dt>
<dd>
<a name="INDEX-3313" />The message to
be displayed in both a balloon and the status bar
</p>
</dd>


<dt><tt class="literal">-balloonmsg</tt> =&gt; <tt><em class="replaceable"><tt>string</tt></em></tt></dt>
<dd>
<a name="INDEX-3314" />The
message to be displayed only as a balloon
</p>
</dd>


<dt><tt class="literal">-statusmsg</tt> =&gt; <tt><em class="replaceable"><tt>string</tt></em></tt></dt>
<dd>
<a name="INDEX-3315" />The
message to be displayed only in the status bar
</p>
</dd>

</dl>

<p>You can override any of the <tt class="literal">-initwait</tt>,
<tt class="literal">-state</tt>, <tt class="literal">-statusbar</tt>, or
<tt class="literal">-balloonposition</tt> options with each individual call
to <tt class="literal">attach</tt>.
</p>

<p>The balloon demo included with the <em class="emphasis">widget</em></tt> demo
application is quite good; it shows attaching a Balloon to text
widgets, canvas items, and various other widgets.<a name="INDEX-3316" />
</p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch23_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch23_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">23.4. The Adjuster Widget</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">23.6. The BrowseEntry Widget</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,85,94" href="../index.htm"><area shape="rect" coords="86,1,178,103" href="../lwp/index.htm"><area shape="rect" coords="180,0,265,103" href="../lperl/index.htm"><area shape="rect" coords="267,0,353,105" href="../perlnut/index.htm"><area shape="rect" coords="354,1,446,115" href="../prog/index.htm"><area shape="rect" coords="448,0,526,132" href="index.htm"><area shape="rect" coords="528,1,615,119" href="../cookbook/index.htm"><area shape="rect" coords="617,0,690,135" href="../pxml/index.htm"></map>

</body></html>