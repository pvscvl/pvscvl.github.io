<html><head><title>Canvas Options (Mastering Perl/Tk)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Steve Lidie and Nancy Walsh" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565927168L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Mastering Perl/Tk" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Mastering Perl/Tk" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch09_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch09_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">9.5. Canvas Options</h2>

<p>The options listed in this section affect the entire Canvas widget
and the items within it (such as circles, lines, rectangles, text, or
other widgets). The following options act as you would expect (as
explained in <a href="ch04_01.htm">Chapter 4, "
Button, Checkbutton, and Radiobutton Widgets"</a> for most options and in
<a href="ch06_01.htm">Chapter 6, "The Scrollbar Widget"</a> for the Scrollbar options):
<tt class="literal">-background</tt>, <tt class="literal">-borderwidth</tt>,
<tt class="literal">-cursor</tt>, <tt class="literal">-height</tt>,<tt class="literal">-highlightbackground</tt>,
<tt class="literal">-highlightcolor</tt>,
<tt class="literal">-highlightthickness</tt>, <tt class="literal">-relief</tt>,
<tt class="literal">-takefocus</tt>, <tt class="literal">-width</tt>,
<tt class="literal">-xscrollcommand</tt>, and
<tt class="literal">-yscrollcommand</tt>.
</p>

<p><a name="INDEX-1249" />There are also several options that
are unique to the Canvas widget. When selecting items in the Canvas
with the mouse cursor, the Canvas widget does calculations to
determine if the mouse cursor is inside or outside the item. The
<tt class="literal">-closeenough</tt> option controls
how close the mouse must be to the item before it is considered
inside the item. The default value for
<tt class="literal">-closeenough</tt> is <tt class="literal">"1.0"</tt>, which is
1.0 pixels away. Any floating-point number is a valid value (and will
always be in pixels) for <tt class="literal">-closeenough</tt>.
</p>

<p><a name="INDEX-1250" />We
discussed the <tt class="literal">-scrollregion</tt> option briefly in
<a href="ch09_03.htm">Section 9.3, "The Scrollable Region"</a> earlier in this chapter. It takes
an array reference, which must contain four coordinates. The
coordinates indicate a bounding region for the scrollable area in the
Canvas. The coordinates are in this order: <tt class="literal">[</tt>
<em class="emphasis">minx</em><tt class="literal">,</tt>
<em class="replaceable"><tt>miny</tt></em><tt class="literal">,</tt>
<em class="replaceable"><tt>maxx</tt></em><tt class="literal">,</tt>
<em class="replaceable"><tt>maxy</tt></em> <tt class="literal">]</tt>. You can also
think of the coordinates as if they were defining the <tt class="literal">[
left, top, right, bottom ]</tt> edges of the scrollable region.
</p>

<p><a name="INDEX-1251" />Normally the
Canvas widget limits the user to seeing only the area defined by the
<tt class="literal">-scrollregion</tt> option. You can
allow the user to scroll beyond this area by using <tt class="literal">-confine
=&gt; 0</tt>. The default for <tt class="literal">-confine</tt> is 1.
</p>

<a name="mastperltk-CHP-9-SECT-5.1" /><div class="sect2">
<h3 class="sect2">9.5.1. Common Canvas Dash, Stipple, and Tile Options</h3>

<p><a name="INDEX-1252" /><a name="INDEX-1253" />Jan Nijtman's "dash and
image" patches have been incorporated into Perl/Tk. In <a href="ch17_01.htm">Chapter 17, "Images and Animations"</a> we investigate the basic features of stipples
and Jan's tiles. Here we introduce his Canvas "dash and
tile" options. They are applicable to most Canvas items,
although only <tt class="literal">-state</tt> and
<tt class="literal">-updatecommand</tt> apply to embedded widgets.
</p>

<p>The following describes a <em class="replaceable"><tt>dashSpec</tt></em> and
specifies how a dashed line is drawn.
</p>

<dl>
<dt><tt class="literal">-activedash =&gt;</tt> <tt><em class="replaceable"><tt>dashSpec</tt></em></tt> </dt>
<dd>
<a name="INDEX-1254" />Specifies
the dash pattern of an active item.
</p>
</dd>


<dt><tt class="literal">-activefill =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt> </dt>
<dd>
<a name="INDEX-1255" />Specifies
the fill color of an active item.
</p>
</dd>


<dt><tt class="literal">-activeoutline =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1256" />
Specifies the outline color of an active item.
</p>
</dd>


<dt><tt class="literal">-activeoutlinestipple =&gt;</tt> <tt><em class="replaceable"><tt>bitmap</tt></em></tt> </dt>
<dd>
<a name="INDEX-1257" />Specifies the outline stipple of an
active item.
</p>
</dd>


<dt><tt class="literal">-activeoutlinetile =&gt;</tt> <tt><em class="replaceable"><tt>image</tt></em></tt> </dt>
<dd>
<a name="INDEX-1258" />Specifies the outline tile of an active
item.
</p>
</dd>


<dt><tt class="literal">-activestipple =&gt;</tt> <tt><em class="replaceable"><tt>bitmap</tt></em></tt> </dt>
<dd>
<a name="INDEX-1259" />Specifies the stipple of an active item.
</p>
</dd>


<dt><tt class="literal">-activewidth =&gt;</tt> <tt><em class="replaceable"><tt>outlineWidth</tt></em></tt> </dt>
<dd>
<a name="INDEX-1260" />Specifies the outline width of an active
item.
</p>
</dd>


<dt><tt class="literal">-dash =&gt;</tt> <tt><em class="replaceable"><tt>dashSpec</tt></em></tt> </dt>
<dd>
<a name="INDEX-1261" />Specifies a
list of integers representing the number of pixels of a line segment
(odd segments are the outline color; even segments are transparent)
or a character list containing only the five characters <tt class="literal">.,-_
&gt;</tt>.For example:
</p>

<blockquote><pre class="code">-dash =&gt; '.'   = -dash =&gt; [2,4]
-dash =&gt; '-'   = -dash =&gt; [6,4]
-dash =&gt; '-.'  = -dash =&gt; [6,4,2,4]
-dash =&gt; '-..' = -dash =&gt; [6,4,2,4,2,4]
-dash =&gt; '. '  = -dash =&gt; [2,8]
-dash =&gt; ','   = -dash =&gt; [4,4]</pre></blockquote>
</dd>


<dt><tt class="literal">-dashoffset =&gt;</tt> <tt><em class="replaceable"><tt>integer</tt></em></tt> </dt>
<dd>
<a name="INDEX-1262" />Specifies
the offset in the dash list where the drawing starts.
</p>
</dd>


<dt><tt class="literal">-disableddash =&gt;</tt> <tt><em class="replaceable"><tt>dashSpec</tt></em></tt> </dt>
<dd>
<a name="INDEX-1263" />Specifies the dash pattern for a disabled
item.
</p>
</dd>


<dt><tt class="literal">-disabledfill =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt> </dt>
<dd>
<a name="INDEX-1264" />Specifies the fill color of a disabled
item.
</p>
</dd>


<dt><tt class="literal">-disableoutline =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt> </dt>
<dd>
<a name="INDEX-1265" />Specifies the outline color of a disabled
item.
</p>
</dd>


<dt><tt class="literal">-disabledoutlinestipple =&gt;</tt> <tt><em class="replaceable"><tt>bitmap</tt></em></tt> </dt>
<dd>
<a name="INDEX-1266" />Specifies the outline stipple of a
disabled item.
</p>
</dd>


<dt><tt class="literal">-disabledoutlinetile =&gt;</tt> <tt><em class="replaceable"><tt>image</tt></em></tt> </dt>
<dd>
<a name="INDEX-1267" />Specifies the outline tile of a disabled
item.
</p>
</dd>


<dt><tt class="literal">-disabledstipple =&gt;</tt> <tt><em class="replaceable"><tt>bitmap</tt></em></tt> </dt>
<dd>
<a name="INDEX-1268" />Specifies the stipple of a disabled item.
</p>
</dd>


<dt><tt class="literal">-disabledwidth =&gt;</tt> <tt><em class="replaceable"><tt>outlineWidth</tt></em></tt> </dt>
<dd>
<a name="INDEX-1269" />Specifies the outline width of a disabled
item.
</p>
</dd>


<dt><tt class="literal">-outline =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt> </dt>
<dd>
<a name="INDEX-1270" />Specifies the outline color of an
item.
</p>
</dd>


<dt><tt class="literal">-outlinestipple =&gt;</tt> <tt><em class="replaceable"><tt>bitmap</tt></em></tt> </dt>
<dd>
<a name="INDEX-1271" />Specifies the outline stipple of an item.
</p>
</dd>


<dt><tt class="literal">-outlinetile =&gt;</tt> <tt><em class="replaceable"><tt>image</tt></em></tt> </dt>
<dd>
<a name="INDEX-1272" />Specifies the outline tile of an item.
</p>
</dd>


<dt><tt class="literal">-state =&gt; normal | disabled | hidden</tt> </dt>
<dd>
<a name="INDEX-1273" />Specifies the state of the Canvas item.
Overrides the Canvas' global <tt class="literal">-state</tt> option.
</p>
</dd>


<dt><tt class="literal">-stipple =&gt;</tt> <tt><em class="replaceable"><tt>bitmap</tt></em></tt> </dt>
<dd>
<a name="INDEX-1274" />Specifies the stipple of an item.
</p>
</dd>


<dt><tt class="literal">-updatecommand =&gt;</tt> <tt><em class="replaceable"><tt>callback</tt></em></tt> </dt>
<dd>
<a name="INDEX-1275" />Specifies the callback invoked when an
item is updated on the display.
</p>
</dd>


<dt><tt class="literal">-width =&gt;</tt> <tt><em class="replaceable"><tt>outlineWidth</tt></em></tt> </dt>
<dd>
<a name="INDEX-1276" />Specifies the outline width of an item.
</p>
</dd>

</dl>

</div>
<a name="mastperltk-CHP-9-SECT-5.2" /><div class="sect2">
<h3 class="sect2">9.5.2. Additional Scrolling Options</h3>

<p><a name="INDEX-1277" /><a name="INDEX-1278" /><a name="INDEX-1279" /><a name="INDEX-1280" /><a name="INDEX-1281" />The <tt class="literal">-xscrollcommand</tt>
and <tt class="literal">-yscrollcommand</tt> options both work as described
in <a href="ch06_01.htm">Chapter 6, "The Scrollbar Widget"</a>, but there are two additional options
that affect how the Canvas scrolls its contents:
<tt class="literal">-xscrollincrement</tt> and
<tt class="literal">-yscrollincrement</tt>. Each option takes a valid
screen distance for a value. This distance is the unit the Canvas
will use to scroll in the associated direction. For instance, if you
specify <tt class="literal">-xscrollincrement</tt> <tt class="literal">=&gt;</tt>
<tt class="literal">10</tt>, each time you click an arrow on the horizontal
Scrollbar, the contents of the Canvas will shift so the left edge of
the contents is an even multiple of 10. Essentially, the Canvas will
shift the contents 10 pixels in the arrow's direction.
</p>

<p>If the value associated with <tt class="literal">-xscrollincrement</tt> or
<tt class="literal">-yscrollincrement</tt> is 0 or less, scrolling is done
in normal increments.
</p>

</div>
<a name="mastperltk-CHP-9-SECT-5.3" /><div class="sect2">
<h3 class="sect2">9.5.3. Canvas Widget Option List</h3>

<p>These options all are used with the
<tt class="literal">Canvas</tt> method:
</p>

<dl>
<a name="INDEX-1282" /><a name="INDEX-1283" /><a name="INDEX-1284" /><a name="INDEX-1285" /><a name="INDEX-1286" /><a name="INDEX-1287" /><a name="INDEX-1288" /><a name="INDEX-1289" /><a name="INDEX-1290" /><dt><tt class="literal">-background =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1291" /><a name="INDEX-1292" /><a name="INDEX-1293" /><a name="INDEX-1294" /><a name="INDEX-1295" /><a name="INDEX-1296" /><a name="INDEX-1297" /><a name="INDEX-1298" /><a name="INDEX-1299" /><a name="INDEX-1300" /><a name="INDEX-1301" /><a name="INDEX-1302" />Sets the background of the
Canvas to <em class="replaceable"><tt><tt>color</tt></tt></em>.
</p>
</dd>


<a name="INDEX-1303" /><a name="INDEX-1304" /><dt><tt class="literal">-borderwidth =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1305" /><a name="INDEX-1306" />Changes the width of the edges of the
Canvas to <tt><em class="replaceable"><tt>amount</tt></em></tt>.
</p>
</dd>


<a name="INDEX-1307" /><dt><tt class="literal">-closeenough =&gt;</tt> <tt><em class="replaceable"><tt>float_amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1308" /><a name="INDEX-1309" />Sets the amount of distance from the item
when the cursor is considered inside the item.
</p>
</dd>


<dt><tt class="literal">-confine =&gt;</tt> <tt class="userinput"><b>1</b></tt> <tt class="literal">| 0</tt></dt>
<dd>
<a name="INDEX-1310" />Indicates
that the Canvas will limit itself to the area defined by
<tt class="literal">-scrollregion</tt> if set to 1.
</p>
</dd>


<dt><tt class="literal">-cursor =&gt;</tt> <tt><em class="replaceable"><tt>cursorname</tt></em></tt></dt>
<dd>
<a name="INDEX-1311" />Indicates that the cursor will change to
<em class="replaceable"><tt><tt>cursorname</tt></tt></em> when it is over the Canvas.
</p>
</dd>


<a name="INDEX-1312" /><a name="INDEX-1313" /><dt><tt class="literal">-height =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1314" />Sets the height of the Canvas to
<tt><em class="replaceable"><tt>amount</tt></em></tt>.
</p>
</dd>


<dt><tt class="literal">-highlightbackground =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1315" /><a name="INDEX-1316" /><a name="INDEX-1317" />Sets
the color the highlight rectangle should be when the Canvas does not
have the keyboard focus.
</p>
</dd>


<dt><tt class="literal">-highlightcolor =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1318" />Sets the color the highlight
rectangle should be when the Canvas has the keyboard focus.
</p>
</dd>


<a name="INDEX-1319" /><a name="INDEX-1320" /><a name="INDEX-1321" /><a name="INDEX-1322" /><a name="INDEX-1323" /><a name="INDEX-1324" /><a name="INDEX-1325" /><a name="INDEX-1326" /><dt><tt class="literal">-highlightthickness =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1327" /><a name="INDEX-1328" /><a name="INDEX-1329" /><a name="INDEX-1330" /><a name="INDEX-1331" />Sets
the thickness of the highlight rectangle. Default is 2.
</p>
</dd>


<dt><tt class="literal">-insertbackground =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1332" /><a name="INDEX-1333" /><a name="INDEX-1334" /><a name="INDEX-1335" /><a name="INDEX-1336" /><a name="INDEX-1337" /><a name="INDEX-1338" />Sets
the color of the area behind the text insert cursor.
</p>
</dd>


<dt><tt class="literal">-insertborderwidth =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
Sets the width of the borders on the insert cursor.</p>
</dd>


<dt><tt class="literal">-insertofftime =&gt;</tt> <tt><em class="replaceable"><tt>milliseconds</tt></em></tt></dt>
<dd>
Sets the amount of time the cursor disappears from the screen when it
is blinking off.
</p>
</dd>


<a name="INDEX-1339" /><a name="INDEX-1340" /><a name="INDEX-1341" /><dt><tt class="literal">-insertontime =&gt;</tt> <tt><em class="replaceable"><tt>milliseconds</tt></em></tt></dt>
<dd>
<a name="INDEX-1342" /><a name="INDEX-1343" /><a name="INDEX-1344" /><a name="INDEX-1345" />Sets
the amount of time the cursor appears on the screen when it is
blinking on.
</p>
</dd>


<dt><tt class="literal">-insertwidth =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
Sets the width of the insert cursor.</p>
</dd>


<dt><tt class="literal">-relief =&gt; '</tt><tt class="userinput"><b>flat</b></tt><tt class="literal">'|'groove'|'raised'|'ridge'|'sunken'|'solid'</tt></dt>
<dd>
<a name="INDEX-1346" />Indicates the way the edges of the Canvas
are drawn.
</p>
</dd>


<dt><tt class="literal">-scrollregion =&gt; [</tt> <tt><em class="replaceable"><tt>left</em></tt><tt class="literal">,</tt> <tt><em class="replaceable">top</em></tt><tt class="literal">,</tt> <tt><em class="replaceable">right</em></tt><tt class="literal">,</tt> <tt><em class="replaceable">bottom</tt></em></tt> <tt class="literal">]</tt></dt>
<dd>
<a name="INDEX-1347" />Defines
the area the user is allowed to scroll.
</p>
</dd>


<dt><tt class="literal">-selectbackground =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1348" />Sets the color of the area behind any
selected text.
</p>
</dd>


<dt><tt class="literal">-selectborderwidth =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1349" />Sets the width of the border of the
selected area.
</p>
</dd>


<dt><tt class="literal">-selectforeground =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1350" />Sets the color of the selected text.
</p>
</dd>


<dt><tt class="literal">-takefocus =&gt; 0 | 1 |</tt> <tt class="userinput"><b>undef</b></tt></dt>
<dd>
<a name="INDEX-1351" />Determines whether or not the Canvas can
get keyboard focus. Default is for the application to decide.
</p>
</dd>


<dt><tt class="literal">-width =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
Sets the width of the Canvas to <em class="replaceable"><tt><tt><tt>amount</tt></tt></tt></em>.</p>
</dd>


<dt><tt class="literal">-xscrollcommand =&gt;</tt> <tt><em class="replaceable"><tt>callback</tt></em></tt></dt>
<dd>
Determines the callback used when the Canvas is scrolled horizontally
(automatically set to the correct callback when the
<tt class="literal">Scrolled</tt> method is used).
</p>
</dd>


<dt><tt class="literal">-xscrollincrement =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1352" />Sets the distance the Canvas contents
move when the arrow on the horizontal Scrollbar is clicked.
</p>
</dd>


<dt><tt class="literal">-yscrollcommand =&gt;</tt> <tt><em class="replaceable"><tt>callback</tt></em></tt></dt>
<dd>
Determines the callback used when the Canvas is scrolled vertically.</p>
</dd>


<dt><tt class="literal">-yscrollincrement =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1353" />Sets the distance the Canvas contents
move when the arrow on the vertical Scrollbar is clicked.
</p>
</dd>

</dl>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch09_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch09_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">9.4. Using bind with a Canvas</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">9.6. Creating Items in a Canvas</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,85,94" href="../index.htm"><area shape="rect" coords="86,1,178,103" href="../lwp/index.htm"><area shape="rect" coords="180,0,265,103" href="../lperl/index.htm"><area shape="rect" coords="267,0,353,105" href="../perlnut/index.htm"><area shape="rect" coords="354,1,446,115" href="../prog/index.htm"><area shape="rect" coords="448,0,526,132" href="index.htm"><area shape="rect" coords="528,1,615,119" href="../cookbook/index.htm"><area shape="rect" coords="617,0,690,135" href="../pxml/index.htm"></map>

</body></html>