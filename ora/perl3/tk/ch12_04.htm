<html><head><title>Classical Menubars (Mastering Perl/Tk)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Steve Lidie and Nancy Walsh" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565927168L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Mastering Perl/Tk" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Mastering Perl/Tk" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch12_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch12_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">12.4. Classical Menubars</h2>

<p><a name="INDEX-1811" /><a name="INDEX-1812" />A classical menubar refers to the
pre-Tk 8 idiom of arranging Menubutton widgets inside a Frame packed
and stretched across the top of a MainWindow or Toplevel. Help
Menubuttons are right justified on Unix machines. While you
don't want to write new code in this style, it's
important to know this idiom, because there's a lot of existing
code written in this manner.
</p>

<p>The following is typical classical menubar style, except for the use
of -<tt class="literal">menuitems</tt>. Luckily for us, the three menu item
subroutines are identical to our previous versions and generate a
menubar that looks just like <a href="ch12_01.htm">Figure 12-1</a>. Most
classical menubars create Menubuttons, Menus, and menu items as
described in <a href="ch12_02.htm">Section 12.2.1, "Menubars the Clunky, Casual, Old-Fashioned Way"</a>.
</p>

<blockquote><pre class="code">use subs qw/edit_menuitems file_menuitems help_menuitems/;

my $mw = MainWindow-&gt;new;

my $menubar = $mw-&gt;Frame(qw/-relief raised -borderwidth 2/);
$menubar-&gt;pack(qw/-fill x/);

my $file = $menubar-&gt;Menubutton(qw/-text File -underline 0/,
    -menuitems =&gt; file_menuitems);
my $edit = $menubar-&gt;Menubutton(qw/-text Edit -underline 0/,
    -menuitems =&gt; edit_menuitems);
my $help = $menubar-&gt;Menubutton(qw/-text Help -underline 0/, 
    -menuitems =&gt; help_menuitems);

$file-&gt;pack(qw/-side left/);
$edit-&gt;pack(qw/-side left/);
$help-&gt;pack(qw/-side right/);</pre></blockquote>

<a name="mastperltk-CHP-12-SECT-4.1" /><div class="sect2">
<h3 class="sect2">12.4.1. Menubutton Options</h3>

<p><a name="INDEX-1813" />The options specified with the
<tt class="literal">Menubutton</tt> command (or via the
<tt class="literal">configure</tt> method) can affect the Button part of
the Menubutton, both the Button and the Menu, or just the
Menu.<a href="#FOOTNOTE-25">[25]</a> The options that affect the Menu
are valid for the Menu widget as well as the Menubutton widget. Here
is a brief synopsis of all the options and their effects. When the
description says "Affects the Button only," the behavior
is the same as it would be for a Button widget.
</p><blockquote class="footnote"> <a name="FOOTNOTE-25" /><p> [25] The Menubutton widget comprises other widgets
(in this case, Button and Menu) to provide the overall
functionality.</p> </blockquote>

<dl>
<dt><tt class="literal">-activebackground =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1814" />Affects the background color of the
button and the currently highlighted menu item.
</p>
</dd>


<dt><tt class="literal">-activeforeground =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1815" />Affects the text color of the button
and the currently highlighted menu item.
</p>
</dd>


<dt><tt class="literal">-anchor =&gt; 'n' | 'ne' | 'e' | 'se' | 's' | 'sw' | 'w' | 'nw' | '</tt><tt class="userinput"><b>center</b></tt><tt class="literal">'</tt></dt>
<dd>
<a name="INDEX-1816" />Affects the button only. Changes the
position of the text within the button.
</p>
</dd>


<dt><tt class="literal">-background =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1817" />Affects the button and the menu. All
the background color changes to <em class="replaceable"><tt><tt>color</tt></tt></em> when
the state of the button and the menu items is
<tt class="literal">'normal'</tt>.
</p>
</dd>


<dt><tt class="literal">-bitmap =&gt;</tt> <tt><em class="replaceable"><tt>bitmapname</tt></em></tt></dt>
<dd>
<a name="INDEX-1818" />Affects the button only. Displays
bitmap instead of text.
</p>
</dd>


<dt><tt class="literal">-borderwidth =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1819" />Affects the button only. Changes the
width of the button edges.
</p>
</dd>


<dt><tt class="literal">-cursor =&gt;</tt> <tt><em class="replaceable"><tt>cursorname</tt></em></tt></dt>
<dd>
<a name="INDEX-1820" />Affects the button only. Changes the
cursor when it's over the button part of the menubutton.
</p>
</dd>


<dt><tt class="literal">-disabledforeground =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1821" />Affects the button and the menu item
text when the <tt class="literal">-state</tt> for either is
<tt class="literal">'disabled'</tt>.
</p>
</dd>


<dt><tt class="literal">-direction =&gt; "above" |</tt><tt class="userinput"><b> "below"</b></tt> <tt class="literal">| "left" | "right" | "flush"</tt></dt>
<dd>
<a name="INDEX-1822" />Tk 8
option only. The value <tt class="literal">"above"</tt> puts the menu above
the menubutton, <tt class="literal">"below"</tt> puts it below the button,
and <tt class="literal">"left"</tt> and <tt class="literal">"right"</tt> put it
on the appropriate side of the button. <tt class="literal">"flush"</tt>
puts the menu directly over the button.
</p>
</dd>


<dt><tt class="literal">-font =&gt;</tt> <tt><em class="replaceable"><tt>fontname</tt></em></tt></dt>
<dd>
<a name="INDEX-1823" />Affects the button only. Changes the
font of any text displayed in the button.
</p>
</dd>


<dt><tt class="literal">-foreground =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1824" />Affects the button only. Changes the
color of any text or bitmap to <tt><em class="replaceable"><tt>color</tt></em></tt>.
</p>
</dd>


<dt><tt class="literal">-height =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1825" />Affects the button only. Changes the
height of the button.
</p>
</dd>


<dt><tt class="literal">-highlightbackground =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1826" />Affects the button only. Changes the
color of the highlight rectangle displayed around the button when the
button does not have the keyboard focus.
</p>
</dd>


<dt><tt class="literal">-highlightcolor =&gt;</tt> <tt><em class="replaceable"><tt>color</tt></em></tt></dt>
<dd>
<a name="INDEX-1827" />Affects the button only. Changes the
color of the highlight rectangle displayed around the button when the
button has the keyboard focus.
</p>
</dd>


<dt><tt class="literal">-highlightthickness =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1828" />Affects the button only. Default is 0.
Changes the width of the highlight rectangle around all edges of the
button.
</p>
</dd>


<dt><tt class="literal">-image =&gt;</tt> <tt><em class="replaceable"><tt>imgptr</tt></em></tt></dt>
<dd>
<a name="INDEX-1829" />Affects the button only. Displays an
image instead of text.
</p>
</dd>


<dt><tt class="literal">-indicatoron =&gt;</tt> <tt class="userinput"><b>0</b></tt> <tt class="literal">| 1</tt></dt>
<dd>
<a name="INDEX-1830" />Affects the button; indirectly affects
the display mechanism for the menu. When set to 1, a small bar
appears on the right side of the button next to any text, bitmap, or
image.
</p>
</dd>


<dt><tt class="literal">-justify =&gt; 'left' | 'right' | '</tt><tt class="userinput"><b>center</b></tt><tt class="literal">'</tt> </dt>
<dd>
<a name="INDEX-1831" />Affects the button only. Changes the
justification of the text within the button.
</p>
</dd>


<dt><tt class="literal">-menu =&gt; $menu</tt></dt>
<dd>
<a name="INDEX-1832" />Tells the
menubutton to display the menu associated with
<tt class="literal">$menu</tt> instead of anything specified via the
<tt class="literal">-menuitems</tt> option.
</p>
</dd>


<dt><tt class="literal">-menuitems =&gt;</tt> <tt><em class="replaceable"><tt>list</tt></em></tt></dt>
<dd>
<a name="INDEX-1833" />Causes the menu to display a list of
items to create.
</p>
</dd>


<dt><tt class="literal">-padx =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1834" />Affects the button only. Adds extra
space to the left and right of the button inside the button edge.
</p>
</dd>


<dt><tt class="literal">-pady =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1835" />Affects the button only. Adds extra
space to the top and bottom of the button inside the button edge.
</p>
</dd>


<dt><tt class="literal">-relief =&gt; '</tt><tt class="userinput"><b>flat</b></tt><tt class="literal">' | 'groove' | 'raised' | 'ridge' | 'sunken'</tt></dt>
<dd>
<a name="INDEX-1836" />Affects the button only. The relief of
the button changes to <tt class="literal">'raised'</tt> when the button is
pressed.
</p>
</dd>


<dt><tt class="literal">-state =&gt; '</tt><tt class="userinput"><b>normal</b></tt><tt class="literal">' | 'active' | 'disabled'</tt></dt>
<dd>
<a name="INDEX-1837" />Affects the button; indirectly affects
the menu (the menu cannot be displayed if state is
<tt class="literal">'disabled'</tt>).
</p>
</dd>


<dt><tt class="literal">-takefocus =&gt;</tt> <tt class="userinput"><b>0</b></tt> <tt class="literal">| 1 | undef</tt></dt>
<dd>
<a name="INDEX-1838" />Affects the button only. Determines
whether or not the button can have the keyboard focus.
</p>
</dd>


<dt><tt class="literal">-tearoff =&gt; 0 |</tt> <tt class="userinput"><b>1</b></tt></dt>
<dd>
<a name="INDEX-1839" />Affects the
menu only. If set to 0, does not display the tearoff dashed line in
the menu.
</p>
</dd>


<dt><tt class="literal">-text =&gt;</tt> <tt><em class="replaceable"><tt>text string</tt></em></tt></dt>
<dd>
<a name="INDEX-1840" />Affects the button only. Displays the
specified string on the button (ignored if the
<tt class="literal">-bitmap</tt> or <tt class="literal">-image</tt> option is
used).
</p>
</dd>


<dt><tt class="literal">-textvariable =&gt; \$variable</tt></dt>
<dd>
<a name="INDEX-1841" />Affects the button only. The
information displayed in <tt class="literal">$variable</tt> is displayed on
the button.
</p>
</dd>


<dt><tt class="literal">-underline =&gt;</tt> <tt><em class="replaceable"><tt>charpos</tt></em></tt></dt>
<dd>
<a name="INDEX-1842" />Affects the button only. The character
at the integer <tt><em class="replaceable"><tt>charpos</tt></em></tt> is underlined. If
the button has the keyboard focus, pressing the Alt key causes the
button that corresponds to the underlined character to be pressed.
</p>
</dd>


<dt><tt class="literal">-width =&gt;</tt> <tt><em class="replaceable"><tt>amount</tt></em></tt></dt>
<dd>
<a name="INDEX-1843" />Affects the button only. Changes the
width of the button to <em class="replaceable"><tt><tt><tt>amount</tt></tt></tt></em>.
</p>
</dd>


<dt><tt class="literal">-wraplength =&gt;</tt> <tt><em class="replaceable"><tt>pos</tt></em></tt></dt>
<dd>
<a name="INDEX-1844" />Affects the button only. Default is 0.
Determines the screen distance for the maximum amount of text
displayed on one line.<a name="INDEX-1845" /> 
</p>
</dd>

</dl>

</div>
<a name="mastperltk-CHP-12-SECT-4.2" /><div class="sect2">
<h3 class="sect2">12.4.2. Button-Only Options</h3>

<p>The following options affect only the button portion of the
menubutton, and behave exactly as described in <a href="ch04_01.htm">Chapter 4, "
Button, Checkbutton, and Radiobutton Widgets"</a>: <tt class="literal">-cursor</tt>,
<tt class="literal">-anchor</tt>, <tt class="literal">-bitmap</tt>,
<tt class="literal">-borderwidth</tt>, <tt class="literal">-font</tt>,
<tt class="literal">-foreground</tt>, <tt class="literal">-height</tt>,
<tt class="literal">-highlightbackground</tt>,
<tt class="literal">-highlightcolor</tt>,
<tt class="literal">-highlightthickness</tt>, <tt class="literal">-image</tt>,
<tt class="literal">-justify</tt>, <tt class="literal">-padx</tt>,
<tt class="literal">-pady</tt>, <tt class="literal">-relief</tt>,
<tt class="literal">-state</tt>, <tt class="literal">-takefocus</tt>,
<tt class="literal">-text</tt>, <tt class="literal">-textvariable</tt>,
<tt class="literal">-underline</tt>, <tt class="literal">-width</tt>, and
<tt class="literal">-wraplength</tt>.<a name="INDEX-1846" />
</p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch12_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch12_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">12.3. The Win32 System Menu Item</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">12.5. Popup Menus</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,85,94" href="../index.htm"><area shape="rect" coords="86,1,178,103" href="../lwp/index.htm"><area shape="rect" coords="180,0,265,103" href="../lperl/index.htm"><area shape="rect" coords="267,0,353,105" href="../perlnut/index.htm"><area shape="rect" coords="354,1,446,115" href="../prog/index.htm"><area shape="rect" coords="448,0,526,132" href="index.htm"><area shape="rect" coords="528,1,615,119" href="../cookbook/index.htm"><area shape="rect" coords="617,0,690,135" href="../pxml/index.htm"></map>

</body></html>