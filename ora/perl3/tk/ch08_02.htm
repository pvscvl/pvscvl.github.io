<html><head><title>Text Widget Options (Mastering Perl/Tk)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Steve Lidie and Nancy Walsh" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565927168L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Mastering Perl/Tk" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Mastering Perl/Tk" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch08_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch08_03.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">8.2. Text Widget Options</h2>

<p>Options used with the <tt class="literal">Text</tt> method change the way
the text is displayed within the Text widget. The following options
are standard for all the widgets (see <a href="ch04_01.htm">Chapter 4, "
Button, Checkbutton, and Radiobutton Widgets"</a>,
where the options were first covered, for further information):
</p>

<dl>
<dt><tt class="literal">-background =&gt;</tt> <tt><em class="replaceable">color</em></tt></dt>
<dd>
<a name="INDEX-966" /><a name="INDEX-967" /><a name="INDEX-968" /><a name="INDEX-969" />Changes the color of the screen displayed
behind the text.
</p>
</dd>


<dt><tt class="literal">-borderwidth =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-970" /><a name="INDEX-971" />Sets the width of the edges of the widget.
</p>
</dd>


<dt><tt class="literal">-cursor =&gt;</tt> <tt><em class="replaceable">cursorname</em></tt></dt>
<dd>
<a name="INDEX-972" />Sets the cursor displayed when the mouse
cursor is in front of the Text widget.
</p>
</dd>


<dt><tt class="literal">-exportselection =&gt; 0 |</tt> <tt class="userinput"><b>1</b></tt></dt>
<dd>
<a name="INDEX-973" /><a name="INDEX-974" />Determines if the text selected within the
widget can also be used by the windowing system (such as X windows).
</p>
</dd>


<a name="INDEX-975" /><a name="INDEX-976" /><a name="INDEX-977" /><a name="INDEX-978" /><dt><tt class="literal">-font =&gt;</tt> <tt><em class="replaceable">fontname</em></tt></dt>
<dd>
<a name="INDEX-979" /><a name="INDEX-980" /><a name="INDEX-981" />Sets the font in which the text is
displayed.
</p>
</dd>


<dt><tt class="literal">-foreground =&gt;</tt> <tt><em class="replaceable">color</em></tt></dt>
<dd>
<a name="INDEX-982" />Sets the color of the text.
</p>
</dd>


<a name="INDEX-983" /><dt><tt class="literal">-height =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-984" />Sets the height of the widget. Default is
24.
</p>
</dd>


<a name="INDEX-985" /><dt><tt class="literal">-highlightbackground =&gt;</tt> <tt><em class="replaceable">color</em></tt></dt>
<dd>
<a name="INDEX-986" />Sets the color the highlight rectangle
around the widget should be when it does not have the keyboard focus.
</p>
</dd>


<dt><tt class="literal">-highlightcolor =&gt;</tt> <tt><em class="replaceable">color</em></tt></dt>
<dd>
<a name="INDEX-987" />Sets the color the highlight
rectangle around the widget should be when it has the keyboard focus.
</p>
</dd>


<a name="INDEX-988" /><dt><tt class="literal">-highlightthickness =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-989" />Sets the thickness of the highlight
rectangle around the widget. Default is 2.
</p>
</dd>


<dt><tt class="literal">-insertbackground =&gt;</tt> <tt><em class="replaceable">color</em></tt></dt>
<dd>
<a name="INDEX-990" /><a name="INDEX-991" /><a name="INDEX-992" /><a name="INDEX-993" /><a name="INDEX-994" />Changes
the color of the insert cursor.
</p>
</dd>


<dt><tt class="literal">-insertborderwidth =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-995" /><a name="INDEX-996" />Changes the width of the insert cursor.
</p>
</dd>


<dt><tt class="literal">-insertofftime =&gt;</tt> <tt><em class="replaceable">time</em></tt></dt>
<dd>
<a name="INDEX-997" />Sets the time the insert cursor
blinks in the off position. Default is 300.
</p>
</dd>


<dt><tt class="literal">-insertontime =&gt;</tt> <tt><em class="replaceable">time</em></tt></dt>
<dd>
<a name="INDEX-998" />Sets the time the insert cursor
blinks in the on position. Default is 600.
</p>
</dd>


<dt><tt class="literal">-insertwidth =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-999" />Sets the width of the insert
cursor.
</p>
</dd>


<dt><tt class="literal">-padx =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-1000" />Adds extra space to the left and right of
the text inside the Text widget's edge.
</p>
</dd>


<dt><tt class="literal">-pady =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-1001" />Adds extra space to the top and bottom of
the text inside the Text widget's edge.
</p>
</dd>


<dt><tt class="literal">-relief =&gt; 'flat'|'groove'|'raised'|'ridge'|'</tt><tt class="userinput"><b>sunken</b></tt><tt class="literal">'</tt>|<tt class="literal">'solid'</tt></dt>
<dd>
<a name="INDEX-1002" />Sets the relief of the edges of the
widget.
</p>
</dd>


<dt><tt class="literal">-selectbackground =&gt;</tt> <tt><em class="replaceable">color</em></tt></dt>
<dd>
<a name="INDEX-1003" />Sets the color of the area behind
the selected text.
</p>
</dd>


<dt><tt class="literal">-selectborderwidth =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-1004" />Sets the width of the border of the
selected area.
</p>
</dd>


<dt><tt class="literal">-selectforeground =&gt;</tt> <tt><em class="replaceable">color</em></tt></dt>
<dd>
<a name="INDEX-1005" />Sets the color of the selected
text.
</p>
</dd>


<dt><tt class="literal">-setgrid =&gt;</tt> <tt class="userinput"><b>0</b></tt> <tt class="literal">| 1</tt></dt>
<dd>
<a name="INDEX-1006" />Enables
gridding for the Text widget. Default is 0.
</p>
</dd>


<dt><tt class="literal">-spacing1 =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-1007" />Sets the
amount of additional space left on top of a line of text that begins
on its own line. Default is 0.
</p>
</dd>


<dt><tt class="literal">-spacing2 =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-1008" />Sets the
amount of additional space left on top of a line of text after it has
been wrapped around automatically by the Text widget. Default is 0.
</p>
</dd>


<dt><tt class="literal">-spacing3 =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-1009" />Sets the
amount of additional space left after a line of text has been ended
by a <tt class="literal">"\n"</tt>. Default is 0.
</p>
</dd>


<dt><tt class="literal">-state =&gt; '</tt><tt class="userinput"><b>normal</b></tt><tt class="literal">' | 'disabled'</tt></dt>
<dd>
<a name="INDEX-1010" />Indicates the state of the Text widget. If
set to <tt class="literal">'disabled'</tt>, no text can be inserted by
either the user or the application (via the <tt class="literal">insert</tt>
method).
</p>
</dd>


<dt><tt class="literal">-tabs =&gt;</tt> <tt><em class="replaceable">list</em></tt></dt>
<dd>
Specifies a list of tab stops to use in the Text widget. Default is
every eight characters.
</p>
</dd>


<dt><tt class="literal">-takefocus =&gt; 0 | 1 |</tt> <tt class="userinput"><b>undef</b></tt></dt>
<dd>
Determines if widget can obtain keyboard focus.</p>
</dd>


<dt><tt class="literal">-width =&gt;</tt> <tt><em class="replaceable">amount</em></tt></dt>
<dd>
<a name="INDEX-1011" />Sets the width of the Text widget in
characters. Default is 80.
</p>
</dd>


<dt><tt class="literal">-wrap =&gt; 'none' | '</tt><tt class="userinput"><b>char</b></tt><tt class="literal">' | 'word'</tt></dt>
<dd>
<a name="INDEX-1012" />Sets the mode
used to determine automatic line wrapping.
</p>
</dd>


<dt><tt class="literal">-xscrollcommand =&gt;</tt> <tt><em class="replaceable">callback</em></tt></dt>
<dd>
<a name="INDEX-1013" /><a name="INDEX-1014" /><a name="INDEX-1015" />Determines the callback used when the Text
widget is scrolled horizontally.
</p>
</dd>


<dt><tt class="literal">-yscrollcommand =&gt;</tt> <tt><em class="replaceable">callback</em></tt></dt>
<dd>
<a name="INDEX-1016" />Determines the callback used when
the Text widget is scrolled vertically.
</p>
</dd>

</dl>

<a name="mastperltk-CHP-8-SECT-2.1" /><div class="sect2">
<h3 class="sect2">8.2.1. Fonts</h3>

<p><a name="INDEX-1017" /><a name="INDEX-1018" />You
can use the <tt class="literal">-font</tt> option to change the font,
including how large or small the text is (see <a href="ch08_02.htm">Figure 8-1</a>). This defines the default font for the entire
Text widget. Text that is inserted without a text tag (which allows
you to specify formatting that applies only to certain portions of
the text) will use this font.
</p>

<a name="mastperltk-CHP-8-FIG-1" /><div class="figure"><img src="figs/mptk.0801.gif" alt="Figure 8-1" /></div><h4 class="objtitle">Figure 8-1. Text widget using -font =&gt; "r16"</h4>

<p>The use of fonts was covered in <a href="ch03_01.htm">Chapter 3, "Fonts"</a>, where
we first discussed the <tt class="literal">-font</tt> option.
</p>

</div>
<a name="mastperltk-CHP-8-SECT-2.2" /><div class="sect2">
<h3 class="sect2">8.2.2. Widget Size</h3>

<p><a name="INDEX-1019" /><a name="INDEX-1020" /><a name="INDEX-1021" /><a name="INDEX-1022" /><a name="INDEX-1023" /><a name="INDEX-1024" /><a name="INDEX-1025" />When you first create a Text widget, it
will usually have a height of 24 lines and a width of 80 characters.
Depending on how you put the Text widget in its parent window
(whether you use <tt class="literal">pack</tt> with the
<tt class="literal">-expand</tt> and <tt class="literal">-fill</tt> options or
<tt class="literal">grid</tt> with <tt class="literal">-sticky</tt>
<tt class="literal">=&gt;</tt> <tt class="literal">"nsew"</tt>), it can change
size when the window changes size. To force the Text widget to a
certain size, you can use the <tt class="literal">-width</tt> and
<tt class="literal">-height</tt> options:
</p>

<blockquote><pre class="code"># Text widget 20 characters wide and 10 lines tall
$mw-&gt;Text(-width =&gt; 20, -height =&gt; 10)-&gt;pack;</pre></blockquote>

<p>While both options take numbers, they have different units associated
with them. The value associated with <tt class="literal">-width</tt> is in
characters<a href="#FOOTNOTE-17">[17]</a> and the value associated with <tt class="literal">-height</tt>
is lines of text. It's possible that the Text widget will not
be that exact width and height if you force the main window to be
larger via the <tt class="literal">minsize</tt> routine (i.e.,
<tt class="literal">$mw-&gt;minsize(400,400)</tt>), especially if you used
<tt class="literal">-expand</tt> <tt class="literal">=&gt;</tt>
<tt class="literal">1</tt> and <tt class="literal">-fill</tt>
<tt class="literal">=&gt;</tt> <tt class="literal">'both'</tt> with the
<tt class="literal">pack</tt> command. So if you don't see what you
expect on the screen the first time out, keep this in mind.
</p><blockquote class="footnote"> <a name="FOOTNOTE-17" /><p>[17]For a proportional font, the width is
based on the width of the character "0". </p>
</blockquote>

</div>
<a name="mastperltk-CHP-8-SECT-2.3" /><div class="sect2">
<h3 class="sect2">8.2.3. Widget Style</h3>

<p>As with other widgets, you can change how the edges of the Text
widget are drawn using the <tt class="literal">-relief</tt> and
<tt class="literal">-borderwidth</tt> options. The examples shown in <a href="ch08_02.htm">Figure 8-2</a> might not look much like Text widgets, but
trust me, they are (they would look much more like Text widgets if
there were scrollbars associated with each widget, but we were trying
to save space in the screenshot)! <a href="ch08_02.htm">Figure 8-2</a> also
shows <tt class="literal">-width</tt> and <tt class="literal">-height</tt>
options to force smaller size.
</p>

<a name="mastperltk-CHP-8-FIG-2" /><div class="figure"><img src="figs/mptk.0802.gif" alt="Figure 8-2" /></div><h4 class="objtitle">Figure 8-2. Text widgets showing different -relief values</h4>

</div>
<a name="mastperltk-CHP-8-SECT-2.4" /><div class="sect2">
<h3 class="sect2">8.2.4. Line Spacing</h3>

<p><a name="INDEX-1026" /><a name="INDEX-1027" /><a name="INDEX-1028" /><a name="INDEX-1029" />Long lines of text can wrap around
automatically if the line becomes longer than the width the Text
widget can display. The amount of room left between different types
of lines is defined by using the
<tt class="literal">-spacing</tt><em class="emphasis">N</em> options. <a href="ch08_02.htm">Figure 8-3</a> shows the different areas that
<tt class="literal">-spacing1</tt>, <tt class="literal">-spacing2</tt>, and
<tt class="literal">-spacing3</tt> affect.
</p>

<a name="mastperltk-CHP-8-FIG-3" /><div class="figure"><img src="figs/mptk.0803.gif" alt="Figure 8-3" /></div><h4 class="objtitle">Figure 8-3. Example of -spacingN options</h4>

<p>The <tt class="literal">-spacing1</tt> option affects how much room is
above a new line of text (the first line in a paragraph). The
<tt class="literal">-spacing2</tt> option affects the space between lines
when text that is wrapped automatically is too long to fit on one
line. The <tt class="literal">-spacing3</tt> option determines how much
room is left after a paragraph is finished (right after an explicit
newline).
</p>

</div>
<a name="mastperltk-CHP-8-SECT-2.5" /><div class="sect2">
<h3 class="sect2">8.2.5. Tab Stops</h3>

<p>The default setup for Text widget tab stops is every eight
characters. Each tab equals eight spaces (but it doesn't
actually use spaces). You can replace this default setting by using
the <tt class="literal">-tabs</tt> option as follows:
</p>

<blockquote><pre class="code">-tabs =&gt; [qw/2 center/]   # Place tabs every 2 pixels
-tabs =&gt; [2, "center"]    # The same thing, different syntax</pre></blockquote>

<p>The argument that goes with <tt class="literal">-tabs</tt> is an anonymous
list that specifies positions in which to place each of the tab
stops. You can also specify an optional justification value for each
tab stop (as in the preceding example) after each tab stop's
numerical value. This all sounds much more confusing than it really
is. Here are some examples to help clarify things:
</p>

<blockquote><pre class="code">-tabs =&gt; [qw/1i center/]   # every inch, text centered on tab-stop
-tabs =&gt; [qw/1i 1.5i/]     # ts at 1 inch, 1.5 inch and every .5 inch after</pre></blockquote>

<p><a name="INDEX-1030" />The default justification is
<tt class="literal">"left"</tt>. The possible justification values are
<tt class="literal">"left"</tt>, <tt class="literal">"right"</tt>,
<tt class="literal">"center"</tt>, and <tt class="literal">"numeric"</tt>.
</p>

<p>When you specify the values (whether in centimeters, inches, or
pixels), they are not cumulative. The list <tt class="literal">["1i",</tt>
<tt class="literal">"1.5i"]</tt> translates to one tab stop 1 inch from the
left edge of the Text widget and the next tab stop 1.5 inches from
the left edge. If the specified list isn't long enough to span
the entire window, the distance between the last two tab stops
specified will be repeated across the screen.
</p>

<p>Of course, setting up new tab stops is pretty useless unless
you're doing major text editing; in most cases, you'll
leave this option alone.
</p>

<p>You can reset the tab stops back to the default by setting
<tt class="literal">-tabs</tt> to <tt class="literal">undef</tt>:
</p>

<blockquote><pre class="code">$text-&gt;configure(-tabs =&gt; undef);</pre></blockquote>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch08_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch08_03.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">8. The Text, TextUndo, and ROText Widgets</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">8.3. A Short Break for a Simple Example</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,85,94" href="../index.htm"><area shape="rect" coords="86,1,178,103" href="../lwp/index.htm"><area shape="rect" coords="180,0,265,103" href="../lperl/index.htm"><area shape="rect" coords="267,0,353,105" href="../perlnut/index.htm"><area shape="rect" coords="354,1,446,115" href="../prog/index.htm"><area shape="rect" coords="448,0,526,132" href="index.htm"><area shape="rect" coords="528,1,615,119" href="../cookbook/index.htm"><area shape="rect" coords="617,0,690,135" href="../pxml/index.htm"></map>

</body></html>
