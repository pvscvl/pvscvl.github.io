<html><head><title>Displaying an Image or Bitmap  (Mastering Perl/Tk)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Steve Lidie and Nancy Walsh" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565927168L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Mastering Perl/Tk" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Mastering Perl/Tk" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch04_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch04_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">4.5. Displaying an Image or Bitmap </h2>

<p><a name="INDEX-514" /><a name="INDEX-515" /><a name="INDEX-516" />The
simplest way to replace the text on your Button with an image is to
use a bitmap.<a href="#FOOTNOTE-11">[11]</a> The image will take the
place of the text; you can't display both at the same time. The
<tt class="literal">-bitmap</tt> option takes a string that specifies which
bitmap to use:
</p><blockquote class="footnote"> <a name="FOOTNOTE-11" /><p> [11] In deference to our Win32 readers, a Tk
bitmap file refers to an X11 XBM file, not a Win32 BMP formatted
file. For complete details, please refer to <a href="ch17_01.htm">Chapter 17, "Images and Animations"</a>. </p> </blockquote>

<blockquote><pre class="code">-bitmap =&gt; '<em class="replaceable"><tt>bitmapname</tt></em>'</pre></blockquote>

<p>There are several built-in bitmaps: <tt class="literal">error</tt>,
<tt class="literal">gray12</tt>, <tt class="literal">gray25</tt>,
<tt class="literal">gray50</tt>, <tt class="literal">gray75</tt>,
<tt class="literal">hourglass</tt>, <tt class="literal">info</tt>,
<tt class="literal">questhead</tt>, <tt class="literal">question</tt>,
<tt class="literal">warning</tt>, <tt class="literal">Tk</tt>, and
<tt class="literal">transparent</tt>. <a href="ch04_05.htm">Figure 4-7</a> shows
all the built-in bitmaps. To more easily show you the bitmaps, <a href="ch04_05.htm">Figure 4-7</a> was grabbed from the
<em class="emphasis">widget</em> demonstration program.
</p>

<p><a name="INDEX-517" />Using <tt class="literal">-bitmap</tt> for a
Label is exactly the same as for a Button. You'll notice that
the <tt class="literal">Tk</tt> bitmap is the same as that used in the
upper-left corner of the application. Here are some examples using
<tt class="literal">-bitmap</tt> when creating a Button:
</p>

<blockquote><pre class="code">$mw-&gt;Button(-bitmap =&gt; 'error', -command =&gt; \&amp;handle_error)-&gt;pack;</pre></blockquote>

<p><a name="INDEX-518" /><a name="INDEX-519" /><a name="INDEX-520" />To specify a bitmap from a
file, you need to put an <tt class="literal">@</tt> in front of the path:
</p>

<blockquote><pre class="code">$mw-&gt;Button(-bitmap =&gt; '@/usr/nwalsh/mybitmap', 
             -command =&gt; sub { exit })-&gt;pack;</pre></blockquote>

<p><a name="INDEX-521" /><a name="INDEX-522" />Note that if you use
double quotes, you have to escape the <tt class="literal">@</tt> with a
backslash (e.g., <tt class="literal">"\@/usr/nwalsh/mybitmap"</tt>).
</p>

<a name="mastperltk-CHP-4-FIG-7" /><div class="figure"><img src="figs/mptk.0407.gif" alt="Figure 4-7" width="481" height="68" /></div><h4 class="objtitle">Figure 4-7. Window showing all the default bitmaps</h4>

<p><a name="INDEX-523" /><a name="INDEX-524" /><a name="INDEX-525" /><a name="INDEX-526" />If you don't want to use a bitmap,
or have a different format of file (such as a GIF), you can use the
<tt class="literal">-image</tt> option. First create an image pointer and
then use the <tt class="literal">-image</tt> option to display the image.
To create an image pointer, use the <tt class="literal">Photo</tt> method
to point to the image file, supplying the full pathname if the file
is not in the current directory. Then pass the image pointer as a
value to the <tt class="literal">-image</tt> option:
</p>

<blockquote><pre class="code">$image = $mw-&gt;Photo(-file =&gt; "bigredbutton.gif");
$mw-&gt;Button(-text =&gt; 'Exit', -command =&gt; sub { exit },
            -image =&gt; $image)-&gt;pack;</pre></blockquote>

<p><a name="INDEX-527" /><a name="INDEX-528" /><a name="INDEX-529" />When using an image, only the image will
be displayed, because Buttons can display either a text string or an
image, not both. (In other words, <tt class="literal">-image</tt> will
always override <tt class="literal">-text</tt>.) To display a bitmap using
<tt class="literal">-image</tt>, use the <tt class="literal">Bitmap</tt> method
to create an image pointer.
</p>

<p>Images are covered in extensive detail in <a href="ch17_01.htm">Chapter 17, "Images and Animations"</a>. <a href="ch04_05.htm">Figure 4-8</a> shows an example
of a Button with a GIF file on it.
</p>

<a name="mastperltk-CHP-4-FIG-8" /><div class="figure"><img src="figs/mptk.0408.gif" alt="Figure 4-8" width="68" height="84" /></div><h4 class="objtitle">Figure 4-8. Button with an image instead of text</h4>

<a name="mastperltk-CHP-4-SECT-5.1" /><div class="sect2">
<h3 class="sect2">4.5.1. Images with Checkbuttons and Radiobuttons</h3>

<p><a name="INDEX-530" /><a name="INDEX-531" /><a name="INDEX-532" /><a name="INDEX-533" /><a name="INDEX-534" /><a name="INDEX-535" />You can also use the
<tt class="literal">-bitmap</tt> option with Checkbuttons and Radiobuttons.
The bitmap will replace the text just as it does with a Button, and
the indicator will remain showing. To display a different type of
image (such as GIF), use the <tt class="literal">-image</tt> option. To
display a different image when the Checkbutton or Radiobutton is
selected, use the <tt class="literal">-image</tt> and
<tt class="literal">-selectimage</tt> options. Both
<tt class="literal">-image</tt> and <tt class="literal">-selectimage</tt> take an
image pointer created with the <tt class="literal">Photo</tt> method.
</p>

<blockquote><pre class="code"># Create Photo objects with gif files
$folder = $mw-&gt;Photo(-file =&gt; "folder.gif");
$openfolder = $mw-&gt;Photo(-file =&gt; 'openfolder.gif');

$leftframe-&gt;Checkbutton(-image =&gt; $folder, 
	-selectimage =&gt; $openfolder)-&gt;pack(-expand =&gt; 1);
$leftframe-&gt;Checkbutton(-image =&gt; $folder, 
	-selectimage =&gt; $openfolder)-&gt;pack(-expand =&gt; 1);

# Create Bitmap objects with bitmap files
$bmpopen = $mw-&gt;Bitmap(-file =&gt; 'openfolder.xbm');
$bmpfolder = $mw-&gt;Bitmap(-file =&gt; 'folder.xbm');
$rightframe-&gt;Radiobutton(-image =&gt; $bmpfolder, 
	-selectimage =&gt; $bmpopen, -variable =&gt; \$vvv, 
	-value =&gt; 1)-&gt;pack(-expand =&gt; 1);
$rightframe-&gt;Radiobutton(-image =&gt; $bmpfolder,  
	-selectimage =&gt; $bmpopen, -variable =&gt; \$vvv, 
	-value =&gt; 2)-&gt;pack(-expand =&gt; 1);</pre></blockquote>

<p><a href="ch04_05.htm">Figure 4-9</a> shows the resulting window.</p>

<a name="mastperltk-CHP-4-FIG-9" /><div class="figure"><img src="figs/mptk.0409.gif" alt="Figure 4-9" width="113" height="57" /></div><h4 class="objtitle">Figure 4-9. Using both -image and -selectimage</h4>

<p><a name="INDEX-536" /><a name="INDEX-537" /><a name="INDEX-538" />You'll notice in this example
that in addition to the image changing when you click on the
Checkbutton, there's also a selection indicator. If this seems
redundant, that's because it is: the selection indicator is
unnecessary when using <tt class="literal">-selectimage</tt>, and
you're better off using <tt class="literal">-indicatoron</tt>
<tt class="literal">=&gt;</tt> <tt class="literal">0</tt> to disable the
indicator. <a href="ch04_05.htm">Figure 4-10</a> shows the resulting images.
</p>

<a name="mastperltk-CHP-4-FIG-10" /><div class="figure"><img src="figs/mptk.0410.gif" alt="Figure 4-10" width="113" height="59" /></div><h4 class="objtitle">Figure 4-10. Using Checkbuttons and Radiobuttons with -indicatoron =&gt; 0</h4>

<p>Both Checkbuttons and Radiobuttons look much like Button widgets with
the indicators turned off, but their behavior is very different. In
<a href="ch04_05.htm">Figure 4-10</a>, the very top two widgets are selected
(just as in <a href="ch04_05.htm">Figure 4-9</a>). When selected, a
Checkbutton will stay down (a relief of <tt class="literal">'sunken'</tt>)
and when unselected it will be up (relief of
<tt class="literal">'raised'</tt>). The same is true of a Radiobutton with
no indicator, but selecting a Radiobutton will cause all other
Radiobuttons in that group to be deselected. Using
<tt class="literal">-relief</tt> with <tt class="literal">-indicator</tt>
<tt class="literal">=&gt;</tt> <tt class="literal">0</tt> is pointless; it
won't change the relief of the Button.<a name="INDEX-539" /><a name="INDEX-540" /><a name="INDEX-541" />
</p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch04_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch04_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">4.4. Displaying Text on Buttons</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">4.6. Checkbutton and Radiobutton Indicator Status</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area shape="rect" coords="1,0,85,94" href="../index.htm"><area shape="rect" coords="86,1,178,103" href="../lwp/index.htm"><area shape="rect" coords="180,0,265,103" href="../lperl/index.htm"><area shape="rect" coords="267,0,353,105" href="../perlnut/index.htm"><area shape="rect" coords="354,1,446,115" href="../prog/index.htm"><area shape="rect" coords="448,0,526,132" href="index.htm"><area shape="rect" coords="528,1,615,119" href="../cookbook/index.htm"><area shape="rect" coords="617,0,690,135" href="../pxml/index.htm"></map>

</body></html>