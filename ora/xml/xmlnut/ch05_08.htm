<html><head><title>Converting Between Character Sets (XML in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Elliotte Rusty Harold and W. Scott Means" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00292-0" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="XML in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="XML in a Nutshell" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_07.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch05_09.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">5.8. Converting Between Character Sets</h2>

<p>The <a name="IXT-5-238939" />ultimate solution to this character
set morass is to use Unicode in either UTF-16 or UTF-8 format for all
your XML documents. An increasing number of tools support one of
these two formats natively; even the unassuming Notepad offers an
option to save files in Unicode in Windows NT 4.0 and 2000. Microsoft
Word 97 and later saves the text of its documents in Unicode, though
unlike XML documents, Word files are hardly pure text. Much of the
binary data in a Word file is not Unicode or any other kind of text.
However, Word 2000 can actually save plain text files into Unicode
and is the authors' Unicode editor of choice these
days when we need to type a document in several different, complex
scripts. To save Word 2000 as plain Unicode text, select the format
Encoded Text from the Save As Type: Choice menu in
Word's Save As dialog box. Then select one of the
four Unicode formats in the resulting File Conversion dialog box.
</p>

<p>Nonetheless, most of our current tools are still adapted primarily
for vendor-specific character sets that can't handle
more than a few languages at one time. Thus, learning how to convert
your documents from proprietary to more standard character sets is
crucial.
</p>

<p>Some of the better XML and HTML editors let you choose the character
set you wish to save in and perform automatic conversions from the
native character set you use for editing. On Unix, the native
character set is likely one of the standard ISO character sets, and
you can save into that format directly. On the Mac, you can avoid
problems if you stick to pure ASCII documents. On Windows, you can go
a little further and use Latin-1, if you're careful
to stay away from the extra characters that aren't
part of the official ISO-8859-1 specification. Otherwise,
you'll have to convert your document from its
native, platform-dependent encoding to one of the standard
platform-independent character sets.
</p>

<p><a name="IXT-5-238940" />Fran&#xE7;ois Pinard has
written an open source character-set conversion tool called
<em class="filename">recode</em><a name="IXT-5-238941" /> for Linux and Unix, which you can
download from <a href="../../../../../../www.iro.umontreal.ca/contrib/recode/">http://www.iro.umontreal.ca/contrib/recode/</a>,
as well as the usual GNU mirror sites. <a name="IXT-5-238942" />Wojciech Galazka has ported recode to
DOS. See <a href="ftp://ftp.simtel.net/pub/simtelnet/gnu/djgpp/v2gnu/rcode34b.zip">ftp://ftp.simtel.net/pub/simtelnet/gnu/djgpp/v2gnu/rcode34b.zip</a>.
You can also use the <a name="IXT-5-238943" />Java Development
Kit's
<em class="filename">native2ascii</em><a name="IXT-5-238944" /> tool at <a href="../../../../../../java.sun.com/products/jdk/1.3/docs/tooldocs/win32/native2ascii.html">http://java.sun.com/products/jdk/1.3/docs/tooldocs/win32/native2ascii.html</a>. First
convert the file from its native encoding to Java's
special ASCII-encoded Unicode format, then use the same tool in
reverse to convert from the Java format to the encoding you actually
want. For example, to convert the file
<em class="filename">myfile.xml</em> from the Windows Cp1252 encoding to
UTF-8, execute these two commands in sequence:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>native2ascii -encoding Cp1252 myfile.xml myfile.jtx</b></tt>
% <tt class="userinput"><b>native2ascii -reverse -encoding UTF-8 myfile.jtx myfile.xml</b></tt></pre></blockquote>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_07.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch05_09.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">5.7. Platform-Dependent Character Sets</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">5.9. The Default Character Set for XML Documents</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="0,0,85,93" href="../index.htm"><area shape="rect" coords="85,0,180,98" href="../sax2/index.htm"><area shape="rect" coords="182,-1,261,100" href="index.htm"><area shape="rect" coords="263,1,384,96" href="../jxml/index.htm"><area shape="rect" coords="386,1,463,100" href="../jxslt/index.htm"><area shape="rect" coords="466,1,533,112" href="../xslt/index.htm"><area shape="rect" coords="535,-1,610,108" href="../schema/index.htm"><area shape="rect" coords="613,1,696,121" href="../pxml/index.htm">
</map>

</body></html>