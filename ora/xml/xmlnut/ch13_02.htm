<html><head><title>The Structure of an XSL-FO Document (XML in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Elliotte Rusty Harold and W. Scott Means" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00292-0" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="XML in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="XML in a Nutshell" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch13_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch13_03.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">13.2. The Structure of an XSL-FO Document</h2>

<p><a name="IXT-13-239872" /> <a name="IXT-13-239873" />The <a name="IXT-13-239874" />root element of all XSL-FO documents is
<tt class="literal">fo:root</tt>. This element normally declares the
<tt class="literal">fo</tt> prefix, which must be mapped to the
<tt class="literal">http://www.w3.org/1999/XSL/Format</tt> namespace URI.
As always, the prefix can change as long as the URI stays the same.
In this chapter, we assume that the prefix <tt class="literal">fo</tt> has
been associated with
<tt class="literal">http://www.w3.org/1999/XSL/Format</tt>. Thus a typical
FO document looks like this:
</p>

<blockquote><pre class="code">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format"&gt;
  &lt;!-- Formatting object elements --&gt;
&lt;/fo:root&gt;</pre></blockquote>

<p>Of course this normally isn't written directly as
here. Instead, it's formed by an XSLT template like
this one:
</p>

<blockquote><pre class="code">&lt;xsl:template match="/"&gt;
  &lt;fo:root&gt;
    &lt;xsl:apply-templates/&gt;
  &lt;/fo:root&gt;
&lt;/xsl:template&gt;</pre></blockquote>

<p>The <tt class="literal">fo:root</tt> element must contain two things, a
<tt class="literal">fo:layout-master-set</tt><a name="IXT-13-239875" /> <a name="IXT-13-239876" /> and a
<tt class="literal">fo:page-sequence</tt><a name="IXT-13-239877" /> <a name="IXT-13-239878" />. The
<tt class="literal">fo:layout-master-set</tt> contains elements describing
the overall layout of the pages themselves, that is, how large the
pages are, whether they're in landscape or portrait
mode, how wide the margins are, and so forth. The
<tt class="literal">fo:page-sequence</tt> contains the actual text that
will be placed on the pages, along with the instructions for
formatting that text as italic, 20 points high, justified, and so
forth. It has a <tt class="literal">master-reference</tt> attribute
identifying the particular master page that will be used to layout
this content. Adding these elements, a formatting objects document
looks like this:
</p>

<blockquote><pre class="code">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format"&gt;
  &lt;fo:layout-master-set&gt;
    &lt;!-- page masters --&gt;
  &lt;/fo:layout-master-set&gt;
  &lt;fo:page-sequence master-reference="first"&gt;
    &lt;!-- data to place on the page --&gt;
  &lt;/fo:page-sequence&gt;
&lt;/fo:root&gt;</pre></blockquote>

<p>The formatting engine uses the layout master set to create a page.
Then it adds content to the page from the
<tt class="literal">fo:page-sequence</tt> until the page is full. Then it
creates the next page in the sequence and places the next batch of
content on that page. This process continues until all the content
has been positioned.
</p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch13_01.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch13_03.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">13. XSL Formatting Objects </td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">13.3. Laying Out the Master Pages</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="0,0,85,93" href="../index.htm"><area shape="rect" coords="85,0,180,98" href="../sax2/index.htm"><area shape="rect" coords="182,-1,261,100" href="index.htm"><area shape="rect" coords="263,1,384,96" href="../jxml/index.htm"><area shape="rect" coords="386,1,463,100" href="../jxslt/index.htm"><area shape="rect" coords="466,1,533,112" href="../xslt/index.htm"><area shape="rect" coords="535,-1,610,108" href="../schema/index.htm"><area shape="rect" coords="613,1,696,121" href="../pxml/index.htm">
</map>

</body></html>