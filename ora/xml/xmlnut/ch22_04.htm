<html><head><title>Predicates (XML in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Elliotte Rusty Harold and W. Scott Means" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00292-0" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="XML in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="XML in a Nutshell" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch22_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch22_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">22.4. Predicates</h2>

<p>Each <a name="IXT-22-240517" />
<a name="IXT-22-240518" />location
<a name="IXT-22-240519" />step may have zero or
more predicates. A <em class="emphasis">predicate</em> is an XPath
expression enclosed in square brackets that follows the node test in
the location step. This expression most commonly, but not
necessarily, returns a Boolean value. In the following location path:
</p>

<blockquote><pre class="code">/person[position()=1]/profession[.="physicist"][position( )&lt;3]</pre></blockquote>

<p><tt class="literal">[position( )=1]</tt>,
<tt class="literal">[.="physicist"]</tt>, and <tt class="literal">[position(
)&lt;3]</tt> are predicates. An XPath processor works from left
to right in an expression. After it has evaluated everything that
precedes the predicate, it's left with a context
node list that may contain no nodes, one node, or more than one node.
For most axes, including child, following-sibling, following, and
descendant, this list is in document order. For the ancestor,
preceding, and preceding-sibling axes, this list is in reverse
document order.
</p>

<p>The predicate is evaluated against each node in the context node
list. If the expression returns true, then that node is retained in
the list. If the expression returns false, then the node is removed
from the list. If the expression returns a number, then the node
being evaluated is left in the list if and only if the number is the
same as the position of that node in the context node list. If the
expression returns a non-Boolean, non-number type, then that return
value is converted to a Boolean using the <tt class="literal">boolean(
)</tt> function, described later, to determine whether it
retains the node in the set.
</p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch22_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch22_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">22.3. Location Paths</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">22.5. XPath Functions</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="0,0,85,93" href="../index.htm"><area shape="rect" coords="85,0,180,98" href="../sax2/index.htm"><area shape="rect" coords="182,-1,261,100" href="index.htm"><area shape="rect" coords="263,1,384,96" href="../jxml/index.htm"><area shape="rect" coords="386,1,463,100" href="../jxslt/index.htm"><area shape="rect" coords="466,1,533,112" href="../xslt/index.htm"><area shape="rect" coords="535,-1,610,108" href="../schema/index.htm"><area shape="rect" coords="613,1,696,121" href="../pxml/index.htm">
</map>

</body></html>