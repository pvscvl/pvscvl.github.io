<html><head><title>Text Declarations (XML in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Elliotte Rusty Harold and W. Scott Means" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00292-0" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="XML in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="XML in a Nutshell" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch05_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">5.3. Text Declarations</h2>

<p>XML <a name="IXT-5-238858" />documents may
<a name="IXT-5-238859" /> <a name="IXT-5-238860" /> <a name="IXT-5-238861" />
<a name="IXT-5-238862" />be composed of multiple parsed entities, as
you learned in <a href="ch03_01.htm">Chapter 3</a>. These external parsed
entities may be DTD fragments or chunks of XML that will be inserted
into the master document using external general entity references. In
either case, the external parsed entity does not necessarily use the
same character set as the master document. Indeed, one external
parsed entity may be referenced in several different files, each of
which is written in a different character set. Therefore, it is
important to specify the character set for an external parsed entity
independently of the character set that the including document uses.
</p>

<p>To accomplish this task, each external parsed entity should have a
<em class="emphasis">text declaration</em>. If present, the text
declaration must be the very first thing in the external parsed
entity. For example, this text declaration says that the associated
entity is encoded in the KOI8-R character set:
</p>

<blockquote><pre class="code">&lt;?xml version="1.0" encoding="KOI8-R"?&gt;</pre></blockquote>

<p>The text declaration looks like an XML declaration. It has version
info and an encoding declaration. However, a text declaration may not
have a standalone declaration. Furthermore, the version info may be
omitted. A legal text declaration that specifies the encoding as
KOI8-R might look like this:
</p>

<blockquote><pre class="code">&lt;?xml encoding="KOI8-R"?&gt;</pre></blockquote>

<p>However, it is not a legal XML declaration.</p>

<p><a href="ch05_03.htm">Example 5-1</a> shows an external parsed entity
containing several verses from Pushkin's
<em class="emphasis">The Bronze Horseman</em> in a Cyrillic script. The
text declaration identifies the encoding as KOI8-R. <a href="ch05_03.htm">Example 5-1</a> is not itself a well-formed XML document
because it has no root element. It exists only for inclusion in other
documents.
</p>

<a name="xmlnut2-CHP-5-EX-1" /><div class="example">
<h4 class="objtitle">Example 5-1. An external parsed entity with a text declaration identifying the character set as KOI8-R </h4>
<blockquote><pre class="code"><img src="figs/XIAN2_ex0501.gif" alt="Figure " /></pre></blockquote>
</div>

<p>External <a name="IXT-5-238863" />DTD subsets reside in external parsed
entities and, thus, may have text declarations. Indeed, they should
have text declarations if they're written in a
character set other than one of the Unicode's
variants. <a href="ch05_03.htm">Example 5-2</a> shows a DTD fragment written
in KOI8-R that might be used to validate <a href="ch05_03.htm">Example 5-1</a>
after it is included as part of a larger document.
</p>

<a name="xmlnut2-CHP-5-EX-2" /><div class="example">
<h4 class="objtitle">Example 5-2. A DTD with a text declaration identifying the character set as KOI8-R </h4>
<blockquote><pre class="code">
<img src="figs/p75.gif" alt="Figure " />
</pre></blockquote>
</div>





<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch05_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">5.2. The Encoding Declaration</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">5.4. XML-Defined Character Sets</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="0,0,85,93" href="../index.htm"><area shape="rect" coords="85,0,180,98" href="../sax2/index.htm"><area shape="rect" coords="182,-1,261,100" href="index.htm"><area shape="rect" coords="263,1,384,96" href="../jxml/index.htm"><area shape="rect" coords="386,1,463,100" href="../jxslt/index.htm"><area shape="rect" coords="466,1,533,112" href="../xslt/index.htm"><area shape="rect" coords="535,-1,610,108" href="../schema/index.htm"><area shape="rect" coords="613,1,696,121" href="../pxml/index.htm">
</map>

</body></html>