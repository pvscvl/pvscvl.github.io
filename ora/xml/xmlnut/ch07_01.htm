<html><head><title>XML on the Web (XML in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Elliotte Rusty Harold and W. Scott Means" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0-596-00292-0" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="XML in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="XML in a Nutshell" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch06_06.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch07_02.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>


<h1 class="chapter">Chapter 7. XML on the Web</h1>
<div class="htmltoc"><h4 class="tochead">Contents:</h4><p>
<a href="ch07_01.htm">XHTML</a><br />
<a href="ch07_02.htm">Direct Display of XML in Browsers</a><br />
<a href="ch07_03.htm">Authoring Compound Documents with Modular XHTML</a><br />
<a href="ch07_04.htm">Prospects for Improved Web-Search Methods</a><br /></p></div><p>XML began as an effort to bring the full power and structure of SGML
to the Web in a form that was simple enough for nonexperts to use.
Like most great inventions, XML turned out to have uses far beyond
what its creators originally envisioned. Indeed,
there's a lot more XML off the Web than on it.
Nonetheless, XML is still a very attractive language in which to
write and serve web pages. Since XML documents must be well-formed
and parsers must reject malformed documents, XML pages are less
likely to have annoying cross-browser incompatibilities. Since XML
documents are highly structured, they're much easier
for robots to parse. Since XML tag and attribute names reflect the
nature of the content they hold, search-engine spiders can more
easily determine the true meaning of a page.
</p><p>XML on the Web comes in three flavors. The first is <a name="xmlnut2-IDXTERM-577" />XHTML, an
XMLized variant of HTML 4.0 that tightens up HTML to match
XML's syntax. For instance, XHTML requires that all
start-tags correspond to a matching end-tag and that all attribute
values be quoted. XHTML also adds a few bits of syntax to HTML, such
as the XML declaration and empty-element tags that end with
<tt class="literal">/&gt;</tt>. Most of XHTML can be displayed quite well
in legacy browsers, with a few notable exceptions.
</p><p>The second flavor of XML on the Web is direct display of XML
documents that use arbitrary vocabularies in web browsers. Generally,
the formatting of the document is supplied either by a CSS stylesheet
or by an XSLT stylesheet that transforms the document into HTML
(perhaps XHTML). This flavor requires an XML-aware browser and is
only beginning to be supported by the installed base of web clients.
</p><p>A third option is to mix raw XML vocabularies such as MathML and SVG
with <a name="IXT-7-239231" />XHTML using
Modular XHTML. Modular XHTML lets you embed RDF cataloging
information, MathML equations, SVG pictures, and more inside your
XHTML documents. Namespaces sort out which elements belong to which
applications.
</p><div class="sect1"><a name="xmlnut2-CHP-7-SECT-1" />
<h2 class="sect1">7.1. XHTML</h2>

<p>XHTML <a name="IXT-7-239232" />
<a name="IXT-7-239233" />is an official W3C recommendation. It
defines an XML-compatible version of HTML, or rather it redefines
HTML as an XML application instead of as an SGML application. Just
looking at an XHTML document, you might not even realize that
there's anything different about it. It still uses
the same <tt class="literal">&lt;p&gt;</tt>, <tt class="literal">&lt;li&gt;</tt>,
<tt class="literal">&lt;table&gt;</tt>, <tt class="literal">&lt;h1&gt;</tt>, and
other tags with which you're familiar. Elements and
attributes have the same, familiar names they have in HTML. The
syntax is still basically the same.
</p>

<p>The difference is not so much what's allowed but
what's not allowed. <tt class="literal">&lt;p&gt;</tt> is
a legal XHTML tag, but <tt class="literal">&lt;P&gt;</tt> is not.
<tt class="literal">&lt;table</tt> <tt class="literal">border="0"</tt>
<tt class="literal">width="515"&gt;</tt> is legal XHTML;
<tt class="literal">&lt;table</tt> <tt class="literal">border=0</tt>
<tt class="literal">width=515&gt;</tt> is not. A paragraph prefixed with a
<tt class="literal">&lt;p&gt;</tt> and suffixed with a
<tt class="literal">&lt;/p&gt;</tt> is legal XHTML, but a paragraph that
omits the closing <tt class="literal">&lt;/p&gt;</tt> tag is not. Most
existing HTML documents require substantial editing before they
become well-formed and valid XHTML documents. However, once they are
valid XHTML documents, they are automatically valid XML documents
that can be manipulated with the same editors, parsers, and other
tools you use to work with any XML document.
</p>

<a name="xmlnut2-CHP-7-SECT-1.1" /><div class="sect2">
<h3 class="sect2">7.1.1. Moving from HTML to XHTML</h3>

<p>Most <a name="xmlnut2-IDXTERM-581" /> <a name="xmlnut2-IDXTERM-582" />of the changes
<a name="IXT-7-239234" />required to turn an existing HTML
document into an XHTML document involve making the document
well-formed. For instance, given a legacy HTML document,
you'll probably have to make at least some of these
changes to turn it into XHTML:
</p>

<ul><li>
<p>Add missing end-tags like <tt class="literal">&lt;/p&gt;</tt> and
<tt class="literal">&lt;/li&gt;</tt>.
</p>
</li><li>
<p>Rewrite elements so that they nest rather than overlap. For example,
change <tt class="literal">&lt;p&gt;&lt;em&gt;an</tt>
<tt class="literal">emphasized</tt>
<tt class="literal">paragraph&lt;/p&gt;&lt;/em&gt;</tt> to
<tt class="literal">&lt;p&gt;&lt;em&gt;an</tt>
<tt class="literal">emphasized</tt>
<tt class="literal">paragraph&lt;/em&gt;&lt;/p&gt;</tt>.
</p>
</li><li>
<p>Put double or single quotes around your attribute values. For
example, change <tt class="literal">&lt;p</tt>
<tt class="literal">align=center&gt;</tt> to <tt class="literal">&lt;p
align="center"&gt;</tt>.
</p>
</li><li>
<p>Add values (which are the same as the name) to all minimized Boolean
attributes. For example, change <tt class="literal">&lt;input type="checkbox"
checked&gt;</tt> to <tt class="literal">&lt;input</tt>
<tt class="literal">type="checkbox" checked="checked"&gt;</tt>.
</p>
</li><li>
<p>Replace any occurrences of <tt class="literal">&amp;</tt> or
<tt class="literal">&lt;</tt> in character data or attribute values with
<tt class="literal">&amp;amp;</tt> and <tt class="literal">&amp;lt;</tt>. For
instance, change
<tt class="literal">A</tt><tt class="userinput"><b>&amp;</b></tt><tt class="literal">P</tt>
to
<tt class="literal">A</tt><tt class="userinput"><b>&amp;amp;</b></tt><tt class="literal">P</tt>
and <tt class="literal">&lt;a</tt>
<tt class="literal">href="http://www.google.com/search?client=googlet</tt><tt class="userinput"><b>&amp;</b></tt><tt class="literal">q=Java%20XML"&gt;</tt>
to <tt class="literal">&lt;a</tt>
<tt class="literal">href="http://www.google.com/search?client=googlet</tt><tt class="userinput"><b>&amp;amp;</b></tt><tt class="literal">q=Java%20XML"&gt;</tt>.
</p>
</li><li>
<p>Make sure the document has a single root <tt class="literal">html</tt>
element.
</p>
</li><li>
<p>Change empty elements like <tt class="literal">&lt;hr&gt;</tt> to
<tt class="literal">&lt;hr/&gt;</tt> or
<tt class="literal">&lt;hr&gt;&lt;/hr&gt;</tt>.
</p>
</li><li>
<p>Add hyphens to comments so that <tt class="literal">&lt;! this is a
comment&gt;</tt> becomes <tt class="literal">&lt;!-- this</tt>
<tt class="literal">is a comment --&gt;</tt>.
</p>
</li><li>
<p>Encode the document in UTF-8 or UTF-16, or add an XML declaration
that specifies in which character set it is encoded.
</p>
</li></ul>
<p>However, XHTML doesn't merely require
well-formedness; it requires
<a name="IXT-7-239235" />validity. In order to create a valid
XHTML document, you'll need to make these changes as
well:
</p>

<ul><li>
<p>Add a <tt class="literal">DOCTYPE</tt> declaration to the document pointing
to one of the three XHTML DTDs.
</p>
</li><li>
<p>Make all element and attribute names lowercase.</p>
</li><li>
<p>Make any other changes you have to make to your markup so that the
document validates against the DTD: for example, eliminating
nonstandard elements like <tt class="literal">marquee</tt>, adding required
attributes like the <tt class="literal">alt</tt> attribute of
<tt class="literal">img</tt>, or moving child elements out from inside
elements where they're not allowed such as a
<tt class="literal">blockquote</tt> inside a <tt class="literal">p</tt>.
</p>
</li></ul>
<p>In addition, the XHTML specification imposes several requirements
that, strictly speaking, are not required for either well-formedness
or validity. However, they do make parsing XHTML documents a little
easier. These are:
</p>

<ul><li>
<p>The root element of the document must be <tt class="literal">html</tt>.</p>
</li><li>
<p>There must be a <tt class="literal">DOCTYPE</tt> declaration that uses a
PUBLIC ID to identify one of the three XHTML DTDs.
</p>
</li><li>
<p>The root element of the document must have an
<tt class="literal">xmlns</tt> attribute identifying the default namespace
as <tt class="literal">http://www.w3.org/1999/xhtml</tt>.
</p>
</li></ul>
<p>Finally, if you wish, you may--but do not have to--add an
XML declaration or an <tt class="literal">xml-stylesheet</tt> processing
instruction to the prolog of your document.
</p>

<p><a href="ch07_01.htm">Example 7-1</a> shows an
<a name="IXT-7-239236" />HTML document from the
O'Reilly web site that exhibits many of the validity
problems you'll find on the Web today. In fact, this
is a much neater page than most. Nonetheless, not all attribute
values are quoted. The <tt class="literal">noshade</tt> attribute of the
<tt class="literal">HR</tt> element doesn't even have a
value. There's no document type declaration. Tags
are a mix of upper- and lowercase, mostly uppercase. The
<tt class="literal">DD</tt> elements are missing end-tags, and
there's some character data inside the second
definition that's not part of a
<tt class="literal">DT</tt> or a <tt class="literal">DD</tt>.
</p>

<a name="xmlnut2-CHP-7-EX-1" /><div class="example">
<h4 class="objtitle">Example 7-1. A typical HTML document </h4>
<blockquote><pre class="code">&lt;HTML&gt;&lt;HEAD&gt;
  &lt;TITLE&gt;O'Reilly Shipping Information&lt;/TITLE&gt;
&lt;/HEAD&gt;
&lt;BODY BGCOLOR="#ffffff" VLINK="#0000CC" LINK="#990000" TEXT="#000000"&gt;
&lt;table border=0 width=515&gt;
&lt;tr&gt;
&lt;td&gt;
&lt;IMG SRC="/www/graphics_new/generic_ora_header_wide.gif" BORDER=0&gt;
&lt;H2&gt;U.S. Shipping Information &lt;/H2&gt;
&lt;HR size="1" align=left noshade&gt;
&lt;DL&gt;
&lt;DT&gt; &lt;B&gt;UPS Ground Service (Continental US only -- 5-7 business
days):&lt;/B&gt;&lt;/DT&gt;
&lt;DD&gt;
&lt;PRE&gt;
$  5.95 - $ 49.99 ......................... $ 4.50
$ 50.00 - $ 99.99 ......................... $ 6.50
$100.00 - $149.99 ......................... $ 8.50
$150.00 - $199.99 ......................... $10.50
$200.00 - $249.99 ......................... $12.50
$250.00 - $299.99 ......................... $14.50

&lt;/PRE&gt;
&lt;DT&gt; &lt;B&gt;Federal Express:&lt;/B&gt;&lt;/DT&gt;
(Shipping within 24 hours of receipt of order by O'Reilly)
&lt;DD&gt;
&lt;PRE&gt;
&lt;EM&gt;1 or 2 books&lt;/EM&gt;:
Economy 2-day ............................. $ 8.75
Overnight Standard (Afternoon Delivery) ... $12.75
Overnight Priority (Morning Delivery) ..... $16.50
&lt;/PRE&gt;
&lt;/DL&gt;
&lt;b&gt;Alaska and Hawaii:&lt;/b&gt; add $10 to Federal Express rates.
&lt;P&gt;
&lt;A HREF="int-ship.html"&gt;&lt;b&gt;International Shipping Information&lt;/b&gt;&lt;/A&gt;
&lt;P&gt;
&lt;CENTER&gt;
&lt;HR SIZE="1" NOSHADE&gt;
&lt;FONT SIZE="1" FACE="Verdana, Arial, Helvetica"&gt;
&lt;A HREF="http://www.oreilly.com/"&gt;
&lt;B&gt;O'Reilly Home&lt;/B&gt;&lt;/A&gt; &lt;B&gt; | &lt;/B&gt;
&lt;A HREF="http://www.oreilly.com/sales/bookstores"&gt;
&lt;B&gt;O'Reilly Bookstores&lt;/B&gt;&lt;/A&gt; &lt;B&gt; | &lt;/B&gt;
&lt;A HREF="http://www.oreilly.com/order_new/"&gt;
&lt;B&gt;How to Order&lt;/B&gt;&lt;/A&gt; &lt;B&gt; | &lt;/B&gt;
&lt;A HREF="http://www.oreilly.com/oreilly/contact.html"&gt;
&lt;B&gt;O'Reilly Contacts&lt;BR&gt;&lt;/B&gt;&lt;/A&gt;
&lt;A HREF="http://www.oreilly.com/international/"&gt;
&lt;B&gt;International&lt;/B&gt;&lt;/A&gt; &lt;B&gt; | &lt;/B&gt;
&lt;A HREF="http://www.oreilly.com/oreilly/about.html"&gt;
&lt;B&gt;About O'Reilly&lt;/B&gt;&lt;/A&gt; &lt;B&gt; | &lt;/B&gt;
&lt;A HREF="http://www.oreilly.com/affiliates.html"&gt;
&lt;B&gt;Affiliated Companies&lt;/B&gt;&lt;/A&gt;&lt;p&gt;
&lt;EM&gt;&amp;copy; 2000, O'Reilly &amp;amp; Associates, Inc.&lt;/EM&gt;
&lt;/FONT&gt;
&lt;/CENTER&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;

&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</div>

<p><a href="ch07_01.htm">Example 7-2</a> shows this document after
it's been converted to XHTML. All the previously
noted problems and a few more besides have been fixed. A number of
deprecated presentational attributes, such as the
<tt class="literal">size</tt> and <tt class="literal">noshade</tt> attributes of
<tt class="literal">hr</tt>, had to be replaced with CSS styles.
We've also added the necessary document type and
<a name="IXT-7-239237" />namespace declarations. This document
can now be read by both HTML and XML browsers and parsers.
</p>

<a name="xmlnut2-CHP-7-EX-2" /><div class="example">
<h4 class="objtitle">Example 7-2. A valid XHTML document </h4>
<blockquote><pre class="code">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta name="generator" content="HTML Tidy, see www.w3.org" /&gt;
&lt;style type="text/css"&gt;
  body      {backgroundColor: #FFFFFF; color: #000000}
  a:visited {color: #0000CC}
  a:link    {color: #990000}
&lt;/style&gt;
&lt;title&gt;O'Reilly Shipping Information&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;table border="0" width="515"&gt;
&lt;tr&gt;
&lt;td&gt;&lt;img src="/www/graphics_new/generic_ora_header_wide.gif"
style="border-width: 0" alt="O'Reilly"/&gt;
&lt;h2&gt;U.S. Shipping Information&lt;/h2&gt;

&lt;hr style="height: 1; text-align: left"/&gt;
&lt;dl&gt;
&lt;dt&gt;&lt;b&gt;UPS Ground Service (Continental US only -- 5-7 business
days):&lt;/b&gt;&lt;/dt&gt;

&lt;dd&gt;
&lt;pre&gt;
$  5.95 - $ 49.99 ......................... $ 4.50
$ 50.00 - $ 99.99 ......................... $ 6.50
$100.00 - $149.99 ......................... $ 8.50
$150.00 - $199.99 ......................... $10.50
$200.00 - $249.99 ......................... $12.50
$250.00 - $299.99 ......................... $14.50
&lt;/pre&gt;
&lt;/dd&gt;

&lt;dt&gt;&lt;b&gt;Federal Express:&lt;/b&gt;&lt;/dt&gt;

&lt;dd&gt;(Shipping within 24 hours of receipt of order by O'Reilly)&lt;/dd&gt;

&lt;dd&gt;
&lt;pre&gt;
&lt;em&gt;1 or 2 books&lt;/em&gt;:
Economy 2-day ............................. $ 8.75
Overnight Standard (Afternoon Delivery) ... $12.75
Overnight Priority (Morning Delivery) ..... $16.50

&lt;/pre&gt;
&lt;/dd&gt;
&lt;/dl&gt;

&lt;b&gt;Alaska and Hawaii:&lt;/b&gt; add $10 to Federal Express rates.

&lt;p&gt;&lt;a href="int-ship.html"&gt;&lt;b&gt;International Shipping
Information&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;

&lt;div style="font-size: xx-small; font-face: Verdana, Arial, Helvetica;
            text-align: center"&gt;
&lt;hr style="height: 1"/&gt;
&lt;a
href="http://www.oreilly.com/"&gt;&lt;b&gt;O'Reilly Home&lt;/b&gt;&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a
href="http://www.oreilly.com/sales/bookstores"&gt;&lt;b&gt;O'Reilly
Bookstores&lt;/b&gt;&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a
href="http://www.oreilly.com/order_new/"&gt;&lt;b&gt;How to Order&lt;/b&gt;&lt;/a&gt;
&lt;b&gt;|&lt;/b&gt; &lt;a href="http://www.oreilly.com/oreilly/contact.html"&gt;&lt;b&gt;
O'Reilly Contacts&lt;br /&gt;
&lt;/b&gt;&lt;/a&gt; &lt;a href="http://www.oreilly.com/international/"&gt;&lt;b&gt;
International&lt;/b&gt;&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a
href="http://www.oreilly.com/oreilly/about.html"&gt;&lt;b&gt;About
O'Reilly&lt;/b&gt;&lt;/a&gt; &lt;b&gt;|&lt;/b&gt; &lt;a
href="http://www.oreilly.com/affiliates.html"&gt;&lt;b&gt;Affiliated
Companies&lt;/b&gt;&lt;/a&gt;&lt;/div&gt;

&lt;p style="font-size: xx-small;
          font-family: Verdana, Arial, Helvetica"&gt;&lt;em&gt;&amp;copy; 2000,
O'Reilly &amp;amp; Associates, Inc.&lt;/em&gt;&lt;/p&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></blockquote>
</div>



<a name="ch07-5-fm2xml" /><blockquote><b>TIP:</b> 
Making all these changes can be quite tedious for large documents or
collections of many documents. Fortunately, there's
an open source tool that can do most of the work for you. Dave
<a name="IXT-7-239238" />Ragget's
<a name="IXT-7-239239" />Tidy, <a href="../../../../../../tidy.sourceforge.net/">http://tidy.sourceforge.net</a>, is a C program
that has been ported to most major operating systems and can convert
some pretty nasty HTML into valid XHTML. For example, to convert the
file <em class="filename">bad.html</em> to <em class="filename">good.xml</em>,
you would type:
</p>

<blockquote><pre class="code">% <tt class="userinput"><b>tidy --output-xhtml yes bad.html good.xml</b></tt></pre></blockquote>

<p>Tidy fixes as much as it can and warns you about what it
can't fix so you can fix it manually--for
instance, telling you that a required <tt class="literal">alt</tt>
attribute is missing from an <tt class="literal">img</tt> <a name="IXTR3-42" /> <a name="IXTR3-43" />element.
</p>
</blockquote>

</div>
<a name="xmlnut2-CHP-7-SECT-1.2" /><div class="sect2">
<h3 class="sect2">7.1.2. Three DTDs for XHTML</h3>

<p>XHTML <a name="IXT-7-239240" />
<a name="IXT-7-239241" />comes in three flavors, depending on
which DTD you choose:
</p>

<dl>
<dt><i>Strict</i></dt>
<dd>
<a name="IXT-7-239242" /><a name="IXT-7-239243" />This is the
W3C's recommended form of XHTML. This includes all
the basic elements and attributes such as <tt class="literal">p</tt> and
<tt class="literal">class</tt>. However, it does not include deprecated
elements and attributes such as <tt class="literal">applet</tt> and
<tt class="literal">center</tt>. It also forbids the use of presentational
attributes such as the <tt class="literal">body</tt>
element's <tt class="literal">bgcolor</tt>,
<tt class="literal">vlink</tt>, <tt class="literal">link</tt>, and
<tt class="literal">text</tt>. These capabilities are provided by CSS
instead. Strict XHTML is identified with this
<tt class="literal">DOCTYPE</tt> declaration:
</p>


<blockquote><pre class="code">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "DTD/xhtml1-strict.dtd" &gt;</pre></blockquote>

<p><a href="ch07_01.htm">Example 7-2</a> used this DTD.</p>
</dd>


<dt><i>Transitional</i></dt>
<dd>
This is a looser <a name="IXT-7-239244" />form of XHTML for when you
can't easily do without deprecated elements and
attributes such as <tt class="literal">applet</tt> and
<tt class="literal">bgcolor</tt>. It is identified with this
<tt class="literal">DOCTYPE</tt> declaration:
</p>


<blockquote><pre class="code">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "DTD/xhtml1-transitional.dtd" &gt;</pre></blockquote>
</dd>


<dt><i>Frameset</i></dt>
<dd>
<a name="IXT-7-239245" />This is
the same as the transitional DTD except that it also allows
frame-related elements such as <tt class="literal">frameset</tt> and
<tt class="literal">iframe</tt>. It is identified with this
<tt class="literal">DOCTYPE</tt> declaration:
</p>


<blockquote><pre class="code">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN"
                      "DTD/xhtml1-frameset.dtd" &gt;</pre></blockquote>
</dd>

</dl>

<p>All three DTDs use the same <a href="../../../../../../www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</a> namespace. You
should choose the strict DTD unless you've got a
specific reason to use another one.
</p>

</div>
<a name="xmlnut2-CHP-7-SECT-1.3" /><div class="sect2">
<h3 class="sect2">7.1.3. Browser Support for XHTML</h3>

<p><a name="IXT-7-239246" />
<a name="IXT-7-239247" />Many current web browsers, especially
Internet Explorer 5.0 and earlier and Netscape 4.79 and earlier, deal
inconsistently with XHTML. Certainly they don't
require it, accepting as they do such a wide variety of malformed,
invalid, and out-and-out mistaken HTML. However, beyond that they do
have some problems when they encounter certain common XHTML
constructs.
</p>

<a name="xmlnut2-CHP-7-SECT-1.3.1" /><div class="sect3">
<h3 class="sect3">7.1.3.1. The XML declaration and processing instructions</h3>

<p>Some browsers display <a name="IXT-7-239248" />processing instructions and the
<a name="IXT-7-239249" />XML declaration inline. These
should be omitted if possible.
</p>

<p>Few, if any, browsers recognize or respect the encoding declaration
in the XML declaration. Furthermore, many browsers
won't automatically recognize UTF-8 or UCS-2 Unicode
text. If you use a non-ASCII character set, you should also include a
<tt class="literal">meta</tt> element in the header identifying the
character set. For example:
</p>

<blockquote><pre class="code">&lt;meta http-equiv="Content-type"
      content='text/html; charset=UTF-8'&gt;&lt;/meta&gt;</pre></blockquote>

</div>

<a name="xmlnut2-CHP-7-SECT-1.3.2" /><div class="sect3">
<h3 class="sect3">7.1.3.2. Empty elements</h3>

<p>Browsers <a name="IXT-7-239250" />deal inconsistently with
both forms of empty element syntax. That is, some browsers understand
<tt class="literal">&lt;hr/&gt;</tt> but not
<tt class="literal">&lt;hr&gt;&lt;/hr&gt;</tt> (typically rendering it as
two horizontal lines rather than one), while others recognize
<tt class="literal">&lt;hr&gt;&lt;/hr&gt;</tt> but not
<tt class="literal">&lt;hr/&gt;</tt> (typically omitting the horizontal
line completely). The most consistent rendering seems to be achieved
by using an empty-element tag with an optional attribute such as
<tt class="literal">class</tt> or <tt class="literal">id</tt>, for example,
<tt class="literal">&lt;hr class="empty" /&gt;</tt>.
There's no real reason for the
<tt class="literal">class</tt> attribute here, except that its presence
keeps browsers from choking on the <tt class="literal">/&gt;</tt>. Any
other attribute the DTD allows would serve equally well.
</p>

<p>On the other hand, if a particular instance of an element happens to
be empty, but not all instances of the element have to be
empty--for instance, a <tt class="literal">p</tt> that
doesn't contain any text--you should use two
tags like <tt class="literal">&lt;p&gt;&lt;/p&gt;</tt> rather than one
empty-element tag <tt class="literal">&lt;p/&gt;</tt>.
</p>

</div>

<a name="xmlnut2-CHP-7-SECT-1.3.3" /><div class="sect3">
<h3 class="sect3">7.1.3.3. Entity references</h3>

<p>Embedded <a name="IXT-7-239251" />scripts often contain reserved characters
like <tt class="literal">&amp;</tt> or <tt class="literal">&lt;</tt> so the
document that contains them is not well-formed. However, most
JavaScript and VBScript interpreters won't recognize
<tt class="literal">&amp;amp;</tt> or <tt class="literal">&amp;lt;</tt> in place
of the operators they represent. If the script can't
be rewritten without these operators (for instance, by changing a
less-than comparison to a greater-than-or-equal-to comparison with
the arguments flipped), then you should move to external scripts
instead of embedded ones.
</p>

<p>Furthermore, most non-XML-aware browsers don't
recognize the <tt class="literal">&amp;apos;</tt> predefined entity
reference. You should avoid this if possible and just use the literal
<tt class="literal">'</tt> character instead. The only place this might be
a problem is inside attribute values that are enclosed in single
quotes because they contain double quotes. However, most browsers do
recognize the <tt class="literal">&amp;quot;</tt> entity reference for the
<tt class="literal">"</tt> character so you can enclose the attribute value
in double quotes and escape the double quotes that are part of the
attribute value as <tt class="literal">&amp;quot;</tt>.
</p>

</div>

<a name="xmlnut2-CHP-7-SECT-1.3.4" /><div class="sect3">
<h3 class="sect3">7.1.3.4. Other unsupported features</h3>

<p>There are a few other subtle differences between how browsers handle
XHTML and how XHTML expects to be handled. For instance, XHTML allows
character references and CDATA sections although almost no current
browsers understand these constructs. However,
you're unlikely to encounter these when converting
from HTML to XHTML, and you can generally do without them if
you're writing XHTML from scratch.
</p>

<p>Mozilla, Opera 5.0 and later, Internet Explorer 5.5 and later, and
Netscape 6.0 and later can parse and display valid XHTML without any
difficulties and without requiring page authors to jump through these
hoops. However, since many users have not upgraded their browsers to
the level XHTML requires, user-friendly web designers will be jumping
through these hoops for some years to <a name="IXTR3-44" />come. 
</p>

</div>
</div>
</div>

<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch06_06.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch07_02.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">6.6. Transformation and Presentation</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">7.2. Direct Display of XML in Browsers</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="0,0,85,93" href="../index.htm"><area shape="rect" coords="85,0,180,98" href="../sax2/index.htm"><area shape="rect" coords="182,-1,261,100" href="index.htm"><area shape="rect" coords="263,1,384,96" href="../jxml/index.htm"><area shape="rect" coords="386,1,463,100" href="../jxslt/index.htm"><area shape="rect" coords="466,1,533,112" href="../xslt/index.htm"><area shape="rect" coords="535,-1,610,108" href="../schema/index.htm"><area shape="rect" coords="613,1,696,121" href="../pxml/index.htm">
      </map>

</body></html>