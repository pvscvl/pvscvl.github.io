<html><head><title>Disruptive Attributes (XML Schema)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Eric van der Vlist" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002521L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="XML Schema" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="XML Schema" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch10_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch10_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">10.4. Disruptive Attributes</h2>

<p>So far we have seen that W3C XML Schema treats global attributes and
elements alike, requiring both types to be explicitly
namespace-qualified to be global. Although this approach makes
sense--there's little reason to treat elements and attributes
differently--it's different from the approach the
<em class="citetitle">Namespaces in XML</em> Recommendation took. Global
attributes turn out to be a rather unusual, though useful, case.
</p>

<p>To understand this phenomenon, we need to examine the
<em class="emphasis">Namespaces in XML</em>
<a name="INDEX-769" />Recommendation closely. This
differentiates qualified and unqualified attributes, explaining that
only attributes applied to elements from another namespace need to be
qualified (these are also called <a name="INDEX-770" />global
attributes), and that unqualified attributes are considered to belong
to the <a name="INDEX-771" />vocabulary from
their parent element without needing to belong to their namespace. In
this case, they inherit the membership to the namespace of their
parent element without needing to show it. This is tightly linked to
the fact that <a name="INDEX-772" />default
namespaces do not apply to attributes (they don't
need to since attributes are considered members of the namespace of
their parent without needing default namespaces). In practice, most
XML vocabularies will use unqualified attributes, such as:
</p>

<blockquote><pre class="code">&lt;book id="b0836217462" xmlns="http://dyomedea.com/ns/library"/&gt;</pre></blockquote>

<p>or:</p>

<blockquote><pre class="code">&lt;lib:book id="b0836217462"
  xmlns:lib="http://dyomedea.com/ns/library"/&gt;</pre></blockquote>

<p>Very few would use qualified attributes, such as:</p>

<blockquote><pre class="code">&lt;lib:book lib:id="b0836217462"
  xmlns:lib="http://dyomedea.com/ns/library"/&gt;</pre></blockquote>

<p>Also, very few would use that or its equivalent if we use a default
namespace for the element that doesn't apply to the
attribute:
</p>

<blockquote><pre class="code">&lt;book lib:id="b0836217462" xmlns="http://dyomedea.com/ns/library"
  xmlns:lib="http://dyomedea.com/ns/library"/&gt;</pre></blockquote>

<p>Unfortunately, since the W3C XML Schema requires that all the global
attributes be qualified, this means that global attributes
can't be used for those unqualified attributes that
are used most of the time in XML vocabularies, and that our
unqualified <tt class="literal">id</tt> attribute cannot be declared as
global. In practice, this means that most of the time we will just
define local attributes within the element or complex type
definitions. When we want to define unqualified attributes that may
be reused in different elements, we will either define them in a
specific schema without a target namespace, which will be imported
(but there is risk of collision if we mix several schemas for
different target namespaces following this policy), or
"hide" those attributes inside of
attribute groups, such as:
</p>

<blockquote><pre class="code">&lt;xs:attributeGroup name="id"&gt;
  &lt;xs:attribute name="id" form="unqualified" type="xs:ID"/&gt;
&lt;/xs:attributeGroup&gt;</pre></blockquote>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch10_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch10_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">10.3. To Qualify Or Not to Qualify?</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">10.5. Namespaces and XPath Expressions</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="0,0,85,93" href="../index.htm"><area shape="rect" coords="85,0,180,98" href="../sax2/index.htm"><area shape="rect" coords="182,-1,261,100" href="../xmlnut/index.htm"><area shape="rect" coords="263,1,384,96" href="../jxml/index.htm"><area shape="rect" coords="386,1,463,100" href="../jxslt/index.htm"><area shape="rect" coords="466,1,533,112" href="../xslt/index.htm"><area shape="rect" coords="535,-1,610,108" href="index.htm"><area shape="rect" coords="613,1,696,121" href="../pxml/index.htm">
</map>

</body></html>