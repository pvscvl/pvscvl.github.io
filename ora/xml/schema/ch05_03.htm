<html><head><title>Derivation By Union (XML Schema)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Eric van der Vlist" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002521L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="XML Schema" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="XML Schema" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch05_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">5.3. Derivation By Union</h2>

<p>Derivation <a name="INDEX-353" /> <a name="INDEX-354" />by union allows defining datatypes by
merging the lexical spaces of several predefined or user datatypes.
</p>

<p>As we've seen with the derivation by list,
<em class="emphasis">W3C XML Schema</em> has defined two syntaxes, both
using a <a name="INDEX-355" /><tt class="literal"><a href="ch15_01.htm">xs:union</a></tt> element, allowing a definition by
reference to existing types or by embedding type definition (these
two syntaxes can be mixed). The definition of a union datatype by
reference to existing types is done through a
<tt class="literal">memberType</tt> attribute containing a
whitespace-separated list of datatypes:
</p>

<blockquote><pre class="code">&lt;xs:simpleType name="integerOrData"&gt;
  &lt;xs:union memberTypes="xs:integer xs:date"/&gt;
&lt;/xs:simpleType&gt;</pre></blockquote>

<p>The definition of a union datatype can also be done by embedding one
or more <tt class="literal">&lt;xs:simpleType&gt;</tt> elements:
</p>

<blockquote><pre class="code">&lt;xs:simpleType name="myIntegerUnion"&gt;
  &lt;xs:union&gt;
    &lt;xs:simpleType&gt;
      &lt;xs:restriction base="xs:integer"/&gt;
    &lt;/xs:simpleType&gt;
    &lt;xs:simpleType&gt;
      &lt;xs:restriction base="xs:NMTOKEN"&gt;
        &lt;xs:enumeration value="undefined"/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:simpleType&gt;
  &lt;/xs:union&gt;
&lt;/xs:simpleType&gt;</pre></blockquote>

<p>Both styles can be mixed and the previous example can be written as:</p>

<blockquote><pre class="code">&lt;xs:simpleType name="myIntegerUnion"&gt;
  &lt;xs:union memberTypes="xs:integer"&gt;
    &lt;xs:simpleType&gt;
      &lt;xs:restriction base="xs:NMTOKEN"&gt;
        &lt;xs:enumeration value="undefined"/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:simpleType&gt;
  &lt;/xs:union&gt;
&lt;/xs:simpleType&gt;</pre></blockquote>

<p>The resulting datatype is a merge that, as a whole, has lost the
semantical meaning--and facets--from the member types. In
the earlier example, we couldn't constrain the
<tt class="literal">myIntegerUnion</tt> type to be either less than 100 or
undefined except by defining a pattern. To do so, we can create a
type derived by restriction from a built-in type to be less than 100,
and perform the union to allow the value to be
"undefined" afterward. The only two
facets that can be applied to a union datatype are <tt class="literal"><a href="ch15_01.htm">xs:pattern</a></tt><a name="INDEX-356" />
and <tt class="literal"><a href="ch15_01.htm">xs:enumeration</a></tt><a name="INDEX-357" />.
</p>

<p>Those two facets are the only facets that are common to
<em class="emphasis">almost</em> all the datatypes. The only exception is
<tt class="literal"><a href="ch15_01.htm">xs:enumeration</a></tt>, which is not allowed
for <tt class="literal"><a href="ch16_01.htm">xs:boolean</a></tt>. Defining a
"dummy" union over an
<tt class="literal"><a href="ch16_01.htm">xs:boolean</a></tt> could be a workaround
to define an <tt class="literal"><a href="ch15_01.htm">xs:enumeration</a></tt> facet
over this <a name="INDEX-358" /> <a name="INDEX-359" />type. 
</p>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch05_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">5.2. Derivation By List</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">5.4. Some Oddities of Simple Types</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="0,0,85,93" href="../index.htm"><area shape="rect" coords="85,0,180,98" href="../sax2/index.htm"><area shape="rect" coords="182,-1,261,100" href="../xmlnut/index.htm"><area shape="rect" coords="263,1,384,96" href="../jxml/index.htm"><area shape="rect" coords="386,1,463,100" href="../jxslt/index.htm"><area shape="rect" coords="466,1,533,112" href="../xslt/index.htm"><area shape="rect" coords="535,-1,610,108" href="index.htm"><area shape="rect" coords="613,1,696,121" href="../pxml/index.htm">
</map>

</body></html>