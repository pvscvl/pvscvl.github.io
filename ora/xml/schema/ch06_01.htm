<html><head><title>Using Regular Expressions to Specify Simple Datatypes (XML Schema)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Eric van der Vlist" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002521L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="XML Schema" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="XML Schema" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch06_02.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>


<h1 class="chapter">Chapter 6. Using Regular Expressions to Specify Simple Datatypes</h1>
<div class="htmltoc"><h4 class="tochead">Contents:</h4>
  <p> <a href="#xmlschema-CHP-6-SECT-1">The Swiss Army Knife</a><br />
<a href="ch06_02.htm">The Simplest Possible Patterns</a><br />
<a href="ch06_03.htm">Quantifying</a><br />
<a href="ch06_04.htm">More Atoms</a><br />
<a href="ch06_05.htm">Common Patterns</a><br />
<a href="ch06_06.htm">Back to Our Library</a><br /></p></div>

<p>Among <a name="INDEX-374" /></a> <a name="INDEX-375" /></a>the
<a name="INDEX-376" /></a>different <a name="INDEX-377" /></a>
<a name="INDEX-378" /></a>facets
<a name="INDEX-379" /></a>available to
restrict the <a name="INDEX-380" /></a>lexical space of simple datatypes,
the most flexible (and also the one that we will often use as a last
resort when all the other facets are unable to express the
restriction on a user-defined datatype) is based on regular
expressions.
</p>
<div class="sect1"><a name="xmlschema-CHP-6-SECT-1" /></a>
<h2 class="sect1">6.1. The Swiss Army Knife</h2>

<p><a name="INDEX-381" /></a>Patterns (and regular
expressions in general) are like a <a name="INDEX-382" /></a>Swiss
army knife when constraining simple datatypes. They are highly
flexible, can compensate for many of the limitations of the other
facets, and are often used to define user datatypes on various
formats such as ISBN numbers, telephone numbers, or custom date
formats. However, like a Swiss army knife, patterns have their own
limitations.
</p>

<p>Multirange datatypes (such as integers between -1 and 5 or 10 and 15)
can be defined as a union of datatypes meeting the different ranges
(in this case, we could perform a union between a datatype accepting
integers between -1 and 5 and a second datatype accepting integers
between 10 and 15); however, after the union, the resulting datatype
loses its semantic of integer and cannot be constrained using integer
facets any longer. Using patterns to define multirange datatypes is
therefore an option: although less readable than using an union, it
preserves the semantic of the base type.
</p>

<p>Cutting a tree with a Swiss army knife is long, tiring, and
dangerous. Writing regular expressions may also become long, tiring,
and dangerous when the number of combinations grows. One should try
to keep them as simple as possible.
</p>

<p>A Swiss army knife cannot change lead into gold, and no facet can
change the primary type of a simple datatype. A string datatype
restricted to match a custom date format will still retain the
properties of a string and will never acquire the facets of a
datetime datatype. This means that there is no effective way to
express localized date formats.
</p>

</div>

<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch05_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch06_02.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">5.5. Back to Our Library</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">6.2. The Simplest Possible Patterns</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="0,0,85,93" href="../index.htm"><area shape="rect" coords="85,0,180,98" href="../sax2/index.htm"><area shape="rect" coords="182,-1,261,100" href="../xmlnut/index.htm"><area shape="rect" coords="263,1,384,96" href="../jxml/index.htm"><area shape="rect" coords="386,1,463,100" href="../jxslt/index.htm"><area shape="rect" coords="466,1,533,112" href="../xslt/index.htm"><area shape="rect" coords="535,-1,610,108" href="index.htm"><area shape="rect" coords="613,1,696,121" href="../pxml/index.htm">
      </map>

</body></html>