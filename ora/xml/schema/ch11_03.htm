<html><head><title>Defining Nil (Null) Values (XML Schema)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Eric van der Vlist" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596002521L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="XML Schema" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="XML Schema" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch11_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228" /><td align="right" valign="top" width="228"><a href="ch11_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>



<h2 class="sect1">11.3. Defining Nil (Null) Values</h2>

<p>This <a name="INDEX-899" />
<a name="INDEX-900" />feature was introduced into W3C XML
Schema to map the notion of "null"
values, which is one of the core requirements of the relational model
as defined by <a name="INDEX-901" />Codd. The W3C makes a subtle distinction
between an <a name="INDEX-902" />empty element and an element that is
null (or "nil," to use the name
chosen for the <tt class="literal">xsi</tt><a name="INDEX-903" /> attribute that conveys the
information). The two notions are considered different, but related
(an empty element is not always null, but a null element must be
empty).
</p>

<p>The fact that an element can be nil is defined in the element
definition and short-circuits all the content type definitions. It
may be used for simple types, complex content, and simple content
complex types; and it may be used even if the content model forbids
empty contents. In this case, the
"nillable" character of the element
takes precedence over the content model, and empty contents will be
accepted when marked as nil. Again, since the fact that a value is
nil is expressed using an attribute in the instance document, the
mechanism does not apply to attributes that cannot have a null value.
</p>

<p>One last thing to note before we look at some examples is that
attributes are not affected by the fact that an element is nil, and
they are still allowed or required if defined in the element.
</p>

<p>The usage of this feature is rather simple. For example, if we want
to allow nil values for the author of a book, we just set the
<tt class="literal">nillable</tt><a name="INDEX-904" /> attribute in the element definition
(<tt class="literal">nillable</tt> attributes cannot be specified in an
element reference):
</p>

<blockquote><pre class="code">&lt;xs:element name="author" nillable="true"&gt;
  &lt;xs:complexType&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element ref="name"/&gt;
      &lt;xs:element ref="born"/&gt;
      &lt;xs:element ref="dead" minOccurs="0"/&gt;
    &lt;/xs:sequence&gt;
    &lt;xs:attribute ref="id"/&gt;
  &lt;/xs:complexType&gt;
&lt;/xs:element&gt;</pre></blockquote>

<p>This declaration lets us declare null values in the
<a name="INDEX-905" />instance documents:
</p>

<blockquote><pre class="code">&lt;author xsi:nil="true"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/&gt;</pre></blockquote>

<p>This is possible despite the fact that the <tt class="literal">author</tt>
element had not been declared as allowing empty content.
</p>



<a name="ch11-8-fm2xml" /><blockquote><b>NOTE:</b> 
The difference between nil and empty values is very slim. Assuming
the author element is defined as <tt class="literal">nillable</tt> and has
a content model allowing empty contents, the difference between:
</p>


<blockquote><pre class="code">&lt;author xsi:nil="true"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"/&gt;</pre></blockquote>


<p>and:</p>


<blockquote><pre class="code">&lt;author/&gt;</pre></blockquote>


<p>is only a <tt class="literal">xsi:nil</tt> flag in the PSVI.</p>
</blockquote>



<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch11_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td align="right" valign="top" width="228"><a href="ch11_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td align="left" valign="top" width="228">11.2. Defining Element Types</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td align="right" valign="top" width="228">11.4. Beware the Intrusive Nature of These Features...</td></tr></table></div>
<hr width="684" align="left" />

<img src="../gifs/navbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links" />
<p><p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map">
<area shape="rect" coords="0,0,85,93" href="../index.htm"><area shape="rect" coords="85,0,180,98" href="../sax2/index.htm"><area shape="rect" coords="182,-1,261,100" href="../xmlnut/index.htm"><area shape="rect" coords="263,1,384,96" href="../jxml/index.htm"><area shape="rect" coords="386,1,463,100" href="../jxslt/index.htm"><area shape="rect" coords="466,1,533,112" href="../xslt/index.htm"><area shape="rect" coords="535,-1,610,108" href="index.htm"><area shape="rect" coords="613,1,696,121" href="../pxml/index.htm">
</map>

</body></html>