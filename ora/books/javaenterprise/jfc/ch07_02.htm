<html>
<head>
<title>Including Applets in HTML Files (Java Foundation Classes)</title>

<!-- STYLESHEET -->

<link rel="stylesheet" type="text/css" href="../style/style1.css" webstripperlinkwas="../style/style1.css">

<!-- METADATA -->



<!--Dublin Core Metadata-->

<meta name="DC.Creator" content="David Flanagan">
<meta name="DC.Date" content="">
<meta name="DC.Format" content="text/xml" scheme="MIME">
<meta name="DC.Generator" content="XSLT stylesheet, xt by James Clark">
<meta name="DC.Identifier" content="">
<meta name="DC.Language" content="en-US">
<meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="DC.Source" content="1-56592-488-6E" scheme="ISBN">
<meta name="DC.Subject.Keyword" content="">
<meta name="DC.Title" content="Including Applets in HTML Files">
<meta name="DC.Type" content="Text.Monograph">

</head>

<body>

<!-- START OF BODY -->



<!-- TOP BANNER -->

<a href="index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/index.htm"><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home"></a>
<map name="banner-map"><map name="banner-map"> <area shape="rect" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/index.htm" alt="Java Enterprise in a Nutshell"> <area shape="rect" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/jobjects/fsearch.htm" alt="Search this book"> </map>
</map>

<!-- TOP NAV BAR -->

<div class="navbar">
<table width="515" border="0">
<tr>
<td align="left" valign="top" width="172"><a href="ch07_01.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/ch07_01.htm"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous" border="0"></a></td><td align="center" valign="top" width="171"><a href="ch07_01.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/ch07_01.htm">Chapter 7: Applets</a></td><td align="right" valign="top" width="172"><a href="ch07_03.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/ch07_03.htm"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next" border="0"></a></td>
</tr>
</table>
</div>
<hr width="515" align="left">

<!-- SECTION BODY -->
<h2 class="sect1">7.2. Including Applets in HTML Files</h2>

<p>Applets are typically embedded in HTML files using the
      <tt class="literal">&lt;APPLET&gt;</tt> tag.  Another alternative relies
      on a Java Plug-in and uses the <tt class="literal">&lt;EMBED&gt;</tt>
      and <tt class="literal">&lt;OBJECT&gt;</tt> tags.  
      Multiple applet files can be combined into a single JAR (Java Archive) file that a web browser can read as a single, compressed file,
      substantially reducing download time for some applets.</p>

<h3 class="sect2">7.2.1. The &lt;APPLET&gt; Tag</h3>
<a name="INDEX-1213"></a>
<a name="INDEX-1214"></a>

<p>A Java applet is included in a web page with the
	<tt class="literal">&lt;APPLET&gt;</tt> tag, which has the following syntax (items
	in brackets (<tt class="literal">[]</tt>) are optional):</p>

<blockquote>
<pre class="programlisting">&lt;APPLET
    CODE = <em class="replaceable">applet-filename</em>
    WIDTH = <em class="replaceable">pixel-width</em>
    HEIGHT = <em class="replaceable">pixel-height</em>
    [OBJECT = <em class="replaceable">serialized-applet-filename</em>]
    [ARCHIVE = <em class="replaceable">jar-file-list</em>]
    [CODEBASE = <em class="replaceable">applet-url</em>]
    [ALT = <em class="replaceable">alternate-text</em>]
    [NAME = <em class="replaceable">applet-name</em>]
    [ALIGN = <em class="replaceable">alignment</em>]
    [VSPACE = <em class="replaceable">vertical-pixel-space</em>]
    [HSPACE = <em class="replaceable">horizontal-pixel-space</em>]
&gt;
[&lt;PARAM NAME = <em class="replaceable">parameter</em> VALUE = <em class="replaceable">value</em>&gt;]
[&lt;PARAM NAME = <em class="replaceable">parameter</em> VALUE = <em class="replaceable">value</em>&gt;]
    ...
[<em class="replaceable">alternate-text</em>]
&lt;/APPLET&gt;</pre>
</blockquote>

<dl>
<dt>
<b><tt class="literal">&lt;APPLET&gt;</tt></b>
</dt>
<dd>

<p>The <tt class="literal">&lt;APPLET&gt;</tt> tag specifies an applet to be run
	      within a web document. A web browser that does not support
	      Java and does not understand the <tt class="literal">&lt;APPLET&gt;</tt> tag
	      ignores this tag and any related <tt class="literal">&lt;PARAM&gt;</tt> tags
	      and simply displays any <em class="replaceable">alternate-text</em>
	      that appears between <tt class="literal">&lt;APPLET&gt;</tt> and
	      <tt class="literal">&lt;/APPLET&gt;</tt>. A browser that does support Java
	      runs the specified applet and does <em class="emphasis">not</em>
	      display the <em class="replaceable">alternate-text</em>.</p>
</dd>
<a name="INDEX-1215"></a>
<dt>
<b><tt class="literal">CODE</tt></b>
</dt>
<dd>

<p>This required attribute specifies the file that contains the
	      compiled Java code for the applet.  It must be relative to
	      the <tt class="literal">CODEBASE</tt>, if that attribute is specified or
	      relative to the current document's URL, by default.  
	      It must not be an
	      absolute URL.  As of Java 1.1, this attribute can be replaced
	      with an <tt class="literal">OBJECT</tt> attribute.</p>
</dd>
<a name="INDEX-1216"></a>
<dt>
<b><tt class="literal">WIDTH</tt></b>
</dt>
<dd>

<p>This attribute specifies the initial width, in pixels, that
	      the applet needs in the browser's window.  It is required.</p>
</dd>
<a name="INDEX-1217"></a>
<dt>
<b><tt class="literal">HEIGHT</tt></b>
</dt>
<dd>

<p>This attribute specifies the initial height, in pixels, that
	      the applet needs in the browser's window.  It is required.</p>
</dd>
<a name="INDEX-1218"></a>
<dt>
<b><tt class="literal">OBJECT</tt></b>
</dt>
<dd>

<p>As of Java 1.1, this attribute specifies the name of a
	      file that contains a serialized applet that is to be
	      created by deserialization.  An applet specified in this
	      way does not have its <tt class="literal">init()</tt> method invoked
	      but does have its <tt class="literal">start()</tt> method invoked.
	      Thus, before an applet is saved through serialization, it
	      should be initialized but should not be started, or, if
	      started, it should be stopped.  An applet must have either
	      the <tt class="literal">CODE</tt> or <tt class="literal">OBJECT</tt> attribute
	      specified, but not both.</p>
</dd>
<a name="INDEX-1219"></a>
<a name="INDEX-1220"></a>
<dt>
<b><tt class="literal">ARCHIVE</tt></b>
</dt>
<dd>

<p>As of Java 1.1, this attribute specifies a comma-separated
	      list of JAR files that are preloaded by
	      the web browser or applet viewer.  These archive files may
	      contain Java class files, images, sounds, properties, or
	      any other resources required by the applet.  The web
	      browser or applet viewer searches for required files in
	      the archives before attempting to load them over the
	      network.</p>
</dd>
<a name="INDEX-1221"></a>
<dt>
<b><tt class="literal">CODEBASE</tt></b>
</dt>
<dd>

<p>This optional attribute specifies the base URL (absolute
	      or relative) of the applet to be displayed.  This should
	      be a directory, not the applet file itself.  If this
	      attribute is unspecified, the URL of the current
	      document is used.</p>
</dd>
<a name="INDEX-1222"></a>
<dt>
<b><tt class="literal">ALT</tt></b>
</dt>
<dd>

<p>This optional attribute specifies text that should be
	      displayed by browsers that understand 
	      the <tt class="literal">&lt;APPLET&gt;</tt>
	      tag but do not support Java.</p>
</dd>
<a name="INDEX-1223"></a>
<dt>
<b><tt class="literal">NAME</tt></b>
</dt>
<dd>

<p>This optional attribute gives a name to the applet instance.
	      Applets that are running at the same time can look one
	     another up by name and communicate with one another.</p>
</dd>
<a name="INDEX-1224"></a>
<dt>
<b><tt class="literal">ALIGN</tt></b>
</dt>
<dd>

<p>This optional attribute specifies the applet's alignment
	      on the page.  It behaves just like the <tt class="literal">ALIGN</tt>
	      attribute of the <tt class="literal">&lt;IMG&gt;</tt> tag.  Its allowed
	      values are: <tt class="literal">left</tt>, <tt class="literal">right</tt>,
	      <tt class="literal">top</tt>, <tt class="literal">texttop</tt>, <tt class="literal">middle</tt>,
	      <tt class="literal">absmiddle</tt>, <tt class="literal">baseline</tt>,
	      <tt class="literal">bottom</tt>, and <tt class="literal">absbottom</tt>.</p>
</dd>
<a name="INDEX-1225"></a>
<dt>
<b><tt class="literal">VSPACE</tt></b>
</dt>
<dd>

<p>This optional attribute specifies the margin, in pixels,
	      that the browser should put above and below the applet.
	      It behaves just like the <tt class="literal">VSPACE</tt> attribute of
	      the <tt class="literal">&lt;IMG&gt;</tt> tag.</p>
</dd>
<a name="INDEX-1226"></a>
<dt>
<b><tt class="literal">HSPACE</tt></b>
</dt>
<dd>

<p>This optional attribute specifies the margin, in pixels,
	      that the browser should put on either side of the applet.
	      It behaves just like the <tt class="literal">HSPACE</tt> attribute of
	      the <tt class="literal">&lt;IMG&gt;</tt> tag.</p>
</dd>
<a name="INDEX-1227"></a>
<a name="INDEX-1228"></a>
<a name="INDEX-1229"></a>
<dt>
<b><tt class="literal">&lt;PARAM&gt;</tt></b>
</dt>
<dd>

<p>The <tt class="literal">&lt;PARAM&gt;</tt> tag, with its
	      <tt class="literal">NAME</tt> and <tt class="literal">VALUE</tt> attributes,
	      specifies a named parameter and its corresponding string
	      value that are passed to the applet.  These applet
	      parameters function like system properties or command-line
	      arguments do for a regular application.  Any number of
	      <tt class="literal">&lt;PARAM&gt;</tt> tags may appear between
	      <tt class="literal">&lt;APPLET&gt;</tt> and
	      <tt class="literal">&lt;/APPLET&gt;</tt>.  An applet can look up the
	      value of a parameter specified in a
	      <tt class="literal">&lt;PARAM&gt;</tt> tag with the
	      <tt class="literal">getParameter()</tt> method of <tt class="literal">Applet</tt>.</p>
</dd>
</dl>
<a name="INDEX-1230"></a>
<a name="INDEX-1231"></a>


<h3 class="sect2">7.2.2. Using Applet JAR Files</h3>

<p>The <tt class="literal">&lt;APPLET&gt;</tt> tag
	supports an <tt class="literal">ARCHIVE</tt> attribute that identifies
	a JAR file containing the files required by an applet. The JAR,
	or Java Archive, format is simply a ZIP file with the addition
	of an optional manifest file.  When an applet implementation
	involves more than one class file or when an applet relies on
	external image or sound files, it can be quite useful to combine
	all these files into a single, compressed JAR file and allow
	the web browser to download them all at once.</p>

<a name="INDEX-1232"></a>
<a name="INDEX-1233"></a>
<a name="INDEX-1234"></a>
<a name="INDEX-1235"></a>

<p>Starting with Java 1.1, Sun's Java SDK contains a
	<em class="emphasis">jar</em> command that allows you to create a JAR
	file.  You might invoke it like this to create a JAR file named
	<em class="emphasis">myapplet.jar</em> that contains all class files,
	GIF images, and AU format sound files in the current directory:</p>

<blockquote>
<pre class="programlisting">% jar cf myapplet.jar *.class *.gif *.au</pre>
</blockquote>

<p>Having created a JAR file like this, you can tell a web
	browser about it with the following HTML tags:</p>


<blockquote>
<pre class="programlisting">&lt;APPLET ARCHIVE="myapplet.jar" CODE="myapplet.class" WIDTH=400 HEIGHT=200&gt;
&lt;/APPLET&gt;</pre>
</blockquote>

<p>
<a name="INDEX-1236"></a><a name="INDEX-1237"></a>
	The <tt class="literal">ARCHIVE</tt> attribute does not replace the
	<tt class="literal">CODE</tt> attribute.  <tt class="literal">ARCHIVE</tt> specifies where
	to look for files, but <tt class="literal">CODE</tt> is still required to
	tell the browser which of the files in the archive is the applet
	class file to be executed.  The <tt class="literal">ARCHIVE</tt> attribute
	may actually specify a comma-separated list of JAR files.  The
	web browser or applet viewer searches these archives for any
	files the applet requires.  If a file is not found in an
	archive, however, the browser falls back upon its old behavior
	and attempts to load the file from the web server using a new
	HTTP request.</p>

<p>Web browsers introduced support for the
	<tt class="literal">ARCHIVE</tt> attribute at about the same time that
	Java 1.1 was introduced.  Some Java 1.0 browsers do not
	recognize <tt class="literal">ARCHIVE</tt> and therefore ignore it.  If
	you want to maintain compatibility with these browsers, be sure
	to make your applet files available in an unarchived form, in addition
	to the more efficient archived form.</p>

<a name="INDEX-1238"></a>
<a name="INDEX-1239"></a>


<h3 class="sect2">7.2.3. Using Applets with the Java Plug-in</h3>

<p>When a Java-enabled web browser encounters an
	<tt class="literal">&lt;APPLET&gt;</tt> tag, it starts up its embedded
	Java VM, downloads the class files that implement the applet,
	and starts running them.  This approach has run into
	difficulties because web browser releases are not synchronized
	with releases of new versions of Java.  It was quite a while
	after the release of Java 1.1 before commonly used browsers
	supported this version of the language, and there are still
	quite a few browsers in use that support only Java 1.0.  It is
	not at all clear when, or even if, browsers will include support
	for the Java 2 platform.  Furthermore, because of the lawsuit between Sun and
	Microsoft, the future of integrated Java support in the popular
	Internet Explorer web browser is questionable.</p>

<a name="INDEX-1240"></a>
<a name="INDEX-1241"></a>
<a name="INDEX-1242"></a>
<a name="INDEX-1243"></a>

<p>For these reasons, Sun has produced a product called the Java
	Plug-in.  This product is a Java VM that acts as a
	Netscape Navigator plug-in and as an Internet Explorer ActiveX
	control.  It adds Java 1.2 support to these browsers for the Windows
	and Solaris platforms.  In many ways, Java support makes the most
	sense as a plug-in; using the Java Plug-in may be the
	preferred method for distributing Java applets in the future.</p>

<a name="INDEX-1244"></a>
<a name="INDEX-1245"></a>

<p>There is a catch, however.  To run an applet under the Java
	Plug-in, you cannot use the <tt class="literal">&lt;APPLET&gt;</tt>
	tag.  <tt class="literal">&lt;APPLET&gt;</tt> invokes the built-in
	Java VM, not the Java Plug-in.  Instead, you must invoke the
	Java Plug-in just as you would invoke any other Navigator plug-in
	or Internet Explorer ActiveX control.  Unfortunately, Netscape
	and Microsoft have defined different HTML tags for these
	purposes.  Netscape uses the <tt class="literal">&lt;EMBED&gt;</tt>
	tag, and Microsoft uses the <tt class="literal">&lt;OBJECT&gt;</tt>
	tag.  The details of using these tags and combining them in
	a portable way are messy and confusing.  To help applet developers,
	Sun distributes a special HTML converter program that you can
	run over your HTML files.  It scans for
	<tt class="literal">&lt;APPLET&gt;</tt> tags and converts them to
	equivalent <tt class="literal">&lt;EMBED&gt;</tt> and
	<tt class="literal">&lt;OBJECT&gt;</tt> tags.</p>

<a name="INDEX-1246"></a>
<a name="INDEX-1247"></a>
<a name="INDEX-1248"></a>
<a name="INDEX-1249"></a>

<p>Consider the simple HTML file we used for the first applet
	example in this chapter:</p>

<blockquote>
<pre class="programlisting">&lt;APPLET code="MessageApplet.class" width=350 height=125&gt;
  &lt;PARAM name="message" value="Hello World"&gt;
&lt;/APPLET&gt;</pre>
</blockquote>
<p>
	When run through the HTML converter, this tag becomes something
	like this:</p>

<blockquote>
<pre class="programlisting">&lt;OBJECT classid="clsid:8AD9C840-044E-11D1-B3E9-00805F499D93"
codebase=
"http://java.sun.com/products/plugin/1.2/jinstall-12-win32.cab#Version=1,2,0,0"
        WIDTH=350 HEIGHT=125&gt;
  &lt;PARAM NAME=CODE VALUE="MessageApplet.class" &gt;
  &lt;PARAM NAME="type" VALUE="application/x-java-applet;version=1.2"&gt;
  &lt;PARAM NAME="message" VALUE="Hello World"&gt;

  &lt;COMMENT&gt;
    &lt;EMBED type="application/x-java-applet;version=1.2"
           pluginspage=
            "http://java.sun.com/products/plugin/1.2/plugin-install.html"
           java_CODE="MessageApplet.class" 
           WIDTH=350 HEIGHT=125 message="Hello World"&gt;
    &lt;/EMBED&gt;
  &lt;/COMMENT&gt;
&lt;/OBJECT&gt;</pre>
</blockquote>

<p>When Navigator reads this HTML file, it ignores the
	<tt class="literal">&lt;OBJECT&gt;</tt> and
	<tt class="literal">&lt;COMMENT&gt;</tt> tags that it does not
	support and reads only the <tt class="literal">&lt;EMBED&gt;</tt>
	tag.  When Internet Explorer reads the file, however, it handles the
	<tt class="literal">&lt;OBJECT&gt;</tt> tag and ignores the
	<tt class="literal">&lt;EMBED&gt;</tt> tag that is hidden within the
	<tt class="literal">&lt;COMMENT&gt;</tt> tag.  Note that both the
	<tt class="literal">&lt;OBJECT&gt;</tt> and
	<tt class="literal">&lt;EMBED&gt;</tt> tags specify all the attributes
	and parameters specified in the original file.  In addition,
	however, they identify the plug-in or ActiveX control to be
	used and tell the browser from where it can download the Java
	Plug-in, if it has not already downloaded it.</p>

<a name="INDEX-1250"></a>

<p>You can learn more about the Java Plug-in and download the HTML
	converter utility from
	<a href="../../../../../../../java.sun.com/products/plugin">http://java.sun.com/products/plugin</a>.</p>

<a name="INDEX-1251"></a>
<a name="INDEX-1252"></a>


<!-- BOTTOM NAV BAR -->

<hr width="515" align="left">
<div class="navbar">
<table width="515" border="0">
<tr>
<td align="left" valign="top" width="172"><a href="ch07_01.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/ch07_01.htm"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous" border="0"></a></td><td align="center" valign="top" width="171"><a href="index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/index.htm"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="Home" border="0"></a></td><td align="right" valign="top" width="172"><a href="ch07_03.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/ch07_03.htm"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next" border="0"></a></td>
</tr>
<tr>
<td align="left" valign="top" width="172">7.1. Writing Applets</td><td align="center" valign="top" width="171"><a href="index/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/index/index.htm"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></a></td><td align="right" valign="top" width="172">7.3. Applet Security</td>
</tr>
</table>
</div>
<hr width="515" align="left">

<!-- LIBRARY NAV BAR -->

<img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links"><p>
<font size="-1"><a href="copyrght.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font>
</p>
<map name="library-map"> <map name="library-map"> <area shape="rect" coords="-8,-5,72,97" href="../index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/index.htm"> <area shape="rect" coords="75,2,150,109" href="../jenut/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jenut/index.htm"> <area shape="rect" coords="154,0,225,99" href="../jnut/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jnut/index.htm"> <area shape="rect" coords="228,3,298,112" href="index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/index.htm"> <area shape="rect" coords="306,1,373,124" href="../ebeans/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/ebeans/index.htm"> <area shape="rect" coords="380,2,446,115" href="../servlet/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/servlet/index.htm"> <area shape="rect" coords="452,1,524,101" href="../security/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/index.htm"> <area shape="rect" coords="528,2,610,102" href="../dist/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/dist/index.htm"> </map>
</map>

<!-- END OF BODY -->

</body>
</html>
