<html>
<head>
<title>The policytool (Java Security)</title>

<!-- STYLESHEET -->

<link rel="stylesheet" type="text/css" href="../style/style1.css" webstripperlinkwas="../style/style1.css">

<!-- METADATA -->



<!--Dublin Core Metadata-->

<meta name="DC.Creator" content="Scott Oaks">
<meta name="DC.Date" content="">
<meta name="DC.Format" content="text/xml" scheme="MIME">
<meta name="DC.Generator" content="XSLT stylesheet, xt by James Clark">
<meta name="DC.Identifier" content="">
<meta name="DC.Language" content="en-US">
<meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="DC.Source" content="1-56592-403-7E" scheme="ISBN">
<meta name="DC.Subject.Keyword" content="">
<meta name="DC.Title" content="The policytool">
<meta name="DC.Type" content="Text.Monograph">

</head>

<body>

<!-- START OF BODY -->



<!-- TOP BANNER -->

<a href="index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/index.htm"><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home"></a>
<map name="banner-map"><map name="banner-map"> <area shape="rect" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/index.htm" alt="Java Security"> <area shape="rect" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/jobjects/fsearch.htm" alt="Search this book"> </map>
</map>

<!-- TOP NAV BAR -->

<div class="navbar">
<table width="515" border="0">
<tr>
<td align="left" valign="top" width="172"><a href="appa_02.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/appa_02.htm"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous" border="0"></a></td><td align="center" valign="top" width="171"><a href="appa_01.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/appa_01.htm">Appendix A: Security Tools</a></td><td align="right" valign="top" width="172"><a href="appa_04.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/appa_04.htm"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next" border="0"></a></td>
</tr>
</table>
</div>
<hr width="515" align="left">

<!-- SECTION BODY -->
<h2 class="sect1">A.3. The policytool</h2>

<p>
<a name="INDEX-1895"></a><a name="INDEX-1896"></a><a name="INDEX-1897"></a>The last security-related tool
that comes with the Java platform is <tt class="literal">policytool.</tt>
This tool allows you to manage entries in a
<em class="filename">java.policy</em> file. Unlike the other tools
we've discussed, <tt class="literal">policytool</tt> is a graphical
tool. As such, it has no command-line options or arguments.
</p>

<p>When you first start <tt class="literal">policytool</tt>, you see a blank
window with two pull-down menus: File and Edit. Initially, there are
no policy entries loaded into this tool; if you want to work on an
existing policy file, the first thing you must do is choose the Open
command from the File menu. Otherwise, you can add new entries and
create a new file containing those entries. Whichever method you
choose, keep in mind that <tt class="literal">policytool</tt> is
designed to operate on a single policy file.
</p>

<p>When you've completed editing the entries for a policy file,
you can save your changes. Under the File menu, you can use the Save
or Save As command to overwrite the file you loaded or to save your
changes to a new file.
</p>

<a name="SEC-AP-A-SECT-3.1"></a>
<h3 class="sect2">A.3.1. Managing Policy Codebases</h3>

<p>
<a name="INDEX-1898"></a><a name="INDEX-1899"></a>The initial screen for this tool
displays the name of the currently loaded policy file (which is blank
if no file has been loaded); the name of the keystore referenced
within this file; buttons to add, edit, or remove policy entries; and
a list of the current set of policy entries. In this context, a
policy entry is the URL from which classes will be loaded; that is, a
codebase or a code source. Hence, a single policy entry may contain
many individual permissions. In <a href="#SEC-AP-A-FIG-2">Figure A-1</a>
we've loaded the default <em class="filename">java.policy</em> file,
which has one policy entry: an entry that grants permissions to all
codebases.
</p>

<a name="SEC-AP-A-FIG-2"></a>
<div class="figure">
<img alt="figure" src="figs/JSEC_AA01.gif" webstripperlinkwas="figs/JSEC_AA01.gif"></div>
<h4 class="objtitle">Figure A-1. policytool loaded with one policy entry</h4>

<p>Note that the keystore entry for this file is
<em class="filename">.keystore</em>. You can change that value through an
option under the Edit menu.
</p>

<p>You can add new codebases to this file by selecting the Add Policy
Entry button; when you add a policy entry, you are allowed to specify
a URL and a signer (both of which are optional). The entry for the
signer should be an alias in the keystore; if you enter a signer who
is not in the keystore, you'll get a warning, but the operation
will continue.
</p>

<p>You may delete codebases by selecting one and pressing the Remove
Policy Entry button. Selecting a codebase and pressing the Edit
Policy Entry button allows you to edit the specific set of
permissions for a codebase.
</p>


<a name="SEC-AP-A-SECT-3.2"></a>
<h3 class="sect2">A.3.2. Managing Permissions</h3>

<p>
<a name="INDEX-1900"></a><a name="INDEX-1901"></a><a name="INDEX-1902"></a>
When you press the Edit Policy Entry button, you get a window similar
to that shown in <a href="#SEC-AP-A-FIG-3">Figure A-2</a>. This window lists all
permissions that are associated with the given codebase, and provides
the opportunity to add or remove individual permissions.
</p>

<a name="SEC-AP-A-FIG-3"></a>
<div class="figure">
<img alt="figure" src="figs/JSEC_AA02.gif" webstripperlinkwas="figs/JSEC_AA02.gif"></div>
<h4 class="objtitle">Figure A-2. A set of permissions for a codebase</h4>


<a name="SEC-AP-A-SECT-3.3"></a>
<h3 class="sect2">A.3.3. Managing Certificate Entries</h3>

<p>
<tt class="literal">Policytool</tt><a name="INDEX-1903"></a><a name="INDEX-1904"></a> also
allows you to perform some rudimentary operations on the default
keystore (again, using whatever <tt class="literal">KeyStore</tt> class
implementation has been installed into your Java platform). Under the
Edit menu, there are options to add and remove public key aliases.
These public key aliases are certificate entries in the keystore. In
order to add an alias, you must specify a name for the alias and the
name of a file containing a certificate (in RFC 1421 format) to
import for that alias; you may remove an alias simply by
name.<a name="INDEX-1905"></a><a name="INDEX-1906"></a><a name="INDEX-1907"></a>
</p>




<!-- BOTTOM NAV BAR -->

<hr width="515" align="left">
<div class="navbar">
<table width="515" border="0">
<tr>
<td align="left" valign="top" width="172"><a href="appa_02.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/appa_02.htm"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous" border="0"></a></td><td align="center" valign="top" width="171"><a href="index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/index.htm"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="Home" border="0"></a></td><td align="right" valign="top" width="172"><a href="appa_04.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/appa_04.htm"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next" border="0"></a></td>
</tr>
<tr>
<td align="left" valign="top" width="172">A.2. The jarsigner Tool</td><td align="center" valign="top" width="171"><a href="index/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/index/index.htm"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></a></td><td align="right" valign="top" width="172">A.4. Files to Administer by Hand</td>
</tr>
</table>
</div>
<hr width="515" align="left">

<!-- LIBRARY NAV BAR -->

<img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links"><p>
<font size="-1"><a href="copyrght.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font>
</p>
<map name="library-map"> <map name="library-map"> <area shape="rect" coords="-8,-5,72,97" href="../index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/index.htm"> <area shape="rect" coords="75,2,150,109" href="../jenut/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jenut/index.htm"> <area shape="rect" coords="154,0,225,99" href="../jnut/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jnut/index.htm"> <area shape="rect" coords="228,3,298,112" href="../jfc/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/jfc/index.htm"> <area shape="rect" coords="306,1,373,124" href="../ebeans/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/ebeans/index.htm"> <area shape="rect" coords="380,2,446,115" href="../servlet/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/servlet/index.htm"> <area shape="rect" coords="452,1,524,101" href="index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/security/index.htm"> <area shape="rect" coords="528,2,610,102" href="../dist/index.htm" webstripperlinkwas="http://ext.rlab.cs.nyu.edu/~jsr/oreilly/dist/index.htm"> </map>
</map>

<!-- END OF BODY -->

</body>
</html>
