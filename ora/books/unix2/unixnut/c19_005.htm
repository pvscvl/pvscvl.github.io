<html><head><title>Reference: rcs</TITLE
><meta name="DC.Creator" content="Arnold Robbins"><meta name="DC.Date" content="1999-12-03T20:36:34Z"><meta name="DC.Format" content="text/html" scheme="MIME"><meta name="DC.Identifier" content="O'Reilly-CDROM-1-56592-427-4"><meta name="DC.Language" content="en-US"><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.Source" content="1-56592-427-4" scheme="ISBN"><meta name="DC.Subject.Keyword" content="HTML, Web, CSS"><meta name="DC.Title" content="UNIX in a Nutshell: System V Edition"><meta name="DC.Type" content="Text.Monograph"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch19_05.htm" webstripperlinkwas="ch19_05.htm" title="19.5 Alphabetical Summary of Commands"><link rel="prev" href="c19_004.htm" webstripperlinkwas="c19_004.htm" title="Reference: merge"><link rel="next" href="c19_006.htm" webstripperlinkwas="c19_006.htm" title="Reference: rcsclean"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX in a Nutshell: System V Edition" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell: System V Edition"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="NUTENTRY" href="c19_004.htm" webstripperlinkwas="c19_004.htm" title="Reference: merge"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: Reference: merge" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch19_01.htm" webstripperlinkwas="ch19_01.htm" title="19. The Revision Control System">Chapter 19<br>The Revision Control System</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="NUTENTRY" href="c19_006.htm" webstripperlinkwas="c19_006.htm" title="Reference: rcsclean"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: Reference: rcsclean" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="NUTENTRY"><h2 class="nutentry"><a class="term" name="AUTOID-57879">rcs</A
></H2
><code class="literal"><b>rcs</B
></CODE
> [<i class="replaceable">options</I
>] <i class="replaceable">files</I
><br><dl class="nutentrybody"><p class="para"><a class="indexterm" name="AUTOID-57887"></A
>An administrative command for setting up or changing the default attributes of RCS files. <kbd class="command">rcs</KBD
> requires you to supply at least one option. (This is for &quot;future expansion.&quot;)</P
><p class="para">Among other things, <kbd class="command">rcs</KBD
> lets you set strict locking (<code class="option">-L</CODE
>), delete revisions (<code class="option">-o</CODE
>), and override locks set by <kbd class="command">co</KBD
> (<code class="option">-l</CODE
> and <code class="option">-u</CODE
>). RCS files have an access list (created via <code class="option">-a</CODE
>); anyone whose username is on the list can run <kbd class="command">rcs</KBD
>.  The access list is often empty, meaning that <kbd class="command">rcs</KBD
> is available to everyone. In addition, you can always invoke <kbd class="command">rcs</KBD
> if you own the file, if you're a privileged user, or if you run <kbd class="command">rcs</KBD
> with <code class="option">-i</CODE
>.  <kbd class="command">rcs</KBD
> accepts the standard options <code class="option">-q</CODE
>, <code class="option">-V</CODE
>, <code class="option">-V</CODE
><em class="emphasis">n</EM
>, <code class="option">-T</CODE
>, <code class="option">-x</CODE
>, and <code class="option">-z</CODE
>.</P
><div class="refsect2"><h3 class="refsect2"><a class="title" name="AUTOID-57911">Options</A
></H3
><p class="para"></P
><dl class="variablelist"><dt class="term"><code class="option">-a</CODE
><i class="replaceable">users</I
></DT
><dd class="listitem"><p class="para">Append the comma-separated list of <em class="emphasis">users</EM
> to the access list.</P
></DD
><dt class="term"><code class="option">-A</CODE
><i class="replaceable">otherfile</I
></DT
><dd class="listitem"><p class="para">Append <em class="emphasis">otherfile</EM
>'s access list to the access list of <em class="emphasis">files</EM
>.</P
></DD
><dt class="term"><code class="option">-b</CODE
>[<i class="replaceable">R</I
>]</DT
><dd class="listitem"><p class="para">Set the default branch to <em class="emphasis">R</EM
> or, if <em class="emphasis">R</EM
> is omitted, to the highest branch on the trunk.</P
></DD
><dt class="term"><code class="option">-c</CODE
><code class="literal"><b>'</B
></CODE
><i class="replaceable">s</I
><code class="literal"><b>'</B
></CODE
></DT
><dd class="listitem"><p class="para">The comment leader for <code class="literal"><b>$Log$</B
></CODE
>  keywords is set to string <em class="emphasis">s</EM
>. You could, for example, set  <em class="emphasis">s</EM
> to <code class="literal"><b>.\&quot;</B
></CODE
> for <kbd class="command">troff</KBD
> files or set <em class="emphasis">s</EM
> to <code class="literal"><b>*</B
></CODE
> for C programs.  (You would need to manually insert an  enclosing <code class="literal"><b>/*</B
></CODE
> and <code class="literal"><b>*/</B
></CODE
> before and after <code class="literal"><b>$Log$</B
></CODE
>.)</P
><p class="para"><code class="option">-c</CODE
> is obsolescent; RCS uses the character(s) preceding <code class="literal"><b>$Log$</B
></CODE
> in the file as the comment leader for log messages. You may wish to set this, though, if you are accessing the RCS file with older versions of RCS.</P
></DD
><dt class="term"><code class="option">-e</CODE
>[<i class="replaceable">users</I
>]</DT
><dd class="listitem"><p class="para">Erase everyone (or only the specified <em class="emphasis">users</EM
>) from the access list.</P
></DD
><dt class="term"><code class="option">-i</CODE
></DT
><dd class="listitem"><p class="para">Create (initialize) an RCS file, but don't deposit a revision.</P
></DD
><dt class="term"><code class="option">-I</CODE
></DT
><dd class="listitem"><p class="para">Interactive mode; prompt user even when standard input is not a terminal.</P
></DD
><dt class="term"><code class="option">-k</CODE
><i class="replaceable">c</I
></DT
><dd class="listitem"><p class="para">Use <em class="emphasis">c</EM
> as the default style for keyword substitution. (See <b class="emphasis.bold">co</B
> for values of <em class="emphasis">c</EM
>.) <code class="option">-kkv</CODE
> restores the default substitution style.</P
></DD
><dt class="term"><code class="option">-l</CODE
>[<i class="replaceable">R</I
>]</DT
><dd class="listitem"><p class="para">Lock revision <em class="emphasis">R</EM
> or the latest revision. <code class="option">-l</CODE
> &quot;retroactively locks&quot; a file and is useful if you checked out a file incorrectly by typing <kbd class="command">co</KBD
> instead of <code class="literal"><b>co -l</B
></CODE
>. <kbd class="command">rcs</KBD
> will ask you if it should break the lock if someone else has the file locked.</P
></DD
><dt class="term"><code class="option">-L</CODE
></DT
><dd class="listitem"><p class="para">Turn on strict locking (the default).   This means that everyone, including the owner of the RCS file, must use <code class="literal"><b>co -l</B
></CODE
> to edit files. Strict locking is recommended when files are to be shared.  (See <code class="option">-U</CODE
>.)</P
></DD
><dt class="term"><code class="option">-m</CODE
><i class="replaceable">R</I
><code class="literal"><b>:</B
></CODE
><i class="replaceable">msg</I
></DT
><dd class="listitem"><p class="para">Use the <em class="emphasis">msg</EM
> string to replace the log message of revision <em class="emphasis">R</EM
>.</P
></DD
><dt class="term"><code class="option">-M</CODE
></DT
><dd class="listitem"><p class="para">Do not send mail when breaking a lock. This is intended for use by RCS frontends, not for direct use by users!</P
></DD
><dt class="term"><code class="option">-n</CODE
><i class="replaceable">flags</I
></DT
><dd class="listitem"><p class="para">Add or delete an association between a revision and a name. <em class="emphasis">flags</EM
> can be:  </P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><i class="replaceable">name</I
><code class="literal"><b>:</B
></CODE
><i class="replaceable">R</I
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Associate <em class="emphasis">name</EM
> with revision <em class="emphasis">R</EM
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><i class="replaceable">name</I
><code class="literal"><b>:</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Associate <em class="emphasis">name</EM
> with latest revision.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><i class="replaceable">name</I
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Remove association of <em class="emphasis">name</EM
>.</P
></TD
></TR
></TBODY
></TABLE
><p class="para"> </P
></DD
><dt class="term"><code class="option">-N</CODE
><i class="replaceable">flags</I
></DT
><dd class="listitem"><p class="para">Same as <code class="option">-n</CODE
>, but overwrite existing <em class="emphasis">names</EM
>.</P
></DD
><dt class="term"><code class="option">-o</CODE
><i class="replaceable">R_list</I
></DT
><dd class="listitem"><p class="para">Delete (outdate) revisions listed in <em class="emphasis">R_list</EM
>. <em class="emphasis">R_list</EM
> can be specified as:  <em class="emphasis">R1</EM
>, <em class="emphasis">R1</EM
><code class="literal"><b>:</B
></CODE
><em class="emphasis">R2</EM
>, <em class="emphasis">R1</EM
><code class="literal"><b>:</B
></CODE
>, or <code class="literal"><b>:</B
></CODE
><em class="emphasis">R2</EM
>. When a branch is given, <code class="option">-o</CODE
> deletes only the latest revision on it. The <code class="literal"><b>-</B
></CODE
> range separator character from RCS versions prior to 5.6 is still valid.</P
></DD
><dt class="term"><code class="option">-s</CODE
><i class="replaceable">state</I
>[<code class="literal"><b>:</B
></CODE
><i class="replaceable">R</I
>]</DT
><dd class="listitem"><p class="para">Set the state of revision <em class="emphasis">R</EM
> (or the latest revision) to the word <em class="emphasis">state</EM
>.</P
></DD
><dt class="term"><code class="option">-t</CODE
>[<i class="replaceable">file</I
>]</DT
><dd class="listitem"><p class="para">Replace RCS file description with contents of <em class="emphasis">file</EM
> or, if no file is given, with standard input.</P
></DD
><dt class="term"><code class="option">-t-</CODE
><i class="replaceable">string</I
></DT
><dd class="listitem"><p class="para">Replace RCS file description with <em class="emphasis">string</EM
>.</P
></DD
><dt class="term"><code class="option">-u</CODE
>[<i class="replaceable">R</I
>]</DT
><dd class="listitem"><p class="para">The complement of <code class="option">-l</CODE
>:  unlock a revision that was previously checked out via <code class="literal"><b>co -l</B
></CODE
>.  If someone else did the check-out, you are prompted to state the reason for breaking the lock. This message is mailed to the original locker.</P
></DD
><dt class="term"><code class="option">-U</CODE
></DT
><dd class="listitem"><p class="para">Turn on nonstrict locking.  Everyone except the file owner must use <code class="literal"><b>co -l</B
></CODE
> to edit files.  (See <code class="option">-L</CODE
>.)</P
></DD
></DL
></DIV
><div class="refsect2"><h3 class="refsect2"><a class="title" name="AUTOID-58118">Examples</A
></H3
><p class="para">Associate the label <em class="emphasis">To_customer</EM
> with the latest revision of all RCS files:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>rcs -nTo_customer: RCS/*</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Add three users to the access list of file <i class="filename">beatle_deals</I
>:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>rcs -ageorge,paul,ringo beatle_deals</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Delete revisions 1.2 through 1.5:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>rcs -o1.2:1.5 doc</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Replace an RCS file description with the contents of a variable:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>echo &quot;$description&quot; | rcs -t </B
></CODE
><i class="replaceable">file</I
></PRE
></BLOCKQUOTE
></P
></DIV
></DL
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="NUTENTRY" href="c19_004.htm" webstripperlinkwas="c19_004.htm" title="Reference: merge"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: Reference: merge" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" title="UNIX in a Nutshell: System V Edition"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX in a Nutshell: System V Edition" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="NUTENTRY" href="c19_006.htm" webstripperlinkwas="c19_006.htm" title="Reference: rcsclean"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: Reference: rcsclean" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">Reference: merge</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">Reference: rcsclean</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>


