<html><head><title>[Chapter 17] 17.3 pic</TITLE
><meta name="DC.Creator" content="Arnold Robbins"><meta name="DC.Date" content="1999-12-07T17:38:53Z"><meta name="DC.Format" content="text/html" scheme="MIME"><meta name="DC.Identifier" content="O'Reilly-CDROM-1-56592-427-4"><meta name="DC.Language" content="en-US"><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.Source" content="1-56592-427-4" scheme="ISBN"><meta name="DC.Subject.Keyword" content="HTML, Web, CSS"><meta name="DC.Title" content="UNIX in a Nutshell: System V Edition"><meta name="DC.Type" content="Text.Monograph"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch17_01.htm" webstripperlinkwas="ch17_01.htm" title="17. troff Preprocessors"><link rel="prev" href="ch17_02.htm" webstripperlinkwas="ch17_02.htm" title="17.2 eqn"><link rel="next" href="ch17_04.htm" webstripperlinkwas="ch17_04.htm" title="17.4 refer"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX in a Nutshell: System V Edition" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell: System V Edition"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch17_02.htm" webstripperlinkwas="ch17_02.htm" title="17.2 eqn"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 17.2 eqn" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch17_01.htm" webstripperlinkwas="ch17_01.htm" title="17. troff Preprocessors">Chapter 17<br>troff Preprocessors</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch17_04.htm" webstripperlinkwas="ch17_04.htm" title="17.4 refer"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 17.4 refer" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UNUT-CH-17-SECT-3">17.3 pic</A
></H2
><p class="para"><a class="indexterm" name="CH17.TROFF1B"></A
><a class="indexterm" name="CH17.TROFF2B"></A
><a class="indexterm" name="CH17.TROFF3B"></A
><a class="indexterm" name="UNUT-CH-17-IX-PIC-PREPROCESSOR"></A
><a class="indexterm" name="UNUT-CH-17-IX-IMAGES-FORMATTING-IN-NROFF-TROFF"></A
><a class="indexterm" name="UNUT-CH-17-IX-GRAPHICS-FORMATTING-IN-NROFF-TROFF"></A
><kbd class="command">pic</KBD
> is a graphics language program that facilitates the drawing of simple flowcharts and diagrams. <kbd class="command">pic</KBD
> offers dozens of ways to draw a picture, not only because of the many abbreviations it allows, but because <kbd class="command">pic</KBD
> tries to combine the language of geometry with English.  For example, you can specify a line by its direction, magnitude, and starting  point, yet you can often achieve the same effect by simply stating, &quot;from <em class="emphasis">there</EM
> to <em class="emphasis">there</EM
>.&quot;</P
><p class="para"><kbd class="command">pic</KBD
> has the following command-line syntax:</P
><p class="para"><blockquote class="screen"><pre class="screen">pic [<i class="replaceable">files</I
>]</PRE
></BLOCKQUOTE
></P
><p class="para">Full descriptions of primitive objects in <kbd class="command">pic</KBD
> can be ended by  starting another line, or with the semicolon character (;).  A single primitive description can be continued on the next line, however, by ending the first with a backslash character (<code class="literal"><b>\</B
></CODE
>).  Comments may be placed on lines beginning with the pound sign (<code class="literal"><b>#</B
></CODE
>).</P
><p class="para">Solaris does not have <kbd class="command">pic</KBD
>.</P
><p class="para">The canonical reference for <kbd class="command">pic</KBD
> is <cite class="citetitle">Bell Labs Computing Science Technical Report #116</CITE
>, by B.W. Kernighan. This paper may be downloaded from <a class="ulink" href="../../../../../../../cm.bell-labs.com/cm/cs/cstr/116.ps.gz">http://cm.bell-labs.com/cm/cs/cstr/116.ps.gz</A
>. That document describes a newer version of <kbd class="command">pic</KBD
> with more features than what is described here, but such features may not be universally available. You should read it if you plan to do any serious work in <kbd class="command">pic</KBD
>.</P
><div class="sect2"><h3 class="sect2"><a class="title" name="UNUT-CH-17-SECT-3.1">17.3.1 pic Macros</A
></H3
><a class="indexterm" name="AUTOID-53764"></A
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>.PS </B
></CODE
>[<i class="replaceable">h</I
> [<i class="replaceable">w</I
>]]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Start <kbd class="command">pic</KBD
> description.  <em class="emphasis">h</EM
> and <em class="emphasis">w</EM
>, if specified,  are the desired height and width of the picture; the full picture can expand or contract to fill this space.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>.PS &lt;</B
></CODE
> <i class="replaceable">file</I
></TD
><td class="entry" rowspan="1" colspan="1">Read contents of <em class="emphasis">file</EM
> in place of current line.</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>.PE</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">End <kbd class="command">pic</KBD
> description.</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>.PF</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">End <kbd class="command">pic</KBD
> description and return to vertical position before matching <code class="literal"><b>.PS</B
></CODE
>.</P
></TD
></TR
></TBODY
></TABLE
><p class="para"><kbd class="command">troff</KBD
> requests or macros embedded in the body of a picture description are passed through unchanged. They are assumed to make sense at that point. Be careful not to use requests or macros that generate any horizontal or vertical motion.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UNUT-CH-17-SECT-3.2">17.3.2 Declarations</A
></H3
><p class="para">At the beginning of a <kbd class="command">pic</KBD
> description, you may declare a  new scale, and declare any number of variables. <kbd class="command">pic</KBD
> assumes you want a  1-to-1 scale, where units are inches by default.  You can declare a different scale, i.e., centimeters, by declaring:</P
><p class="para"><blockquote class="screen"><pre class="screen">scale = 2.54</PRE
></BLOCKQUOTE
></P
><p class="para">You may use variables instead of numbers in a description; <kbd class="command">pic</KBD
> substitutes the variable's value. Instead of: </P
><p class="para"><blockquote class="screen"><pre class="screen">line right <i class="replaceable">n</I
></PRE
></BLOCKQUOTE
></P
><p class="para">you may use a variable, for example, <code class="literal"><b>a</B
></CODE
>, by declaring at the top of the description:</P
><p class="para"><blockquote class="screen"><pre class="screen">a = <i class="replaceable">n</I
></PRE
></BLOCKQUOTE
></P
><p class="para">You may then write:</P
><p class="para"><blockquote class="screen"><pre class="screen">line right a</PRE
></BLOCKQUOTE
></P
><p class="para">Variable names must begin with a lowercase letter. The rest of the name may consist of uppercase or lowercase letters, digits, and underscores. Variables retain their values from picture to picture.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UNUT-CH-17-SECT-3.3">17.3.3 Primitives</A
></H3
><p class="para"><a class="indexterm" name="AUTOID-53826"></A
><kbd class="command">pic</KBD
> recognizes several basic graphical objects, or primitives. These primitives are specified by the following keywords:</P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>arc</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>circle</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>move</B
></CODE
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>arrow</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>ellipse</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>spline</B
></CODE
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>box</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>line</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>&quot;</B
></CODE
><i class="replaceable">text</I
><code class="literal"><b>&quot;</B
></CODE
></TD
></TR
></TBODY
></TABLE
><div class="sect3"><h4 class="sect3"><a class="title" name="UNUT-CH-17-SECT-3.3.1">17.3.3.1 Syntax</A
></H4
><p class="para">Primitives may be followed by relevant options.   Options are discussed later in this section.</P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>arc</B
></CODE
> [<code class="literal"><b>cw</B
></CODE
>] [<i class="replaceable">options</I
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">A fraction of a circle (default is 1/4 of a circle). The <code class="literal"><b>cw</B
></CODE
> option specifies a clockwise arc; default is counter-clockwise.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>arrow</B
></CODE
> [<i class="replaceable">options</I
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Draw an arrow.  Essentially the same as <code class="literal"><b>line -&gt;</B
></CODE
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>box</B
></CODE
> [<i class="replaceable">options</I
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Draw a box.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>circle</B
></CODE
> [<i class="replaceable">options</I
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Draw a circle.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>ellipse</B
></CODE
> [<i class="replaceable">options</I
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Draw an ellipse.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>line</B
></CODE
> [<i class="replaceable">options</I
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Draw a line.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>move</B
></CODE
> [<i class="replaceable">options</I
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">A change of position in the drawing.  Essentially, an invisible line.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>spline</B
></CODE
> [<i class="replaceable">options</I
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">A smooth curve, with the feature that a <code class="literal"><b>then</B
></CODE
> option results in a gradual (sloped) change in direction. In other words, when drawing a path using <code class="literal"><b>line</B
></CODE
>, you get sharp corners each time the path changes direction. With a <code class="literal"><b>spline</B
></CODE
>, you instead get a smooth curve.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>&quot;</B
></CODE
><i class="replaceable">text</I
><code class="literal"><b>&quot;</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Text centered at current point.</P
></TD
></TR
></TBODY
></TABLE
></DIV
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UNUT-CH-17-SECT-3.4">17.3.4 Options</A
></H3
><p class="para">The options below are grouped by function. Note that <code class="literal"><b>at</B
></CODE
>, <code class="literal"><b>with</B
></CODE
>, and <code class="literal"><b>from</B
></CODE
> specify points. Points may be expressed as Cartesian coordinates or with respect to  previous objects.</P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>right</B
></CODE
>  [<i class="replaceable">n</I
>]</TD
><td class="entry" rowspan="4" colspan="1"><p class="para">The direction of the primitive; default is the direction in which the previous description had been heading.  Create diagonal motion by using two  directions on the option line.  Each direction can be followed by a specified length <em class="emphasis">n</EM
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>left</B
></CODE
>  [<i class="replaceable">n</I
>]</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>up</B
></CODE
>  [<i class="replaceable">n</I
>]</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>down</B
></CODE
>  [<i class="replaceable">n</I
>]</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>rad  </B
></CODE
><i class="replaceable">n</I
></TD
><td class="entry" rowspan="2" colspan="1"><p class="para">Create the primitive using radius or diameter <em class="emphasis">n</EM
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>diam  </B
></CODE
><i class="replaceable">n</I
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>ht </B
></CODE
><i class="replaceable">n</I
></TD
><td class="entry" rowspan="2" colspan="1"><p class="para">Create the primitive using height or width <em class="emphasis">n</EM
>. For an arrow, line, or spline, height and width refer to arrowhead size.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>wid </B
></CODE
><i class="replaceable">n</I
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>same</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Create the primitive using the same dimensions  specified for the most recent matching primitive.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>at</B
></CODE
><i class="replaceable"> point</I
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Center the primitive at <em class="emphasis">point</EM
>.  </P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>with .</B
></CODE
><i class="replaceable">part</I
><code class="literal"><b> at </B
></CODE
><i class="replaceable">point</I
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Designate the <em class="emphasis">part</EM
> of the primitive to be at <em class="emphasis">point</EM
> (e.g., <code class="literal"><b>top</B
></CODE
>, or a corner).</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>from </B
></CODE
><i class="replaceable">point1</I
><code class="literal"><b> to </B
></CODE
><i class="replaceable">point2</I
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Draw the primitive from <em class="emphasis">point1</EM
> to <em class="emphasis">point2</EM
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>-&gt;</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Direct the arrowhead forward.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>&lt;-</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Direct the arrowhead backward.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>&lt;-&gt;</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Direct the arrowhead both ways.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>chop </B
></CODE
><i class="replaceable">n m</I
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Chop <em class="emphasis">n</EM
> from beginning of primitive and <em class="emphasis">m</EM
> from end.   With only one argument, the same value is chopped from both ends. With no arguments, chop a default amount (usually <code class="literal"><b>circlerad</B
></CODE
>).</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>dotted</B
></CODE
></TD
><td class="entry" rowspan="3" colspan="1"><p class="para">Draw the primitive using lines that are dotted, dashed, or invisible. (An invisible object still occupies space in the output.) Default is solid lines.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>dashed</B
></CODE
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>invis</B
></CODE
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>then</B
></CODE
> ...</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Continue primitive in a new direction.  Relevant only to lines, splines, moves, and arrows.  Can be placed before or after any text.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>&quot;</B
></CODE
><i class="replaceable">text</I
><code class="literal"><b>&quot;</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Center the text over the center point of the object. The options for text described in the next section may also be used.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UNUT-CH-17-SECT-3.5">17.3.5 Text</A
></H3
><p class="para">Text must be placed within quotes.  To break the line, break into two (or more) sets of quotes. Text always appears centered within the object, unless given one of the following arguments:</P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>ljust</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Text appears flush left, vertically centered.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>rjust</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Text appears flush right, vertically centered.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>above</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Text appears above the center.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>below</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Text appears below the center.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UNUT-CH-17-SECT-3.6">17.3.6 Object Blocks</A
></H3
><p class="para">Several primitives can be combined to make a complex object  (for example, an octagon).  This complex object can be treated  as a single object by declaring it as a block:</P
><p class="para"><blockquote class="screen"><pre class="screen">Object: [
     <i class="replaceable">description</I
>
      .
      .
      .
]</PRE
></BLOCKQUOTE
></P
><p class="para">Brackets are used as delimiters.  Note that the object is declared as the name of a place, and hence it must begin with a capital letter.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UNUT-CH-17-SECT-3.7">17.3.7 Macros</A
></H3
><p class="para">The same sequence of commands can be repeated by using macros.  The syntax is:</P
><p class="para"><blockquote class="screen"><pre class="screen">define <i class="replaceable">sequence</I
> %
      <i class="replaceable">description</I
>
          .
          .
          . 
      %</PRE
></BLOCKQUOTE
></P
><p class="para">Here the percent sign (<code class="literal"><b>%</B
></CODE
>) is the delimiter, but you can use any character that isn't in the description.</P
><p class="para">Macros can take parameters, expressed in the definition as <code class="literal"><b>$1</B
></CODE
> through  <code class="literal"><b>$9</B
></CODE
>.  Invoke the macro with the syntax:</P
><p class="para"><blockquote class="screen"><pre class="screen"><i class="replaceable">sequence</I
>(<i class="replaceable">value1</I
>,<i class="replaceable">value2</I
>,<i class="replaceable">...</I
>)</PRE
></BLOCKQUOTE
></P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UNUT-CH-17-SECT-3.8">17.3.8 Positioning</A
></H3
><p class="para"><a class="indexterm" name="AUTOID-54111"></A
>In a <kbd class="command">pic</KBD
> description, the first action begins at (0,0) unless otherwise specified with coordinates.  Thus,  as objects are placed above and left of the first object, the point (0,0) moves down and right on the drawing.</P
><p class="para">All points are ultimately translated by the formatter into x- and y-coordinates. You may therefore refer to a specific point in the picture by incrementing or decrementing the coordinates.  For example:</P
><p class="para"><blockquote class="screen"><pre class="screen">2nd ellipse + (.5,0)</PRE
></BLOCKQUOTE
></P
><p class="para">This refers to the position 1/2 inch to the right of the center of the second ellipse.</P
><p class="para">The x- and y-coordinates of an object are the point where the center of the object is placed. You may refer to the x- and y-coordinates of an object by placing <code class="literal"><b>.x</B
></CODE
> or <code class="literal"><b>.y</B
></CODE
> at the end.  For example: </P
><p class="para"><blockquote class="screen"><pre class="screen">last box.x</PRE
></BLOCKQUOTE
></P
><p class="para">refers to the x-coordinate of the most recent box drawn. You can refer to some of the object's physical attributes in a similar way:</P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>.x</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">x-coordinate of object's center.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>.y</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">y-coordinate of object's center.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>.ht</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Height of object.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>.wid</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Width of object.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>.rad</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Radius of object.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>.</B
></CODE
><i class="replaceable">corner</I
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">One of the object's corners. Corners are described below.</P
></TD
></TR
></TBODY
></TABLE
><p class="para">Unless otherwise positioned, each object begins at the point where the last object left off.  However, if a command (or sequence of commands)  is set off by curly braces (<code class="literal"><b>{ }</B
></CODE
>), <kbd class="command">pic</KBD
> then returns to the position before the first brace.</P
><div class="sect3"><h4 class="sect3"><a class="title" name="UNUT-CH-17-SECT-3.8.1">17.3.8.1 Positioning between objects</A
></H4
><p class="para">There are two ways to refer to a previous object.</P
><ul class="itemizedlist"><li class="listitem"><p class="para">Refer to it by order.  For example:  <blockquote class="screen"><pre class="screen">1st box 
3rd box 
last box 
2nd last box</PRE
></BLOCKQUOTE
></P
></LI
><li class="listitem"><p class="para">Declare it with a name, in initial caps, on its declaration line. For example:  <blockquote class="screen"><pre class="screen">Line1: line 1.5 right from last box.sw</PRE
></BLOCKQUOTE
></P
></LI
></UL
><p class="para">To refer to a point between two objects, or between two points on the same object, you may write:</P
><p class="para"><blockquote class="screen"><pre class="screen"><i class="replaceable">fraction of the way between first.position and second.position</I
></PRE
></BLOCKQUOTE
></P
><p class="para">or (abbreviated):</P
><p class="para"><blockquote class="screen"><pre class="screen"><i class="replaceable">fraction &lt;first.position, second.position&gt;</I
></PRE
></BLOCKQUOTE
></P
></DIV
><div class="sect3"><h4 class="sect3"><a class="title" name="UNUT-CH-17-SECT-3.8.2">17.3.8.2 Corners</A
></H4
><p class="para">When you refer to a previous object, <kbd class="command">pic</KBD
> assumes you mean  the object's center unless you specify a corner.  To specify a  corner, use either of these forms:</P
><p class="para"><blockquote class="screen"><pre class="screen"><i class="replaceable">.corner</I
> <code class="userinput"><b>of</B
></CODE
> <i class="replaceable">object</I
>
<i class="replaceable">object.corner</I
></PRE
></BLOCKQUOTE
></P
><p class="para">For example:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>.sw of last box
last box.sw</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Valid corners can be specified as any of the following:</P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>n</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">North</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>s</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">South</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>e</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">East</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>w</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">West</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>ne</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Northeast</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>nw</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Northwest</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>se</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Southeast</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>sw</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Southwest</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>t</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Top (same as <code class="literal"><b>n</B
></CODE
>)</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>b</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Bottom (same as <code class="literal"><b>s</B
></CODE
>)</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>r</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Right (same as <code class="literal"><b>e</B
></CODE
>)</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>l</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Left (same as <code class="literal"><b>w</B
></CODE
>)</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>start</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Point where drawing of object began</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>end</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Point where drawing of object ended</TD
></TR
></TBODY
></TABLE
><p class="para">You may also refer to the following parts of an object:</P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>upper right</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>lower right</B
></CODE
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>upper left</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>lower left</B
></CODE
></TD
></TR
></TBODY
></TABLE
></DIV
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UNUT-CH-17-SECT-3.9">17.3.9 Expressions</A
></H3
><p class="para">Expressions may be used anywhere <kbd class="command">pic</KBD
> needs a numeric value (such as when specifying coordinates or amounts of motion). Expressions consist of numeric constants, variables, and operators.</P
><p class="para"><kbd class="command">pic</KBD
> recognizes the following operators.</P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>+</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Addition</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>-</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Subtraction</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>*</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Multiplication</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>/</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Division</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>%</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Modulus (remainder after division)</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>^</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Exponentiation</P
></TD
></TR
></TBODY
></TABLE
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UNUT-CH-17-SECT-3.10">17.3.10 Default Values</A
></H3
><p class="para">Various system variables control the default dimensions of objects. You can change these defaults by typing a description line of the form:</P
><p class="para"><blockquote class="screen"><pre class="screen"><i class="replaceable">variable</I
> = <i class="replaceable">value</I
></PRE
></BLOCKQUOTE
></P
><table class="informaltable" border="1" cellpadding="3"><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1"><em class="emphasis">Variable</EM
></TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"><em class="emphasis">Default</EM
></TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"><em class="emphasis">Variable</EM
></TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"><em class="emphasis">Default</EM
></TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>arcrad</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.25</TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>ellipsewid</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.75</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>arrowwid</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.05</TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>linewid</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.5</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>arrowht</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.1</TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>lineht</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.5</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>boxwid</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.75</TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>movewid</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.5</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>boxht</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.5</TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>moveht</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.5</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>circlerad</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.25</TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>scale</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">1</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>dashwid</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.05</TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>textht</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>ellipseht</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0.5</TD
><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>textwid</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">0</TD
></TR
></TBODY
></TABLE
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UNUT-CH-17-SECT-3.11">17.3.11 pic Examples</A
></H3
><p class="para">Input:</P
><p class="para"><blockquote class="screen"><pre class="screen">.PS
define smile %
a = $1
circle radius a at 0,0
arc cw radius a*.75 from a*.5,-a*.25 to -a*.5,-a*.25
&quot;\(bu&quot; at a*.33,a*.25
&quot;\(bu&quot; at a*-.33,a*.25
%
smile(.5)
.PE</PRE
></BLOCKQUOTE
></P
><p class="para">Result:</P
><img class="graphic" src="figs/smile.gif" webstripperlinkwas="figs/smile.gif" alt="Graphic"><p class="para">Input (from CSTR #116):</P
><p class="para"><blockquote class="screen"><pre class="screen">.PS
ellipse &quot;document&quot;
arrow
box &quot;PIC&quot;
arrow
box &quot;TBL/EQN&quot; &quot;(optional)&quot; dashed
arrow
box &quot;TROFF&quot;
arrow
ellipse &quot;typesetter&quot;
.PE</PRE
></BLOCKQUOTE
></P
><p class="para">Result:</P
><img class="graphic" src="figs/typesetter.gif" webstripperlinkwas="figs/typesetter.gif" alt="Graphic"><a class="indexterm" name="AUTOID-54396"></A
><a class="indexterm" name="AUTOID-54397"></A
><a class="indexterm" name="AUTOID-54398"></A
><a class="indexterm" name="AUTOID-54399"></A
><a class="indexterm" name="AUTOID-54400"></A
><a class="indexterm" name="AUTOID-54401"></A
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch17_02.htm" webstripperlinkwas="ch17_02.htm" title="17.2 eqn"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 17.2 eqn" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" title="UNIX in a Nutshell: System V Edition"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX in a Nutshell: System V Edition" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch17_04.htm" webstripperlinkwas="ch17_04.htm" title="17.4 refer"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 17.4 refer" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">17.2 eqn</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">17.4 refer</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>


