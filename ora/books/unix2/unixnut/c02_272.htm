<html><head><title>Reference: zip</TITLE
><meta name="DC.Creator" content="Arnold Robbins"><meta name="DC.Date" content="1999-12-03T20:25:29Z"><meta name="DC.Format" content="text/html" scheme="MIME"><meta name="DC.Identifier" content="O'Reilly-CDROM-1-56592-427-4"><meta name="DC.Language" content="en-US"><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.Source" content="1-56592-427-4" scheme="ISBN"><meta name="DC.Subject.Keyword" content="HTML, Web, CSS"><meta name="DC.Title" content="UNIX in a Nutshell: System V Edition"><meta name="DC.Type" content="Text.Monograph"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch02_01.htm" webstripperlinkwas="ch02_01.htm" title="2. Unix Commands"><link rel="prev" href="c02_271.htm" webstripperlinkwas="c02_271.htm" title="Reference: zcat"><link rel="next" href="c02_273.htm" webstripperlinkwas="c02_273.htm" title="Reference: zipinfo"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX in a Nutshell: System V Edition" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell: System V Edition"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_271.htm" webstripperlinkwas="c02_271.htm" title="Reference: zcat"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: Reference: zcat" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch02_01.htm" webstripperlinkwas="ch02_01.htm" title="2. Unix Commands">Chapter 2<br>Unix Commands</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_273.htm" webstripperlinkwas="c02_273.htm" title="Reference: zipinfo"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: Reference: zipinfo" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="NUTENTRY"><h2 class="nutentry"><a class="term" name="AUTOID-21759">zip</A
></H2
><code class="literal"><b>zip</B
></CODE
> [<i class="replaceable">options</I
>] <i class="replaceable">zipfile</I
> [<i class="replaceable">files</I
>]<br><dl class="nutentrybody"><p class="para"><a class="indexterm" name="AUTOID-21768"></A
><a class="indexterm" name="AUTOID-21770"></A
><a class="indexterm" name="AUTOID-21773"></A
>Archive files in InfoZIP format. These files can be retrieved using <kbd class="command">unzip</KBD
>. The files are compressed as they are added to the archive. Compression ratios of 2:1 to 3:1 are common for text files. <kbd class="command">zip</KBD
> may also replace files in an existing archive. With no arguments, display the help information. See also <b class="emphasis.bold">zipinfo</B
> and <b class="emphasis.bold">unzip</B
>.</P
><p class="para">Default options may be placed in the <i class="envar">ZIPOPT</I
> environment variable, with the exceptions of <code class="option">-i</CODE
> and <code class="option">-x</CODE
>. Multiple options may be included in <i class="envar">ZIPOPT</I
>.</P
><p class="para">While <kbd class="command">zip</KBD
> is not distributed with SVR4 or Solaris, source code is readily available from <a class="ulink" href="../../../../../../../www.cdrom.com/pub/infozip">http://www.cdrom.com/pub/infozip</A
>.</P
><p class="para">There are a number of important notes in the <b class="emphasis.bold">unzip</B
> entry. Go there for more information.</P
><div class="refsect2"><h3 class="refsect2"><a class="title" name="AUTOID-21789">Options</A
></H3
><dl class="variablelist"><dt class="term"><code class="option">-b</CODE
> <i class="replaceable">path</I
></DT
><dd class="listitem"><p class="para">Use <em class="emphasis">path</EM
> as the location to store the temporary ZIP archive while updating an existing one. When done, copy the temporary archive over the new one. Useful primarily when there is not enough disk space on the filesystem containing the original archive.</P
></DD
><dt class="term"><code class="option">-c</CODE
></DT
><dd class="listitem"><p class="para">Add one-line comments for each file. <kbd class="command">zip</KBD
> first performs any file operations and then prompts you for a comment describing each file.</P
></DD
><dt class="term"><code class="option">-d</CODE
></DT
><dd class="listitem"><p class="para">Delete entries from a ZIP archive. Filenames to be deleted must be entered in uppercase if the archive was created by PKZIP on an MS-DOS system.</P
></DD
><dt class="term"><code class="option">-D</CODE
></DT
><dd class="listitem"><p class="para">Don't create entries in the archive for directories. Usually entries are created, so that attributes for directories may be restored upon extraction.</P
></DD
><dt class="term"><code class="option">-e</CODE
></DT
><dd class="listitem"><p class="para">Encrypt the archive. <kbd class="command">zip</KBD
> prompts on the terminal for a password and prompts twice, to avoid typing errors. If standard error is not a terminal, <kbd class="command">zip</KBD
> exits with an error.</P
></DD
><dt class="term"><code class="option">-f</CODE
></DT
><dd class="listitem"><p class="para">Freshen (replace) an existing entry in the ZIP archive if the file has a more recent modification time than the one in the archive. This doesn't add files that are not already in the archive: use <code class="option">-u</CODE
> for that. Run this command from the same directory where the ZIP archive was created, since the archive stores relative path names.</P
></DD
><dt class="term"><code class="option">-F</CODE
>, <code class="option">-FF</CODE
></DT
><dd class="listitem"><p class="para">Fix the ZIP archive. This option should be used with care; make a backup copy of the archive first. The <code class="option">-FF</CODE
> version does not trust the compressed sizes in the archive, and instead scans it for special &quot;signatures&quot; that identify the boundaries of different archive members. See the manpage for more information.</P
></DD
><dt class="term"><code class="option">-g</CODE
></DT
><dd class="listitem"><p class="para">Grow the archive (append files to it).</P
></DD
><dt class="term"><code class="option">-h</CODE
></DT
><dd class="listitem"><p class="para">Display the <kbd class="command">zip</KBD
> help information.</P
></DD
><dt class="term"><code class="option">-i</CODE
> <i class="replaceable">files</I
></DT
><dd class="listitem"><p class="para">Include only the specified <em class="emphasis">files</EM
>, typically specified as a quoted shell wildcard-style pattern.</P
></DD
><dt class="term"><code class="option">-j</CODE
></DT
><dd class="listitem"><p class="para">&quot;Junk&quot; the path; i.e., store just the name of the saved file, not any directory names. The default is to store complete paths, although paths are always relative.</P
></DD
><dt class="term"><code class="option">-J</CODE
></DT
><dd class="listitem"><p class="para">Strip any prepended data (e.g., an <code class="literal"><b>SFX</B
></CODE
> stub, for self-extracting executables) from the archive.</P
></DD
><dt class="term"><code class="option">-k</CODE
></DT
><dd class="listitem"><p class="para">Create an archive that (attempts to) conform to the conventions used under MS-DOS. This makes it easier for PKUNZIP to extract the archive.</P
></DD
><dt class="term"><code class="option">-l</CODE
></DT
><dd class="listitem"><p class="para">For text files only, translate the Unix newline into a CR-LF pair. Primarily for archives extracted under MS-DOS.</P
></DD
><dt class="term"><code class="option">-ll</CODE
></DT
><dd class="listitem"><p class="para">For text files only, translate the MS-DOS CR-LF into a Unix newline.</P
></DD
><dt class="term"><code class="option">-L</CODE
></DT
><dd class="listitem"><p class="para">Display the <kbd class="command">zip</KBD
> license.</P
></DD
><dt class="term"><code class="option">-m</CODE
></DT
><dd class="listitem"><p class="para">&quot;Move&quot; the files into the ZIP archive. This actually deletes the original files and/or directories after the archive has been created successfully. This is somewhat dangerous; use <code class="option">-T</CODE
> in conjunction with this option.</P
></DD
><dt class="term"><code class="option">-n</CODE
> <i class="replaceable">suffixlist</I
></DT
><dd class="listitem"><p class="para">Do not compress files with suffixes in <em class="emphasis">suffixlist</EM
>. Useful for sound or image files that often have their own, specialized compression method.</P
></DD
><dt class="term"><code class="option">-o</CODE
></DT
><dd class="listitem"><p class="para">Set the modified time of the ZIP archive to be that of the youngest file (most recently modified) in the archive.</P
></DD
><dt class="term"><code class="option">-q</CODE
></DT
><dd class="listitem"><p class="para">Quiet mode. Don't print informational messages and comment prompts. Most useful in shell scripts.</P
></DD
><dt class="term"><code class="option">-r</CODE
></DT
><dd class="listitem"><p class="para">Recursively archive all files and subdirectories of the named <em class="emphasis">files</EM
>. The <code class="option">-i</CODE
> option is also useful in combination with this one.</P
></DD
><dt class="term"><code class="option">-t</CODE
> <i class="replaceable">mmddyy</I
></DT
><dd class="listitem"><p class="para">Ignore files modified prior to the date given by <em class="emphasis">mmddyy</EM
>.</P
></DD
><dt class="term"><code class="option">-T</CODE
></DT
><dd class="listitem"><p class="para">Test the new ZIP archive's integrity. If the test fails, an existing ZIP archive is not changed, and with <code class="option">-m</CODE
>, no files are removed.</P
></DD
><dt class="term"><code class="option">-u</CODE
></DT
><dd class="listitem"><p class="para">Update existing entries in the ZIP archive if the named <em class="emphasis">files</EM
> have modification dates that are newer than those in the archive. Similar to <code class="option">-f</CODE
>, except that this option adds files to the archive if they aren't already there.</P
></DD
><dt class="term"><code class="option">-v</CODE
></DT
><dd class="listitem"><p class="para">As the only argument, print help and version information, a pointer to the home and distribution Internet sites, and information about how <kbd class="command">zip</KBD
> was compiled. When used with other options, cause those options to print progress information and provide other diagnostic information.</P
></DD
><dt class="term"><code class="option">-x</CODE
> <i class="replaceable">files</I
></DT
><dd class="listitem"><p class="para">Exclude the specified <em class="emphasis">files</EM
>, typically specified as a quoted shell wildcard-style pattern.</P
></DD
><dt class="term"><code class="option">-X</CODE
></DT
><dd class="listitem"><p class="para">Do not save extra file attributes (extended attributes on OS/2, user ID/group ID, and file times on Unix).</P
></DD
><dt class="term"><code class="option">-y</CODE
></DT
><dd class="listitem"><p class="para">Preserve symbolic links in the ZIP archive, instead of archiving the file the link points to.</P
></DD
><dt class="term"><code class="option">-z</CODE
></DT
><dd class="listitem"><p class="para">Prompt for a (possibly multiline) comment describing the entire ZIP archive. End the comment with line containing just a period, or <em class="emphasis">EOF</EM
>.</P
></DD
><dt class="term"><code class="option">-</CODE
><i class="replaceable">n</I
></DT
><dd class="listitem"><p class="para">Specify compression speed: <em class="emphasis">n</EM
> is a digit between 0 and 9. 0 indicates no compression, 1 indicates fast but minimal compression, 9 indicates slowest but maximal compression. Default is <code class="option">-6</CODE
>.</P
></DD
><dt class="term"><code class="option">-@</CODE
></DT
><dd class="listitem"><p class="para">Read standard input for names of files to be archived. Filenames containing spaces must be quoted using single quotes.</P
></DD
></DL
></DIV
><div class="refsect2"><h3 class="refsect2"><a class="title" name="AUTOID-21977">Examples</A
></H3
><p class="para">Archive the current directory into <i class="filename">source.zip</I
>, including only C source files:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>zip source -i '*.[ch]'</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Archive the current directory into <i class="filename">source.zip</I
>, excluding the object files:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>zip source -x '*.o'</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Archive files in the current directory into <i class="filename">source.zip</I
>, but don't compress <code class="literal"><b>.tiff</B
></CODE
> and <code class="literal"><b>.snd</B
></CODE
> files:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>zip source -z '.tiff:.snd' *</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Recursively archive the entire directory tree into one archive:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>zip -r /tmp/dist.zip .</B
></CODE
></PRE
></BLOCKQUOTE
></P
></DIV
></DL
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_271.htm" webstripperlinkwas="c02_271.htm" title="Reference: zcat"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: Reference: zcat" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" title="UNIX in a Nutshell: System V Edition"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX in a Nutshell: System V Edition" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_273.htm" webstripperlinkwas="c02_273.htm" title="Reference: zipinfo"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: Reference: zipinfo" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">Reference: zcat</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">Reference: zipinfo</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>


