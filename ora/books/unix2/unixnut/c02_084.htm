<html><head><title>Reference: find</TITLE
><meta name="DC.Creator" content="Arnold Robbins"><meta name="DC.Date" content="1999-12-03T20:09:46Z"><meta name="DC.Format" content="text/html" scheme="MIME"><meta name="DC.Identifier" content="O'Reilly-CDROM-1-56592-427-4"><meta name="DC.Language" content="en-US"><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.Source" content="1-56592-427-4" scheme="ISBN"><meta name="DC.Subject.Keyword" content="HTML, Web, CSS"><meta name="DC.Title" content="UNIX in a Nutshell: System V Edition"><meta name="DC.Type" content="Text.Monograph"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch02_01.htm" webstripperlinkwas="ch02_01.htm" title="2. Unix Commands"><link rel="prev" href="c02_083.htm" webstripperlinkwas="c02_083.htm" title="Reference: file"><link rel="next" href="c02_085.htm" webstripperlinkwas="c02_085.htm" title="Reference: finger"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX in a Nutshell: System V Edition" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell: System V Edition"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_083.htm" webstripperlinkwas="c02_083.htm" title="Reference: file"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: Reference: file" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch02_01.htm" webstripperlinkwas="ch02_01.htm" title="2. Unix Commands">Chapter 2<br>Unix Commands</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_085.htm" webstripperlinkwas="c02_085.htm" title="Reference: finger"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: Reference: finger" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="NUTENTRY"><h2 class="nutentry"><a class="term" name="AUTOID-7776">find</A
></H2
><code class="literal"><b>find</B
></CODE
> <i class="replaceable">pathname(s)</I
> <i class="replaceable"> condition(s)</I
><br><dl class="nutentrybody"><p class="para"><a class="indexterm" name="UNUT-CH-2-IX-FIND-COMMAND"></A
><a class="indexterm" name="UNUT-CH-2-IX-FILES-SEARCHING-FOR-SPECIFIC"></A
><a class="indexterm" name="UNUT-CH-2-IX-SEARCHING-FOR-FILES"></A
><a class="indexterm" name="UNUT-CH-2-IX-PATHNAMES-SEARCHING-FOR-FILES"></A
>An extremely useful command for finding particular groups of files (numerous examples follow this description). <kbd class="command">find</KBD
> descends the directory tree beginning at each <em class="emphasis">pathname</EM
> and locates files that meet the specified <em class="emphasis">conditions</EM
>. At least one <em class="emphasis">pathname</EM
> and one <em class="emphasis">condition</EM
> must be specified.  The most useful conditions include <code class="option">-print</CODE
> (which must be explicitly given to display any output), <code class="option">-name</CODE
> and <code class="option">-type</CODE
> (for general use), <code class="option">-exec</CODE
> and <code class="option">-size</CODE
> (for advanced users), and <code class="option">-mtime</CODE
> and <code class="option">-user</CODE
> (for administrators). On Solaris (and other recent Unix systems), <code class="option">-print</CODE
> is the default condition if none are provided.</P
><p class="para">Conditions may be grouped by enclosing them in <code class="literal"><b>\(  \)</B
></CODE
> (escaped parentheses), negated with <code class="literal"><b>!</B
></CODE
> (use <code class="literal"><b>\!</B
></CODE
> in the C shell), given as alternatives by separating them with <code class="option">-o</CODE
>, or repeated (adding restrictions to the match; usually only for <code class="option">-name</CODE
>, <code class="option">-type</CODE
>, and <code class="option">-perm</CODE
>).</P
><p class="para">The <kbd class="command">find</KBD
> command can often be combined with the <kbd class="command">xargs</KBD
> command when there are too many files for naming on the command line. (See <b class="emphasis.bold">xargs</B
>.)</P
><div class="refsect2"><h3 class="refsect2"><a class="title" name="AUTOID-7820">Conditions</A
></H3
><dl class="variablelist"><dt class="term"><code class="option">-atime</CODE
> <code class="literal"><b>+</B
></CODE
><i class="replaceable">n</I
> | <code class="literal"><b>-</B
></CODE
><i class="replaceable">n</I
> | <i class="replaceable">n</I
></DT
><dd class="listitem"><p class="para">Find files that were last accessed more than <em class="emphasis">n</EM
> (<code class="literal"><b>+</B
></CODE
><em class="emphasis">n</EM
>), less than <em class="emphasis">n</EM
> (<code class="literal"><b>-</B
></CODE
><em class="emphasis">n</EM
>), or exactly <em class="emphasis">n</EM
> days ago. Note that <kbd class="command">find</KBD
> will change the access time of directories supplied as  <em class="emphasis">pathnames</EM
>.</P
></DD
><dt class="term"><code class="option">-cpio</CODE
> <i class="replaceable">dev</I
></DT
><dd class="listitem"><p class="para">Take matching files and write them on device <em class="emphasis">dev</EM
>, using <kbd class="command">cpio</KBD
>. Obsolete.</P
></DD
><dt class="term"><code class="option">-ctime</CODE
> <code class="literal"><b>+</B
></CODE
><i class="replaceable">n</I
> | <code class="literal"><b>-</B
></CODE
><i class="replaceable">n</I
> | <i class="replaceable">n</I
></DT
><dd class="listitem"><p class="para">Find files that were changed more than <em class="emphasis">n</EM
> (<code class="literal"><b>+</B
></CODE
><em class="emphasis">n</EM
>), less than <em class="emphasis">n</EM
> (<code class="literal"><b>-</B
></CODE
><em class="emphasis">n</EM
>), or exactly <em class="emphasis">n</EM
> days ago. Change refers to modification, permission or ownership changes, etc.; therefore, <code class="option">-ctime</CODE
> is more inclusive than <code class="option">-atime</CODE
> or <code class="option">-mtime</CODE
>.</P
></DD
><dt class="term"><code class="option">-depth</CODE
></DT
><dd class="listitem"><p class="para">Descend the directory tree, skipping directories and working on actual files first (and <em class="emphasis">then</EM
> the parent directories). Useful when files reside in unwritable directories (e.g., when using <kbd class="command">find</KBD
>  with <kbd class="command">cpio</KBD
>).</P
></DD
><dt class="term"><code class="option">-exec</CODE
> <i class="replaceable">command</I
> <code class="literal"><b>{} \;</B
></CODE
></DT
><dd class="listitem"><p class="para">Run the Unix <em class="emphasis">command</EM
> on each file matched by <kbd class="command">find</KBD
>, provided <em class="emphasis">command</EM
> executes successfully on that file;  i.e., returns a 0 exit status. When <em class="emphasis">command</EM
> runs, the argument <code class="literal"><b>{}</B
></CODE
> substitutes the current file.  Follow the entire sequence with an escaped semicolon (<code class="literal"><b>\;</B
></CODE
>).</P
></DD
><dt class="term"><code class="option">-follow</CODE
></DT
><dd class="listitem"><p class="para">Follow symbolic links and track the directories visited (don't use this with <code class="option">-type l</CODE
>).</P
></DD
><dt class="term"><code class="option">-fstype</CODE
> <i class="replaceable">type</I
></DT
><dd class="listitem"><p class="para">Find files that reside on filesystems of type <code class="literal"><b>type</B
></CODE
>.</P
></DD
><dt class="term"><code class="option">-group</CODE
> <i class="replaceable">gname</I
></DT
><dd class="listitem"><p class="para">Find files belonging to group <em class="emphasis">gname</EM
>. <em class="emphasis">gname</EM
> can be a group name or a group ID number.</P
></DD
><dt class="term"><code class="option">-inum</CODE
> <i class="replaceable">n</I
></DT
><dd class="listitem"><p class="para">Find files whose inode number is <em class="emphasis">n</EM
>.</P
></DD
><dt class="term"><code class="option">-links</CODE
> <i class="replaceable">n</I
></DT
><dd class="listitem"><p class="para">Find files having <em class="emphasis">n</EM
> links.</P
></DD
><dt class="term"><code class="option">-local</CODE
></DT
><dd class="listitem"><p class="para">Find files that physically reside on the local system.</P
></DD
><dt class="term"><code class="option">-ls</CODE
></DT
><dd class="listitem"><p class="para">Display matching files with associated statistics (as if run through <code class="literal"><b>ls -lids</B
></CODE
>).</P
></DD
><dt class="term"><code class="option">-mount</CODE
></DT
><dd class="listitem"><p class="para">Search for files that reside only on the same filesystem as <em class="emphasis">pathname</EM
>.</P
></DD
><dt class="term"><code class="option">-mtime</CODE
> <code class="literal"><b>+</B
></CODE
><i class="replaceable">n</I
> | <code class="literal"><b>-</B
></CODE
><i class="replaceable">n</I
> | <i class="replaceable">n</I
></DT
><dd class="listitem"><p class="para">Find files that were last modified more than <em class="emphasis">n</EM
> (<code class="literal"><b>+</B
></CODE
><em class="emphasis">n</EM
>), less than <em class="emphasis">n</EM
> (<code class="literal"><b>-</B
></CODE
><em class="emphasis">n</EM
>), or exactly <em class="emphasis">n</EM
> days ago.</P
></DD
><dt class="term"><code class="option">-name</CODE
> <i class="replaceable">pattern</I
></DT
><dd class="listitem"><p class="para">Find files whose names match <em class="emphasis">pattern</EM
>. Filename metacharacters may be used, but should be escaped or quoted.</P
></DD
><dt class="term"><code class="option">-ncpio</CODE
> <i class="replaceable">dev</I
></DT
><dd class="listitem"><p class="para">Take matching files and write them on device <em class="emphasis">dev</EM
>, using <code class="literal"><b>cpio -c</B
></CODE
>. Obsolete.</P
></DD
><dt class="term"><code class="option">-newer</CODE
> <i class="replaceable">file</I
></DT
><dd class="listitem"><p class="para">Find files that have been modified more recently than <em class="emphasis">file</EM
>; similar to <code class="option">-mtime</CODE
>.</P
></DD
><dt class="term"><code class="option">-nogroup</CODE
></DT
><dd class="listitem"><p class="para">Find files belonging to a group <em class="emphasis">not</EM
> in <i class="filename">/etc/group</I
>.</P
></DD
><dt class="term"><code class="option">-nouser</CODE
></DT
><dd class="listitem"><p class="para">Find files owned by a user <em class="emphasis">not</EM
> in <i class="filename">/etc/passwd</I
>.</P
></DD
><dt class="term"><code class="option">-ok</CODE
> <i class="replaceable">command</I
> <code class="literal"><b>{} \;</B
></CODE
></DT
><dd class="listitem"><p class="para">Same as <code class="option">-exec</CODE
>, but user must respond (with a <code class="literal"><b>y</B
></CODE
>)  before <em class="emphasis">command</EM
> is executed.</P
></DD
><dt class="term"><code class="option">-perm</CODE
> <i class="replaceable">nnn</I
></DT
><dd class="listitem"><p class="para">Find files whose permission settings (e.g., <code class="literal"><b>rwx</B
></CODE
>) match octal number <em class="emphasis">nnn</EM
> exactly (e.g., 664 matches <code class="literal"><b>-rw-rw-r--</B
></CODE
>). Use a minus sign to make a wildcard match of any specified bit (e.g., <code class="literal"><b>-perm -600</B
></CODE
> matches <code class="literal"><b>-rw******</B
></CODE
>, where * can be any mode). Some systems also allow <code class="literal"><b>+</B
></CODE
><em class="emphasis">nnn</EM
> for this purpose.</P
><p class="para">Solaris allows <em class="emphasis">nnn</EM
> to be a symbolic mode in the same form as allowed by <kbd class="command">chmod</KBD
>.</P
></DD
><dt class="term"><code class="option">-print</CODE
></DT
><dd class="listitem"><p class="para">Print the matching files and directories, using their full pathnames. On Solaris, this is the default.</P
></DD
><dt class="term"><code class="option">-prune</CODE
></DT
><dd class="listitem"><p class="para">&quot;Prune&quot; the directory tree of unwanted directory searches; that is, skip the directory most recently matched.</P
></DD
><dt class="term"><code class="option">-size</CODE
> <i class="replaceable">n</I
>[<code class="literal"><b>c</B
></CODE
>]</DT
><dd class="listitem"><p class="para">Find files containing <em class="emphasis">n</EM
> blocks, or, if <code class="literal"><b>c</B
></CODE
> is specified, files that are <em class="emphasis">n</EM
> characters (bytes) long. (One block = 512 bytes).</P
></DD
><dt class="term"><code class="option">-type</CODE
> <i class="replaceable">c</I
></DT
><dd class="listitem"><p class="para">Find files whose type is <em class="emphasis">c</EM
>. <em class="emphasis">c</EM
> can be:  </P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>b</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Block special file</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>c</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Character special file</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>d</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Directory</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>D</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Door special file, Solaris only</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>f</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Plain file</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>l</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Symbolic link</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>p</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Fifo or named pipe</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>s</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1">Socket</TD
></TR
></TBODY
></TABLE
><p class="para"> </P
></DD
><dt class="term"><code class="option">-user</CODE
> <i class="replaceable">user</I
></DT
><dd class="listitem"><p class="para">Find files belonging to a <em class="emphasis">user</EM
> name or ID.</P
></DD
><dt class="term"><code class="option">-xdev</CODE
></DT
><dd class="listitem"><p class="para">Same as <code class="option">-mount</CODE
>. Solaris (and some BSD systems) only.</P
></DD
></DL
></DIV
><div class="refsect2"><h3 class="refsect2"><a class="title" name="AUTOID-8099">Examples</A
></H3
><p class="para">List all files (and subdirectories) in your home directory:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>find $HOME -print</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">List all files named <i class="filename">chapter1</I
> underneath the <i class="filename">/work</I
> directory:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>find /work -name chapter1 -print</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">List &quot;memo&quot; files owned by <code class="literal"><b>ann</B
></CODE
> (note the use of multiple starting paths):</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>find /work /usr -name 'memo*' -user ann -print</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Search the filesystem (begin at root) for manpage directories:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>find / -type d -name 'man*' -print</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Search the current directory, look for filenames that don't begin with a capital letter, and send them to the printer:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>find . \! -name '[A-Z]*' -exec lp {} \;</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Find and compress files whose names don't end with <code class="literal"><b>.Z</B
></CODE
>:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>compress `find . -type f \! -name '*.Z' -print`</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Remove all empty files on the system (prompting first):</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>find / -size 0 -ok rm {} \;</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Skip RCS directories, but list remaining read-only files: </P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>find . -name RCS -prune -o -perm 444 -print</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Search the system for files that were modified within the last two days (good candidates for backing up):</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>find / -mtime -2 -print</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Recursively <kbd class="command">grep</KBD
> for a pattern down a directory tree:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>find /book -print | xargs grep '[Nn]utshell'</B
></CODE
></PRE
></BLOCKQUOTE
><a class="indexterm" name="AUTOID-8146"></A
><a class="indexterm" name="AUTOID-8147"></A
><a class="indexterm" name="AUTOID-8148"></A
><a class="indexterm" name="AUTOID-8149"></A
></P
></DIV
></DL
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_083.htm" webstripperlinkwas="c02_083.htm" title="Reference: file"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: Reference: file" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" title="UNIX in a Nutshell: System V Edition"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX in a Nutshell: System V Edition" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_085.htm" webstripperlinkwas="c02_085.htm" title="Reference: finger"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: Reference: finger" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">Reference: file</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">Reference: finger</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>


