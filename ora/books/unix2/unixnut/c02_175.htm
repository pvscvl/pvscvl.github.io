<html><head><title>Reference: pax</TITLE
><meta name="DC.Creator" content="Arnold Robbins"><meta name="DC.Date" content="1999-12-03T20:15:57Z"><meta name="DC.Format" content="text/html" scheme="MIME"><meta name="DC.Identifier" content="O'Reilly-CDROM-1-56592-427-4"><meta name="DC.Language" content="en-US"><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.Source" content="1-56592-427-4" scheme="ISBN"><meta name="DC.Subject.Keyword" content="HTML, Web, CSS"><meta name="DC.Title" content="UNIX in a Nutshell: System V Edition"><meta name="DC.Type" content="Text.Monograph"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch02_01.htm" webstripperlinkwas="ch02_01.htm" title="2. Unix Commands"><link rel="prev" href="c02_174.htm" webstripperlinkwas="c02_174.htm" title="Reference: pathchk"><link rel="next" href="c02_176.htm" webstripperlinkwas="c02_176.htm" title="Reference: perl"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX in a Nutshell: System V Edition" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell: System V Edition"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_174.htm" webstripperlinkwas="c02_174.htm" title="Reference: pathchk"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: Reference: pathchk" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch02_01.htm" webstripperlinkwas="ch02_01.htm" title="2. Unix Commands">Chapter 2<br>Unix Commands</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_176.htm" webstripperlinkwas="c02_176.htm" title="Reference: perl"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: Reference: perl" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="NUTENTRY"><h2 class="nutentry"><a class="term" name="AUTOID-14808">pax</A
></H2
><code class="literal"><b>pax</B
></CODE
> [<i class="replaceable">options</I
>] [<i class="replaceable">patterns</I
>]<br><dl class="nutentrybody"><p class="para"><a class="indexterm" name="AUTOID-14816"></A
><a class="indexterm" name="AUTOID-14818"></A
><a class="indexterm" name="AUTOID-14820"></A
>Solaris only. Portable Archive Exchange program. When members of the POSIX 1003.2 working group could not standardize on either <kbd class="command">tar</KBD
> or <kbd class="command">cpio</KBD
>, they invented this program.[<a class="footnote" href="#AUTOID-14825">1</A
>] (See also <b class="emphasis.bold">cpio</B
> and <b class="emphasis.bold">tar</B
>.)</P
><blockquote class="footnote"><div class="footnote"><p class="para"><a class="footnote" name="AUTOID-14825">[1]</A
> This period in Unix history is known as the &quot;tar wars.&quot; :-)</P
></DIV
></BLOCKQUOTE
><p class="para"><kbd class="command">pax</KBD
> operates in four modes, depending on the combinations of <code class="option">-r</CODE
> and <code class="option">-w</CODE
>:</P
><dl class="variablelist"><dt class="term"><em class="emphasis">List mode</EM
></DT
><dd class="listitem"><p class="para">No <code class="option">-r</CODE
> and no <code class="option">-w</CODE
>. List the contents of a <kbd class="command">pax</KBD
> archive. Optionally, restrict the output to filenames and/or directories that match a given pattern.</P
></DD
><dt class="term"><em class="emphasis">Extract mode</EM
></DT
><dd class="listitem"><p class="para"><code class="option">-r</CODE
> only. Extract files from a <kbd class="command">pax</KBD
> archive. Intermediate directories are created as needed.</P
></DD
><dt class="term"><em class="emphasis">Archive mode</EM
></DT
><dd class="listitem"><p class="para"><code class="option">-w</CODE
> only. Archive files to a new or existing <kbd class="command">pax</KBD
> archive. The archive is written to standard output; it may be redirected to an appropriate tape device if needed for backups.</P
></DD
><dt class="term"><em class="emphasis">Pass-through mode</EM
></DT
><dd class="listitem"><p class="para"><code class="option">-r</CODE
> and <code class="option">-w</CODE
>. Copy a directory tree from one location to another, analogous to <code class="literal"><b>cpio -p</B
></CODE
>.</P
></DD
></DL
><div class="refsect2"><h3 class="refsect2"><a class="title" name="AUTOID-14864">Options</A
></H3
><p class="para">Here are the options available in the four modes:</P
><p class="para"><blockquote class="screen"><pre class="screen">None:       c d f       n     s     v
<code class="userinput"><b>-r</B
></CODE
>:         c d f i k   n o p s   u v
<code class="userinput"><b>-w</B
></CODE
>:     a b   d f i       o   s t u v x X
<code class="userinput"><b>-rw</B
></CODE
>:          d   i k l n   p s t u v   X</PRE
></BLOCKQUOTE
></P
><dl class="variablelist"><dt class="term"><code class="option">-a</CODE
></DT
><dd class="listitem"><p class="para">Append files to the archive. This may not work on some tape devices.</P
></DD
><dt class="term"><code class="option">-b</CODE
> <i class="replaceable">size</I
></DT
><dd class="listitem"><p class="para">Use <em class="emphasis">size</EM
> as the blocksize, in bytes, of blocks to be written to the archive.</P
></DD
><dt class="term"><code class="option">-c</CODE
></DT
><dd class="listitem"><p class="para">Complement. Match all file or archive members that do <em class="emphasis">not</EM
> match the patterns.</P
></DD
><dt class="term"><code class="option">-d</CODE
></DT
><dd class="listitem"><p class="para">For files or archive members that are directories, extract or archive only the directory itself, not the tree it contains.</P
></DD
><dt class="term"><code class="option">-f</CODE
> <i class="replaceable">archive</I
></DT
><dd class="listitem"><p class="para">Use <em class="emphasis">archive</EM
> instead of standard input or standard output.</P
></DD
><dt class="term"><code class="option">-i</CODE
></DT
><dd class="listitem"><p class="para">Interactively rename files. For each file, <kbd class="command">pax</KBD
> writes a prompt to <i class="filename">/dev/tty</I
> and reads a one-line response from <i class="filename">/dev/tty</I
>. The responses are as follows:  </P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Return</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Skip the file.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">A period</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Take the file as is.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><i class="replaceable">new name</I
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Anything else is taken as the new name to use for the file.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><i class="replaceable">EOF</I
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Exit immediately with a nonzero exit status.</P
></TD
></TR
></TBODY
></TABLE
><p class="para"></P
></DD
><dt class="term"><code class="option">-k</CODE
></DT
><dd class="listitem"><p class="para">Do not overwrite existing files.</P
></DD
><dt class="term"><code class="option">-l</CODE
></DT
><dd class="listitem"><p class="para">Make hard links. When copying a directory tree (<code class="option">-rw</CODE
>), make hard links between the source and destination hierarchies wherever possible.</P
></DD
><dt class="term"><code class="option">-n</CODE
></DT
><dd class="listitem"><p class="para">Choose the first archive member that matches each pattern. No more than one archive member will match for each pattern.</P
></DD
><dt class="term"><code class="option">-o</CODE
> <i class="replaceable">options</I
></DT
><dd class="listitem"><p class="para">Reserved for format-specific options. (Apparently unused in Solaris.)</P
></DD
><dt class="term"><code class="option">-p</CODE
> <i class="replaceable">privs</I
></DT
><dd class="listitem"><p class="para">Specify one or more privileges for the extracted file. <em class="emphasis">privs</EM
> specify permissions or other characteristics to be preserved or ignored.  </P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>a</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Do not preserve file access times.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>e</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Retain the user and group IDs, permissions (mode), and access and modification time.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>m</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Do not preserve the file modification time.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>o</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Retain the user and group ID.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal"><b>p</B
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Keep the permissions (mode).</P
></TD
></TR
></TBODY
></TABLE
><p class="para"></P
></DD
><dt class="term"><code class="option">-r</CODE
></DT
><dd class="listitem"><p class="para">Read an archive and extract files.</P
></DD
><dt class="term"><code class="option">-s</CODE
> <i class="replaceable">replacement</I
></DT
><dd class="listitem"><p class="para">Use <em class="emphasis">replacement</EM
> to modify file or archive member names. This is a string of the form <code class="literal"><b>-s/</B
></CODE
><i class="replaceable">old</I
><code class="literal"><b>/</B
></CODE
><i class="replaceable">new</I
><code class="literal"><b>/</B
></CODE
>[<code class="literal"><b>gp</B
></CODE
>]. This is similar to the substitution commands in <kbd class="command">ed</KBD
>, <kbd class="command">ex</KBD
>, and <kbd class="command">sed</KBD
>. <em class="emphasis">old</EM
> is a regular expression, and <em class="emphasis">new</EM
> may contain <code class="literal"><b>&amp;</B
></CODE
> to mean the matched text and <code class="literal"><b>\</B
></CODE
><em class="emphasis">n</EM
> for subpatterns. The trailing <code class="literal"><b>g</B
></CODE
> indicates the substitution should be applied globally. A trailing <code class="literal"><b>p</B
></CODE
> causes <kbd class="command">pax</KBD
> to print the resulting new filename. Multiple <code class="option">-s</CODE
> options may be supplied. The first one that works is applied. Any delimiter may be used, not just <code class="literal"><b>/</B
></CODE
>, but in all cases it is wise to quote the argument to prevent the shell from expanding wildcard characters.</P
></DD
><dt class="term"><code class="option">-t</CODE
></DT
><dd class="listitem"><p class="para">Reset the access time of archived files to what they were before being archived by <kbd class="command">pax</KBD
>.</P
></DD
><dt class="term"><code class="option">-u</CODE
></DT
><dd class="listitem"><p class="para">Ignore files older than preexisting files or archive members. The behavior varies based on the current mode.  <dl class="variablelist"><dt class="term"><em class="emphasis">Extract mode</EM
></DT
><dd class="listitem"><p class="para">Extract the archive file if it is newer than an existing file with the same name.</P
></DD
><dt class="term"><em class="emphasis">Archive mode</EM
></DT
><dd class="listitem"><p class="para">If an existing file with the same name as an archive member is newer than the archive member, supersede the archive member.</P
></DD
><dt class="term"><em class="emphasis">Pass-through mode</EM
></DT
><dd class="listitem"><p class="para">Replace the file in the destination hierarchy with the file in the source hierarchy (or a link to it) if the source hierarchy's file is newer.</P
></DD
></DL
> </P
></DD
><dt class="term"><code class="option">-v</CODE
></DT
><dd class="listitem"><p class="para">In list mode, print a verbose table of contents. Otherwise, print archive member names on standard error.</P
></DD
><dt class="term"><code class="option">-w</CODE
></DT
><dd class="listitem"><p class="para">Write files to standard output in the given archive format.</P
></DD
><dt class="term"><code class="option">-x</CODE
> <i class="replaceable">format</I
></DT
><dd class="listitem"><p class="para">Use the given <em class="emphasis">format</EM
> for the archive. The value of <em class="emphasis">format</EM
> is either <code class="literal"><b>cpio</B
></CODE
> or <code class="literal"><b>ustar</B
></CODE
>. The details of both formats are provided in the IEEE 1003.1 (1990) POSIX standard. The two formats are mutually incompatible; attempting to append using one format to an archive using the other is an error.</P
></DD
><dt class="term"><code class="option">-X</CODE
></DT
><dd class="listitem"><p class="para">When traversing directory trees, do not cross into a directory on a different device (the <code class="literal"><b>st_dev</B
></CODE
> field in the <code class="literal"><b>stat</B
></CODE
> structure, see <em class="emphasis">stat</EM
>(2); similar to the <code class="option">-mount</CODE
> option of <kbd class="command">find</KBD
>).</P
></DD
></DL
></DIV
><div class="refsect2"><h3 class="refsect2"><a class="title" name="AUTOID-15081">Examples</A
></H3
><p class="para">Copy the current directory to tape:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>pax -x ustar -w -f /dev/rmt/0m .</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Copy a home directory to a different directory (presumably on a bigger disk).</P
><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>cd /home</B
></CODE
>
# <code class="userinput"><b>pax -r -w arnold /newhome</B
></CODE
></PRE
></BLOCKQUOTE
></P
></DIV
></DL
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_174.htm" webstripperlinkwas="c02_174.htm" title="Reference: pathchk"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: Reference: pathchk" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" title="UNIX in a Nutshell: System V Edition"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX in a Nutshell: System V Edition" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="NUTENTRY" href="c02_176.htm" webstripperlinkwas="c02_176.htm" title="Reference: perl"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: Reference: perl" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">Reference: pathchk</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">Reference: perl</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>


