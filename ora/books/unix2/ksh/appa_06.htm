<html><head>
<title>[Appendix A] A.6 Workalikes on PC Platforms</TITLE>
<meta name="DC.title" content="Learning the Korn Shell"><meta name="DC.creator" content="Bill Rosenblatt"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-03T21:18:36Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-054-6" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="appa_01.htm" webstripperlinkwas="appa_01.htm" title="A. Related Shells"><link rel="prev" href="appa_05.htm" webstripperlinkwas="appa_05.htm" title="A.5 bash"><link rel="next" href="appa_07.htm" webstripperlinkwas="appa_07.htm" title="A.7 The Future of the Korn Shell"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="Learning the Korn Shell" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,66" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="appa_05.htm" webstripperlinkwas="appa_05.htm" title="A.5 bash"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: A.5 bash" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Appendix A<br>Related Shells</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="appa_07.htm" webstripperlinkwas="appa_07.htm" title="A.7 The Future of the Korn Shell"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: A.7 The Future of the Korn Shell" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="KSH-APA-SECT-6">A.6 Workalikes on PC Platforms</A
></H2
><p class="para">The proliferation of the Korn shell has not stopped at
the boundaries of UNIX-dom.  <a class="indexterm" name="AUTOID-17791"></A
><a class="indexterm" name="KSH-APA-IX-PCS"></A
>
Many programmers who got their
initial experience on UNIX systems and subsequently 
crossed over into the PC world wished for a nice UNIX-like
environment (especially when faced with the horrors of the
MS-DOS command line!), so it's not surprising that several UNIX 
shell-style interfaces to small-computer operating systems
have appeared, Korn shell emulations among them.</P
><p class="para"><a class="indexterm" name="AUTOID-17796"></A
><a class="indexterm" name="AUTOID-17800"></A
>Shells that are called &quot;Korn shell&quot; exist for the Minix and
Coherent operating systems, both of which are small, inexpensive
UNIX-like systems for IBM PC-type machines.  <a class="indexterm" name="AUTOID-17804"></A
><a class="indexterm" name="AUTOID-17807"></A
><a class="indexterm" name="AUTOID-17810"></A
>
These shells 
are not very compatible with the 1988 UNIX Korn shell; they
only have the most important Korn shell features, such as
emacs and vi editing modes and shell functions.  </P
><p class="para"><a class="indexterm" name="AUTOID-17814"></A
></P
><p class="para"><a class="indexterm" name="AUTOID-17816"></A
><a class="indexterm" name="AUTOID-17818"></A
><a class="indexterm" name="AUTOID-17821"></A
>Somewhat better is a version of <em class="emphasis">pdksh</EM
> for OS/2,
which you can get in binary form (i.e., the executable, not
the source code) from the USENET newsgroup comp.binaries.os2.</P
><p class="para"><a class="indexterm" name="AUTOID-17826"></A
><a class="indexterm" name="KSH-APA-IX-MKS-TOOLKIT-SHELL"></A
>But far better than that is the MKS Toolkit, available from
Mortice Kern Systems, Inc.<a class="indexterm" name="AUTOID-17831"></A
>
The Toolkit is actually a complete UNIX-like environment
for MS-DOS (version 2.0 and later) and OS/2 (version 1.2 and
later).  <a class="indexterm" name="AUTOID-17833"></A
><a class="indexterm" name="AUTOID-17835"></A
><a class="indexterm" name="AUTOID-17837"></A
><a class="indexterm" name="AUTOID-17839"></A
>
In addition to its 
shell, it comes with a <em class="emphasis">vi</EM
> editor and many UNIX-style
utilities, including major ones like <em class="emphasis">awk</EM
>, <em class="emphasis">uucp</EM
>, and
<em class="emphasis">make</EM
>.</P
><p class="para">The MKS shell itself is very much compatible with 
the 1988 UNIX Korn shell, and it has a well-written manual.<a class="indexterm" name="AUTOID-17846"></A
>
Its only real syntactic difference
is that it doesn't support the Korn shell's condition test
syntax; you must use the old Bourne shell syntax instead.</P
><p class="para">The few other differences are due to
limitations in the underlying operating systems rather than
the shell itself. Most importantly, MS-DOS does not support
multitasking or file permissions, so the MS-DOS version 
supports none of the relevant Korn shell features.<a class="indexterm" name="AUTOID-17850"></A
>
The OS/2 version doesn't support file permissions either.</P
><p class="para">Specifically, the MKS shell for MS-DOS
does not support the following:</P
><ul class="itemizedlist"><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-17856"></A
><a class="indexterm" name="AUTOID-17859"></A
>Background jobs: <b class="emphasis.bold">&amp;</B
> at the end of a command acts like
<code class="literal">;</CODE
>, i.e., as a statement separator.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-17866"></A
><a class="indexterm" name="AUTOID-17869"></A
><a class="indexterm" name="AUTOID-17872"></A
>Job control: <b class="emphasis.bold">fg</B
>, <b class="emphasis.bold">bg</B
>, <b class="emphasis.bold">jobs</B
>, <b class="emphasis.bold">kill</B
>,
and <b class="emphasis.bold">wait</B
>; the options <b class="emphasis.bold">bgnice</B
> and <b class="emphasis.bold">monitor</B
>;
coroutines.</P
></LI
></UL
><p class="para"><a class="indexterm" name="AUTOID-17883"></A
>The MKS shells for both MS-DOS and OS/2 do not support the following:</P
><ul class="itemizedlist"><a class="indexterm" name="AUTOID-17886"></A
><a class="indexterm" name="AUTOID-17889"></A
><a class="indexterm" name="AUTOID-17891"></A
><a class="indexterm" name="AUTOID-17893"></A
><a class="indexterm" name="AUTOID-17896"></A
><li class="listitem"><p class="para">File permission: <b class="emphasis.bold">umask</B
>, <b class="emphasis.bold">newgrp</B
>. The option <b class="emphasis.bold">privileged</B
>
has been renamed to <b class="emphasis.bold">protected</B
> to reflect the lack of <em class="emphasis">suid</EM
>
permission. Some test conditions have different meanings, as shown
in Table A-1.</P
><table class="table"><caption class="table"><a class="title" name="KSH-APA-TAB-0">Table A.1: File Permission Test Operators</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Operator</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">UNIX Test</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">MKS Toolkit Test</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><b class="emphasis.bold">-g</B
></TD
><td class="entry" rowspan="1" colspan="1"><em class="emphasis">setgid</EM
> bit</TD
><td class="entry" rowspan="1" colspan="1">System attribute</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><b class="emphasis.bold">-k</B
></TD
><td class="entry" rowspan="1" colspan="1">sticky (save text) bit</TD
><td class="entry" rowspan="1" colspan="1">Archive attribute</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><b class="emphasis.bold">-u</B
></TD
><td class="entry" rowspan="1" colspan="1"><em class="emphasis">setuid</EM
> bit</TD
><td class="entry" rowspan="1" colspan="1">Hidden attribute</TD
></TR
></TBODY
></TABLE
></LI
><li class="listitem"><p class="para">Filenames: all scripts must have names with the extension <em class="emphasis">.ksh</EM
>.
Shell-related files have names that don't conform to MS-DOS
file naming rules; Table A-2 shows MKS toolkit equivalents.<a class="indexterm" name="AUTOID-17934"></A
></P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-17940"></A
><a class="indexterm" name="AUTOID-17942"></A
><a class="indexterm" name="AUTOID-17945"></A
><a class="indexterm" name="AUTOID-17947"></A
>Environment variables that contain directory lists, such as <b class="emphasis.bold">PATH</B
>
and <b class="emphasis.bold">MAILPATH</B
>, should use semicolons (<code class="literal">;</CODE
>) instead of colons (<code class="literal">:</CODE
>)
to separate directories, because colons are used in DOS and OS/2
pathnames.</P
><table class="table"><caption class="table"><a class="title" name="KSH-APA-TAB-1">Table A.2: MKS Toolkit Names for Shell Files</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1"><b class="emphasis.bold">UNIX Filename</B
></TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"><b class="emphasis.bold">MKS Toolkit Filename</B
></TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><em class="emphasis">.profile</EM
></TD
><td class="entry" rowspan="1" colspan="1"><em class="emphasis">profile.ksh</EM
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><em class="emphasis">.sh_history</EM
></TD
><td class="entry" rowspan="1" colspan="1"><em class="emphasis">sh_histo</EM
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><em class="emphasis">/etc/profile</EM
></TD
><td class="entry" rowspan="1" colspan="1"><em class="emphasis">\etc\profile.ksh</EM
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><em class="emphasis">/etc/suid_profile</EM
></TD
><td class="entry" rowspan="1" colspan="1"><em class="emphasis">\etc\suid_pro.ksh</EM
></TD
></TR
></TBODY
></TABLE
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-17986"></A
><a class="indexterm" name="AUTOID-17989"></A
><a class="indexterm" name="AUTOID-17992"></A
><a class="indexterm" name="AUTOID-17995"></A
><a class="indexterm" name="AUTOID-17998"></A
><a class="indexterm" name="AUTOID-18001"></A
>Signals: the only ones supported are INT, ALRM, and STOP.
The fake signals ERR and EXIT are supported, but DEBUG is not.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18006"></A
><a class="indexterm" name="AUTOID-18009"></A
><b class="emphasis.bold">PPID</B
> is renamed <b class="emphasis.bold">PID</B
>.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18015"></A
>Condition tests: <b class="emphasis.bold">-a</B
> (file existence) is renamed <b class="emphasis.bold">-e</B
>
to avoid clashing with the <b class="emphasis.bold">-a</B
> operator (for logical &quot;and&quot;)
in the older <em class="emphasis">test</EM
> or <em class="emphasis">[...]</EM
> syntax.
The <b class="emphasis.bold">&gt;</B
> and <b class="emphasis.bold">&lt;</B
> (lexicographic comparisons) aren't supported.</P
></LI
></UL
><p class="para"><a class="indexterm" name="AUTOID-18026"></A
>The MKS shell also supports a few features of its own.
It uses <b class="emphasis.bold">$[</B
>...<b class="emphasis.bold">]</B
> (a la <em class="emphasis">bash</EM
>) as an alternative
syntax for arithmetic expressions, and it includes a few
invocation and <b class="emphasis.bold">set</B
> options that are related to the
underlying operating system.</P
><p class="para">Many UNIX users who have moved to DOS PCs swear by the MKS
Toolkit; it's inexpensive ($299 at this writing), and it makes 
MS-DOS into a reasonable environment for advanced users and software
developers. The Toolkit is available through most 
dealers that sell software tools, or through MKS itself.<a class="indexterm" name="AUTOID-18034"></A
><a class="indexterm" name="AUTOID-18038"></A
>
For more information, contact MKS, 35 King St. North,
Waterloo, Ontario, Canada N2J 2W9, or electronically
as follows:
<table class="informaltable"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Telephone</TD
><td class="entry" rowspan="1" colspan="1">(800) 265-2797 (US &amp; Canada)</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Fax</TD
><td class="entry" rowspan="1" colspan="1">(519) 884 8861</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Internet</TD
><td class="entry" rowspan="1" colspan="1">toolkit@mks.com</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">CompuServe</TD
><td class="entry" rowspan="1" colspan="1">73260,1043</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">BIX</TD
><td class="entry" rowspan="1" colspan="1">mks</TD
></TR
></TBODY
></TABLE
></P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="appa_05.htm" webstripperlinkwas="appa_05.htm" title="A.5 bash"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: A.5 bash" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" title="Learning the Korn Shell"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="Learning the Korn Shell" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="appa_07.htm" webstripperlinkwas="appa_07.htm" title="A.7 The Future of the Korn Shell"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: A.7 The Future of the Korn Shell" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">A.5 bash</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">A.7 The Future of the Korn Shell</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
