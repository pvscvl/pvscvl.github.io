<html><head>
<title>[Appendix A] A.7 The Future of the Korn Shell</TITLE>
<meta name="DC.title" content="Learning the Korn Shell"><meta name="DC.creator" content="Bill Rosenblatt"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-03T21:18:38Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-054-6" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="appa_01.htm" webstripperlinkwas="appa_01.htm" title="A. Related Shells"><link rel="prev" href="appa_06.htm" webstripperlinkwas="appa_06.htm" title="A.6 Workalikes on PC Platforms"><link rel="next" href="appb_01.htm" webstripperlinkwas="appb_01.htm" title="B. Reference Lists"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="Learning the Korn Shell" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,66" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="appa_06.htm" webstripperlinkwas="appa_06.htm" title="A.6 Workalikes on PC Platforms"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: A.6 Workalikes on PC Platforms" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Appendix A<br>Related Shells</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="APPENDIX" href="appb_01.htm" webstripperlinkwas="appb_01.htm" title="B. Reference Lists"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: B. Reference Lists" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="KSH-APA-SECT-7">A.7 The Future of the Korn Shell</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-18060"></A
>David Korn continues to enhance the Korn shell at AT&amp;T Bell Labs.
At this writing, a new release is in beta test-usually the
final step before a piece of software is released.  <a class="indexterm" name="AUTOID-18062"></A
><a class="indexterm" name="AUTOID-18064"></A
><a class="indexterm" name="AUTOID-18066"></A
>
However,
negotiations between AT&amp;T and USL (now Novell UNIX Systems Group) over
distribution rights could very well postpone the new shell's
public release for a couple of years or more.</P
><p class="para">Nevertheless, the new Korn shell has significant enhancements
that make it worth looking forward to. These features are subject
to change between the 
time of this writing and the new shell's public
release. Here are some highlights:<a class="indexterm" name="KSH-APA-IX-NEXT-RELEASE-NEW-FEATURES"></A
><a class="indexterm" name="KSH-APA-IX-NEW-FEATURES-IN-NEXT-RELEASE"></A
></P
><ul class="itemizedlist"><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18077"></A
><a class="indexterm" name="AUTOID-18080"></A
>The ability to customize key bindings, as in 
<em class="emphasis">bash</EM
> and <em class="emphasis">pdksh</EM
> but applicable to
vi- as well as emacs-mode.  <a class="indexterm" name="AUTOID-18085"></A
>
This is implemented 
as another &quot;fake signal&quot; trap (on keystrokes), so
it's extremely flexible.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18090"></A
><a class="indexterm" name="AUTOID-18093"></A
>Many new customization variables and options.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18098"></A
>A greatly expanded set of string operators, providing
substrings, substitutions, and other functionality.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18103"></A
><a class="indexterm" name="AUTOID-18106"></A
>An enhanced array variable facility that provides for 
associative arrays, which can be addressed by their
contents rather than by indices.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18111"></A
>Better prompt string customization capabilities
(with command substitution and arithmetic expression evaluation).</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18117"></A
><a class="indexterm" name="AUTOID-18120"></A
>Floating point (real number) arithmetic.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18125"></A
>An arithmetic <b class="emphasis.bold">for</B
> loop in the style of the C
programming language.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18131"></A
><a class="indexterm" name="AUTOID-18133"></A
>A new option to <b class="emphasis.bold">print</B
> that allows C language
<b class="emphasis.bold">printf()</B
>-style output formatting.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18140"></A
>The ability to add new built-in commands, on systems
that support dynamic loading (the <em class="emphasis">dlopen()</EM
> 
system call).</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18146"></A
>More user control over command lookup order,
as in the POSIX standard and <em class="emphasis">bash</EM
>.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18153"></A
>The ability to set timed &quot;alarms&quot; (with the ALRM signal).</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18158"></A
>Expanded debugging support through additional fake signal traps.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18163"></A
>Online help for built-in commands through a standard
<b class="emphasis.bold">-</B
><code class="literal">?</CODE
> option.</P
></LI
></UL
><p class="para"><a class="indexterm" name="AUTOID-18169"></A
><a class="indexterm" name="AUTOID-18170"></A
><a class="indexterm" name="KSH-APA-IX-NEXT-RELEASE-INCOMPATIBILITIES"></A
><a class="indexterm" name="KSH-APA-IX-INCOMPATIBILITES-IN-NEXT-RELEASE"></A
>The next release is expected to be incompatible with
the 1988 Korn shell in a few ways, some of which are
necessary for POSIX compliance (refer to the section
on POSIX in this Appendix for more details):</P
><ul class="itemizedlist"><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18179"></A
>The <b class="emphasis.bold">alias</B
> command will never display tracked
aliases unless you specify the option <b class="emphasis.bold">-t</B
>.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18187"></A
>Functions defined with <em class="emphasis">fname()</EM
> (the syntax not used in this
book) will have weaker
POSIX-compliant semantics. However, functions defined
with <b class="emphasis.bold">function</B
> <em class="emphasis">fname</EM
> will remain the same.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18195"></A
><a class="indexterm" name="AUTOID-18198"></A
>Tilde expansion can take place inside <b class="emphasis.bold">${</B
>...<b class="emphasis.bold">}</B
>-style
variable expressions, whereas in the 1988 Korn shell,
tildes in these expressions are treated literally.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18205"></A
><b class="emphasis.bold">!</B
> will be a keyword, as it is in the POSIX standard.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18211"></A
><a class="indexterm" name="AUTOID-18215"></A
><a class="indexterm" name="AUTOID-18218"></A
><a class="indexterm" name="AUTOID-18221"></A
><a class="indexterm" name="AUTOID-18225"></A
><a class="indexterm" name="AUTOID-18228"></A
><a class="indexterm" name="AUTOID-18232"></A
><a class="indexterm" name="AUTOID-18235"></A
>Command substitution and arithmetic expression evaluation 
(in addition to parameter expansion)
will be performed on the variables <b class="emphasis.bold">PS1</B
>, <b class="emphasis.bold">PS3</B
>, and <b class="emphasis.bold">ENV</B
>
when they are expanded. This will allow for more flexible
customization of prompt strings and environment files.<a class="indexterm" name="AUTOID-18242"></A
>
It also means that grave accents (<code class="literal">`</CODE
>)
and <b class="emphasis.bold">$(</B
> must be quoted to be taken literally.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18248"></A
><a class="indexterm" name="AUTOID-18251"></A
><a class="indexterm" name="AUTOID-18254"></A
>Output of the built-in commands <b class="emphasis.bold">set</B
>, <b class="emphasis.bold">typeset</B
>,
and <b class="emphasis.bold">alias</B
> will change so that any words containing
special characters are single-quoted-so that these commands'
output can be used directly for input.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18262"></A
>A new expansion operator, <b class="emphasis.bold">$</B
><code class="literal">'</CODE
><b class="emphasis.bold">...</B
><code class="literal">'</CODE
>, is used to
delimit strings that conform to the ANSI C language standard
for character strings. In the 1988 Korn shell, <b class="emphasis.bold">$</B
><code class="literal">'</CODE
> causes
the dollar sign to be treated literally; in future releases,
it must be backslash-escaped.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18273"></A
><b class="emphasis.bold">command</B
> will be a built-in command, as in POSIX.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18279"></A
>Command lookup order will change so that built-in commands
will be treated as if they were installed in <em class="emphasis">/bin</EM
>, i.e.,
will be found at the same time as <em class="emphasis">/bin</EM
> is searched
when the shell goes through your <b class="emphasis.bold">PATH</B
>.
The rules will also change to comply with the POSIX
standard that allows certain
built-in commands to take precedence over functions.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18288"></A
><a class="indexterm" name="AUTOID-18291"></A
><a class="indexterm" name="AUTOID-18294"></A
><a class="indexterm" name="AUTOID-18297"></A
>Signal traps will propagate to subshells (whether nested or shell
scripts invoked from shells) until the subshell issues a <b class="emphasis.bold">trap</B
>
command (on any signal). Currently, traps do
not propagate to subshells; see <a class="xref" href="ch08_01.htm" webstripperlinkwas="ch08_01.htm" title="Process Handling">Chapter 8</A
>.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18304"></A
><a class="indexterm" name="AUTOID-18307"></A
>The built-in variable <b class="emphasis.bold">ERRNO</B
> will be dropped;
exit statuses will reflect system call error numbers.<a class="indexterm" name="AUTOID-18310"></A
><a class="indexterm" name="AUTOID-18311"></A
></P
></LI
></UL
><p class="para"><a class="indexterm" name="KSH-APA-IX-NEXT-RELEASE-OBSOLETE-FEATURES-IN"></A
><a class="indexterm" name="KSH-APA-IX-OBSOLETE-FEATURES-IN-NEXT-RELEASE"></A
>Finally, the following features are expected 
eventually to become obsolete:</P
><ul class="itemizedlist"><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18321"></A
>The command <b class="emphasis.bold">fc</B
> will be renamed <b class="emphasis.bold">hist</B
>;
the built-in variable <b class="emphasis.bold">FCEDIT</B
> will be renamed
<b class="emphasis.bold">HISTEDIT</B
>.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18330"></A
><a class="indexterm" name="AUTOID-18334"></A
>The <b class="emphasis.bold">-t</B
> option to <b class="emphasis.bold">alias</B
>, <b class="emphasis.bold">set -h</B
>, and
<b class="emphasis.bold">set -o trackall</B
>. Alias tracking will always be on.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18344"></A
>The <b class="emphasis.bold">-k</B
> or <b class="emphasis.bold">-o keyword</B
> option.
This will always be off (see <a class="xref" href="ch03_01.htm" webstripperlinkwas="ch03_01.htm" title="Customizing Your Environment">Chapter 3</A
>).</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18353"></A
>Grave accents (<code class="literal">`</CODE
>) for command substitution.
Use <b class="emphasis.bold">$(</B
>...<b class="emphasis.bold">)</B
> instead.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18362"></A
>The <b class="emphasis.bold">-a</B
> (file existence)
condition test will be renamed <b class="emphasis.bold">-e</B
>,
to avoid clashing with the <b class="emphasis.bold">-a</B
> operator (logical &quot;and&quot;)
in the old <em class="emphasis">test</EM
> or <b class="emphasis.bold">[</B
>...<b class="emphasis.bold">]</B
> syntax.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18374"></A
>The <b class="emphasis.bold">=</B
> pattern-matching operator in 
<b class="emphasis.bold">[[</B
>...<b class="emphasis.bold">]]</B
> condition tests
will be replaced by <b class="emphasis.bold">==</B
> for better syntactic alignment
with the C language.</P
></LI
><li class="listitem"><p class="para"><a class="indexterm" name="AUTOID-18384"></A
>The arithmetic comparisons <b class="emphasis.bold">-eq</B
>, <b class="emphasis.bold">-lt</B
>, etc.
Use <b class="emphasis.bold">((</B
>...<b class="emphasis.bold">))</B
> instead.<a class="indexterm" name="AUTOID-18392"></A
><a class="indexterm" name="AUTOID-18393"></A
><a class="indexterm" name="AUTOID-18394"></A
></P
></LI
></UL
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="appa_06.htm" webstripperlinkwas="appa_06.htm" title="A.6 Workalikes on PC Platforms"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: A.6 Workalikes on PC Platforms" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" title="Learning the Korn Shell"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="Learning the Korn Shell" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="APPENDIX" href="appb_01.htm" webstripperlinkwas="appb_01.htm" title="B. Reference Lists"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: B. Reference Lists" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">A.6 Workalikes on PC Platforms</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">B. Reference Lists</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
