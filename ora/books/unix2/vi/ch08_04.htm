<html><head><title>[Chapter 8] 8.4 Extended Regular Expressions</TITLE
><meta name="DC.Creator" content="Linda Lamb &amp; Arnold Robbins"><meta name="DC.Date" content="1999-11-23T17:57:20Z"><meta name="DC.Format" content="text/html" scheme="MIME"><meta name="DC.Identifier" content="O'Reilly Unix CDROM-unknown"><meta name="DC.Language" content="en-US"><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.Source" content="unknown" scheme="ISBN"><meta name="DC.Subject.Keyword" content="Unix, vi, text, editor, tool"><meta name="DC.Title" content="Learning the vi Editor"><meta name="DC.Type" content="Text.Monograph"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch08_01.htm" webstripperlinkwas="ch08_01.htm" title="8. vi Clones Feature Summary"><link rel="prev" href="ch08_03.htm" webstripperlinkwas="ch08_03.htm" title="8.3 GUI Interfaces"><link rel="next" href="ch08_05.htm" webstripperlinkwas="ch08_05.htm" title="8.5 Enhanced Tags"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="Learning the vi Editor" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch08_03.htm" webstripperlinkwas="ch08_03.htm" title="8.3 GUI Interfaces"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 8.3 GUI Interfaces" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch08_01.htm" webstripperlinkwas="ch08_01.htm" title="8. vi Clones Feature Summary">Chapter 8<br>vi Clones Feature Summary</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch08_05.htm" webstripperlinkwas="ch08_05.htm" title="8.5 Enhanced Tags"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 8.5 Enhanced Tags" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="VI6-CH-8-SECT-4">8.4 Extended Regular Expressions</A
></H2
><p class="para"><a class="indexterm" name="CH08.REGEXP1"></A
><a class="indexterm" name="CH08.REGEXP2"></A
><a class="indexterm" name="CH08.REGEXP4"></A
><a class="indexterm" name="CH08.REGEXP5"></A
>The metacharacters available in <kbd class="command">vi</KBD
>'s
search and substitution regular expressions are described in
<a class="xref" href="ch06_03.htm" webstripperlinkwas="ch06_03.htm#VI6-CH-6-SECT-3.1">Section 6.3.1, "Metacharacters Used in Search Patterns "</A
> in <a class="xref" href="ch06_01.htm" webstripperlinkwas="ch06_01.htm">Chapter 6</A
> in <a class="xref" href="ch06_01.htm" webstripperlinkwas="ch06_01.htm">Chapter 6, <cite class="CHAPTER">Global Replacement</CITE
></A
>.
Each of the clones provides some form of extended regular
expressions, either as an option or always available.
Typically these are the same (or almost the same) as what's provided
by <kbd class="command">egrep</KBD
>.  Unfortunately, each one's
extended flavor is slightly different from the others'.</P
><p class="para">To give you a feel for what extended regular expressions can
do, we present them
in the context of <kbd class="command">nvi</KBD
>.
Each clone's chapter then describes that editor's
extended syntax, without repeating the examples.</P
><p class="para"><a class="indexterm" name="AUTOID-10281"></A
><kbd class="command">nvi</KBD
> extended regular expressions are the Extended Regular
Expressions (EREs) as defined by the POSIX standard.
In order to enable this feature, use <code class="literal">set extended</CODE
>
from either your <i class="filename">.nexrc</I
> file
or from the <kbd class="command">ex</KBD
> colon prompt.</P
><p class="para">Besides the standard metacharacters described in
<a class="xref" href="ch06_01.htm" webstripperlinkwas="ch06_01.htm">Chapter 6</A
>, and the POSIX bracket expressions mentioned in
<a class="xref" href="ch06_03.htm" webstripperlinkwas="ch06_03.htm#VI6-CH-6-SECT-3.2">Section 6.3.2, "POSIX Bracket Expressions"</A
> in <a class="xref" href="ch06_01.htm" webstripperlinkwas="ch06_01.htm">Chapter 6</A
> in the same chapter,
the following metacharacters are available:</P
><dl class="variablelist"><dt class="term"><code class="literal">|</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-10297"></A
><a class="indexterm" name="AUTOID-10300"></A
><a class="indexterm" name="AUTOID-10303"></A
>Indicates alternation.
For example, <code class="literal">a|b</CODE
> matches either
<em class="emphasis">a</EM
> or <em class="emphasis">b</EM
>.
However, this construct is not limited to single characters:
<code class="literal">house|home</CODE
> matches either
of the strings <em class="emphasis">house</EM
> or <em class="emphasis">home</EM
>.</P
></DD
><dt class="term"><code class="literal">(...)</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-10316"></A
><a class="indexterm" name="AUTOID-10319"></A
>Used for grouping, to allow the application
of additional regular expression operators. For example, <code class="literal">house|home</CODE
>
can be shortened (if not simplified) to <code class="literal">ho(use|me)</CODE
>.
The <code class="literal">*</CODE
>
operator can be applied to text in parentheses:
<code class="literal">(house|home)*</CODE
>
matches
<em class="emphasis">home</EM
>,
<em class="emphasis">homehouse</EM
>,
<em class="emphasis">househomehousehouse</EM
>
and so on.</P
><p class="para">When <code class="literal">extended</CODE
> is set, text grouped
with parentheses acts like text grouped in <code class="literal">\(...\)</CODE
>
in regular <kbd class="command">vi</KBD
>; the actual text matched can be
retrieved in the replacement part of a substitute command with
<code class="literal">\1</CODE
>, <code class="literal">\2</CODE
>, etc.
In this case, <code class="literal">\(</CODE
> represents a literal left parenthesis.</P
></DD
><dt class="term"><code class="literal">+</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-10341"></A
><a class="indexterm" name="AUTOID-10344"></A
>Matches <em class="emphasis">one</EM
> or more of the preceding regular expressions.
This is either a single character, or a group of characters enclosed
in parentheses.
Note the difference between <code class="literal">+</CODE
> and <code class="literal">*</CODE
>.
The <code class="literal">*</CODE
> is allowed to match nothing, but with
<code class="literal">+</CODE
> there must be at least one match.
For example, <code class="literal">ho(use|me)*</CODE
> matches <em class="emphasis">ho</EM
>
as well as <em class="emphasis">home</EM
> and <em class="emphasis">house</EM
>, but
<code class="literal">ho(use|me)+</CODE
> will not match <em class="emphasis">ho</EM
>.</P
></DD
><dt class="term"><code class="literal">?</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-10363"></A
><a class="indexterm" name="AUTOID-10366"></A
>Matches zero or one occurrence of the preceding regular expression.
This indicates &quot;optional&quot; text that is either present or
not present. For example, <code class="literal">free?d</CODE
> will match
either <em class="emphasis">fred</EM
> or <em class="emphasis">freed</EM
>, but
nothing else.</P
></DD
><dt class="term"><code class="literal">{...}</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-10377"></A
><a class="indexterm" name="AUTOID-10380"></A
><a class="indexterm" name="AUTOID-10383"></A
>Defines an <em class="emphasis">interval expression</EM
>.
Interval expressions describe counted numbers of repetitions.
In the description below, <em class="emphasis">n</EM
> and <em class="emphasis">m</EM
>
represent integer constants.</P
><dl class="variablelist"><dt class="term"><code class="literal">{</CODE
><code class="replaceable"><i>n</I
></CODE
><code class="literal">}</CODE
></DT
><dd class="listitem"><p class="para">Matches exactly <em class="emphasis">n</EM
> repetitions of the
previous regular expression. For example, <code class="literal">(home|house){2}</CODE
>
matches
<em class="emphasis">homehome</EM
>,
<em class="emphasis">homehouse</EM
>,
<em class="emphasis">househome</EM
>,
and
<em class="emphasis">househouse</EM
>,
but nothing else.</P
></DD
><dt class="term"><code class="literal">{</CODE
><code class="replaceable"><i>n</I
></CODE
><code class="literal">,}</CODE
></DT
><dd class="listitem"><p class="para">Matches <em class="emphasis">n</EM
> or more repetitions of the
previous regular expression.
Think of it as &quot;as least <em class="emphasis">n</EM
>&quot;
repititions.</P
></DD
><dt class="term"><code class="literal">{</CODE
><code class="replaceable"><i>n</I
></CODE
><code class="literal">,</CODE
><code class="replaceable"><i>m</I
></CODE
><code class="literal">}</CODE
></DT
><dd class="listitem"><p class="para">Matches <em class="emphasis">n</EM
> to <em class="emphasis">m</EM
> repititions.
The bounding is important, since it controls how much text would be
replaced during a substitute command.[<a class="footnote" href="#AUTOID-10423">5</A
>]</P
><blockquote class="footnote"><div class="footnote"><p class="para"><a class="footnote" name="AUTOID-10423">[5]</A
> The <code class="literal">*</CODE
>, <code class="literal">+</CODE
>,
 and <code class="literal">?</CODE
> operators can be reduced
to <code class="literal">{0,}</CODE
>, <code class="literal">{1,}</CODE
>
and <code class="literal">{0,1}</CODE
> respectively,
but they are much more convenient to use.</P
></DIV
></BLOCKQUOTE
></DD
></DL
><p class="para">When <code class="literal">extended</CODE
> is not set, <kbd class="command">nvi</KBD
>
provides the same functionality with <code class="literal">\{</CODE
>
and <code class="literal">\}</CODE
>.</P
></DD
></DL
><a class="indexterm" name="AUTOID-10436"></A
><a class="indexterm" name="AUTOID-10437"></A
><a class="indexterm" name="AUTOID-10438"></A
><a class="indexterm" name="AUTOID-10439"></A
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch08_03.htm" webstripperlinkwas="ch08_03.htm" title="8.3 GUI Interfaces"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 8.3 GUI Interfaces" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" title="Learning the vi Editor"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="Learning the vi Editor" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch08_05.htm" webstripperlinkwas="ch08_05.htm" title="8.5 Enhanced Tags"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 8.5 Enhanced Tags" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">8.3 GUI Interfaces</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">8.5 Enhanced Tags</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>

