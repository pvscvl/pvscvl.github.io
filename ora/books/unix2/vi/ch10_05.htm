<html><head><title>[Chapter 10] 10.5 Multiwindow Editing</TITLE
><meta name="DC.Creator" content="Linda Lamb &amp; Arnold Robbins"><meta name="DC.Date" content="1999-11-23T17:57:47Z"><meta name="DC.Format" content="text/html" scheme="MIME"><meta name="DC.Identifier" content="O'Reilly Unix CDROM-unknown"><meta name="DC.Language" content="en-US"><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.Source" content="unknown" scheme="ISBN"><meta name="DC.Subject.Keyword" content="Unix, vi, text, editor, tool"><meta name="DC.Title" content="Learning the vi Editor"><meta name="DC.Type" content="Text.Monograph"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch10_01.htm" webstripperlinkwas="ch10_01.htm" title="10. elvis"><link rel="prev" href="ch10_04.htm" webstripperlinkwas="ch10_04.htm" title="10.4 Initialization"><link rel="next" href="ch10_06.htm" webstripperlinkwas="ch10_06.htm" title="10.6 GUI Interfaces"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="Learning the vi Editor" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch10_04.htm" webstripperlinkwas="ch10_04.htm" title="10.4 Initialization"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 10.4 Initialization" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch10_01.htm" webstripperlinkwas="ch10_01.htm" title="10. elvis">Chapter 10<br>elvis</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch10_06.htm" webstripperlinkwas="ch10_06.htm" title="10.6 GUI Interfaces"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 10.6 GUI Interfaces" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="VI6-CH-10-SECT-5">10.5 Multiwindow Editing</A
></H2
><p class="para"><a class="indexterm" name="CH10.MULTIWINDOW1"></A
><a class="indexterm" name="CH10.MULTIWINDOW2"></A
><a class="indexterm" name="CH10.MULTIWINDOW3"></A
><a class="indexterm" name="CH10.MULTIWINDOW4"></A
><a class="indexterm" name="CH10.MULTIWINDOW6"></A
>To create a new window in <kbd class="command">elvis</KBD
>, you use the
<kbd class="command">ex</KBD
> <code class="literal">:split</CODE
> command.
You then use one of the regular <kbd class="command">ex</KBD
> commands,
such as <code class="literal">:e</CODE
> <code class="replaceable"><i>filename</I
></CODE
>
or <code class="literal">:n</CODE
> to edit a new file.
This is the simplest method; other, shorter methods are described
below.
You can switch back and forth between windows with
<kbd class="keycap">[CTRL-W]</KBD
><kbd class="keycap">[CTRL-W]</KBD
>.</P
><blockquote class="screen"><pre class="screen">&lt;preface id=&quot;VI6-CH-0&quot;&gt;
&lt;title&gt;Preface &lt;/title&gt;

&lt;para&gt;
Text editing is one of the most common uses of any computer system, and
&lt;command&gt;vi&lt;/command&gt; is one of the most useful standard text editors
on your system.
With &lt;command&gt;vi&lt;/command&gt; you can create new files, or edit any
existing UNIX text file.
_____________________________________________________________________
# Makefile for vi book
#
# Arnold Robbins

CHAPTERS = ch00_6.sgm ch00_5.sgm ch00.sgm ch01.sgm ch02.sgm ch03.sgm \
        ch04.sgm ch05.sgm ch06.sgm ch07.sgm ch08.sgm
APPENDICES = appa.sgm appb.sgm appc.sgm appd.sgm

POSTSCRIPT = ch00_6.ps ch00_5.ps ch00.ps ch01.ps ch02.ps ch03.ps \
        ch04.ps ch05.ps ch06.ps ch07.ps ch08.ps \
        appa.ps appb.ps appc.ps appd.ps</PRE
></BLOCKQUOTE
><p class="para">The split screen is the result of typing
<code class="literal">elvis ch00.sgm</CODE
> followed by
<code class="literal">:split Makefile</CODE
>.</P
><p class="para">Like <kbd class="command">nvi</KBD
>, <kbd class="command">elvis</KBD
> gives each window
its own status line.  <kbd class="command">elvis</KBD
> is unique in that it
uses a highlighted line of underscores, instead of reverse video, for
the status line.  <kbd class="command">ex</KBD
> colon commands are carried out
on each window's status line.</P
><p class="para"><a class="xref" href="#VI6-CH-10-TAB-1">Table 10.1</A
> describes the windowing
<kbd class="command">ex</KBD
> mode commands and what they do.</P
><br><table class="table" border="1" cellpadding="3"><caption class="table"><a class="title" name="VI6-CH-10-TAB-1">Table 10.1: elvis Window Management Commands</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Command</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Function</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">sp</CODE
>[<code class="literal">lit</CODE
>] [<code class="replaceable"><i>file</I
></CODE
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Create a new window;<a class="indexterm" name="AUTOID-12971"></A
>
load it with <em class="emphasis">file</EM
>
if supplied. Otherwise, the new window shows the current file.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">new</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Create a new empty buffer,<a class="indexterm" name="AUTOID-12980"></A
>
and then create a new window to show that buffer.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">sne</CODE
>[<code class="literal">w</CODE
>]</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">sn</CODE
>[<code class="literal">ext</CODE
>] [<code class="replaceable"><i>file...</I
></CODE
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Create a new window,<a class="indexterm" name="AUTOID-12994"></A
><a class="indexterm" name="AUTOID-12996"></A
>
showing the next file in the argument list.
The current file is not affected.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">sN</CODE
>[<code class="literal">ext</CODE
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Create a new window, showing the
<em class="emphasis">previous</EM
> file in the argument list.<a class="indexterm" name="AUTOID-13006"></A
>
The current file is not affected.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">sre</CODE
>[<code class="literal">wind</CODE
>][<code class="literal">!</CODE
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Create a new window,
showing the first file in the argument<a class="indexterm" name="AUTOID-13016"></A
>
list. Reset the &quot;current&quot; file to be the first one with
respect to the <code class="literal">:next</CODE
> command.
The current file is not affected.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">sl</CODE
>[<code class="literal">ast</CODE
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Create a new window,<a class="indexterm" name="AUTOID-13026"></A
>
showing the last file in the argument list.
The current file is not affected.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">sta</CODE
>[<code class="literal">g</CODE
>][<code class="literal">!</CODE
>] <code class="replaceable"><i>tag</I
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Create a new window showing the file<a class="indexterm" name="AUTOID-13037"></A
>
where the requested
<em class="emphasis">tag</EM
> is found.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">sa</CODE
>[<code class="literal">ll</CODE
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Create a new window for any<a class="indexterm" name="AUTOID-13047"></A
>
files named in the
argument list that don't already have a window.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">wi</CODE
>[<code class="literal">ndow</CODE
>] [<code class="replaceable"><i>target</I
></CODE
>]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>With no <em class="emphasis">target</EM
>,<a class="indexterm" name="AUTOID-13058"></A
>
list all windows.
The possible values for <em class="emphasis">target</EM
> are described
in <a class="xref" href="#VI6-CH-10-TAB-2">Table 10.2</A
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">close</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Close the current window.
The buffer that the window was<a class="indexterm" name="AUTOID-13068"></A
>
displaying remains intact. If it was modified, the other
<kbd class="command">elvis</KBD
> commands that quit will prevent you
from quitting until you explicitly save or discard the buffer.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">wquit</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Write the buffer back to the file
and close the window.<a class="indexterm" name="AUTOID-13077"></A
>
The file is saved whether or not it has been modified.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">qall</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Issues a <code class="literal">:q</CODE
> command<a class="indexterm" name="AUTOID-13086"></A
>
for each window. Buffers without windows are not affected.</P
></TD
></TR
></TBODY
></TABLE
><p class="para"><a class="xref" href="#VI6-CH-10-TAB-2">Table 10.2</A
> describes the windowing
<em class="emphasis">ex</EM
> arguments and their meanings.</P
><br><table class="table" border="1" cellpadding="3"><caption class="table"><a class="title" name="VI6-CH-10-TAB-2">Table 10.2: Arguments to the elvis Window command</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Argument</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Meaning</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">+</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Switch to the next window,
like <code class="literal">^W k</CODE
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">++</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Switch to the next window,
wrapping like <code class="literal">^W ^W</CODE
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">-</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Switch to the previous window,
like <code class="literal">^W j</CODE
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">--</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Switch to the previous window,
wrapping.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="replaceable"><i>num</I
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Switch to the window whose
windowid=<em class="emphasis">num</EM
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="replaceable"><i>buffer-name</I
></CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Switch to the window
editing the named buffer.</P
></TD
></TR
></TBODY
></TABLE
><p class="para"><kbd class="command">elvis</KBD
> provides a number of <kbd class="command">vi</KBD
> mode
commands for moving between windows. They are summarized
in <a class="xref" href="#VI6-CH-10-TAB-3">Table 10.3</A
>.</P
><br><table class="table" border="1" cellpadding="3"><caption class="table"><a class="title" name="VI6-CH-10-TAB-3">Table 10.3: elvis Window Commands from vi Command Mode</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Command</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Function</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W c</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Hide the buffer and close the window.
This is identical to the<a class="indexterm" name="AUTOID-13161"></A
>
<code class="literal">:close</CODE
> command.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W d</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Toggle the display mode between
&quot;normal&quot; and the
buffer's usual display mode.
This is a per-window option.
Display modes are discussed
in <a class="xref" href="ch10_10.htm" webstripperlinkwas="ch10_10.htm">Section 10.10.1, "Display Modes"</A
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W j</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Move down to
the next window.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W k</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Move up to the
previous window.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W n</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Create a new window,
and create a new buffer to be displayed in
the window. It is similar to the
<code class="literal">:snew</CODE
> command.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W q</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Save the buffer and close the window,
identical to <code class="literal">ZZ</CODE
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W s</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Split the current window,
equivalent to <code class="literal">:split</CODE
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W S</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Toggle the
<code class="literal">wrap</CODE
> option.
This option controls whether long lines wrap, or whether the whole
screen scrolls to the right.
This is a per-window option.
This option is discussed
in <a class="xref" href="ch10_08.htm" webstripperlinkwas="ch10_08.htm#VI6-CH-10-SECT-8.5">Section 10.8.5, "Left-Right Scrolling"</A
> later in this chapter.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W ]</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Create a new window,
then look up the tag underneath the cursor.
It is similar to the <code class="literal">:stag</CODE
> command.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">[<code class="replaceable"><i>count</I
></CODE
>] <code class="literal">^W ^W</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Move to next window,
or to the <em class="emphasis">count</EM
>th window.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W +</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Increase the size of the current window
(<em class="emphasis">termcap</EM
> interface only).</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W -</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Reduce the size of the current window
(<em class="emphasis">termcap</EM
> interface only).</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">^W \</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Make the current window as large as possible
(<em class="emphasis">termcap</EM
> interface only).</P
></TD
></TR
></TBODY
></TABLE
><a class="indexterm" name="AUTOID-13250"></A
><a class="indexterm" name="AUTOID-13251"></A
><a class="indexterm" name="AUTOID-13252"></A
><a class="indexterm" name="AUTOID-13253"></A
><a class="indexterm" name="AUTOID-13254"></A
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch10_04.htm" webstripperlinkwas="ch10_04.htm" title="10.4 Initialization"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 10.4 Initialization" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" title="Learning the vi Editor"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="Learning the vi Editor" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch10_06.htm" webstripperlinkwas="ch10_06.htm" title="10.6 GUI Interfaces"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 10.6 GUI Interfaces" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">10.4 Initialization</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">10.6 GUI Interfaces</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>

