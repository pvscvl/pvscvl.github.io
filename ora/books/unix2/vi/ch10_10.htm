<html><head><title>[Chapter 10] 10.10 Interesting Features</TITLE
><meta name="DC.Creator" content="Linda Lamb &amp; Arnold Robbins"><meta name="DC.Date" content="1999-11-23T17:58:21Z"><meta name="DC.Format" content="text/html" scheme="MIME"><meta name="DC.Identifier" content="O'Reilly Unix CDROM-unknown"><meta name="DC.Language" content="en-US"><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.Source" content="unknown" scheme="ISBN"><meta name="DC.Subject.Keyword" content="Unix, vi, text, editor, tool"><meta name="DC.Title" content="Learning the vi Editor"><meta name="DC.Type" content="Text.Monograph"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch10_01.htm" webstripperlinkwas="ch10_01.htm" title="10. elvis"><link rel="prev" href="ch10_09.htm" webstripperlinkwas="ch10_09.htm" title="10.9 Programming Assistance"><link rel="next" href="ch10_11.htm" webstripperlinkwas="ch10_11.htm" title="10.11 elvis Futures"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="Learning the vi Editor" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch10_09.htm" webstripperlinkwas="ch10_09.htm" title="10.9 Programming Assistance"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 10.9 Programming Assistance" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch10_01.htm" webstripperlinkwas="ch10_01.htm" title="10. elvis">Chapter 10<br>elvis</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch10_11.htm" webstripperlinkwas="ch10_11.htm" title="10.11 elvis Futures"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 10.11 elvis Futures" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="VI6-CH-10-SECT-10">10.10 Interesting Features</A
></H2
><p class="para"><a class="indexterm" name="CH10.INTERESTING"></A
><kbd class="command">elvis</KBD
> has a number of interesting features:</P
><dl class="variablelist"><dt class="term">Internationalization support</DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-14354"></A
>Like <kbd class="command">nvi</KBD
>,
<kbd class="command">elvis</KBD
> also has a home-grown method for
allowing translations of messages into different languages.<a class="indexterm" name="AUTOID-14359"></A
>
The <i class="filename">elvis.msg</I
> file is searched for along
the <code class="literal">elvispath</CODE
> and loaded into a buffer named
<code class="literal">Elvis messages</CODE
>.</P
><p class="para">Messages have the form
&quot;<em class="emphasis">terse message</EM
><code class="literal">:</CODE
><em class="emphasis">long message.</EM
>&quot;
Before printing a message, <kbd class="command">elvis</KBD
> looks up the
terse form, and if there is a corresponding long form, that
message is used.
Otherwise, the terse message is used.</P
></DD
><dt class="term">Display modes</DT
><dd class="listitem"><p class="para">This is perhaps the most interesting of <kbd class="command">elvis</KBD
>'
features.
For certain kinds of files, <kbd class="command">elvis</KBD
>
formats the file content on the screen, giving a surprisingly good
approximation of a WYSIWYG effect.
<kbd class="command">elvis</KBD
> can also use the same formatting for
printing the buffer to several kinds of printers.
Display modes get their own subsection, below.</P
></DD
><dt class="term">Pre- and post-operation command files</DT
><dd class="listitem"><p class="para"><kbd class="command">elvis</KBD
> loads four files (if they exist),
that allow you to customize its behavior before and after
reading and writing a file.
This feature also gets its own subsection, below.</P
></DD
><dt class="term">Open mode</DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-14385"></A
><kbd class="command">elvis</KBD
> is the only one of the clones that
actually implements <kbd class="command">vi</KBD
>'s open mode.
(Think of open mode as like <kbd class="command">vi</KBD
>, but with only
a one-line window.
The &quot;advantage&quot; to open mode is that it can be used
on terminals that don't have cursor motion capabilities.)</P
></DD
><dt class="term">Security</DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-14394"></A
><a class="indexterm" name="AUTOID-14396"></A
><a class="indexterm" name="AUTOID-14398"></A
>The <code class="literal">:safer</CODE
> command sets the <code class="literal">safer</CODE
>
option for execution of non-home-directory <i class="filename">.exrc</I
>
files, or any other untrusted files. When <code class="literal">safer</CODE
>
is set, &quot;certain commands are disabled, wildcard
expansion in filenames is disabled, and certain options are locked (including
the <code class="literal">safer</CODE
> option itself)&quot;.
The <kbd class="command">elvis</KBD
> documentation is no more
specific than this; don't blindly trust <kbd class="command">elvis</KBD
> to
provide complete security for you.</P
></DD
><dt class="term">Built-in calculator</DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-14412"></A
><a class="indexterm" name="AUTOID-14414"></A
><a class="indexterm" name="AUTOID-14416"></A
><a class="indexterm" name="AUTOID-14418"></A
><kbd class="command">elvis</KBD
> extends the <kbd class="command">ex</KBD
> command
language with a built-in calculator (sometimes referred to as
an expression evaluator in the documentation). It understands C
expression syntax, and is most used in the <code class="literal">:if</CODE
>,
<code class="literal">:calc</CODE
>, and <code class="literal">:eval</CODE
> commands.
See the online help for the details, as well as the sample
initialization files in the <kbd class="command">elvis</KBD
> distribution
for examples.</P
></DD
><dt class="term">Macro debugger (2.1)</DT
><dd class="listitem"><p class="para"><kbd class="command">elvis</KBD
> 2.1 has a debugger for <kbd class="command">vi</KBD
>
macros (the <code class="literal">:map</CODE
> command). This can be useful when
writing complicated input or command maps.</P
></DD
></DL
><div class="sect2"><h3 class="sect2"><a class="title" name="VI6-CH-10-SECT-10.1">10.10.1 Display Modes</A
></H3
><p class="para"><a class="indexterm" name="CH10.DISPLAY1"></A
><a class="indexterm" name="CH10.DISPLAY2"></A
><a class="indexterm" name="CH10.DISPLAY3"></A
><a class="indexterm" name="CH10.DISPLAY4"></A
><a class="indexterm" name="CH10.DISPLAY5"></A
><a class="indexterm" name="CH10.DISPLAY6"></A
><a class="indexterm" name="CH10.DISPLAY7"></A
><kbd class="command">elvis</KBD
> has several display modes.
Depending on the kind of file, <kbd class="command">elvis</KBD
>
produces a formatted version of the file,
producing a WYSIWYG effect.
The display modes are outlined in <a class="xref" href="#VI6-CH-10-TAB-11">Table 10.11</A
>.</P
><br><table class="table" border="1" cellpadding="3"><caption class="table"><a class="title" name="VI6-CH-10-TAB-11">Table 10.11: elvis Display Modes</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Mode</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Display Appearance</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">normal</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>No formatting,<a class="indexterm" name="AUTOID-14478"></A
>
displays your text as it exists in the file.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">syntax</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Like <code class="literal">normal</CODE
>,<a class="indexterm" name="AUTOID-14487"></A
>
but with syntax coloring turned on.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">hex</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>An interactive hex dump,
reminiscent of mainframe hex dumps.<a class="indexterm" name="AUTOID-14495"></A
>
This is good for editing binary files.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">html</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>A simple Web
page formatter. The tag commands can be used to<a class="indexterm" name="CH10.MODE1"></A
>
follow links and return.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">man</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Simple man page formatter.
Like the output of<a class="indexterm" name="CH10.MODE2"></A
>
<code class="literal">nroff</CODE
> -<code class="literal">man</CODE
>.</P
></TD
></TR
></TBODY
></TABLE
><p class="para"><a class="indexterm" name="AUTOID-14516"></A
><a class="indexterm" name="AUTOID-14518"></A
>The <code class="literal">:normal</CODE
> command will switch the display from
one of the formatted views to <code class="literal">normal</CODE
> mode.
Use <code class="literal">:display</CODE
> <code class="replaceable"><i>mode</I
></CODE
>
to switch back. As a shortcut, the <code class="literal">^W d</CODE
>
command will toggle the display modes for the window.</P
><p class="para">Of the available modes, <code class="literal">html</CODE
> and <code class="literal">man</CODE
>
are the most WYSIWYG in nature.
The online documentation clearly defines the subset of both
markup languages that <kbd class="command">elvis</KBD
> understands.</P
><p class="para"><kbd class="command">elvis</KBD
> uses
the <code class="literal">html</CODE
> mode for displaying its online
help, which is written in HTML and has <em class="emphasis">many</EM
>
cross-referencing links within it.</P
><p class="para">The example below shows <kbd class="command">elvis</KBD
> editing one of the
HTML help files. The screen is split. Both windows show the
same buffer; the bottom window is using the <code class="literal">html</CODE
>
display mode, while the top is using the <code class="literal">normal</CODE
>
display mode:</P
><blockquote class="screen"><pre class="screen">&lt;html&gt;&lt;head&gt;
&lt;title&gt;Elvis 2.0 Sessions&lt;/title&gt;
&lt;/head&gt;&lt;body&gt;

&lt;h1&gt;10. SESSIONS, INITIALIZATION, AND RECOVERY&lt;/h1&gt;

This section of the manual describes the life-cycle of an
edit session. We begin with the definition of an
&lt;a href=&quot;#SESSION&quot;&gt;edit session&lt;/a&gt; and
what that means to elvis.
This is followed by sections discussing
&lt;a href=&quot;#INIT&quot;&gt;initialization&lt;/a&gt;
and &lt;a href=&quot;#RECOVER&quot;&gt;recovery after a crash.&lt;/a&gt;
_____________________________________________________________________


<b class="emphasis.bold">10.0 SESSIONS, INITIALIZATION, AND RECOVERY</B
>

        This section of the manual describes the life-cycle of an
        edit session. We begin with the definition of an <b class="emphasis.bold">edit
        session</B
> and what that means to elvis. This is
        followed by sections discussing <b class="emphasis.bold">initialization</B
> and 
        <b class="emphasis.bold">recovery after a crash.</B
>

    <b class="emphasis.bold">10.1 Sessions</B
></PRE
></BLOCKQUOTE
><p class="para">The <code class="literal">man</CODE
> mode is also interesting, since
normally you have to format and print a man page to be sure you've
done a decent job of laying it out.
The following quote from the online help seems appropriate.</P
><blockquote class="blockquote"><p class="para">Troff source was never designed to be interactively edited, and although
I did the best I could, attempting to edit in <code class="literal">man</CODE
> mode
is still a disorienting experience.
I suggest you get in the habit of using <code class="literal">normal</CODE
> mode
when making changes, and
<code class="literal">man</CODE
> mode to preview the effect of those changes.
The <code class="literal">^W d</CODE
> command makes switching between modes
a pretty easy thing to do.</P
></BLOCKQUOTE
><p class="para">As an interesting adjunct, both the <code class="literal">html</CODE
>
and <code class="literal">man</CODE
> modes also work with the
<code class="literal">:color</CODE
> command described in
<a class="xref" href="ch10_09.htm" webstripperlinkwas="ch10_09.htm#VI6-CH-10-SECT-9.2">Section 10.9.2, "Syntax Highlighting"</A
>.
This is particularly nice with <code class="literal">man</CODE
> mode.
For example,
by default on a Linux console, only bold text (.B)
is distinguishable
from normal text. But with syntax coloring on, both bold and
italic (.I) text become distinct.
The mode commands are summarized in
<a class="xref" href="#VI6-CH-10-TAB-12">Table 10.12</A
>.<a class="indexterm" name="AUTOID-14558"></A
><a class="indexterm" name="AUTOID-14559"></A
></P
><br><table class="table" border="1" cellpadding="3"><caption class="table"><a class="title" name="VI6-CH-10-TAB-12">Table 10.12: elvis Display Mode Commands</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Command</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Function</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">di</CODE
>[<code class="literal">splay</CODE
>] [<code class="replaceable"><i>mode</I
></CODE
> [<code class="replaceable"><i>lang</I
></CODE
>]]</TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Change the display mode<a class="indexterm" name="AUTOID-14579"></A
><a class="indexterm" name="AUTOID-14581"></A
>
to <em class="emphasis">mode</EM
>.
Use <em class="emphasis">lang</EM
> for <code class="literal">syntax</CODE
> mode.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">no[<code class="literal">rmal</CODE
>]</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Same as<a class="indexterm" name="AUTOID-14593"></A
><a class="indexterm" name="AUTOID-14595"></A
>
<code class="literal">:display normal</CODE
>,
but much easier to type.</P
></TD
></TR
></TBODY
></TABLE
><p class="para"><a class="indexterm" name="AUTOID-14599"></A
>Associated with each window is the <code class="literal">bufdisplay</CODE
>
option, which should be set to one of the supported display modes.<a class="indexterm" name="AUTOID-14602"></A
>
The standard <i class="filename">elvis.arf</I
> file (see the
next subsection) will look at the extension of the buffer's
filename and attempt to set the display to a more interesting mode
than <code class="literal">normal</CODE
>.</P
><p class="para">Finally, <kbd class="command">elvis</KBD
> can also apply its WYSIWYG formatting
to printing the contents of a buffer.<a class="indexterm" name="AUTOID-14608"></A
><a class="indexterm" name="AUTOID-14610"></A
><a class="indexterm" name="AUTOID-14613"></A
>
The <code class="literal">:lpr</CODE
> command formats a line range (or the
whole buffer, by default) for printing.
You can print to a file or down a pipe to a command.
By default, <kbd class="command">elvis</KBD
> prints to a pipe
that executes the system print spooling command.</P
><p class="para">The <code class="literal">:lpr</CODE
> command is controlled by several
options, described in <a class="xref" href="#VI6-CH-10-TAB-13">Table 10.13</A
>.</P
><br><table class="table" border="1" cellpadding="3"><caption class="table"><a class="title" name="VI6-CH-10-TAB-13">Table 10.13: elvis Options for Print Management</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Option</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Function</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">lptype</CODE
>, <code class="literal">lp</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>The printer type.<a class="indexterm" name="AUTOID-14638"></A
></P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">lpconvert</CODE
>, <code class="literal">lpcvt</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>If set, convert Latin-8 extended
ASCII to PC-8 extended ASCII.<a class="indexterm" name="AUTOID-14647"></A
></P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">lpcrlf</CODE
>, <code class="literal">lpc</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>The printer needs CR-LF to
end each line.<a class="indexterm" name="AUTOID-14656"></A
></P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">lpout</CODE
>, <code class="literal">lpo</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>The file or command
to print to.<a class="indexterm" name="AUTOID-14665"></A
></P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">lpcolumns</CODE
>, <code class="literal">lpcols</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>The printer's width.<a class="indexterm" name="AUTOID-14674"></A
></P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">lpwrap</CODE
>, <code class="literal">lpw</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Simulate line wrapping.<a class="indexterm" name="AUTOID-14683"></A
></P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">lplines</CODE
>, <code class="literal">lprows</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>The length of
the printer's page.<a class="indexterm" name="AUTOID-14692"></A
><a class="indexterm" name="AUTOID-14694"></A
></P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">lpformfeed</CODE
>, <code class="literal">lpff</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Send a form-feed after the
last page.<a class="indexterm" name="AUTOID-14703"></A
></P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">lppaper</CODE
>, <code class="literal">lpp</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>The size of the paper (letter, a4, etc.).<a class="indexterm" name="AUTOID-14712"></A
>
This only matters for PostScript printers.</P
></TD
></TR
></TBODY
></TABLE
><p class="para">Most of the options are self-explanatory.
<kbd class="command">elvis</KBD
> supports several printer types,
as described in
<a class="xref" href="#VI6-CH-10-TAB-14">Table 10.14</A
>.</P
><br><table class="table" border="1" cellpadding="3"><caption class="table"><a class="title" name="VI6-CH-10-TAB-14">Table 10.14: Values for the <code class="literal">lptype</CODE
> Option</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Name</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Printer Type</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">ps</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>PostScript,<a class="indexterm" name="AUTOID-14734"></A
>
one logical page per sheet of paper.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">ps2</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>PostScript,
two logical pages per sheet of paper.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">epson</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Most dot-matrix printers,<a class="indexterm" name="AUTOID-14748"></A
>
no graphic characters supported.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">pana</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Panasonic dot-matrix printers.<a class="indexterm" name="AUTOID-14756"></A
></P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">ibm</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Dot-matrix printers with IBM<a class="indexterm" name="AUTOID-14764"></A
>
graphic characters.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">hp</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Hewlett-Packard printers,<a class="indexterm" name="AUTOID-14772"></A
>
and most non-PostScript laser printers.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">cr</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Line printers,<a class="indexterm" name="AUTOID-14780"></A
>
overtyping is done with carriage-return.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">bs</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Overtyping is
done via backspace characters.<a class="indexterm" name="AUTOID-14788"></A
>
This setting is the closest to traditional
UNIX <kbd class="command">nroff</KBD
>.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">dumb</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><em class="emphasis"></EM
>Plain ASCII,<a class="indexterm" name="AUTOID-14797"></A
>
no font control.</P
></TD
></TR
></TBODY
></TABLE
><p class="para">If you have a PostScript printer, by all means use an <code class="literal">lptype</CODE
>
of <code class="literal">ps</CODE
> or <code class="literal">ps2</CODE
>. Use the latter to
save paper, which is particularly handy when printing drafts.</P
><a class="indexterm" name="AUTOID-14803"></A
><a class="indexterm" name="AUTOID-14804"></A
><a class="indexterm" name="AUTOID-14805"></A
><a class="indexterm" name="AUTOID-14806"></A
><a class="indexterm" name="AUTOID-14807"></A
><a class="indexterm" name="AUTOID-14808"></A
><a class="indexterm" name="AUTOID-14809"></A
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="VI6-CH-10-SECT-10.2">10.10.2 Pre- and Post-Operation Control Files</A
></H3
><p class="para"><a class="indexterm" name="AUTOID-14813"></A
><a class="indexterm" name="AUTOID-14815"></A
><kbd class="command">elvis</KBD
> gives you the ability to control its
actions at four points when reading and writing files:
before and after reading a file, and before and
after writing a file.
It does this by executing the contents of four <kbd class="command">ex</KBD
>
scripts at those respective points.
These scripts are searched for using the directories listed in the
<code class="literal">elvispath</CODE
> option.</P
><dl class="variablelist"><dt class="term"><i class="filename">elvis.brf</I
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-14826"></A
>This file is executed Before Reading a File.
The default version looks at the file's extension,
and attempts to guess whether or not the file is binary.
If it is, the <code class="literal">binary</CODE
> option is turned on,
to prevent <kbd class="command">elvis</KBD
> from converting newlines
(which may be actual CR-LF pairs in the file) into
linefeeds internally.</P
></DD
><dt class="term"><i class="filename">elvis.arf</I
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-14835"></A
>This file is executed After Reading a File.
The default version examines the file's extension
in order to turn on syntax highlighting.</P
></DD
><dt class="term"><i class="filename">elvis.bwf</I
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-14842"></A
>This file is executed Before Writing a File,
in particular, before completely replacing an original file
with the contents of the buffer.
The default version implements copying the original file to
a file with a <i class="filename">.bak</I
> extension.
You must set the <code class="literal">backup</CODE
> option for this to work.</P
></DD
><dt class="term"><i class="filename">elvis.awf</I
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-14851"></A
>This file is executed After Writing a File.
There is no default file for this,
although it might be a good place to add hooks into
a source code control system.</P
></DD
></DL
><p class="para">The use of command files to control these actions is quite powerful.
It allows you to easily tailor <kbd class="command">elvis</KBD
>'
behavior to suit your needs; in other editors
these kinds of features
are much more hardwired into the code.</P
></DIV
><a class="indexterm" name="AUTOID-14855"></A
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch10_09.htm" webstripperlinkwas="ch10_09.htm" title="10.9 Programming Assistance"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 10.9 Programming Assistance" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" title="Learning the vi Editor"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="Learning the vi Editor" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch10_11.htm" webstripperlinkwas="ch10_11.htm" title="10.11 elvis Futures"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 10.11 elvis Futures" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">10.9 Programming Assistance</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">10.11 elvis Futures</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.htm" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>

