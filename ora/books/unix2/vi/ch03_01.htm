<html><head><title>[Chapter 3] Moving Around in a Hurry</TITLE
><meta name="DC.Creator" content="Linda Lamb &amp; Arnold Robbins"><meta name="DC.Date" content="1999-11-23T17:56:01Z"><meta name="DC.Format" content="text/html" scheme="MIME"><meta name="DC.Identifier" content="O'Reilly Unix CDROM-unknown"><meta name="DC.Language" content="en-US"><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.Source" content="unknown" scheme="ISBN"><meta name="DC.Subject.Keyword" content="Unix, vi, text, editor, tool"><meta name="DC.Title" content="Learning the vi Editor"><meta name="DC.Type" content="Text.Monograph"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="part01.htm" webstripperlinkwas="part01.htm" title="I. Basic and Advanced vi"><link rel="prev" href="ch02_06.htm" webstripperlinkwas="ch02_06.htm" title="2.6 Review of Basic vi Commands "><link rel="next" href="ch03_02.htm" webstripperlinkwas="ch03_02.htm" title="3.2 Movement by Text Blocks "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="Learning the vi Editor" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch02_06.htm" webstripperlinkwas="ch02_06.htm" title="2.6 Review of Basic vi Commands "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 2.6 Review of Basic vi Commands " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 3</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch03_02.htm" webstripperlinkwas="ch03_02.htm" title="3.2 Movement by Text Blocks "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 3.2 Movement by Text Blocks " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="CHAPTER"><h1 class="chapter"><a class="title" name="VI6-CH-3">3. Moving Around in a Hurry</A
></H1
><div class="htmltoc"><p><b>Contents:</B
><br><a class="SECT1" href="#VI6-CH-3-SECT-1" title="3.1 Movement by Screens ">Movement by Screens </A
><br><a class="SECT1" href="ch03_02.htm" webstripperlinkwas="ch03_02.htm" title="3.2 Movement by Text Blocks ">Movement by Text Blocks </A
><br><a class="SECT1" href="ch03_03.htm" webstripperlinkwas="ch03_03.htm" title="3.3 Movement by Searches ">Movement by Searches </A
><br><a class="SECT1" href="ch03_04.htm" webstripperlinkwas="ch03_04.htm" title="3.4 Movement by Line Number ">Movement by Line Number </A
><br><a class="SECT1" href="ch03_05.htm" webstripperlinkwas="ch03_05.htm" title="3.5 Review of vi Motion Commands">Review of vi Motion Commands</A
></P
><p></P
></DIV
><p class="para">You will not use <kbd class="command">vi</KBD
> just to create new files.
You'll spend a lot of your time in <kbd class="command">vi</KBD
> editing existing files.
You rarely want to simply open to the first line in the file and
move through it line by line.
You want to get to a specific place in a file and start work.</P
><p class="para">All edits begin by moving the cursor to where you want to begin the edit
(or, with <kbd class="command">ex</KBD
> line editor commands, by identifying the line
numbers to be edited).
This chapter shows you how to think about
movement in a variety of ways (by screens, by text, by patterns, or by
line numbers).
There are many ways to move in <kbd class="command">vi</KBD
>, since editing
speed depends on getting to your destination with only a few keystrokes.</P
><p class="para">This chapter covers:</P
><ul class="itemizedlist"><li class="listitem"><p class="para">Movement by screens</P
></LI
><li class="listitem"><p class="para">Movement by text blocks</P
></LI
><li class="listitem"><p class="para">Movement by searches for patterns</P
></LI
><li class="listitem"><p class="para">Movement by line number</P
></LI
></UL
><div class="sect1"><h2 class="sect1"><a class="title" name="VI6-CH-3-SECT-1">3.1 Movement by Screens </A
></H2
><p class="para"> 
When you read a book, you think of &quot;places&quot; in the book by page: the page
where you stopped reading or the page number in an index. You don't have
this convenience when you're editing files.
Some files take up only a few lines, and you can see the
whole file at once.
But many files have hundreds of lines.</P
><p class="para">You can think of a file as text on a long roll of paper.
The screen is a window of (usually) 24 lines of text on that long roll.</P
><p class="para"><a class="indexterm" name="CH03.SCROLL1"></A
><a class="indexterm" name="CH03.SCROLL2"></A
>In insert mode, as you fill up the screen with text, you will end
up typing on the bottom line of the screen.
When you reach the end and press
<kbd class="keycap">[RETURN]</KBD
>,
the top line rolls out of sight, and a
blank line appears on the bottom of the screen for new text. 
This is called scrolling.</P
><p class="para">In command mode, you can move through a file to see any text in it
by scrolling the screen ahead or back. And, since
cursor movements can be multiplied by numeric prefixes,
you can move quickly to anywhere in your file.</P
><div class="sect2"><h3 class="sect2"><a class="title" name="VI6-CH-3-SECT-1.1">3.1.1 Scrolling the Screen </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-2985"></A
><a class="indexterm" name="AUTOID-2988"></A
><kbd class="keycap">[ctrl-F]</KBD
>
There are <kbd class="command">vi</KBD
> commands to scroll forward and backward through
the file by full and half screens:</P
><p class="para"><table class="simplelist" border="0"><tr><td class="member"><code class="literal">^F</CODE
></TD
><td class="member">Scroll forward one screen.</TD
></TR
><tr><td class="member"><code class="literal">^B</CODE
></TD
><td class="member">Scroll backward one screen.</TD
></TR
><tr><td class="member"><code class="literal">^D</CODE
></TD
><td class="member">Scroll forward half screen (down).</TD
></TR
><tr><td class="member"><code class="literal">^U</CODE
></TD
><td class="member">Scroll backward half screen (up).</TD
></TR
></TABLE
></P
><p class="para">(In the list of commands above, the <code class="literal">^</CODE
> symbol represents the
<kbd class="keycap">[CTRL]</KBD
>
key.  <code class="literal">^F</CODE
> means to hold down the
<kbd class="keycap">[CTRL]</KBD
>
key and press the <code class="literal">f</CODE
> key simultaneously.)</P
><p class="para"><a class="indexterm" name="AUTOID-3014"></A
>There are also
commands to scroll the screen up one line (<code class="literal">^E</CODE
>) and down one line
(<code class="literal">^Y</CODE
>).
However, these two commands do not send the cursor to the beginning
of the line.
The cursor remains at the same point in the line as when the command
was issued.</P
><a class="indexterm" name="AUTOID-3019"></A
><a class="indexterm" name="AUTOID-3020"></A
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="VI6-CH-3-SECT-1.2">3.1.2 Repositioning the Screen with z </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-3024"></A
><a class="indexterm" name="AUTOID-3026"></A
><a class="indexterm" name="AUTOID-3028"></A
><a class="indexterm" name="AUTOID-3031"></A
><kbd class="keycap">[z]</KBD
>
If you want to scroll the screen up or down, but you want the cursor
to remain on the line where you left it, use the <code class="literal">z</CODE
> command.
</P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">z</CODE
><kbd class="keycap">[RETURN]</KBD
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Move current line to top of screen and scroll.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">z.</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Move current line to center of screen and scroll.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">z-</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Move current line to bottom of screen and scroll.</P
></TD
></TR
></TBODY
></TABLE
><p class="para">
With the <code class="literal">z</CODE
> command, using a numeric prefix as a
multiplier makes no sense. (After all, you would need to
reposition the cursor to the top of the screen only
once. Repeating the same <code class="literal">z</CODE
> command wouldn't
move anything.)
Instead, <code class="literal">z</CODE
> understands a numeric prefix as a
line number that it will use in place of the current
line. For example, <code class="literal">z</CODE
>
<kbd class="keycap">[RETURN]</KBD
>
moves the current line to the top of the screen, but
<code class="literal">200z</CODE
>
<kbd class="keycap">[RETURN]</KBD
>
moves line 200 to the top of the screen.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="VI6-CH-3-SECT-1.3">3.1.3 Redrawing the Screen </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-3067"></A
><a class="indexterm" name="AUTOID-3070"></A
><kbd class="keycap">[ctrl-L]</KBD
>
Sometimes while you're editing, messages from your computer
system will display on your screen. These messages don't
become part of your editing buffer, but they do interfere with your
work. When system messages appear on your screen, you need to
redisplay, or redraw, the screen.</P
><p class="para">Whenever you scroll, you redraw part of (or all of) the screen,
so you can always get rid of unwanted
messages by scrolling them off the screen and then returning to
your previous position.
But you can also
redraw the screen without scrolling,
by typing<a class="indexterm" name="AUTOID-3074"></A
>
<kbd class="keycap">[CTRL-L]</KBD
>.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="VI6-CH-3-SECT-1.4">3.1.4 Movement Within a Screen </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-3081"></A
><a class="indexterm" name="CH03.MOVESCREEN1"></A
><a class="indexterm" name="CH03.MOVESCREEN2"></A
><a class="indexterm" name="AUTOID-3089"></A
><kbd class="keycap">[H]</KBD
>
You can also keep your current screen, or view of the file, and
move around within the screen using:</P
><dl class="variablelist"><dt class="term"><code class="literal">H</CODE
></DT
><dd class="listitem"><p class="para">Move to home&nbsp;-- top line on screen.<a class="indexterm" name="AUTOID-3099"></A
><a class="indexterm" name="AUTOID-3101"></A
><a class="indexterm" name="AUTOID-3104"></A
></P
></DD
><dt class="term"><code class="literal">M</CODE
></DT
><dd class="listitem"><p class="para">Move to middle line on screen.<a class="indexterm" name="AUTOID-3112"></A
><a class="indexterm" name="AUTOID-3114"></A
></P
></DD
><dt class="term"><code class="literal">L</CODE
></DT
><dd class="listitem"><p class="para">Move to last line on screen.<a class="indexterm" name="AUTOID-3121"></A
><a class="indexterm" name="AUTOID-3123"></A
></P
></DD
><dt class="term"><code class="replaceable"><i>n</I
></CODE
><code class="literal">H</CODE
></DT
><dd class="listitem"><p class="para">Move to <em class="emphasis">n</EM
> lines below top line.</P
></DD
><dt class="term"><code class="replaceable"><i>n</I
></CODE
><code class="literal">L</CODE
></DT
><dd class="listitem"><p class="para">Move to <em class="emphasis">n</EM
> lines above last line.</P
></DD
></DL
><p class="para"><code class="literal">H</CODE
> moves the cursor from anywhere on the screen to the
first, or &quot;home,&quot; line.
<code class="literal">M</CODE
> moves to the middle line, <code class="literal">L</CODE
> to the last.
To move to the line below the first line, use <code class="literal">2H</CODE
>.
</P
><table class="informaltable" border="1" cellpadding="3"><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Keystrokes</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Results</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">L</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><img class="graphic" src="figs/vi.0301.gif" webstripperlinkwas="figs/vi.0301.gif" alt="Graphic"><p class="para">Move to the last line of the screen with the
<code class="literal">L</CODE
> command.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">2H</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><img class="graphic" src="figs/vi.0302.gif" webstripperlinkwas="figs/vi.0302.gif" alt="Graphic"><p class="para">Move to the second line of the screen with the <code class="literal">2H</CODE
> command.
(<code class="literal">H</CODE
> alone moves to the top line of the screen.)</P
></TD
></TR
></TBODY
></TABLE
><p class="para"></P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="VI6-CH-3-SECT-1.5">3.1.5 Movement by Line </A
></H3
><p class="para"><a class="indexterm" name="CH03.MOVELINES"></A
><a class="indexterm" name="AUTOID-3175"></A
><kbd class="keycap">[return]</KBD
>
Within the current screen there are also commands to move by line.<a class="indexterm" name="AUTOID-3179"></A
><a class="indexterm" name="AUTOID-3181"></A
>
You've already seen <code class="literal">j</CODE
> and <code class="literal">k</CODE
>.
You can also use:</P
><table class="informaltable" border="1" cellpadding="3"><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><kbd class="keycap">[RETURN]</KBD
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Move to first character of next line.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">+</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Move to first character of next line.<a class="indexterm" name="AUTOID-3200"></A
><a class="indexterm" name="AUTOID-3203"></A
></P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><code class="literal">-</CODE
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Move to first character of previous line.<a class="indexterm" name="AUTOID-3211"></A
><a class="indexterm" name="AUTOID-3214"></A
><a class="indexterm" name="AUTOID-3217"></A
><a class="indexterm" name="AUTOID-3220"></A
></P
></TD
></TR
></TBODY
></TABLE
><p class="para">The above three commands move down or up to the first
<em class="emphasis">character</EM
> of the line, ignoring any spaces or tabs.
<code class="literal">j</CODE
> and <code class="literal">k</CODE
>, by contrast, move the cursor down or up to
the first position of a line, even if that position is blank (and
assuming that the cursor started at the first position).</P
><div class="sect3"><h4 class="sect3"><a class="title" name="VI6-CH-3-SECT-1.5.1">3.1.5.1 Movement on the current line</A
></H4
><p class="para"><a class="indexterm" name="AUTOID-3230"></A
><a class="indexterm" name="AUTOID-3232"></A
><a class="indexterm" name="AUTOID-3234"></A
><a class="indexterm" name="AUTOID-3236"></A
><a class="indexterm" name="AUTOID-3239"></A
>Don't forget that <code class="literal">h</CODE
> and <code class="literal">l</CODE
> move the cursor to the left
and right and that <code class="literal">0</CODE
> and <code class="literal">$</CODE
> move the cursor to the
beginning or end of the line. You can also use:</P
><dl class="variablelist"><dt class="term"><code class="literal">^</CODE
></DT
><dd class="listitem"><p class="para">Move to first non-blank character of current line.<a class="indexterm" name="AUTOID-3252"></A
><a class="indexterm" name="AUTOID-3255"></A
></P
></DD
><dt class="term"><code class="replaceable"><i>n</I
></CODE
><code class="literal">|</CODE
></DT
><dd class="listitem"><p class="para">Move to column <em class="emphasis">n</EM
> of current line.<a class="indexterm" name="AUTOID-3265"></A
><a class="indexterm" name="AUTOID-3268"></A
></P
></DD
></DL
><p class="para">As with the line movement commands above,
<code class="literal">^</CODE
> moves to the first <em class="emphasis">character</EM
>
of the line, ignoring any spaces or tabs.
<code class="literal">0</CODE
>, by contrast, moves to the first position of the line, even if
that position is blank.</P
></DIV
><a class="indexterm" name="AUTOID-3275"></A
><a class="indexterm" name="AUTOID-3276"></A
><a class="indexterm" name="AUTOID-3277"></A
></DIV
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch02_06.htm" webstripperlinkwas="ch02_06.htm" title="2.6 Review of Basic vi Commands "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 2.6 Review of Basic vi Commands " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" title="Learning the vi Editor"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="Learning the vi Editor" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch03_02.htm" webstripperlinkwas="ch03_02.htm" title="3.2 Movement by Text Blocks "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 3.2 Movement by Text Blocks " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">2.6 Review of Basic vi Commands </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">3.2 Movement by Text Blocks </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>

