<html><head><title>[Chapter 2] 2.2 Moving the Cursor</TITLE
><meta name="DC.Creator" content="Linda Lamb &amp; Arnold Robbins"><meta name="DC.Date" content="1999-11-23T17:55:38Z"><meta name="DC.Format" content="text/html" scheme="MIME"><meta name="DC.Identifier" content="O'Reilly Unix CDROM-unknown"><meta name="DC.Language" content="en-US"><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.Source" content="unknown" scheme="ISBN"><meta name="DC.Subject.Keyword" content="Unix, vi, text, editor, tool"><meta name="DC.Title" content="Learning the vi Editor"><meta name="DC.Type" content="Text.Monograph"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch02_01.htm" webstripperlinkwas="ch02_01.htm" title="2. Simple Editing"><link rel="prev" href="ch02_01.htm" webstripperlinkwas="ch02_01.htm" title="2.1 vi Commands "><link rel="next" href="ch02_03.htm" webstripperlinkwas="ch02_03.htm" title="2.3 Simple Edits "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="Learning the vi Editor" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch02_01.htm" webstripperlinkwas="ch02_01.htm" title="2.1 vi Commands "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 2.1 vi Commands " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch02_01.htm" webstripperlinkwas="ch02_01.htm" title="2. Simple Editing">Chapter 2<br>Simple Editing</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch02_03.htm" webstripperlinkwas="ch02_03.htm" title="2.3 Simple Edits "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 2.3 Simple Edits " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="VI6-CH-2-SECT-2">2.2 Moving the Cursor</A
></H2
><p class="para"><a class="indexterm" name="CH02.MOVECURSOR"></A
><a class="indexterm" name="CH02.MOVECURSOR2"></A
>You may spend only a small amount of time in an editing session adding
new text in insert mode; much of the time you will
be making edits to existing text.</P
><p class="para">In command mode you can position the cursor anywhere in the file.
Since you begin all basic edits (changing, deleting, and copying text)
by placing the cursor at the text that you want to change, you want to
be able to move the cursor to that place as quickly as possible.</P
><p class="para">There are <kbd class="command">vi</KBD
> commands to move the cursor:</P
><ul class="itemizedlist"><li class="listitem"><p class="para">Up, down, left, or right&nbsp;-- one <em class="emphasis">character</EM
> at a time</P
></LI
><li class="listitem"><p class="para">Forward or backward by blocks of <em class="emphasis">text</EM
> such as
words, sentences, or paragraphs</P
></LI
><li class="listitem"><p class="para">Forward or backward through a file, one <em class="emphasis">screen</EM
> at a time</P
></LI
></UL
><p class="para">In <a class="xref" href="#VI6-CH-2-FIG-0">Figure 2.1</A
>,
an underscore marks the present cursor position.
Circles show movement of the cursor from its current position
to the position that would result from various <kbd class="command">vi</KBD
> commands.</P
><h4 class="figure"><a class="title" name="VI6-CH-2-FIG-0">Figure 2.1: Sample movement commands</A
></H4
><img class="graphic" src="figs/vi_6.fig.0201.gif" webstripperlinkwas="figs/vi_6.fig.0201.gif" alt="Figure 2.1"><div class="sect2"><h3 class="sect2"><a class="title" name="VI6-CH-2-SECT-2.1">2.2.1 Single Movements </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-1055"></A
><a class="indexterm" name="AUTOID-1057"></A
><a class="indexterm" name="AUTOID-1059"></A
><a class="indexterm" name="AUTOID-1061"></A
><a class="indexterm" name="AUTOID-1063"></A
>The keys <code class="literal">h</CODE
>, <code class="literal">j</CODE
>, <code class="literal">k</CODE
>, and <code class="literal">l</CODE
>, right under your
fingertips, will move the cursor:</P
><dl class="variablelist"><dt class="term"><code class="literal">h</CODE
></DT
><dd class="listitem"><p class="para">left, one space</P
></DD
><dt class="term"><code class="literal">j</CODE
></DT
><dd class="listitem"><p class="para">down, one line</P
></DD
><dt class="term"><code class="literal">k</CODE
></DT
><dd class="listitem"><p class="para">up, one line</P
></DD
><dt class="term"><code class="literal">l</CODE
></DT
><dd class="listitem"><p class="para">right, one space</P
></DD
></DL
><p class="para"><a class="indexterm" name="AUTOID-1092"></A
>You can also use the cursor arrow keys (<img src="../chars/larr.gif" webstripperlinkwas="../chars/larr.gif" alt="&lt;-">,
<img src="../chars/darr.gif" webstripperlinkwas="../chars/darr.gif" alt="-v">, <img src="../chars/uarr.gif" webstripperlinkwas="../chars/uarr.gif" alt="-^">, <img src="../chars/rarr.gif" webstripperlinkwas="../chars/rarr.gif" alt="-&gt;">),<a class="indexterm" name="AUTOID-1094"></A
><a class="indexterm" name="AUTOID-1097"></A
><a class="indexterm" name="AUTOID-1100"></A
><a class="indexterm" name="AUTOID-1103"></A
><a class="indexterm" name="AUTOID-1106"></A
><a class="indexterm" name="AUTOID-1109"></A
>
<code class="literal">+</CODE
> and <code class="literal">-</CODE
> to go up and down,
or the <kbd class="keycap">[RETURN]</KBD
> and <kbd class="keycap">[BACKSPACE]</KBD
> keys,
but they are out of the way,
and the arrow keys are not supported by all terminals.
At first, it may seem awkward to use letter keys instead of arrows for cursor
movement. After a short while, though, you'll find it is one of the things
you'll like best about <kbd class="command">vi</KBD
>&nbsp;-- you can move around without ever taking
your fingers off the center of the keyboard.</P
><p class="para">Before you move the cursor, press
<kbd class="keycap">[ESC]</KBD
> to make sure that you are in command mode.
Use <code class="literal">h</CODE
>, <code class="literal">j</CODE
>, <code class="literal">k</CODE
>, and <code class="literal">l</CODE
> to move
forward or backward in the file from the current cursor position.
When you have gone as far as possible in one direction, you hear a beep
and the cursor stops.
For example, once you're at the beginning or end of a line,
you cannot use <code class="literal">h</CODE
> or <code class="literal">l</CODE
> to wrap around to the previous or
next line; you have to use <code class="literal">j</CODE
>
or&nbsp;<code class="literal">k</CODE
>.[<a class="footnote" href="#AUTOID-1127">1</A
>]
Similarly, you cannot move the cursor past a tilde (~) representing a line
without text, nor can you move the cursor above the first line of
text.</P
><blockquote class="footnote"><div class="footnote"><p class="para"><a class="footnote" name="AUTOID-1127">[1]</A
> <kbd class="command">vim</KBD
> version 4.x, and <kbd class="command">vim</KBD
>
version 5.x with <code class="literal">nocompatible</CODE
> set,
allow you to &quot;space past&quot; the end of the line to
the next one with <code class="literal">l</CODE
> or the spacebar.</P
></DIV
></BLOCKQUOTE
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="VI6-CH-2-SECT-2.2">2.2.2 Numeric Arguments </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-1136"></A
><a class="indexterm" name="AUTOID-1138"></A
>You can precede movement commands with numbers.
<a class="xref" href="#VI6-CH-2-FIG-1">Figure 2.2</A
>
shows how the command <code class="literal">4l</CODE
> moves
the cursor four spaces to the right, just as if you had typed <code class="literal">l</CODE
>
four times (<code class="literal">llll</CODE
>).</P
><h4 class="figure"><a class="title" name="VI6-CH-2-FIG-1">Figure 2.2: Multiplying commands by numbers</A
></H4
><img class="graphic" src="figs/vi_6.fig.0202.gif" webstripperlinkwas="figs/vi_6.fig.0202.gif" alt="Figure 2.2"><p class="para">The ability to multiply commands gives you more
options and power for each command you learn.
Keep it in mind as you are introduced to additional commands.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="VI6-CH-2-SECT-2.3">2.2.3 Movement Within a Line </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-1152"></A
>When you saved the file <i class="filename">practice</I
>, <kbd class="command">vi</KBD
> displayed a
message
telling you how many lines are in that file.
A <em class="emphasis">line</EM
> is not necessarily the same length as the visible line
(often limited to 80 characters) that appears on the screen.
A line is any text entered between newlines. (A <em class="emphasis">newline</EM
><a class="indexterm" name="AUTOID-1159"></A
><a class="indexterm" name="AUTOID-1161"></A
><a class="indexterm" name="AUTOID-1164"></A
>
character is inserted into the file when you press the
<kbd class="keycap">[RETURN]</KBD
> key in insert mode.)
If you type 200 characters before pressing
<kbd class="keycap">[RETURN]</KBD
>, <kbd class="command">vi</KBD
> regards all 200 characters as a single line (even though
those 200 characters visibly take up several lines on the
screen).</P
><p class="para">As we mentioned, <kbd class="command">vi</KBD
> has an option
that allows you to set
a distance from the right margin at which <kbd class="command">vi</KBD
> will automatically<a class="indexterm" name="AUTOID-1173"></A
><a class="indexterm" name="AUTOID-1176"></A
><a class="indexterm" name="AUTOID-1178"></A
><a class="indexterm" name="AUTOID-1180"></A
>
insert a newline character. This option is <code class="literal">wrapmargin</CODE
>
(its abbreviation is <code class="literal">wm</CODE
>). You can set a wrapmargin
at 10 characters:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="literal">:set wm=10</CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">This command doesn't affect lines that you've already typed.
We'll talk more about setting options in <a class="xref" href="ch07_01.htm" webstripperlinkwas="ch07_01.htm">Chapter 7, <cite class="CHAPTER">Advanced Editing</CITE
></A
>.
(This one really couldn't wait!)</P
><p class="para">If you do not use <kbd class="command">vi</KBD
>'s
automatic <code class="literal">wrapmargin</CODE
> option, you should break
lines with carriage returns to keep the lines of manageable length.</P
><p class="para"><kbd class="keycap">[0]</KBD
><a class="indexterm" name="AUTOID-1194"></A
>
Two useful commands that involve movement within a line are:</P
><dl class="variablelist"><dt class="term"><code class="literal">0</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-1203"></A
>Move to beginning of line.</P
></DD
><dt class="term"><code class="literal">$</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-1210"></A
><a class="indexterm" name="AUTOID-1213"></A
>Move to end of line.</P
></DD
></DL
><p class="para"><a class="indexterm" name="AUTOID-1217"></A
><a class="indexterm" name="AUTOID-1219"></A
>In the example below, line numbers are displayed. (Line numbers can be displayed in <kbd class="command">vi</KBD
> by using the
<code class="literal">number</CODE
> option, which is enabled by typing <code class="literal">:set</CODE
>
<code class="literal">nu</CODE
> in command mode.<a class="indexterm" name="AUTOID-1226"></A
>
This operation is described in <a class="xref" href="ch07_01.htm" webstripperlinkwas="ch07_01.htm">Chapter 7</A
>.)</P
><img class="graphic" src="figs/vi.0201.gif" webstripperlinkwas="figs/vi.0201.gif" alt="Graphic"><p class="para"><kbd class="keycap">[$]</KBD
>
The number of logical lines (3) does
not correspond to the number of visible lines (6) that you see on the
screen. If the cursor were positioned on the <em class="emphasis">d</EM
>
in the word <em class="emphasis">delete</EM
>, and you entered
<code class="literal">$</CODE
>, the cursor would move to the period following
the word <em class="emphasis">them</EM
>. If you entered <code class="literal">0</CODE
>,
the cursor would move back to the letter <em class="emphasis">m</EM
>
in the word <em class="emphasis">move</EM
>, at the beginning of line two.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="VI6-CH-2-SECT-2.4">2.2.4 Movement by Text Blocks </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-1242"></A
><a class="indexterm" name="AUTOID-1245"></A
><a class="indexterm" name="AUTOID-1248"></A
><kbd class="keycap">[w]</KBD
> 
You can also move the cursor by blocks of text: words,
sentences, paragraphs, etc.<a class="indexterm" name="AUTOID-1251"></A
><a class="indexterm" name="AUTOID-1253"></A
>
The <code class="literal">w</CODE
> command moves the cursor forward one word at a
time, counting symbols and punctuation as equivalent to words.
The line below shows cursor movement by <code class="literal">w</CODE
>:</P
><p class="para"><blockquote class="screen"><pre class="screen"><u class="emphasis.underline">c</U
>ursor<u class="emphasis.underline">,</U
> <u class="emphasis.underline">d</U
>elete <u class="emphasis.underline">l</U
>ines<u class="emphasis.underline">,</U
> <u class="emphasis.underline">i</U
>nsert <u class="emphasis.underline">c</U
>haracters<u class="emphasis.underline">,</U
></PRE
></BLOCKQUOTE
></P
><p class="para"><a class="indexterm" name="AUTOID-1269"></A
>You can also move by word, not counting symbols and punctuation, using the
<code class="literal">W</CODE
> command.
(You can think of this as a &quot;large&quot; or &quot;capital&quot; <em class="emphasis">W</EM
>ord.)</P
><p class="para">Cursor movement using <code class="literal">W</CODE
> looks like this:</P
><p class="para"><blockquote class="screen"><pre class="screen"><u class="emphasis.underline">c</U
>ursor, <u class="emphasis.underline">d</U
>elete <u class="emphasis.underline">l</U
>ines, <u class="emphasis.underline">i</U
>nsert <u class="emphasis.underline">c</U
>haracters,</PRE
></BLOCKQUOTE
></P
><p class="para"><a class="indexterm" name="AUTOID-1283"></A
><a class="indexterm" name="AUTOID-1285"></A
>To move backward by word, use the <code class="literal">b</CODE
> command.
Capital <code class="literal">B</CODE
> allows you to move backward by word, not counting
punctuation.</P
><p class="para">As mentioned previously, movement commands take numeric
arguments; so, with either the <code class="literal">w</CODE
> or <code class="literal">b</CODE
> commands you
can multiply the movement with numbers.  <code class="literal">2w</CODE
> moves forward
two words; <code class="literal">5B</CODE
> moves back five words, not counting punctuation.</P
><p class="para">We'll discuss movement by sentences and by paragraphs in <a class="xref" href="ch03_01.htm" webstripperlinkwas="ch03_01.htm">Chapter 3, <cite class="CHAPTER">Moving Around in a Hurry</CITE
></A
>.
For now,
practice using the cursor movement commands that you know, combining them
with numeric multipliers.</P
></DIV
><a class="indexterm" name="AUTOID-1296"></A
><a class="indexterm" name="AUTOID-1297"></A
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch02_01.htm" webstripperlinkwas="ch02_01.htm" title="2.1 vi Commands "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 2.1 vi Commands " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" title="Learning the vi Editor"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="Learning the vi Editor" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch02_03.htm" webstripperlinkwas="ch02_03.htm" title="2.3 Simple Edits "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 2.3 Simple Edits " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">2.1 vi Commands </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">2.3 Simple Edits </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>

