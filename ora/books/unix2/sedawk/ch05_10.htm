<html><head><title>[Chapter 5] 5.10 Next</TITLE
><meta name="DC.title" content="sed &amp; awk"><meta name="DC.creator" content="Dale Dougherty &amp; Arnold Robbins"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-03T20:54:31Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-225-5" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch05_01.htm" webstripperlinkwas="ch05_01.htm" title="5. Basic sed Commands"><link rel="prev" href="ch05_09.htm" webstripperlinkwas="ch05_09.htm" title="5.9 Print Line Number"><link rel="next" href="ch05_11.htm" webstripperlinkwas="ch05_11.htm" title="5.11 Reading and Writing Files"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="sed &amp; awk" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch05_09.htm" webstripperlinkwas="ch05_09.htm" title="5.9 Print Line Number"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 5.9 Print Line Number" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 5<br>Basic sed Commands</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch05_11.htm" webstripperlinkwas="ch05_11.htm" title="5.11 Reading and Writing Files"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 5.11 Reading and Writing Files" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="SEDAWK-CH-5-SECT-10">5.10 Next</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-3808"></A
><a class="indexterm" name="AUTOID-3810"></A
>The next command (<kbd class="command">n</KBD
>) outputs the contents of the
pattern space and then reads the next line of input
<em class="emphasis">without</EM
> returning to the top of the script.  Its
syntax is:</P
><blockquote class="literallayout"><p class="literallayout">[<code class="replaceable"><i>address</I
></CODE
>]<kbd class="command">n</KBD
></P
></BLOCKQUOTE
><p class="para"><a class="indexterm" name="AUTOID-3819"></A
>The next command changes the normal flow control, which doesn't output
the contents of the pattern space until the bottom of the script is
reached and which always begins at the top of the script after reading
in a new line.  In effect, the next command causes the next line of
input to replace the current line in the pattern space.  Subsequent
commands in the script are applied to the replacement line, not the
current line.  If the default output has not been suppressed, the
current line is printed before the replacement takes place.</P
><p class="para">Let's look at an example of the next command in which we delete a
blank line only when it follows a pattern matched on the previous
line.  In this case, a writer has inserted a blank line after a
section heading macro (<kbd class="command">.H1</KBD
>).  We want to remove
that blank line without removing all blank lines in the file.  Here's
the sample file:</P
><blockquote class="screen"><pre class="screen">.H1 &quot;On Egypt&quot;

Napoleon, pointing to the Pyramids, said to his troops: 
&quot;Soldiers, forty centuries have their eyes upon you.&quot;</PRE
></BLOCKQUOTE
><p class="para">The following script removes that blank line:</P
><blockquote class="screen"><pre class="screen">/^\.H1/{
n
/^$/d
}</PRE
></BLOCKQUOTE
><p class="para">You can read this script as follows: &quot;Match any line beginning with
the string `.H1', then print that line and read in the next line.  If
that line is blank, delete it.&quot;  The braces are used to apply multiple
commands at the same address.</P
><p class="para">In a longer script, you must remember that commands occurring
before the next command will not be applied to the new input line, nor
will commands occuring after it be applied to the old input line.</P
><p class="para">You'll see additional examples of the <kbd class="command">n</KBD
> command
in <a class="xref" href="ch06_01.htm" webstripperlinkwas="ch06_01.htm" title="Advanced sed Commands">Chapter 6</A
>, along with a multiline version of
this command.</P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch05_09.htm" webstripperlinkwas="ch05_09.htm" title="5.9 Print Line Number"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 5.9 Print Line Number" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" title="sed &amp; awk"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="sed &amp; awk" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch05_11.htm" webstripperlinkwas="ch05_11.htm" title="5.11 Reading and Writing Files"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 5.11 Reading and Writing Files" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">5.9 Print Line Number</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">5.11 Reading and Writing Files</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
