<html><head><title>[Chapter 5] 5.8 Print</TITLE
><meta name="DC.title" content="sed &amp; awk"><meta name="DC.creator" content="Dale Dougherty &amp; Arnold Robbins"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-03T20:54:29Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-225-5" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch05_01.htm" webstripperlinkwas="ch05_01.htm" title="5. Basic sed Commands"><link rel="prev" href="ch05_07.htm" webstripperlinkwas="ch05_07.htm" title="5.7 Transform"><link rel="next" href="ch05_09.htm" webstripperlinkwas="ch05_09.htm" title="5.9 Print Line Number"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="sed &amp; awk" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch05_07.htm" webstripperlinkwas="ch05_07.htm" title="5.7 Transform"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 5.7 Transform" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 5<br>Basic sed Commands</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch05_09.htm" webstripperlinkwas="ch05_09.htm" title="5.9 Print Line Number"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 5.9 Print Line Number" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="SEDAWK-CH-5-SECT-8">5.8 Print</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-3756"></A
>The print command (<kbd class="command">p</KBD
>) causes the contents of the
pattern space to be output.  It does not clear the pattern space nor
does it change the flow of control in the script.  However, it is
frequently used before commands (<kbd class="command">d</KBD
>,
<kbd class="command">N</KBD
>, <kbd class="command">b</KBD
>) that do change flow
control.  Unless the default output is suppressed
(<em class="emphasis">-n</EM
>), the print command will cause duplicate copies
of a line to be output.  It can be used when default output is
suppressed or when the flow control through the program avoids
reaching the bottom of the script.</P
><p class="para"><a class="indexterm" name="AUTOID-3764"></A
>Let's look at a script that shows how the print command might be used
for debugging purposes.  It is used to show what the line looked like
before you made any changes.</P
><blockquote class="screen"><pre class="screen">#n Print line before and after changes.
/^\.Ah/{
p
s/&quot;//g
s/^\.Ah //p
}</PRE
></BLOCKQUOTE
><p class="para">Note that the print flag is supplied to the substitute command.  The
substitute command's print flag differs from the print command in that
it is conditional upon a successful substitution.</P
><p class="para">Here's a sample run of the above script:</P
><blockquote class="screen"><pre class="screen">$ <code class="userinput"><b>sed -f sed.debug ch05</B
></CODE
>
.Ah &quot;Comment&quot;
Comment
.Ah &quot;Substitution&quot;
Substitution
.Ah &quot;Delete&quot;
Delete
.Ah &quot;Append, Insert and Change&quot;
Append, Insert and Change
.Ah &quot;List&quot;
List</PRE
></BLOCKQUOTE
><p class="para">Each affected line is printed twice.</P
><p class="para">We'll see additional examples of the print command in the next
chapter.  See also the multiline print command (<kbd class="command">P</KBD
>)
in the next chapter.</P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch05_07.htm" webstripperlinkwas="ch05_07.htm" title="5.7 Transform"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 5.7 Transform" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" title="sed &amp; awk"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="sed &amp; awk" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch05_09.htm" webstripperlinkwas="ch05_09.htm" title="5.9 Print Line Number"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 5.9 Print Line Number" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">5.7 Transform</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">5.9 Print Line Number</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
