<html><head><title>[Appendix A] A.3 Command Summary for sed</TITLE
><meta name="DC.title" content="sed &amp; awk"><meta name="DC.creator" content="Dale Dougherty &amp; Arnold Robbins"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-03T21:06:20Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-225-5" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="appa_01.htm" webstripperlinkwas="appa_01.htm" title="A. Quick Reference for sed"><link rel="prev" href="appa_02.htm" webstripperlinkwas="appa_02.htm" title="A.2 Syntax of sed Commands"><link rel="next" href="appb_01.htm" webstripperlinkwas="appb_01.htm" title="B. Quick Reference for awk"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="sed &amp; awk" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="appa_02.htm" webstripperlinkwas="appa_02.htm" title="A.2 Syntax of sed Commands"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: A.2 Syntax of sed Commands" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Appendix A<br>Quick Reference for sed</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="APPENDIX" href="appb_01.htm" webstripperlinkwas="appb_01.htm" title="B. Quick Reference for awk"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: B. Quick Reference for awk" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="SEDAWK-APP-A-SECT-3">A.3 Command Summary for sed</A
></H2
><dl class="variablelist"><dt class="term"><kbd class="command">:</KBD
> <kbd class="command">:</KBD
><em class="emphasis">label</EM
></DT
><dd class="listitem"><p class="para">Label a line in the script for the transfer of control by
<kbd class="command">b</KBD
> or <kbd class="command">t</KBD
>.
<em class="emphasis">label</EM
> may contain up to seven characters.
(The POSIX standard says that an implementation can allow longer
labels if it wishes to. GNU sed allows labels to be of any length.)<a class="indexterm" name="A.SED1"></A
><a class="indexterm" name="A.SED2"></A
></P
></DD
><dt class="term"><kbd class="command">=</KBD
> [<em class="emphasis">address</EM
>]<kbd class="command">=</KBD
></DT
><dd class="listitem"><p class="para">Write to standard output the line number of addressed line.</P
></DD
><dt class="term"><kbd class="command">a</KBD
> [<em class="emphasis">address</EM
>]<kbd class="command">a\</KBD
></DT
><dd class="listitem"><p class="para"><em class="emphasis">text</EM
></P
><p class="para">Append <em class="emphasis">text</EM
>
following each line matched by <em class="emphasis">address</EM
>.  If
<em class="emphasis">text</EM
> goes over more than one line, newlines
must be &quot;hidden&quot; by preceding them with a backslash.  The
<em class="emphasis">text</EM
> will be terminated by the first
newline that is not hidden in this way.  The
<em class="emphasis">text</EM
> is not available in the pattern space
and subsequent commands cannot be applied to it.  The results of this
command are sent to standard output when the list of editing commands
is finished, regardless of what happens to the current line in the
pattern space.</P
></DD
><dt class="term"><kbd class="command">b</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">b</KBD
>[<em class="emphasis">label</EM
>]</DT
><dd class="listitem"><p class="para">Transfer control unconditionally (branch) to
<kbd class="command">:</KBD
><em class="emphasis">label</EM
> elsewhere in
script.  That is, the command following the
<em class="emphasis">label</EM
> is the next command applied to the
current line.  If no <em class="emphasis">label</EM
> is specified,
control falls through to the end of the script, so no more commands
are applied to the current line.</P
></DD
><dt class="term"><kbd class="command">c</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">c\</KBD
></DT
><dd class="listitem"><p class="para"><em class="emphasis">text</EM
></P
><p class="para">Replace (change) the lines selected by the address with
<em class="emphasis">text</EM
>.  When a range of lines is specified,
all lines as a group are replaced by a single copy of
<em class="emphasis">text</EM
>.  The newline following each line of
<em class="emphasis">text</EM
> must be escaped by a backslash, except
the last line.  The contents of the pattern space are, in effect,
deleted and no subsequent editing commands can be applied to it (or to
<em class="emphasis">text</EM
>).  </P
></DD
><dt class="term"><kbd class="command">d</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">d</KBD
></DT
><dd class="listitem"><p class="para">Delete line(s) from pattern space.  Thus, the line is not passed to standard
output. A new line of input is read and editing resumes with first
command in script.</P
></DD
><dt class="term"><kbd class="command">D</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">D</KBD
></DT
><dd class="listitem"><p class="para">Delete first part (up to embedded newline) of multiline pattern space created
by <kbd class="command">N</KBD
> command and resume editing with first command in
script.  If this command empties the pattern space, then a new line
of input is read, as if the <kbd class="command">d</KBD
> command had been executed.</P
></DD
><dt class="term"><kbd class="command">g</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">g</KBD
></DT
><dd class="listitem"><p class="para">Copy (get) contents of hold space (see <kbd class="command">h</KBD
> or
<kbd class="command">H</KBD
> command) into the pattern space, wiping out
previous contents.</P
></DD
><dt class="term"><kbd class="command">G</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">G</KBD
></DT
><dd class="listitem"><p class="para">Append newline followed by contents of hold space (see
<kbd class="command">h</KBD
> or <kbd class="command">H</KBD
> command) to contents of
the pattern space.  If hold space is empty, a newline is still
appended to the pattern space.</P
></DD
><dt class="term"><kbd class="command">h</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">h</KBD
></DT
><dd class="listitem"><p class="para">Copy pattern space into hold space, a special temporary buffer.
Previous contents of hold space are wiped out.</P
></DD
><dt class="term"><kbd class="command">H</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">H</KBD
></DT
><dd class="listitem"><p class="para">Append newline and contents of pattern space to contents of the hold
space.  Even if hold space is empty, this command still appends the
newline first.</P
></DD
><dt class="term"><kbd class="command">i</KBD
> [<em class="emphasis">address1</EM
>]<kbd class="command">i\</KBD
></DT
><dd class="listitem"><p class="para"><em class="emphasis">text</EM
></P
><p class="para">Insert <em class="emphasis">text</EM
> before each line matched by
<em class="emphasis">address</EM
>. (See <kbd class="command">a</KBD
> for
details on <em class="emphasis">text</EM
>.)</P
></DD
><dt class="term"><kbd class="command">l</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">l</KBD
></DT
><dd class="listitem"><p class="para">List the contents of the pattern space, showing nonprinting characters
as ASCII codes.  Long lines are wrapped.</P
></DD
><dt class="term"><kbd class="command">n</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">n</KBD
></DT
><dd class="listitem"><p class="para">Read next line of input into pattern space.  Current line is sent to
standard output.  New line becomes current line and increments line
counter.  Control passes to command following <kbd class="command">n</KBD
>
instead of resuming at the top of the script.</P
></DD
><dt class="term"><kbd class="command">N</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">N</KBD
></DT
><dd class="listitem"><p class="para">Append next input line to contents of pattern space; the new line is
separated from the previous contents of the pattern space by a newline.  
(This command is designed to allow pattern matches across two
lines.  Using \n to match the embedded newline, you can match
patterns across multiple lines.)</P
></DD
><dt class="term"><kbd class="command">p</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">p</KBD
></DT
><dd class="listitem"><p class="para">Print the addressed line(s).  Note that this can result in duplicate
output unless default output is suppressed by using &quot;#n&quot; or
the <i class="option">-n</I
>
command-line option.  Typically used before commands that change flow
control (<kbd class="command">d</KBD
>, <kbd class="command">n</KBD
>,
<kbd class="command">b</KBD
>) and might prevent the current line from being
output.</P
></DD
><dt class="term"><kbd class="command">P</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">P</KBD
></DT
><dd class="listitem"><p class="para">Print first part (up to embedded newline) of multiline pattern space
created by <kbd class="command">N</KBD
> command.  Same as <kbd class="command">p</KBD
>
if <kbd class="command">N</KBD
> has not been applied to a line.</P
></DD
><dt class="term"><b class="emphasis.bold">q</B
> [<em class="emphasis">address</EM
>]<kbd class="command">q</KBD
></DT
><dd class="listitem"><p class="para">Quit when <em class="emphasis">address</EM
> is encountered.  The
addressed line is first written to output (if default output is not
suppressed), along with any text appended to it by previous
<kbd class="command">a</KBD
> or <kbd class="command">r</KBD
> commands.</P
></DD
><dt class="term"><kbd class="command">r</KBD
> [<em class="emphasis">address</EM
>]<kbd class="command">r</KBD
> <em class="emphasis">file</EM
></DT
><dd class="listitem"><p class="para">Read contents of <em class="emphasis">file</EM
> and append after the
contents of the pattern space.  Exactly one space must be put between
<kbd class="command">r</KBD
> and the filename.</P
></DD
><dt class="term"><kbd class="command">s</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">s</KBD
>/<em class="emphasis">pattern</EM
>/<em class="emphasis">replacement</EM
>/[<em class="emphasis">flags</EM
>]</DT
><dd class="listitem"><p class="para">Substitute <em class="emphasis">replacement</EM
> for
<em class="emphasis">pattern</EM
> on each addressed line.  If pattern
addresses are used, the pattern <kbd class="command">//</KBD
> represents the
last pattern address specified.  The following flags can be specified:</P
><dl class="variablelist"><dt class="term"><kbd class="command">n</KBD
></DT
><dd class="listitem"><p class="para">Replace <em class="emphasis">n</EM
>th instance of
/<em class="emphasis">pattern</EM
>/ on each addressed line.
<em class="emphasis">n</EM
> is any number in the range 1 to 512, and
the default is 1.</P
></DD
><dt class="term"><kbd class="command">g</KBD
></DT
><dd class="listitem"><p class="para">Replace all instances of /<em class="emphasis">pattern</EM
>/ on each
addressed line, not just the first instance.</P
></DD
><dt class="term"><kbd class="command">p</KBD
></DT
><dd class="listitem"><p class="para">Print the line if a successful substitution is done.  If several
successful substitutions are done, multiple copies of the line will be
printed.</P
></DD
><dt class="term"><kbd class="command">w</KBD
> <em class="emphasis">file</EM
></DT
><dd class="listitem"><p class="para">Write the line to <em class="emphasis">file</EM
> if a replacement
was done.  A maximum of 10 different <em class="emphasis">files</EM
>
can be opened.</P
></DD
></DL
></DD
><dt class="term"><kbd class="command">t</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">t </KBD
>[<em class="emphasis">label</EM
>]</DT
><dd class="listitem"><p class="para">Test if successful substitutions have been made on addressed lines,
and if so, branch to line marked by :<em class="emphasis">label</EM
>.
(See <kbd class="command">b</KBD
> and <kbd class="command">:</KBD
>.)  If label is not
specified, control falls through to bottom of script.</P
></DD
><dt class="term"><b class="emphasis.bold">w</B
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">w</KBD
> <em class="emphasis">file</EM
></DT
><dd class="listitem"><p class="para">Append contents of pattern space to <em class="emphasis">file</EM
>.
This action occurs when the command is encountered rather than when
the pattern space is output.  Exactly one space must separate the
<kbd class="command">w</KBD
> and the filename.  A maximum of 10 different
files can be opened in a script.  This command will create the file if
it does not exist; if the file exists, its contents will be
overwritten each time the script is executed.  Multiple write commands
that direct output to the same file append to the end of the file.</P
></DD
><dt class="term"><kbd class="command">x</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">x</KBD
></DT
><dd class="listitem"><p class="para">Exchange contents of the pattern space with the contents of the hold
space.</P
></DD
><dt class="term"><kbd class="command">y</KBD
> [<em class="emphasis">address1</EM
>[,<em class="emphasis">address2</EM
>]]<kbd class="command">y</KBD
>/<em class="emphasis">abc</EM
>/<em class="emphasis">xyz</EM
>/</DT
><dd class="listitem"><p class="para">Transform each character by position in string
<em class="emphasis">abc</EM
> to its equivalent in string
<em class="emphasis">xyz</EM
>.</P
></DD
></DL
><a class="indexterm" name="AUTOID-12118"></A
><a class="indexterm" name="AUTOID-12119"></A
><a class="indexterm" name="AUTOID-12120"></A
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="appa_02.htm" webstripperlinkwas="appa_02.htm" title="A.2 Syntax of sed Commands"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: A.2 Syntax of sed Commands" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" title="sed &amp; awk"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="sed &amp; awk" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="APPENDIX" href="appb_01.htm" webstripperlinkwas="appb_01.htm" title="B. Quick Reference for awk"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: B. Quick Reference for awk" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">A.2 Syntax of sed Commands</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">B. Quick Reference for awk</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
