<html><head><title>[Chapter 10] 10.8 Limitations</TITLE
><meta name="DC.title" content="sed &amp; awk"><meta name="DC.creator" content="Dale Dougherty &amp; Arnold Robbins"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-03T21:02:23Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-225-5" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch10_01.htm" webstripperlinkwas="ch10_01.htm" title="10. The Bottom Drawer"><link rel="prev" href="ch10_07.htm" webstripperlinkwas="ch10_07.htm" title="10.7 Debugging"><link rel="next" href="ch10_09.htm" webstripperlinkwas="ch10_09.htm" title="10.9 Invoking awk Using the #! Syntax"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="sed &amp; awk" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch10_07.htm" webstripperlinkwas="ch10_07.htm" title="10.7 Debugging"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 10.7 Debugging" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 10<br>The Bottom Drawer</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch10_09.htm" webstripperlinkwas="ch10_09.htm" title="10.9 Invoking awk Using the #! Syntax"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 10.9 Invoking awk Using the #! Syntax" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="SEDAWK-CH-10-SECT-8">10.8 Limitations</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-8848"></A
><a class="indexterm" name="AUTOID-8850"></A
>There are fixed limits within any awk implementation.  The only
trouble is that the documentation seldom reports them.
<a class="xref" href="#SEDAWK-CH-10-TAB-1" title="Limitations">Table 10.1</A
>
lists the limitations as described in <em class="emphasis">The AWK Programming
Language</EM
>.  These limitations are implementation-specific
but they are good ballpark figures for most systems.</P
><table class="table"><caption class="table"><a class="title" name="SEDAWK-CH-10-TAB-1">Table 10.1: Limitations</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Item</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Limit</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Number of fields per record</TD
><td class="entry" rowspan="1" colspan="1">100</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Characters per input record</TD
><td class="entry" rowspan="1" colspan="1">3000</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Characters per output record</TD
><td class="entry" rowspan="1" colspan="1">3000</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Characters per field</TD
><td class="entry" rowspan="1" colspan="1">1024</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Characters per printf string</TD
><td class="entry" rowspan="1" colspan="1">3000
<a class="indexterm" name="AUTOID-8879"></A
><a class="indexterm" name="AUTOID-8882"></A
><a class="indexterm" name="AUTOID-8885"></A
>&#13;</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Characters in literal string</TD
><td class="entry" rowspan="1" colspan="1">400</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Characters in character class</TD
><td class="entry" rowspan="1" colspan="1">400</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Files open</TD
><td class="entry" rowspan="1" colspan="1">15</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">Pipes open</TD
><td class="entry" rowspan="1" colspan="1">1</TD
></TR
></TBODY
></TABLE
><blockquote class="note"><p class="para"><strong>NOTE:</STRONG
> Despite the number in <a class="xref" href="#SEDAWK-CH-10-TAB-1" title="Limitations">Table 10.1</A
>, experience
has shown that most awks allow you to have more than one open pipe.</P
></BLOCKQUOTE
><p class="para">In terms of numeric values, awk uses double-precision, floating-point
numbers that are limited in size by the machine's architecture.</P
><p class="para">Running into these limits can cause unanticipated problems with
scripts.  In developing examples for the first edition of this book,
Dale thought he'd write a search program that could look for a word or
sequence of words in a single paragraph.  The idea was to read a
document as a series of multiline records and if any of the fields
contained the search term, print the record, which was a
paragraph.  It could be used to search through mail files where blank
lines delimit paragraphs.  The resulting program worked for small test
files.  However, when tried on larger files, the program dumped core
because it encountered a paragraph that was longer than the maximum
input record size, which is 3000 characters.  (Actually, the file
contained an included mail message where blank lines within the
message were prefixed by &quot;&gt;&quot;.)  Thus, when reading multiple lines
as a single record, you better be sure that you don't anticipate
records longer than 3000 characters.  By the way, there is no
particular error message that alerts you to the fact that the problem
is the size of the current record.</P
><p class="para"><a class="indexterm" name="AUTOID-8906"></A
><a class="indexterm" name="AUTOID-8908"></A
><a class="indexterm" name="AUTOID-8910"></A
><a class="indexterm" name="AUTOID-8913"></A
>Fortunately, gawk and mawk (see <a class="xref" href="ch11_01.htm" webstripperlinkwas="ch11_01.htm" title="A Flock of awks">Chapter 11, A Flock of awks</A
>) don't
have such small limits; for example, the number of fields in a record is
limited in gawk to the maximum value that can be held in a C
<kbd class="command">long</KBD
>, and certainly records can be longer than 3000
characters.  These versions allow you to have more open files and pipes.</P
><p class="para"><a class="indexterm" name="AUTOID-8919"></A
><a class="indexterm" name="AUTOID-8921"></A
>Recent versions of the Bell Labs awk have two options,
<i class="option">-mf</I
> <code class="replaceable"><i>N</I
></CODE
> and
<i class="option">-mr</I
> <code class="replaceable"><i>N</I
></CODE
>, that allow you to
set the maximum number of fields and the maximum record size on the
command line, as an emergency way to get around the default limits.</P
><p class="para">(Sed implementations also have their own limits, which aren't
documented.  Experience has shown that most UNIX versions of sed have
a limit of 99 or 100 substitute (<kbd class="command">s</KBD
>) commands.)</P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch10_07.htm" webstripperlinkwas="ch10_07.htm" title="10.7 Debugging"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 10.7 Debugging" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" title="sed &amp; awk"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="sed &amp; awk" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch10_09.htm" webstripperlinkwas="ch10_09.htm" title="10.9 Invoking awk Using the #! Syntax"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 10.9 Invoking awk Using the #! Syntax" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">10.7 Debugging</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">10.9 Invoking awk Using the #! Syntax</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="../upt/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
