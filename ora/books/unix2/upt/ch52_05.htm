<html><head><title>[Chapter 52] 52.5 Using the Power Tools CD-ROM </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:58:36Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch52_01.htm" webstripperlinkwas="ch52_01.htm" title="52. What's on the Disc"><link rel="prev" href="ch52_04.htm" webstripperlinkwas="ch52_04.htm" title="52.4 Quick Descriptions of What's on the Disc "><link rel="next" href="ch52_06.htm" webstripperlinkwas="ch52_06.htm" title="52.6 Don't Have a CD-ROM Drive? "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch52_04.htm" webstripperlinkwas="ch52_04.htm" title="52.4 Quick Descriptions of What's on the Disc "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 52.4 Quick Descriptions of What's on the Disc " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 52<br>What's on the Disc</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch52_06.htm" webstripperlinkwas="ch52_06.htm" title="52.6 Don't Have a CD-ROM Drive? "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 52.6 Don't Have a CD-ROM Drive? " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-9503">52.5 Using the Power Tools CD-ROM </A
></H2
><p class="para">[In addition to this article,  
be sure to read the file called README for any 
late-breaking news on using the CD-ROM. -LM]</P
><p class="para">The CD-ROM that comes with this book can be used in two different ways.
First, it can be mounted just long enough for software to be copied onto
a local hard disk.
In this respect, it is a distribution medium similar to 
magnetic tapes or floppy disks.
Second, it can be mounted so that it is always present and available
as a local read-only hard disk.
It will appear as a filesystem and
you can use familiar UNIX commands to peruse it.</P
><div class="sect2"><h3 class="sect2"><a class="title" name="UPT-ART-9503-SECT-1.1">52.5.1 CD-ROM Formats </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-62631"></A
><a class="indexterm" name="AUTOID-62633"></A
><a class="indexterm" name="AUTOID-62635"></A
>The Power Tools CD conforms to the ISO standard 9660.
This is sometimes called
&quot;High Sierra,&quot; but there are differences between the two formats.
The 9660 standard
is what most CD-ROM drivers will support from now on, even though they will read
High Sierra discs.</P
><p class="para">For UNIX users, ISO 9660 may come as a shock.  For
example, a directory listing of an ISO 9660 disc might look
like this:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>ls /cdrom</B
></CODE
>
ALPHA/      CONFIG1      HP700/       INSTINFO/   RS6000/    SUN4C/
BUILD.PT*   CONFIG2.REV  I386/        LINUX/      SOURCES/
COMMON/     CONFIG3.Z    INSTALL.PT*  README      SSOL2/</PRE
></BLOCKQUOTE
></P
><p class="para">ISO 9660 specifies that the filenames are mono-case, and limited to 8 characters
with 3-character extensions.
If the filename doesn't contain a dot, one is
added at the end of the filename.
A &quot;version number&quot; is also appended, following
a semicolon (version numbers are used in some non-UNIX filesystems such
as VMS).
Some systems do not use all these features, so there are several variations
that you will encounter.</P
><p class="para">For example, a file called <em class="emphasis">install.pt</EM
> may appear as any of the following,
depending on what system you mount the CD-ROM on:</P
><p class="para"><blockquote class="screen"><pre class="screen">INSTALL.PT;1 INSTALL.PT install.pt;1 install.pt</PRE
></BLOCKQUOTE
></P
><p class="para">Directory names are simply 8 characters or less and mono-case.
A directory
called &quot;SOURCES&quot; can appear as <em class="emphasis">SOURCES</EM
> or <em class="emphasis">sources</EM
>. ISO 9660 also limits directory depth to 8 levels.</P
><p class="para">Note that the semicolon character (<code class="literal">;</CODE
>) in version numbers needs to 
be 
<span class="link">quoted (<a class="linkend" href="ch08_14.htm" webstripperlinkwas="ch08_14.htm" title="Bourne Shell Quoting ">8.14</A
>)</SPAN
>
when you are specifying the filename in a
UNIX shell.
If you don't quote such a filename, you'll get a message like this:</P
><p class="para"><blockquote class="screen"><pre class="screen">INSTALL.PT: Command not found.
1: Command not found.</PRE
></BLOCKQUOTE
></P
><p class="para">Luckily for you, we provide installation software that hides 
most of this ugliness.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UPT-ART-9503-SECT-1.2">52.5.2 Mounting the CD-ROM </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-62658"></A
>For UNIX users, the CD-ROM should be made available as if it were a filesystem.
In most cases, the standard <em class="emphasis">mount</EM
> command can be used.
This usually has
the form:</P
><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>mount</B
></CODE
> <code class="replaceable"><i>CD-ROM_device mount_point</I
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">The CD-ROM device name varies depending on the type of system.
If you do not know
the device name, consult the documentation that comes with your system.
On some systems, the SCSI ID of the CD-ROM device can vary.
The SCSI ID
will be part of the device name&nbsp;- for example,
<em class="emphasis">/dev/rz3c/</EM
> is the CD-ROM
at SCSI ID 3 on a DECstation.</P
><p class="para">The mount point is simply a directory that will become the parent directory
of the CD-ROM when it is mounted.</P
><p class="para">Most systems do not provide a way for unprivileged users to mount the CD.
It is probably necessary to mount and use it as the
<span class="link">superuser (<a class="linkend" href="ch01_24.htm" webstripperlinkwas="ch01_24.htm" title="The Superuser (Root) ">1.24</A
>)</SPAN
>.
For this reason, the bulk of this article assumes some knowledge of
system administration and superuser commands.
You may need to have
your system administrator install the power tools software for you.</P
><p class="para">As the CD
is read-only, you may have to specify this fact to the <em class="emphasis">mount</EM
> program or
it will generate an error if it tries to open the CD-ROM device for
writing.
Some systems also need to be told the type of filesystem
being mounted if it is not the default (usually <code class="literal">ufs</CODE
> or <code class="literal">nfs</CODE
>).
There may be options to the <em class="emphasis">mount</EM
> program that control whether all the
ISO 9660 features (such as version numbers) are turned on.</P
><p class="para">For example, the CD can be mounted on a SunOS 4.1.1 system with the
command:</P
><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>/etc/mount -r -t hsfs /dev/sr0 /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">This command mounts the CD (<em class="emphasis">/dev/sr0</EM
>) on the mount point (<em class="emphasis">/cdrom</EM
>)
in a read-only fashion (<em class="emphasis">-r</EM
>).<a class="indexterm" name="AUTOID-62683"></A
>
If you omit the <em class="emphasis">-r</EM
> option, <em class="emphasis">mount</EM
> will give the 
following error:</P
><p class="para"><blockquote class="screen"><pre class="screen">mount_hsfs: must be mounted readonly
mount: giving up on:
   /cdrom</PRE
></BLOCKQUOTE
></P
><p class="para">If you omit the filesystem type of <code class="literal">hsfs</CODE
>
(High Sierra Filesystem, which preceded the ISO 9660 format), you will get:</P
><p class="para"><blockquote class="screen"><pre class="screen">mount: /dev/sr0 on /cdrom: Invalid argument
mount: giving up on:
   /cdrom</PRE
></BLOCKQUOTE
></P
><p class="para">The procedure for mounting a CD-ROM varies with each type of operating system.
You should consult the manual pages for the <em class="emphasis">mount</EM
> command and look
for a mention of CD-ROM, ISO 9660, or High Sierra:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>man mount</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Some examples of <em class="emphasis">mount</EM
> commands for the supported systems are:</P
><dl class="variablelist"><dt class="term">Sun4 SunOS 4.1.4</DT
><dd class="listitem"><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>/etc/mount -r -t hsfs /dev/sr0 /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para"></P
></DD
><dt class="term">IBM RS/6000 AIX 3.2</DT
><dd class="listitem"><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>/etc/mount -r -v cdrfs /dev/cd0 /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para"></P
></DD
><dt class="term">HP 700 HP-UX</DT
><dd class="listitem"><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>/etc/mount -r -s cdfs /dev/dsk/c201d2s0 /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para"></P
></DD
><dt class="term">SCO UNIX</DT
><dd class="listitem"><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>/etc/mount -r -fHS,lower,intr,soft,novers /dev/cd0 /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para"></P
></DD
><dt class="term">Solaris</DT
><dd class="listitem"><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>/etc/mount -F -hsfs -r /dev/dsk/c0t4d0s0 /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para"></P
></DD
><dt class="term">Alpha</DT
><dd class="listitem"><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>/usr/sbin/mount -t cdfs -o noversion /dev/rz3c /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para"></P
></DD
><dt class="term">Linux</DT
><dd class="listitem"><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>/bin/mount -t iso9660 -o ro /dev/cdrom /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para"></P
></DD
></DL
><p class="para">An example of a <em class="emphasis">mount</EM
> command on another system is:</P
><dl class="variablelist"><dt class="term">SGI IRIX 4.x</DT
><dd class="listitem"><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>/usr/etc/mount -o ro,notranslate -t iso9660 \ 
     /dev/scsi/sc0d5l0 /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">&#13;You can also start up the <em class="emphasis">cdromd</EM
> process:</P
><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>cdromd -o ro,notranslate -d /dev/scsi/sc0d5l0 /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">To mount the disc, just insert it in the drive.
To unmount it, use
the <em class="emphasis">eject</EM
> command.</P
></DD
></DL
><p class="para">Once you have the CD-ROM mounted, 
you can run the installation program to copy
pre-compiled binaries off the CD and onto your system's hard disk.
The installation program is Ready-to-Run Software's &quot;Smart Installation System.&quot;</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UPT-ART-9503-SECT-1.3">52.5.3 Installing Pre-Compiled Binaries </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-62770"></A
><a class="indexterm" name="AUTOID-62773"></A
>There are two software installation programs provided on the CD.
The first
program &quot;installs&quot; pre-compiled binaries.
The second program &quot;builds&quot; programs
from source code.
If you have one of the supported platforms, you can install
software off the CD-ROM and use it immediately.
If your platform is not one of
the supported platforms or you wish to change the software in some way, you should
be able to 
<span class="link">build it from source code (<a class="linkend" href="ch52_08.htm" webstripperlinkwas="ch52_08.htm" title="Building Programs from Source Code ">52.8</A
>)</SPAN
>.</P
><p class="para"><a class="indexterm" name="AUTOID-62777"></A
>Binaries for the following platforms are on this CD-ROM:</P
><ul class="itemizedlist"><li class="listitem"><p class="para">Red Hat Linux 4.1</P
></LI
><li class="listitem"><p class="para">Sun4 Solaris 2.5</P
></LI
><li class="listitem"><p class="para">Sun4 SunOS 4.1.4</P
></LI
><li class="listitem"><p class="para">Digital Equipment Corp. 3.2</P
></LI
><li class="listitem"><p class="para">IBM RS/6000 AIX 3.2.5</P
></LI
><li class="listitem"><p class="para">HP 700 HP-UX 9.01</P
></LI
><li class="listitem"><p class="para">SCO UNIX 3.2.4</P
></LI
></UL
><p class="para">The pre-compiled binaries may work on operating system
versions slightly older or newer 
than the ones listed here.
Some programs take advantage of features that
are not supported on all the platforms.
The install program will tell
you if a program is not available for your platform.</P
><p class="para">If you are uncertain of your operating system
version, the <em class="emphasis">uname</EM
> command may help:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>uname -a</B
></CODE
>
SunOS ruby 4.1.4 1 sun4m</PRE
></BLOCKQUOTE
></P
><p class="para">If your platform is not listed, you should try building the
programs from source code as described in article
<a class="xref" href="ch52_08.htm" webstripperlinkwas="ch52_08.htm" title="Building Programs from Source Code ">52.8</A
>.</P
><div class="sect3"><h4 class="sect3"><a class="title" name="UPT-ART-9503-SECT-1.3.1">52.5.3.1 Directory Structure </A
></H4
><p class="para"><a class="indexterm" name="AUTOID-62805"></A
><a class="indexterm" name="AUTOID-62807"></A
>There is a standard installation structure for 
all packages on the CD-ROM.
Using this structure (and some simple variations of it), you can tailor 
how and where your packages will be installed on your system.</P
><p class="para">The basic directory structure is shown in 
<a class="xref" href="#UPT-ART-9503-FIG-0" title="Basic Directory Structure">Figure 52.1</A
>.</P
><h4 class="figure"><a class="title" name="UPT-ART-9503-FIG-0">Figure 52.1: Basic Directory Structure</A
></H4
><img class="graphic" src="figs/9503a.gif" webstripperlinkwas="figs/9503a.gif" alt="Figure 52.1"><p class="para">Some packages may deviate from this structure by having extra directories 
at the <em class="emphasis">&lt;install_dir&gt;</EM
> level.</P
><p class="para"><a class="indexterm" name="AUTOID-62818"></A
><a class="indexterm" name="AUTOID-62820"></A
><em class="emphasis">Shareable</EM
> files are those files that are machine independent and
can be shared across many machines in a network using a
<span class="link">network filesystem (NFS) (<a class="linkend" href="ch01_33.htm" webstripperlinkwas="ch01_33.htm" title="UNIX Networking and Communications ">1.33</A
>)</SPAN
>.
These are typically text files, such as manual pages or &quot;include files.&quot;
Sharing files reduces the amount of disk space required by allowing several 
different
systems to use the same set of files, as opposed to having to duplicate them for
each machine.
It also simplifies administration of the files by having only
a single copy to maintain.</P
><p class="para"><a class="indexterm" name="AUTOID-62825"></A
><em class="emphasis">Non-shareable</EM
>
files are machine/architecture specific and may not be shared (except
with other hosts of the same architecture).
These are typically binaries
or data files that depend on a certain architecture or byte order.</P
><p class="para">The installation program gives you the ability to split the shareable
and non-shareable files into separate directories.
Using this scheme, you could
put shareable files onto a partition or directory that is mounted by multiple
machines.</P
><p class="para">If you want to store shareable and non-shareable files at the same directory
level, the shareable directories will be preceded by a leading <em class="emphasis">s</EM
> to mark
them as &quot;shareable.&quot;
For example, <em class="emphasis">sbin</EM
> is shareable, 
while <em class="emphasis">bin</EM
> is non-shareable.</P
><p class="para">[1]
<a class="xref" href="#UPT-ART-9503-FIG-1" title="Default Installation Directory Structure">Figure 52.2</A
>
shows how the default installation directories are arranged.</P
><blockquote class="footnote"><p class="para">[1] You may also remove the leading <em class="emphasis">s</EM
> from the shareable directories 
<em class="emphasis">sinclude</EM
>, <em class="emphasis">sspool</EM
>, <em class="emphasis">sbin</EM
>, and <em class="emphasis">slib</EM
>.
This way, you
can merge <em class="emphasis">slib</EM
> into <em class="emphasis">lib</EM
>, and <em class="emphasis">sbin</EM
> into <em class="emphasis">bin</EM
> if 
your shareable and non-shareable files are stored in the same directory, or
make names clearer if your shareable and non-shareable files
are not stored together.</P
></BLOCKQUOTE
><h4 class="figure"><a class="title" name="UPT-ART-9503-FIG-1">Figure 52.2: Default Installation Directory Structure</A
></H4
><img class="graphic" src="figs/9503b.gif" webstripperlinkwas="figs/9503b.gif" alt="Figure 52.2"><p class="para">You can modify this structure using the Smart Installation System
and any necessary directories will be created
(if you have permission to do so).</P
><p class="para">In order to run the software after installation, you will need to make sure 
that your shell path variable 
includes <em class="emphasis">&lt;install_dir&gt;/bin</EM
> (and possibly <em class="emphasis">&lt;install_dir&gt;/share/bin</EM
>
if you choose to use this structure).
For example, if <em class="emphasis">&lt;install_dir&gt;</EM
>
is set to <em class="emphasis">/usr/local</EM
>, set your
<span class="link">search path (<a class="linkend" href="ch08_07.htm" webstripperlinkwas="ch08_07.htm" title="Setting Your Search Path ">8.7</A
>)</SPAN
>
as appropriate for your shell:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>set path=($path /usr/local/bin /usr/local/share/bin)</B
></CODE
>   <i class="lineannotation">csh</I
>
$ <code class="userinput"><b>PATH=$PATH:/usr/local/bin:/usr/local/share/bin ; export PATH</B
></CODE
>   <i class="lineannotation">sh</I
></PRE
></BLOCKQUOTE
></P
><p class="para">&#13;The installation software will automatically print out a suggested path
when it finishes installing a program.</P
></DIV
><div class="sect3"><h4 class="sect3"><a class="title" name="UPT-ART-9503-SECT-1.3.2">52.5.3.2 Starting the Installation </A
></H4
><p class="para"><a class="indexterm" name="AUTOID-62866"></A
>To begin the installation process, become the superuser and mount the CD-ROM.
For example, on a Sun running SunOS 4.1.4:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>su</B
></CODE
>
Password:
# <code class="userinput"><b>/etc/mount -r -t hsfs /dev/sr0 /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Then change directories to the mount point you specified for the 
CD-ROM and see what is there.
In our case, we specified
<em class="emphasis">/cdrom</EM
> as our mount point:</P
><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>cd /cdrom</B
></CODE
>
# ls
common          install.pt      alpha           linux
hp700           instinfo        rs6000          sun4c
i386            readme          sources         ssol2</PRE
></BLOCKQUOTE
></P
><p class="para">The output could look slightly different depending on the type of system:</P
><p class="para"><blockquote class="screen"><pre class="screen">ALPHA/      CONFIG1      HP700/       INSTINFO/   RS6000/    SUN4C/
BUILD.PT*   CONFIG2.REV  I386/        LINUX/      SOURCES/
COMMON/     CONFIG3.Z    INSTALL.PT*  README      SSOL2/</PRE
></BLOCKQUOTE
></P
><p class="para">One of the first things that the installation program will do when installing
software is to copy the programs into a &quot;staging&quot; area.
By default, this is
the directory <em class="emphasis">/tmp</EM
>.
By setting the environment variable <em class="emphasis">TMPDIR</EM
> to
another directory, you can alter this location.</P
><p class="para">For example, if you want to use the directory <em class="emphasis">/mondo</EM
> for the staging
area:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>setenv TMPDIR /mondo</B
></CODE
>   <i class="lineannotation">csh</I
>
$ <code class="userinput"><b>TMPDIR=/mondo; export TMPDIR</B
></CODE
>   <i class="lineannotation">sh</I
></PRE
></BLOCKQUOTE
></P
><blockquote class="note"><p class="para"><strong>NOTE:</STRONG
> If you wish to install software in &quot;system&quot; areas, you will likely run into
problems with file permissions.
You can just become the superuser and not
worry about permissions, but this is dangerous because you could overwrite
previously installed or vendor-supplied software.
The other option is to
run the install as an unprivileged user.
This should prevent you from
damaging system areas, but you will have to use
<span class="link"><em class="emphasis">chmod</EM
> (<a class="linkend" href="ch22_07.htm" webstripperlinkwas="ch22_07.htm" title="Using chmod to Change File Permission ">22.7</A
>)</SPAN
>
to make directories writable
before you begin the installation process&nbsp;- or possibly
use
<span class="link">group permissions (<a class="linkend" href="ch22_13.htm" webstripperlinkwas="ch22_13.htm" title="Groups and Group Ownership ">22.13</A
>)</SPAN
>
to control access.</P
></BLOCKQUOTE
></DIV
><div class="sect3"><h4 class="sect3"><a class="title" name="UPT-ART-9503-SECT-1.3.3">52.5.3.3 Running Install </A
></H4
><p class="para">Once you have the CD-ROM properly mounted, 
run the appropriate install command for your system.
For example:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>./install.pt</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">or:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>./INSTALL.PT\;1</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">The installation program will display menus and prompt you for input from
now on.
It will also try to guess the type of machine you are running it
on and the mount point of the CD-ROM:</P
><p class="para"><blockquote class="screen"><pre class="screen">Assuming CDROM   is mounted at /archive/cdrom
Assuming MACHINE is ALPHA

                      Welcome to Ready-to-Run Software's
                         * Smart Installation System *

This installation system requires write permission in /tmp (or $TMPDIR if
it's set) directory (for staging the install) and write permission in the
installation directory for the actual install (these may be the same).
     ...</PRE
></BLOCKQUOTE
></P
><p class="para"><a class="indexterm" name="AUTOID-62911"></A
>At this point, the installation program may ask if you want to use a
different
<span class="link"><em class="emphasis">umask</EM
> (<a class="linkend" href="ch22_04.htm" webstripperlinkwas="ch22_04.htm" title="Setting an Exact umask ">22.4</A
>)</SPAN
>
value for the installation process:  </P
><p class="para"><blockquote class="screen"><pre class="screen">Use umask of 022 instead of 007 for install [y]? y</PRE
></BLOCKQUOTE
></P
><p class="para">This will affect the permissions of the software when it is
installed. The suggested value of 022 will allow anyone to execute or
read the programs, but gives write permission only to you.</P
><p class="para">The install program will then present a list of the available
software:</P
><p class="para"><blockquote class="screen"><pre class="screen">The PowerTools2 package contains the following scripts:

!            80cols       Clear        _emacs_ml    _enter_csh   _enter_sh    
_exit_csh    _exit_sh     addup        age_files    ascii        awf          
behead       bkedit       cal_today    catsaway     center       cgrep        
   ...


The PowerTools2 package contains the following packages:

bash         bitmaps      bsdtar       bsplit       calen        cpmod
cvtbase      delete       diff         ediff        emacs        fgrep
fileutils    find         gawk         getopt       glimpse      grabchars
   ...</PRE
></BLOCKQUOTE
></P
><p class="para">After the names of the software packages have been displayed, you are
prompted for which ones to install:</P
><p class="para"><blockquote class="screen"><pre class="screen">Enter the name of a package to install or choose Search, Quit or All
&lt;package&gt;, S(earch), A(ll), Q(uit) [Search]?</PRE
></BLOCKQUOTE
></P
><p class="para">You can now type the name of the package, search for packages, quit the
installation program, or install all packages in one fell swoop.</P
></DIV
><div class="sect3"><h4 class="sect3"><a class="title" name="UPT-ART-9503-SECT-1.3.4">52.5.3.4 Installing a Single Program </A
></H4
><p class="para"><a class="indexterm" name="UPT-ART-9503-IX-INSTALLATION-PROCESS-FOR-SINGLE-PROGRAM-SINGLE"></A
>Some of you might prefer not to install the entire distribution, 
but just selected programs.  </P
><p class="para"><a class="indexterm" name="AUTOID-62932"></A
>For this example, let's assume you are looking for programs that do something
with terminals, but you don't know what they are called.
You can use the
&quot;Search&quot; function at the main menu to look for you.
Just press RETURN at the prompt, as the &quot;Search&quot; is the
default action in the square brackets (<code class="literal">[]</CODE
>).</P
><p class="para"><blockquote class="screen"><pre class="screen">&lt;package&gt;, S(earch), A(ll), Q(uit) [Search]? s</PRE
></BLOCKQUOTE
></P
><p class="para">Then type in &quot;terminal&quot; for the search keyword:</P
><p class="para"><blockquote class="screen"><pre class="screen">Search package descriptions for (? for help) []? terminal</PRE
></BLOCKQUOTE
></P
><p class="para">All packages matching this description will be displayed:</P
><p class="para"><blockquote class="screen"><pre class="screen">The descriptions for the following packages mention &quot;terminal&quot;:
   1.  Clear
   2.  emacs
   3.  qterm
   4.  screen
   5.  tcap
   6.  termtest
   7.  tputinit

   A.  ALL
   N.  NONE

Choose one please:</PRE
></BLOCKQUOTE
></P
><p class="para">For this example, the <em class="emphasis">qterm</EM
> program is selected, which is option 1:</P
><p class="para"><blockquote class="screen"><pre class="screen">Choose one please: 3</PRE
></BLOCKQUOTE
></P
><p class="para">A description of the program is now displayed:</P
><p class="para"><blockquote class="screen"><pre class="screen">qterm - version 5.0         Version 5.0

Qterm is a program that queries terminals to find out what kind of
terminal is responding.  It is useful to automagically define your
terminal type.  It prints the name of the terminal (compatible,
hopefully, with a termcap/terminfo name) such as &quot;vt100&quot; to standard
output.

The qterm package is approximately  64Kb
     32Kb - Required
     15Kb - Shared: Formatted Man pages
      3Kb - Shared: Other Shareable files
     13Kb - Shared: Unformatted Man pages

Install qterm [y]?
qterm was compiled and made &quot;Ready-to-Run&quot; by
        Ready-to-Run Software, Inc.


   Copyright (c) 1990 Michael A. Cooper.
   This software may be freely distributed provided it is not sold for
   profit and the author is credited appropriately.

Power Tools distribution by permission of the author.

                               ************************</PRE
></BLOCKQUOTE
></P
><p class="para">After information about <em class="emphasis">qterm</EM
> is printed, you are told how much
space it will require and then asked whether you want it installed.
Press RETURN to install it, or &quot;n&quot; for &quot;no&quot; (followed by
RETURN) if you don't want it installed. For our example, we
want <em class="emphasis">qterm</EM
> installed, so we just press RETURN.</P
><p class="para"><blockquote class="screen"><pre class="screen">The qterm package is approximately  56Kb
     24Kb - Required
     15Kb - Shared: Formatted Man pages
      3Kb - Shared: Other Shareable files
     13Kb - Shared: Unformatted Man pages

Install qterm [y]? <kbd class="keycap">[RETURN]</KBD
></PRE
></BLOCKQUOTE
></P
><p class="para">Any copyright information for the <em class="emphasis">qterm</EM
> package is printed out now:</P
><p class="para"><blockquote class="screen"><pre class="screen">qterm was compiled and made &quot;Ready-to-Run&quot; by 
        Ready-to-Run Software, Inc.


/*
 * Copyright (c) 1990 Michael A. Cooper.
 * This software may be freely distributed provided it is not sold for 
 * profit and the author is credited appropriately.
 */
                               ************************</PRE
></BLOCKQUOTE
></P
><p class="para">You are then prompted with 
installation questions, with the default answers printed within square
brackets (<code class="literal">[]</CODE
>).</P
><p class="para">The first question is where to install the software. The installation
program assumes <em class="emphasis">/usr/local</EM
> as the default installation
directory. If you want to change
the default, type the name of a different directory here. This directory will
now be used when you are prompted for the same information in
all subsequent packages. </P
><p class="para"><blockquote class="screen"><pre class="screen">Install package at dir [/usr/local]? <code class="userinput"><b>/work/tools</B
></CODE
> <kbd class="keycap">[RETURN]</KBD
></PRE
></BLOCKQUOTE
></P
><p class="para">The next question is where to install the shared files 
for the package. The default is to use 
a <em class="emphasis">share</EM
> subdirectory of whatever directory you specified
in the previous question.</P
><p class="para"><blockquote class="screen"><pre class="screen">Install shared files at [/work/tools/share]? <kbd class="keycap">[RETURN]</KBD
></PRE
></BLOCKQUOTE
></P
><p class="para">Third, you're asked whether to remove the <em class="emphasis">s</EM
> prefix
from the names of the directories in which you install the
shared files. The default is &quot;y&quot; for &quot;yes&quot;-remove the <em class="emphasis">s</EM
> prefix.</P
><p class="para"><blockquote class="screen"><pre class="screen">Convert slib-&gt;lib, sbin-&gt;bin, sspool-&gt;spool, sinclude-&gt;include [y]? <kbd class="keycap">[RETURN]</KBD
></PRE
></BLOCKQUOTE
></P
><p class="para">The fourth question is whether to install all the shared files, some, or
none of them. The default is to install just some selected shared files.</P
><p class="para"><blockquote class="screen"><pre class="screen">Install Shared files (All, Some, None) [s]? <kbd class="keycap">[RETURN]</KBD
></PRE
></BLOCKQUOTE
></P
><p class="para">Now you're asked whether to install the manpages. The default is
to install them all. You might choose not to install unformatted
manpages if you are low on disk space or if you don't have <em class="emphasis">nroff</EM
>
on your system to format them with:</P
><p class="para"><blockquote class="screen"><pre class="screen">Install Unformatted Man pages (Approx  13Kb) [y]? <kbd class="keycap">[RETURN]</KBD
>
Install Formatted Man pages (Approx  15Kb) [y]? <kbd class="keycap">[RETURN]</KBD
></PRE
></BLOCKQUOTE
></P
><p class="para">Finally you're asked about any other shareable files.</P
><p class="para"><blockquote class="screen"><pre class="screen">Install Other Shareable files (Approx   3Kb) [y]? <kbd class="keycap">[RETURN]</KBD
></PRE
></BLOCKQUOTE
></P
><p class="para"><a class="indexterm" name="AUTOID-62994"></A
><a class="indexterm" name="AUTOID-62996"></A
><a class="indexterm" name="AUTOID-62998"></A
><a class="indexterm" name="AUTOID-63000"></A
>
(Other packages might have other questions, as appropriate. 
For example, the
<em class="emphasis">gawk</EM
> installation asks whether to install Texinfo files,
PostScript format documentation, and DVI format documentation.)</P
><p class="para"><a class="indexterm" name="AUTOID-63004"></A
><a class="indexterm" name="AUTOID-63007"></A
>If you want the answer to any 
question to be used for all subsequent packages without further prompting, 
enter the answer in uppercase. You can enter a pathname in
uppercase, and the installation script will convert it to lowercase
before using it.
For example:</P
><p class="para"><blockquote class="screen"><pre class="screen">Install package at dir [/usr/local]? <code class="userinput"><b>/WORK/TOOLS</B
></CODE
> <kbd class="keycap">[RETURN]</KBD
>
Install shared files at [/work/tools/share]? <code class="userinput"><b>/WORK/TOOLS/SHARE</B
></CODE
> <kbd class="keycap">[RETURN]</KBD
>
Convert slib-&gt;lib, sbin-&gt;bin, sspool-&gt;spool, sinclude-&gt;include [y]? <code class="userinput"><b>Y</B
></CODE
> <kbd class="keycap">[RETURN]</KBD
>
Install Shared files (All, Some, None) [s]? <code class="userinput"><b>S</B
></CODE
> <kbd class="keycap">[RETURN]</KBD
>
Install Unformatted Man pages (Approx  13Kb) [y]? <code class="userinput"><b>Y</B
></CODE
> <kbd class="keycap">[RETURN]</KBD
>
Install Formatted Man pages (Approx  15Kb) [y]? <code class="userinput"><b>Y</B
></CODE
> <kbd class="keycap">[RETURN]</KBD
>
Install Other Shareable files (Approx   3Kb) [y]? <code class="userinput"><b>Y</B
></CODE
> <kbd class="keycap">[RETURN]</KBD
></PRE
></BLOCKQUOTE
></P
><p class="para">After answering all the questions, the installation script sets
up its installation information and asks you once more if it's
correct. If you change your mind about the current configuration,
press &quot;n&quot; to get another chance to change some of your 
installation parameters or to abort the installation of
this package entirely.
If the current configuration is acceptable, press 
RETURN a final time, and the package is installed.  </P
><p class="para"><blockquote class="screen"><pre class="screen">Please wait....

    About To Install: qterm

        at /work/tools
        with shareable files at /work/tools/share
        slib-&gt;lib, sbin-&gt;bin, sspool-&gt;spool, sinclude-&gt;include

Are these correct [y]? <kbd class="keycap">[RETURN]</KBD
>
Proceeding with install...

0 directories added, 6 files installed, 0 symbolic links created.
Approximately  99Kb installed.</PRE
></BLOCKQUOTE
></P
><p class="para">&#13;Once the <em class="emphasis">qterm</EM
> installation is completed, the installation
script returns to the main menu if this is the only package
you have selected. </P
><p class="para">After all programs are installed, you can quit the installation 
program. 
Upon quitting, the installation program suggests a new 
<span class="link">search path (<a class="linkend" href="ch08_07.htm" webstripperlinkwas="ch08_07.htm" title="Setting Your Search Path ">8.7</A
>)</SPAN
>
for you.&#13;</P
><p class="para"><blockquote class="screen"><pre class="screen">You may want to change your path to include:
   /work/tools/bin
   /work/tools/share/bin

Suggested new path:
/work/tools/bin:/work/tools/share/bin:/bin:/usr/bin ...</PRE
></BLOCKQUOTE
></P
><p class="para">A log file of the installation process is kept in
<em class="emphasis">/tmp/RTRinstall.log</EM
>.
A typical entry looks like this:</P
><p class="para"><blockquote class="screen"><pre class="screen">Package: jot - installed Thu Jul 10 14:39:52 EDT 1997

   /usr3/tmp/sidh/sundae/bin/jot
   /usr3/tmp/sidh/sundae/bin: Making directory
   /usr3/tmp/sidh/sundae/share: Making directory
   /usr3/tmp/sidh/sundae: Making directory


3 directories added, 1 file installed.
Approximately  24Kb installed.<a class="indexterm" name="AUTOID-63040"></A
></PRE
></BLOCKQUOTE
></P
></DIV
><div class="sect3"><h4 class="sect3"><a class="title" name="UPT-ART-9503-SECT-1.3.5">52.5.3.5 Installing Everything Using the Defaults </A
></H4
><p class="para"><a class="indexterm" name="AUTOID-63044"></A
>If you don't want to be bothered with being questioned about
every package in the installation, and the default values are
fine with you, you can bypass the questions and install everything at
once. At the main menu, press &quot;A&quot; for &quot;All&quot; to install all packages:</P
><p class="para"><blockquote class="screen"><pre class="screen">bash         bitmaps      bsdtar       bsplit       calen        cpmod
cvtbase      delete       diff         ediff        emacs        fgrep
fileutils    find         gawk         getopt       glimpse      grabchars
   ...
Enter the name of a package to install or choose Search, Quit or All
&lt;package, S(earch), A(ll), Q(uit) [Search]? A <kbd class="keycap">[RETURN]</KBD
></PRE
></BLOCKQUOTE
></P
><p class="para"><a class="indexterm" name="AUTOID-63051"></A
>You are shown information about the first program, <em class="emphasis">bash</EM
>.
Then you are asked whether to install <em class="emphasis">bash</EM
>:</P
><p class="para"><blockquote class="screen"><pre class="screen">GNU Bash, version 1.14.6.

Bash is the GNU Project's Bourne Again SHell, an interactive shell with
Bourne shell syntax (/bin/sh); but also with interactive command line
editing, job control on architectures that support it, Csh-like history
features and brace expansion, and a slew of other stuff.

The bash package is approximately 2.3Mb
    601Kb - Required
    383Kb - Shared: DVI Format Documentation
    205Kb - Shared: Formatted Man pages
    217Kb - Shared: Info files
      9Kb - Shared: Other Documentation
    741Kb - Shared: PostScript Format Documentation

    165Kb - Shared: Unformatted Man pages
     49Kb - Shared: examples/templates/extra info

Install bash [y]? y</PRE
></BLOCKQUOTE
></P
><p class="para">The default answer is &quot;y&quot;, to install <em class="emphasis">bash</EM
>. However, if you
respond instead with the string <code class="literal">++</CODE
>, <em class="emphasis">bash</EM
> will be
installed and furthermore, all default values will be used 
from now on without prompting.</P
><p class="para"><blockquote class="screen"><pre class="screen">Install bash [y]? <code class="userinput"><b>++</B
></CODE
> <kbd class="keycap">[RETURN]</KBD
>
bash was compiled and made &quot;Ready-to-Run&quot; by
        Ready-to-Run Software, Inc.

Copyright (C) Free Software Foundation, Inc.

GNU bash is free software; you can redistribute it and/or modify it
under the terms of the GNU General Public License as published by the
Free Software Foundation; either version 1, or (at your option) any
later version.

GNU bash is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
for more details.

                               ************************
Please wait....

    About To Install: bash

        at /usr3/tmp/sidh
        with shareable files at /usr3/tmp/sidh/share
        slib-lib, sbin-bin, sspool-spool, sinclude-include

Are these correct [y]? y
Proceeding with install...

14 directories added, 27 files installed, 0 symbolic links created.
Approximately 2.3Mb installed.
Notes (file, print, view, done) [view]? done</PRE
></BLOCKQUOTE
></P
><p class="para"><a class="indexterm" name="AUTOID-63066"></A
>At this point, you can go to lunch and come back to find everything
installed in <em class="emphasis">/usr/local</EM
>.</P
><p class="para">Another alternative is to call the installation script with the
<em class="emphasis">-D</EM
> option to use the defaults.  
For example:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>install.pt -D</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">You'll still have to answer the question about your <em class="emphasis">umask</EM
>,
and you'll have to answer &quot;A&quot; for &quot;All&quot; to the main menu, but then
all packages will be installed without prompting.</P
><p class="para">Note that to run a default installation, you will need to have 
write permission to the default directory of <em class="emphasis">/usr/local</EM
>.</P
></DIV
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UPT-ART-9503-SECT-1.4">52.5.4 Unmounting the CD-ROM </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-63082"></A
>When you are finished with the installation, you can unmount the CD-ROM
with the <em class="emphasis">umount</EM
> command with just the mount point as the argument:</P
><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>/etc/umount /cdrom</B
></CODE
></PRE
></BLOCKQUOTE
></P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UPT-ART-9503-SECT-1.5">52.5.5 What to Do if You Have Problems </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-63092"></A
>If you can't get the software to install and/or run, then you can call
Ready-to-Run's
<span class="link">CD support line (<a class="linkend" href="ch52_09.htm" webstripperlinkwas="ch52_09.htm" title="Software Support from RTR ">52.9</A
>)</SPAN
>.</P
></DIV
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">EP</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch52_04.htm" webstripperlinkwas="ch52_04.htm" title="52.4 Quick Descriptions of What's on the Disc "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 52.4 Quick Descriptions of What's on the Disc " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch52_06.htm" webstripperlinkwas="ch52_06.htm" title="52.6 Don't Have a CD-ROM Drive? "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 52.6 Don't Have a CD-ROM Drive? " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">52.4 Quick Descriptions of What's on the Disc </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">52.6 Don't Have a CD-ROM Drive? </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
