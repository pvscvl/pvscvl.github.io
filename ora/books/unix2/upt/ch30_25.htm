<html><head><title>[Chapter 30] 30.25 vi -r May not Write Recovered Buffer When You Exit </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:45:44Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch30_01.htm" webstripperlinkwas="ch30_01.htm" title="30. vi Tips and Tricks"><link rel="prev" href="ch30_24.htm" webstripperlinkwas="ch30_24.htm" title="30.24 vi/ex File Recovery vs. Networked Filesystems "><link rel="next" href="ch30_26.htm" webstripperlinkwas="ch30_26.htm" title="30.26 Shell Escapes: Running One UNIX Command While Using Another"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch30_24.htm" webstripperlinkwas="ch30_24.htm" title="30.24 vi/ex File Recovery vs. Networked Filesystems "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 30.24 vi/ex File Recovery vs. Networked Filesystems " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 30<br>vi Tips and Tricks</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch30_26.htm" webstripperlinkwas="ch30_26.htm" title="30.26 Shell Escapes: Running One UNIX Command While Using Another"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 30.26 Shell Escapes: Running One UNIX Command While Using Another" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-0144">30.25 vi -r May not Write Recovered Buffer When You Exit </A
></H2
><p class="para">Usually, when you're editing a file with <em class="emphasis">vi</EM
>, if you type the
command <em class="emphasis">ZZ</EM
>, it saves your file.
But, on some versions of <em class="emphasis">vi</EM
>, if you recover a file with
<span class="link"><em class="emphasis">vi -r</EM
> (<a class="linkend" href="ch30_24.htm" webstripperlinkwas="ch30_24.htm" title="vi/ex File Recovery vs. Networked Filesystems ">30.24</A
>)</SPAN
>,
typing <em class="emphasis">ZZ</EM
> may not save your edits!</P
><p class="para">That might be a good thing.
When you recover a buffer, you need to decide whether the recovered
buffer is really what you want.
Maybe you've made other changes to the file since then.
Maybe something went wrong as the buffer was being saved (say, the system
crashed).
You shouldn't just save without checking first.</P
><p class="para">You can use the <code class="literal">:w!</CODE
> command to write the recovered version after
you're sure that you want it.
Use the <code class="literal">:q!</CODE
> command if you don't want the recovered version.</P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">JP</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch30_24.htm" webstripperlinkwas="ch30_24.htm" title="30.24 vi/ex File Recovery vs. Networked Filesystems "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 30.24 vi/ex File Recovery vs. Networked Filesystems " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch30_26.htm" webstripperlinkwas="ch30_26.htm" title="30.26 Shell Escapes: Running One UNIX Command While Using Another"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 30.26 Shell Escapes: Running One UNIX Command While Using Another" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">30.24 vi/ex File Recovery vs. Networked Filesystems </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">30.26 Shell Escapes: Running One UNIX Command While Using Another</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
