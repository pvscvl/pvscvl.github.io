<html><head><title>[Chapter 18] 18.14 Relinking Multiple Symbolic Links </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:39:11Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch18_01.htm" webstripperlinkwas="ch18_01.htm" title="18. Linking, Renaming, and Copying Files"><link rel="prev" href="ch18_13.htm" webstripperlinkwas="ch18_13.htm" title="18.13 One More Way to Do It "><link rel="next" href="ch18_15.htm" webstripperlinkwas="ch18_15.htm" title="18.15 Copying Directory Trees with cp -r "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch18_13.htm" webstripperlinkwas="ch18_13.htm" title="18.13 One More Way to Do It "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 18.13 One More Way to Do It " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 18<br>Linking, Renaming, and Copying Files</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch18_15.htm" webstripperlinkwas="ch18_15.htm" title="18.15 Copying Directory Trees with cp -r "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 18.15 Copying Directory Trees with cp -r " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-8015">18.14 Relinking Multiple Symbolic Links </A
></H2
><table class="para.programreference" border="1"><tr><th valign="TOP"><a class="programreference" href="examples/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/examples/index.htm" title="relink">relink</A
><br></TH
><td valign="TOP"><a class="indexterm" name="AUTOID-20908"></A
><a class="indexterm" name="AUTOID-20911"></A
><a class="indexterm" name="AUTOID-20914"></A
><a class="indexterm" name="AUTOID-20917"></A
>Like the <em class="emphasis">rename</EM
> program in article
<a class="xref" href="ch18_10.htm" webstripperlinkwas="ch18_10.htm" title="There's More than One Way to Do It ">18.10</A
>,

the <em class="emphasis">relink</EM
> program (a Perl script)
relinks the symbolic links given according to the rule specified as the
first argument.
The argument is a Perl expression that is expected to modify the
<code class="literal">$_</CODE
> string in Perl for at least some of the names specified.
For each symbolic link named on the command line, the Perl expression
will be executed on the contents of the symbolic link with that name.
If a given symbolic link's contents is not modified by the expression,
it will not be changed.
If a name given on the command line is not a symbolic link, it will be ignored.
If no names are given on the command line, names will be read
via standard input.</TD
></TR
></TABLE
><p class="para">For example, to relink all symbolic links in the current directory
pointing to somewhere in <em class="emphasis">X11R3</EM
> so that they point to <em class="emphasis">X11R4</EM
>,
you might say:</P
><p class="para"><blockquote class="screen"><pre class="screen">$ <code class="userinput"><b>relink 's/X11R3/X11R4/' *</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">To

change all occurrences of links in the system from <em class="emphasis">/usr/spool</EM
>
to <em class="emphasis">/var/spool</EM
>, you'd say:</P
><p class="para"><table class="screen.co" border="1"><tr><th valign="TOP"><pre class="calloutlist">
<a class="co" href="ch17_13.htm" webstripperlinkwas="ch17_13.htm" title="17.13 Searching for Files by Type ">-type l</A
> </PRE
></TH
><td valign="TOP"><pre class="screen">
$ <code class="userinput"><b>find / -type l -print | relink 's#^/usr/spool#/var/spool#'</B
></CODE
></PRE
></TD
></TR
></TABLE
></P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">LW</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch18_13.htm" webstripperlinkwas="ch18_13.htm" title="18.13 One More Way to Do It "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 18.13 One More Way to Do It " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch18_15.htm" webstripperlinkwas="ch18_15.htm" title="18.15 Copying Directory Trees with cp -r "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 18.15 Copying Directory Trees with cp -r " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">18.13 One More Way to Do It </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">18.15 Copying Directory Trees with cp -r </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
