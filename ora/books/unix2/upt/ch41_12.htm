<html><head><title>[Chapter 41] 41.12 Finding Out What Characters Your Terminal's Special Keys Send</TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:52:13Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch41_01.htm" webstripperlinkwas="ch41_01.htm" title="41. Terminal and Serial Line Settings"><link rel="prev" href="ch41_11.htm" webstripperlinkwas="ch41_11.htm" title="41.11 How termcap and terminfo Describe Terminals "><link rel="next" href="ch42_01.htm" webstripperlinkwas="ch42_01.htm" title="42. Problems with Terminals"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch41_11.htm" webstripperlinkwas="ch41_11.htm" title="41.11 How termcap and terminfo Describe Terminals "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 41.11 How termcap and terminfo Describe Terminals " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 41<br>Terminal and Serial Line Settings</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="CHAPTER" href="ch42_01.htm" webstripperlinkwas="ch42_01.htm" title="42. Problems with Terminals"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 42. Problems with Terminals" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-0080">41.12 Finding Out What Characters Your Terminal's Special Keys Send</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-46431"></A
><a class="indexterm" name="AUTOID-46434"></A
><a class="indexterm" name="AUTOID-46436"></A
>Sometimes, when 
<span class="link">writing <em class="emphasis">vi</EM
> keymaps (<a class="linkend" href="ch31_02.htm" webstripperlinkwas="ch31_02.htm" title="Save Time and Typing with the vi map Commands ">31.2</A
>, <a class="linkend" href="ch31_13.htm" webstripperlinkwas="ch31_13.htm" title="Making Cursor Keys Work in vi Text-input Mode ">31.13</A
>)</SPAN
>,
you need to find out what characters are generated by
labeled keys like arrows,
HOME,
and Function Keys.</P
><p class="para">If you have a terminal manual handy, the information should be listed
somewhere in there.
If not, you can 
<span class="link">read the <em class="emphasis">termcap</EM
> or <em class="emphasis">terminfo</EM
> entry (<a class="linkend" href="ch41_11.htm" webstripperlinkwas="ch41_11.htm" title="How termcap and terminfo Describe Terminals ">41.11</A
>)</SPAN
>.
Unfortunately, not every entry is complete&nbsp;- a terminal may have
capabilities that aren't described in its entry.
In any event, if you don't know the syntax well, finding the right
information can be difficult.</P
><p class="para">However,
there are several online techniques for finding out what character is sent by
a special key. Each has drawbacks, but between them,
you can almost always find out what character a key generates. </P
><ul class="itemizedlist"><li class="listitem"><p class="para">Enter insert mode in <em class="emphasis">vi</EM
> and
use the
<span class="link"><code class="literal">^V</CODE
> control sequence (<a class="linkend" href="ch31_06.htm" webstripperlinkwas="ch31_06.htm" title="Protecting Keys from Interpretation by ex ">31.6</A
>)</SPAN
>
to quote each special key.
That is, type
CTRL-v
followed by the key whose identity you are
trying to discover. A printable representation of the key should 
appear on the screen.</P
><p class="para">This will not work if the key generates a sequence
containing more than one non-printing character, since ^V
will only quote the first one. It also will not work for
keys that generate a newline (such as the down-arrow key on
the Wyse-50 keyboard)-but in such a case, the action of the
key should be obvious.</P
></LI
><li class="listitem"><p class="para">At the command line, print:</P
><p class="para"><table class="screen.co" border="1"><tr><th valign="TOP"><pre class="calloutlist">
<a class="co" href="ch41_03.htm" webstripperlinkwas="ch41_03.htm" title="41.3 Find Out Terminal Settings with stty ">stty</A
> </PRE
></TH
><td valign="TOP"><pre class="screen">
% <code class="userinput"><b>stty</B
></CODE
><code class="userinput"><b> -echo; cat -v; stty echo</B
></CODE
></PRE
></TD
></TR
></TABLE
></P
><p class="para"><a class="indexterm" name="AUTOID-46461"></A
>and then type the special keys, each followed by a carriage return.
<span class="link"><em class="emphasis">cat -v</EM
> (<a class="linkend" href="ch25_07.htm" webstripperlinkwas="ch25_07.htm" title="Show Non-Printing Characters with cat -v or od -c ">25.7</A
>)</SPAN
>
will echo the translated version on the screen. When you
are finished, type
CTRL-d.</P
></LI
><li class="listitem"><p class="para">Simply type the special key at the shell prompt.
As long as the key does not have a special meaning (for example,
<code class="literal">^C</CODE
> to interrupt jobs or <code class="literal">^D</CODE
> for end of input),
the command generated by the key will be executed
on the terminal. Depending on the version of UNIX you use,
a printable equivalent to the command generated by the key you 
pressed may also be printed as the command is executed.
(Keep in mind that with full-duplex communications,
characters are not sent from your keyboard directly to your
terminal but are sent to the system and echoed back to the terminal.)</P
><p class="para">On some systems, the control character is recognized on
input and is echoed in two separate ways: as 
a printable representation of the control character (e.g.,
<code class="literal">^Z</CODE
>-literally, caret-Z) and as the actual control
character. Other systems echo only the actual control
character, which means that you see the effect but not the
character that caused it.</P
><p class="para">In either case, the shell will give an error message 
containing the character(s)
typed as soon as you press
RETURN.
The message should read something like this: </P
><p class="para"><blockquote class="screen"><pre class="screen">^[[U : Command not found.</PRE
></BLOCKQUOTE
></P
><p class="para">If, on the other hand, the key generates a sequence that is meaningful to the
device, some standard function, such as interrupt,
end-of-file, or suspend, will be executed. You can find out
what command invokes each of these functions using
<span class="link"><em class="emphasis">stty</EM
> (<a class="linkend" href="ch41_03.htm" webstripperlinkwas="ch41_03.htm" title="Find Out Terminal Settings with stty ">41.3</A
>)</SPAN
>.</P
></LI
></UL
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">JS</SPAN
>, <span class="authorinitials">TOR</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch41_11.htm" webstripperlinkwas="ch41_11.htm" title="41.11 How termcap and terminfo Describe Terminals "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 41.11 How termcap and terminfo Describe Terminals " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="CHAPTER" href="ch42_01.htm" webstripperlinkwas="ch42_01.htm" title="42. Problems with Terminals"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 42. Problems with Terminals" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">41.11 How termcap and terminfo Describe Terminals </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">42. Problems with Terminals</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
