<html><head><title>[Chapter 30] 30.4 Editing Multiple Files with vi </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:45:21Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch30_01.htm" webstripperlinkwas="ch30_01.htm" title="30. vi Tips and Tricks"><link rel="prev" href="ch30_03.htm" webstripperlinkwas="ch30_03.htm" title="30.3 Mice vs. vi "><link rel="next" href="ch30_05.htm" webstripperlinkwas="ch30_05.htm" title="30.5 Edits Between Files "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch30_03.htm" webstripperlinkwas="ch30_03.htm" title="30.3 Mice vs. vi "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 30.3 Mice vs. vi " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 30<br>vi Tips and Tricks</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch30_05.htm" webstripperlinkwas="ch30_05.htm" title="30.5 Edits Between Files "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 30.5 Edits Between Files " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-6150">30.4 Editing Multiple Files with vi </A
></H2
><p class="para"><a class="indexterm" name="AUTOID-32627"></A
><a class="indexterm" name="AUTOID-32630"></A
><a class="indexterm" name="AUTOID-32633"></A
><a class="indexterm" name="AUTOID-32636"></A
><a class="indexterm" name="AUTOID-32639"></A
><a class="indexterm" name="AUTOID-32642"></A
><a class="indexterm" name="AUTOID-32645"></A
><a class="indexterm" name="AUTOID-32649"></A
><em class="emphasis">ex</EM
> commands enable you to switch between multiple files.
The advantage is speed. When you are sharing the system with
other users, it takes time to exit and re-enter <em class="emphasis">vi</EM
> for each
file you want to edit. Staying in the
same editing session and traveling between files is not only faster
for access, but you also save abbreviations and command sequences 
that you have defined,
and you keep 
<span class="link">yank buffers (<a class="linkend" href="ch30_05.htm" webstripperlinkwas="ch30_05.htm" title="Edits Between Files ">30.5</A
>)</SPAN
>
so that you can copy 
text from one file to another.</P
><p class="para">When you first invoke <em class="emphasis">vi</EM
>, you can name more than one file
to edit, and then use <em class="emphasis">ex</EM
> commands to
travel between the files:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>vi file1 file2</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">This edits <em class="emphasis">file1</EM
> first.  After you have finished editing the
first file, the <em class="emphasis">ex</EM
> command <code class="literal">:w</CODE
> writes (saves) <em class="emphasis">file1</EM
>
and <code class="literal">:n</CODE
> calls in the next file (<em class="emphasis">file2</EM
>).  You can even
say <code class="literal">vi&nbsp;*</CODE
> to edit all the files in a directory.  Type
CTRL-g or <code class="literal">:f</CODE
> to get the name of your current file;
<code class="literal">:args</CODE
> lists all filenames from the command line and puts
brackets around the <code class="literal">[</CODE
><code class="replaceable"><i>current</I
></CODE
><code class="literal">]</CODE
> file.</P
><p class="para">You can also switch at any time to another file that you didn't
specify on the command line with the <em class="emphasis">ex</EM
> command <code class="literal">:e</CODE
>.  If
you want to edit another file within <em class="emphasis">vi</EM
>, you first need to save
your current file (<code class="literal">:w</CODE
>), then you can type the following command:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>:e</B
></CODE
> <code class="replaceable"><i>filename</I
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para"><em class="emphasis">vi</EM
> &quot;remembers&quot; two filenames at a time as the current and
alternate filenames.
These can be referred to by the symbols <code class="literal">%</CODE
> (current filename)
and <code class="literal">#</CODE
> (alternate filename).</P
><p class="para"><code class="literal">#</CODE
> is particularly useful with <code class="literal">:e</CODE
>, since it allows you to
switch easily back and forth between two files.
The command <code class="literal">:e#</CODE
> is always 
&quot;switch to the other one.&quot;
(On some systems, the <em class="emphasis">vi</EM
> command 
CTRL-<code class="literal">^</CODE
>
(control-caret) is a synonym for
<code class="literal">:e#</CODE
>.)</P
><p class="para">If you have not first saved the current file, <em class="emphasis">vi</EM
> will not allow
you to switch files with <code class="literal">:e</CODE
> or <code class="literal">:n</CODE
> unless you tell it
imperatively to do so by adding an exclamation point after the command.</P
><p class="para">The command:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>:e!</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">is also useful.
It discards your edits and returns to the last saved
version of the current file.</P
><p class="para">In contrast to the <code class="literal">#</CODE
> symbol, 
<code class="literal">%</CODE
> is useful mainly when writing out the 
contents of the current buffer to a new file.
For example, you could  
save a second
version of the file <em class="emphasis">letter</EM
> with the command:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>:w %.new</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">&#13;instead of:</P
><p class="para"><blockquote class="screen"><pre class="screen"><code class="userinput"><b>:w letter.new</B
></CODE
></PRE
></BLOCKQUOTE
></P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">LL</SPAN
> <span class="bibliomisc">from O'Reilly &amp; Associates' <cite class="citetitle">Learning the vi Editor</CITE
>, Chapter 5</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch30_03.htm" webstripperlinkwas="ch30_03.htm" title="30.3 Mice vs. vi "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 30.3 Mice vs. vi " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch30_05.htm" webstripperlinkwas="ch30_05.htm" title="30.5 Edits Between Files "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 30.5 Edits Between Files " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">30.3 Mice vs. vi </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">30.5 Edits Between Files </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
