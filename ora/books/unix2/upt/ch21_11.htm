<html><head><title>[Chapter 21] 21.11 Safer Removing, Moving, and Copying </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:40:13Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch21_01.htm" webstripperlinkwas="ch21_01.htm" title="21. More About Managing Files"><link rel="prev" href="ch21_10.htm" webstripperlinkwas="ch21_10.htm" title="21.10 Keep a Directory Listing at Top of the Screen: dirtop "><link rel="next" href="ch21_12.htm" webstripperlinkwas="ch21_12.htm" title="21.12 Copying Files to a Directory "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch21_10.htm" webstripperlinkwas="ch21_10.htm" title="21.10 Keep a Directory Listing at Top of the Screen: dirtop "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 21.10 Keep a Directory Listing at Top of the Screen: dirtop " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 21<br>More About Managing Files</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch21_12.htm" webstripperlinkwas="ch21_12.htm" title="21.12 Copying Files to a Directory "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 21.12 Copying Files to a Directory " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-0409">21.11 Safer Removing, Moving, and Copying </A
></H2
><table class="para.programreference" border="1"><tr><th valign="TOP"><a class="programreference" href="examples/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/examples/index.htm" title="rm">rm</A
><br></TH
><td valign="TOP"><a class="indexterm" name="AUTOID-23515"></A
><a class="indexterm" name="AUTOID-23518"></A
><a class="indexterm" name="AUTOID-23520"></A
><a class="indexterm" name="AUTOID-23524"></A
><a class="indexterm" name="AUTOID-23527"></A
>
By default, the UNIX utilities <em class="emphasis">rm</EM
>, <em class="emphasis">mv</EM
>, and <em class="emphasis">cp</EM
>
do what you tell them to without asking.
If that means overwriting existing files or deleting all the files
in the directory, they'll do it.
If you want more safety, you can add aliases like these to your
<span class="link">shell startup files (<a class="linkend" href="ch02_02.htm" webstripperlinkwas="ch02_02.htm" title="Shell Setup Files-Which, Where, and Why ">2.2</A
>)</SPAN
>:</TD
></TR
></TABLE
><p class="para"><blockquote class="screen"><pre class="screen"><b class="emphasis.bold">C shell</B
>   <b class="emphasis.bold">ksh</B
>, <b class="emphasis.bold">bash</B
>
alias rm /bin/rm -i   alias rm='/bin/rm -i'
alias cp /bin/cp -i   alias cp='/bin/cp -i'
alias mv /bin/mv -i   alias mv='/bin/mv -i'</PRE
></BLOCKQUOTE
></P
><p class="para">&#13;(The pathname <code class="literal">/bin/</CODE
> may be different on your system.
You may be able to omit it completely, but watch out for alias loops if
you do.)
Then, when you type <code class="literal">cp</CODE
> or <code class="literal">mv</CODE
> at the command line,
the command will prompt you before destroying an existing file.
And the <code class="literal">rm</CODE
> command will always prompt you before every file
you ask it to remove (with a wildcard, this can take some time!).<a class="indexterm" name="AUTOID-23545"></A
><a class="indexterm" name="AUTOID-23548"></A
><a class="indexterm" name="AUTOID-23551"></A
><a class="indexterm" name="AUTOID-23554"></A
><a class="indexterm" name="AUTOID-23557"></A
><a class="indexterm" name="AUTOID-23560"></A
>
These aliases set the <em class="emphasis">-i</EM
> (interactive) option; most versions of
<em class="emphasis">cp</EM
>, <em class="emphasis">mv</EM
>, and <em class="emphasis">rm</EM
> have it.</P
><table class="para.programreference" border="1"><tr><th valign="TOP"><a class="programreference" href="examples/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/examples/index.htm" title="cp">cp</A
><br><a class="programreference" href="examples/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/examples/index.htm" title="mv">mv</A
><br></TH
><td valign="TOP">&#13;The GNU versions of <em class="emphasis">cp</EM
> and <em class="emphasis">mv</EM
> have <em class="emphasis">-i</EM
> options.
They also have an alternative: the <em class="emphasis">-b</EM
> option, which automatically
makes a backup of any file that will be overwritten.</TD
></TR
></TABLE
><blockquote class="note"><p class="para"><strong>NOTE:</STRONG
> These aliases can be dangerous when you <em class="emphasis">don't</EM
> have them.
If you change to a new shell or use another account without these
aliases, you can destroy files before you realize that the aliases
aren't there to protect you.
So, I don't use any of these aliases on my account.
Instead, I check what I type before I press RETURN.</P
></BLOCKQUOTE
><p class="para">You can override the alias by typing:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>\rm *.o</B
></CODE
>   <em class="emphasis">C shells</EM
>

$ <code class="userinput"><b>command rm *.o</B
></CODE
>   <em class="emphasis">bash</EM
>
$ <code class="userinput"><b>/bin/rm *.o</B
></CODE
>   <em class="emphasis">Bourne shells</EM
></PRE
></BLOCKQUOTE
></P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">JP</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch21_10.htm" webstripperlinkwas="ch21_10.htm" title="21.10 Keep a Directory Listing at Top of the Screen: dirtop "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 21.10 Keep a Directory Listing at Top of the Screen: dirtop " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch21_12.htm" webstripperlinkwas="ch21_12.htm" title="21.12 Copying Files to a Directory "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 21.12 Copying Files to a Directory " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">21.10 Keep a Directory Listing at Top of the Screen: dirtop </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">21.12 Copying Files to a Directory </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
