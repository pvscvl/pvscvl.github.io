<html><head><title>[Chapter 16] 16.3 Reordering ls Listings </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:37:37Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch16_01.htm" webstripperlinkwas="ch16_01.htm" title="16. Where Did I Put That?"><link rel="prev" href="ch16_02.htm" webstripperlinkwas="ch16_02.htm" title="16.2 Finding Oldest or Newest Files with ls -t and ls -u "><link rel="next" href="ch16_04.htm" webstripperlinkwas="ch16_04.htm" title="16.4 List All Subdirectories with ls -R "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch16_02.htm" webstripperlinkwas="ch16_02.htm" title="16.2 Finding Oldest or Newest Files with ls -t and ls -u "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 16.2 Finding Oldest or Newest Files with ls -t and ls -u " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 16<br>Where Did I Put That?</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch16_04.htm" webstripperlinkwas="ch16_04.htm" title="16.4 List All Subdirectories with ls -R "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 16.4 List All Subdirectories with ls -R " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-1571">16.3 Reordering ls Listings </A
></H2
><p class="para"><a class="indexterm" name="AUTOID-16767"></A
>In the
<span class="link">previous tutorial (<a class="linkend" href="ch16_02.htm" webstripperlinkwas="ch16_02.htm" title="Finding Oldest or Newest Files with ls -t and ls -u ">16.2</A
>)</SPAN
>,
I introduced you to several different ways
of sorting <em class="emphasis">ls</EM
>' output, based on file time. There was one
constant: <em class="emphasis">ls</EM
> listings were always from first (most recent) to
last, moving (first) down each column and then across the page.</P
><p class="para">That's often not the most convenient way to look at the world.
For example, if you're going to look at a directory with many, many
files, it might be easier to list the files <em class="emphasis">across</EM
> the screen
first, and then down. This would be particularly nice if you're
using a pager (like <em class="emphasis">pg</EM
> or
<span class="link"><em class="emphasis">more</EM
> (<a class="linkend" href="ch25_03.htm" webstripperlinkwas="ch25_03.htm" title="Using more to Page Through Files ">25.3</A
>)</SPAN
>)
to read the listing.
Then the first screenful will show the files at the top of the list.
Here's an example:</P
><p class="para"><blockquote class="screen"><pre class="screen">jerry@ora ~/.bin
59 % <code class="userinput"><b>ls -x | pg</B
></CODE
>
README        alifile       append        c-w           cgrep
crontab       cw            cx            dirtop        distprompter
drmm          echoerr       fixsubj       fols          incc
incs          maillog       mhadd         mhprofile     pickthis
recomp        reheader      replf         rfl           rhno
rhyes         rmmer         rn2mh         rtfm          saveart
scandrafts    showmult      showpr        tcx           tofrom
unshar        weather       which         xmhprint      zfolders
zloop         zrefile       zscan</PRE
></BLOCKQUOTE
></P
><p class="para">&#13;This listing is &quot;alphabetic&quot;-not sorted by time.
So <em class="emphasis">README</EM
> is first in the list (uppercase comes
below lowercase), and <em class="emphasis">alifile</EM
> is next to it.<a class="indexterm" name="AUTOID-16783"></A
>
The <em class="emphasis">-x</EM
> flag makes the output
multi-column.
BSD doesn't have <em class="emphasis">-x</EM
>.
To get the same sorting order under BSD, pipe <em class="emphasis">ls</EM
> output
through the
<span class="link"><em class="emphasis">cols</EM
> (<a class="linkend" href="ch35_16.htm" webstripperlinkwas="ch35_16.htm" title="Make Columns Automatically with cols ">35.16</A
>)</SPAN
>
script.</P
><p class="para"><a class="indexterm" name="AUTOID-16792"></A
>Both BSD and System V have the <em class="emphasis">-C</EM
> option; it sorts
filenames down columns instead of across.
In fact, <em class="emphasis">-C</EM
> is the default on BSD when you <em class="emphasis">aren't</EM
>
redirecting the output of <em class="emphasis">ls</EM
>.
If BSD <em class="emphasis">ls</EM
> detects that it's writing anywhere other than
a terminal, it defaults to single-column output, rather than multi-column.
Under BSD, you'll need to use <em class="emphasis">-C</EM
> (or another technique
like the <em class="emphasis">cols</EM
> script or 
<span class="link"><em class="emphasis">pr&nbsp;-number</EM
> (<a class="linkend" href="ch35_17.htm" webstripperlinkwas="ch35_17.htm" title="Making Text in Columns with pr ">35.17</A
>)</SPAN
>)
to get output in columns when you pipe <em class="emphasis">ls</EM
> output.</P
><p class="para"><a class="indexterm" name="AUTOID-16806"></A
>The <em class="emphasis">-r</EM
> option lists the files in reverse order.
I find this particularly useful when I'm looking at modification times.
Because <em class="emphasis">-t</EM
> shows files by modification time, newest first&nbsp;- using
<em class="emphasis">-tr</EM
> shows files by modification time, oldest first:</P
><p class="para"><blockquote class="screen"><pre class="screen">jerry@ora ~/.bin 
61 % <code class="userinput"><b>ls -tr</B
></CODE
>
echoerr       replf         zscan         c-w           dirtop
saveart       xmhprint      zrefile       cx            cgrep
rtfm          distprompter  reheader      maillog       pickthis
README        fixsubj       drmm          rfl           rhyes
append        mhadd         incc          showpr        rhno
fols          rmmer         tofrom        zloop         crontab
mhprofile     rn2mh         scandrafts    unshar        weather
recomp        alifile       showmult      tcx
incs          zfolders      cw            which</PRE
></BLOCKQUOTE
></P
><p class="para"><a class="indexterm" name="AUTOID-16816"></A
>Adding the <em class="emphasis">-u</EM
> option shows the
least recently accessed files first:</P
><p class="para"><blockquote class="screen"><pre class="screen">jerry@ora ~/.bin
63 % <code class="userinput"><b>ls -tur</B
></CODE
>
README        maillog       which         mhadd         tofrom
alifile       replf         zfolders      crontab       tcx
append        reheader      zloop         recomp        showmult
cgrep         rhyes         xmhprint      distprompter  mhprofile
dirtop        rhno          zscan         cw            rmmer
fixsubj       showpr        zrefile       cx            rfl
echoerr       scandrafts    drmm          c-w           rtfm
fols          saveart       incc          weather
incs          unshar        pickthis      rn2mh</PRE
></BLOCKQUOTE
></P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">JP</SPAN
>, <span class="authorinitials">ML</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch16_02.htm" webstripperlinkwas="ch16_02.htm" title="16.2 Finding Oldest or Newest Files with ls -t and ls -u "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 16.2 Finding Oldest or Newest Files with ls -t and ls -u " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch16_04.htm" webstripperlinkwas="ch16_04.htm" title="16.4 List All Subdirectories with ls -R "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 16.4 List All Subdirectories with ls -R " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">16.2 Finding Oldest or Newest Files with ls -t and ls -u </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">16.4 List All Subdirectories with ls -R </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
