<html><head><title>[Chapter 26] 26.7 Limiting the Extent of a Match </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:44:09Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch26_01.htm" webstripperlinkwas="ch26_01.htm" title="26. Regular Expressions (Pattern Matching)"><link rel="prev" href="ch26_06.htm" webstripperlinkwas="ch26_06.htm" title="26.6 Just What Does a Regular Expression Match? "><link rel="next" href="ch26_08.htm" webstripperlinkwas="ch26_08.htm" title="26.8 I Never Meta Character I Didn't Like "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch26_06.htm" webstripperlinkwas="ch26_06.htm" title="26.6 Just What Does a Regular Expression Match? "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 26.6 Just What Does a Regular Expression Match? " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 26<br>Regular Expressions (Pattern Matching)</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch26_08.htm" webstripperlinkwas="ch26_08.htm" title="26.8 I Never Meta Character I Didn't Like "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 26.8 I Never Meta Character I Didn't Like " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-7974">26.7 Limiting the Extent of a Match </A
></H2
><p class="para"><a class="indexterm" name="AUTOID-29113"></A
>A regular expression tries to match
the longest string possible; that can cause
unexpected problems.
For instance, look at the following regular expression, which matches 
any number of characters inside of quotation marks:</P
><p class="para"><blockquote class="screen"><pre class="screen">&quot;.*&quot;</PRE
></BLOCKQUOTE
></P
><p class="para">Let's look at a <em class="emphasis">troff</EM
> macro
that has two quoted arguments, as shown below:</P
><p class="para"><blockquote class="screen"><pre class="screen">.Se &quot;Appendix&quot; &quot;Full Program Listings&quot;</PRE
></BLOCKQUOTE
></P
><p class="para">To match the first argument,
a novice might describe the pattern with the
following regular expression:</P
><p class="para"><blockquote class="screen"><pre class="screen">\.Se &quot;.*&quot;</PRE
></BLOCKQUOTE
></P
><p class="para">However, the pattern ends up matching the whole line because the second
quotation mark in the pattern matches the last quotation mark on the
line.
If you know how many arguments there are, you can specify each
of them:</P
><p class="para"><blockquote class="screen"><pre class="screen">\.Se &quot;.*&quot; &quot;.*&quot;</PRE
></BLOCKQUOTE
></P
><p class="para">Although this works as you'd expect, each line might not have the
same number of arguments, causing misses that should be hits&nbsp;- you simply 
want the first argument.
Here's a different

regular expression that matches
the shortest possible extent between two quotation marks:</P
><p class="para"><blockquote class="screen"><pre class="screen">&quot;[^&quot;]*&quot;</PRE
></BLOCKQUOTE
></P
><p class="para">It matches &quot;a quote, followed by any number of characters that
do not match a quote, followed by a quote.&quot;
The use of what we might call &quot;negated character classes&quot; like this is one of the things that distinguishes the journeyman regular expression user from the novice.
[
<span class="link">Perl 5 (<a class="linkend" href="ch37_05.htm" webstripperlinkwas="ch37_05.htm" title="And Now, Perl 5 ">37.5</A
>)</SPAN
>
has added a new &quot;non-greedy&quot; regular expression operator that matches
the shortest string possible. -<em class="emphasis">JP</EM
>&nbsp;]</P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">DD</SPAN
> <span class="bibliomisc">from O'Reilly &amp; Associates' <cite class="citetitle">sed &amp; awk</CITE
></SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch26_06.htm" webstripperlinkwas="ch26_06.htm" title="26.6 Just What Does a Regular Expression Match? "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 26.6 Just What Does a Regular Expression Match? " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch26_08.htm" webstripperlinkwas="ch26_08.htm" title="26.8 I Never Meta Character I Didn't Like "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 26.8 I Never Meta Character I Didn't Like " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">26.6 Just What Does a Regular Expression Match? </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">26.8 I Never Meta Character I Didn't Like </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
