<html><head><title>[Chapter 29] 29.5 Adding Words to ispell's Dictionary </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:45:05Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch29_01.htm" webstripperlinkwas="ch29_01.htm" title="29. Spell Checking, Word Counting, and Textual Analysis"><link rel="prev" href="ch29_04.htm" webstripperlinkwas="ch29_04.htm" title="29.4 Inside spell "><link rel="next" href="ch29_06.htm" webstripperlinkwas="ch29_06.htm" title="29.6 Counting Lines, Words, and Characters: wc "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch29_04.htm" webstripperlinkwas="ch29_04.htm" title="29.4 Inside spell "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 29.4 Inside spell " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 29<br>Spell Checking, Word Counting, and Textual Analysis</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch29_06.htm" webstripperlinkwas="ch29_06.htm" title="29.6 Counting Lines, Words, and Characters: wc "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 29.6 Counting Lines, Words, and Characters: wc " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-4092">29.5 Adding Words to ispell's Dictionary </A
></H2
><p class="para"><span class="link"><em class="emphasis">ispell</EM
> (<a class="linkend" href="ch29_02.htm" webstripperlinkwas="ch29_02.htm" title="Check Spelling Interactively with ispell ">29.2</A
>)</SPAN
>
uses two lists for spelling verification:
a master wordlist
and a supplemental personal wordlist.<a class="indexterm" name="AUTOID-32088"></A
><a class="indexterm" name="AUTOID-32090"></A
><a class="indexterm" name="AUTOID-32093"></A
><a class="indexterm" name="AUTOID-32095"></A
><a class="indexterm" name="AUTOID-32098"></A
><a class="indexterm" name="AUTOID-32100"></A
></P
><p class="para">The master wordlist for <em class="emphasis">ispell</EM
> is normally the file
<em class="emphasis">/usr/local/lib/ispell/ispell.hash</EM
>.
This is a &quot;hashed&quot;
dictionary file.
That is, it has been
converted to a condensed, program-readable form using
the <em class="emphasis">buildhash</EM
> program (which comes with <em class="emphasis">ispell</EM
>), 
to speed the spell-checking process.</P
><p class="para">The personal wordlist is normally a file called <em class="emphasis">.ispell_words</EM
> in your
home directory.
(You can override this default with either the <em class="emphasis">-p</EM
>
command-line option or the <em class="emphasis">WORDLIST</EM
> 
<span class="link">environment variable (<a class="linkend" href="ch06_01.htm" webstripperlinkwas="ch06_01.htm#UPT-ART-1170" title="What Environment Variables Are Good For ">6.1</A
>)</SPAN
>.)
This file is simply a list of words, one per line, so you can
readily edit it to add, alter, or remove entries.
The personal wordlist is normally used in addition to the
master wordlist, so if a word usage is permitted by either list it is
not flagged by <em class="emphasis">ispell</EM
>.</P
><p class="para">Custom personal wordlists are particularly useful for checking documents that
use jargon, or special technical words that are not in the master
wordlist, and for personal needs such as holding the names of your
correspondents. You may choose to keep more than one custom wordlist,
to meet various special requirements.</P
><p class="para">You can add to your personal wordlist any time you use
<em class="emphasis">ispell</EM
>: simply use the I command to tell <em class="emphasis">ispell</EM
> that the
word it offered as a misspelling is actually correct, and should be
added to the dictionary.
You can also add a list of words from a
file using the <em class="emphasis">ispell&nbsp;-a</EM
> option.
The words must be one to a
line, but need not be sorted.
Each word to be added must be preceded
with an asterisk.
(Why?
Because <em class="emphasis">ispell&nbsp;-a</EM
> has other functions
as well.)
So, for example, we could have added a list of UNIX utility
names to our personal dictionaries all at once, rather than one by
one as they were encountered during spell-checking.</P
><p class="para">Obviously, though, in an environment where many people are working
with the same set of technical terms, it doesn't make sense for each
individual to add the same word list to his or her own private
<em class="emphasis">.ispell_words</EM
> file.
It would make far more sense for a group
to agree on a common dictionary for specialized terms and always to
set <em class="emphasis">WORDLIST</EM
> to point to that common dictionary.</P
><p class="para">If the private wordlist gets too long, you can 
create a &quot;munched&quot; wordlist.
The<a class="indexterm" name="AUTOID-32124"></A
>
<em class="emphasis">munchlist</EM
> script that comes with <em class="emphasis">ispell</EM
>
reduces the names in a wordlist to a set of
word roots and permitted suffixes according to rules described in the
<em class="emphasis">ispell</EM
>(4) reference page that will be installed with
<em class="emphasis">ispell</EM
> from the CD-ROM.
This creates a
more compact but still editable wordlist.</P
><p class="para">Another option is to provide an alternative master spelling list using
the <em class="emphasis">-d</EM
> option.
This has two problems, though:</P
><ol class="orderedlist"><li class="listitem"><p class="para">The master spelling list should include spellings that are always
valid, regardless of context. You do not want to overload your master
wordlist with terms that might be misspellings in a different
context. For example, <em class="emphasis">perl</EM
> is a powerful programming language,
but in other contexts, <em class="emphasis">perl</EM
> might be a misspelling of
<em class="emphasis">pearl</EM
>.
You may want to place <em class="emphasis">perl</EM
> in a supplemental
wordlist when documenting UNIX utilities, but probably wouldn't want it
in the master wordlist unless you are documenting UNIX utilities most
of the time that you use <em class="emphasis">ispell</EM
>.</P
></LI
><li class="listitem"><p class="para">The <em class="emphasis">-d</EM
> option must point to a hashed dictionary file.
This is a
large file and time-consuming to build.
What's more, you cannot edit a
hashed dictionary; you will have to edit a master word list and use (or<a class="indexterm" name="AUTOID-32143"></A
>
have the system administrator use) <em class="emphasis">buildhash</EM
> to hash the new
dictionary to optimize spelling checker performance.</P
></LI
></OL
><p class="para">To build a new hashed wordlist, provide <em class="emphasis">buildhash</EM
> with a
complete list of the words you want included, one per line.
(The <em class="emphasis">buildhash</EM
> utility can only
process a raw wordlist, not a munched wordlist.)
The standard system wordlist, <em class="emphasis">/usr/dict/words</EM
> on many systems, can
provide a good starting point.
This file is writeable only
by the system administrator, and probably shouldn't be changed in any
case.
So make a copy of this file, and edit or add to the copy.
After processing
the 
file with <em class="emphasis">buildhash</EM
>, you can either replace the default 
<em class="emphasis">ispell.hash</EM
> file, or point to your new hashed file with the <em class="emphasis">-d</EM
>
option.<a class="indexterm" name="AUTOID-32153"></A
></P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">TOR</SPAN
>, <span class="authorinitials">LK</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch29_04.htm" webstripperlinkwas="ch29_04.htm" title="29.4 Inside spell "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 29.4 Inside spell " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch29_06.htm" webstripperlinkwas="ch29_06.htm" title="29.6 Counting Lines, Words, and Characters: wc "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 29.6 Counting Lines, Words, and Characters: wc " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">29.4 Inside spell </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">29.6 Counting Lines, Words, and Characters: wc </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
