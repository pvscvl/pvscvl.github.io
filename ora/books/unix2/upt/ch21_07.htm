<html><head><title>[Chapter 21] 21.7 Setting File Modification Time with touch </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:40:06Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch21_01.htm" webstripperlinkwas="ch21_01.htm" title="21. More About Managing Files"><link rel="prev" href="ch21_06.htm" webstripperlinkwas="ch21_06.htm" title="21.6 A File's Inode Change (not  &#34;Creation&quot;!) Time"><link rel="next" href="ch21_08.htm" webstripperlinkwas="ch21_08.htm" title="21.8 The MAILCHECK and mail Variables Check More than Mail"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch21_06.htm" webstripperlinkwas="ch21_06.htm" title="21.6 A File's Inode Change (not  &#34;Creation&quot;!) Time"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 21.6 A File's Inode Change (not  &#34;Creation&quot;!) Time" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 21<br>More About Managing Files</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch21_08.htm" webstripperlinkwas="ch21_08.htm" title="21.8 The MAILCHECK and mail Variables Check More than Mail"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 21.8 The MAILCHECK and mail Variables Check More than Mail" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-7810">21.7 Setting File Modification Time with touch </A
></H2
><p class="para"><a class="indexterm" name="AUTOID-23199"></A
><a class="indexterm" name="AUTOID-23202"></A
><a class="indexterm" name="AUTOID-23204"></A
><a class="indexterm" name="AUTOID-23207"></A
><a class="indexterm" name="AUTOID-23210"></A
><a class="indexterm" name="AUTOID-23212"></A
><a class="indexterm" name="AUTOID-23215"></A
>How can you make a file quickly (often for some kind of test)?
In the Bourne shell, use the command below.
Because this command uses a
<span class="link">built-in (<a class="linkend" href="ch01_10.htm" webstripperlinkwas="ch01_10.htm" title="Internal and External Commands ">1.10</A
>)</SPAN
>
operator, it's fast and efficient.
This creates a new file or empties an existing file:</P
><p class="para"><blockquote class="screen"><pre class="screen">$ <code class="userinput"><b>&gt; </B
></CODE
><code class="replaceable"><i>filename</I
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">The C shell doesn't allow that.
From the C shell, you can empty a file by
<span class="link">copying <em class="emphasis">/dev/null</EM
> onto it (<a class="linkend" href="ch24_01.htm" webstripperlinkwas="ch24_01.htm#UPT-ART-1730" title="Instead of Removing a File, Empty It ">24.1</A
>)</SPAN
>.
The easiest way to create an empty file is with the <em class="emphasis">touch</EM
> command.
<em class="emphasis">touch</EM
> is also useful from any shell to change an existing
file's modification time to &quot;now&quot;-without changing
the file's contents (usually for an automatic
<span class="link">file time comparison (<a class="linkend" href="ch17_08.htm" webstripperlinkwas="ch17_08.htm" title="Exact File Time Comparisons ">17.8</A
>, <a class="linkend" href="ch28_13.htm" webstripperlinkwas="ch28_13.htm" title="make Isn't Just for Programmers! ">28.13</A
>, <a class="linkend" href="ch21_09.htm" webstripperlinkwas="ch21_09.htm" title="Keep File Printouts Up-to-Date Automatically with make">21.9</A
>)</SPAN
>).
You can touch more than one file at a time.
Just type:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>touch </B
></CODE
><code class="replaceable"><i>filename1 filename2</I
></CODE
><code class="userinput"><b> ...</B
></CODE
></PRE
></BLOCKQUOTE
></P
><table class="para.programreference" border="1"><tr><th valign="TOP"><a class="programreference" href="examples/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/examples/index.htm" title="touch">touch</A
><br></TH
><td valign="TOP">&#13;Some versions of <em class="emphasis">touch</EM
> (including the GNU version on
the CD-ROM)
can create a file with an arbitrary timestamp.
That is, you can use <em class="emphasis">touch</EM
> to make a file that's backdated to
any point in the past (or, for that matter, postdated to some point
in the future).
If your version can do that, the syntax is probably like:</TD
></TR
></TABLE
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>touch</B
></CODE
> <code class="replaceable"><i>date filename1 filename2</I
></CODE
><code class="userinput"><b> ...</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">&#13;where <code class="replaceable"><i>date</I
></CODE
> has the form:</P
><blockquote class="blockquote"><p class="para"><code class="replaceable"><i>modyhrmiyy</I
></CODE
></P
></BLOCKQUOTE
><p class="para">and:&#13;</P
><dl class="variablelist"><dt class="term"><code class="replaceable"><i>mo</I
></CODE
></DT
><dd class="listitem"><p class="para">is two digits, representing the month. </P
></DD
><dt class="term"><code class="replaceable"><i>dy</I
></CODE
></DT
><dd class="listitem"><p class="para">is two digits, representing the day of the month.</P
></DD
><dt class="term"><code class="replaceable"><i>hr</I
></CODE
></DT
><dd class="listitem"><p class="para">is two digits, representing the hour (on a 24-hour clock).</P
></DD
><dt class="term"><code class="replaceable"><i>mi</I
></CODE
></DT
><dd class="listitem"><p class="para">is two digits, representing the minute within the hour.</P
></DD
><dt class="term"><code class="replaceable"><i>yy</I
></CODE
></DT
><dd class="listitem"><p class="para">is two digits, representing the year (within the twentieth century).
These two digits are optional; if you omit them, <em class="emphasis">date</EM
> assumes
the current year.&#13;</P
></DD
></DL
><p class="para">For example, to create a file dated 4&nbsp;p.m., March&nbsp;20 of this year, give the
command:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>touch 03201600 foo</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">If you don't want to use a different timestamp (that is, you want the
current time) and the filename starts with a digit, <em class="emphasis">touch</EM
> might
think that the filename is a time and complain &quot;date: bad conversion.&quot;
To start a filename with a digit, use a relative pathname that starts
with a
<span class="link"><code class="literal">.</CODE
> (dot) (<a class="linkend" href="ch01_21.htm" webstripperlinkwas="ch01_21.htm" title="Making Pathnames ">1.21</A
>)</SPAN
>.
For example, to make a file<em class="emphasis">123456</EM
> in the current directory:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>touch ./123456</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Article
<a class="xref" href="ch22_16.htm" webstripperlinkwas="ch22_16.htm" title="Copying Permissions with cpmod ">22.16</A
>
explains <em class="emphasis">cpmod</EM
>, a program on the CD-ROM for copying
dates and permissions from file to file.</P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">ML</SPAN
>, <span class="authorinitials">JP</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch21_06.htm" webstripperlinkwas="ch21_06.htm" title="21.6 A File's Inode Change (not  &#34;Creation&quot;!) Time"><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 21.6 A File's Inode Change (not  &#34;Creation&quot;!) Time" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch21_08.htm" webstripperlinkwas="ch21_08.htm" title="21.8 The MAILCHECK and mail Variables Check More than Mail"><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 21.8 The MAILCHECK and mail Variables Check More than Mail" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">21.6 A File's Inode Change (not  "Creation&quot;!) Time</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">21.8 The MAILCHECK and mail Variables Check More than Mail</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
