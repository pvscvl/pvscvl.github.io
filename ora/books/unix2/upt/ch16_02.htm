<html><head><title>[Chapter 16] 16.2 Finding Oldest or Newest Files with ls -t and ls -u </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:37:35Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch16_01.htm" webstripperlinkwas="ch16_01.htm" title="16. Where Did I Put That?"><link rel="prev" href="ch16_01.htm" webstripperlinkwas="ch16_01.htm" title="16.1 Everything but the find Command "><link rel="next" href="ch16_03.htm" webstripperlinkwas="ch16_03.htm" title="16.3 Reordering ls Listings "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch16_01.htm" webstripperlinkwas="ch16_01.htm" title="16.1 Everything but the find Command "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 16.1 Everything but the find Command " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 16<br>Where Did I Put That?</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch16_03.htm" webstripperlinkwas="ch16_03.htm" title="16.3 Reordering ls Listings "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 16.3 Reordering ls Listings " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-1570">16.2 Finding Oldest or Newest Files with ls -t and ls -u </A
></H2
><p class="para"><a class="indexterm" name="AUTOID-16682"></A
><a class="indexterm" name="AUTOID-16685"></A
><a class="indexterm" name="AUTOID-16688"></A
>Your directory might have 50, 100, or more files.
Which files haven't been used for a while?
You might be able to save space by removing them.
You read or edited a file yesterday but you can't remember its name?
These commands will help you find it.
(If you want a quick review of UNIX file times, see article
<a class="xref" href="ch16_05.htm" webstripperlinkwas="ch16_05.htm" title="The Three UNIX File Times ">16.5</A
>.)</P
><p class="para">In this example, I'll show you my
<span class="link"><em class="emphasis">bin</EM
> (<a class="linkend" href="ch04_02.htm" webstripperlinkwas="ch04_02.htm" title="A bin Directory for Your Programs and Scripts ">4.2</A
>)</SPAN
>
directory full of shell scripts and other programs-I want to see which
programs I don't use very often.
You can use the same technique for directories with text or other files.</P
><p class="para">The <em class="emphasis">ls</EM
> command has options to change the way it orders files.
By default, <em class="emphasis">ls</EM
> lists files alphabetically&nbsp;- that probably won't
help you find old files, but it's a good place to start this explanation.<a class="indexterm" name="AUTOID-16697"></A
>
For finding old files, use the <em class="emphasis">-t</EM
> option. This sorts files by
their <em class="emphasis">modification time</EM
>, or
the last time the file was changed. The
newest files are listed first. Here's what happens:</P
><p class="para"><blockquote class="screen"><pre class="screen">jerry@ora ~/.bin 
60 % <code class="userinput"><b>ls -t</B
></CODE
>
weather       unshar        scandrafts    rn2mh         recomp
crontab       zloop         tofrom        rmmer         mhprofile
rhyes         showpr        incc          mhadd         append
rhno          rfl           drmm          fixsubj       README
pickthis      maillog       reheader      distprompter  rtfm
cgrep         c-w           zrefile       xmhprint      saveart
dirtop        cw            zscan         replf         echoerr
which         cx            zfolders      fols
tcx           showmult      alifile       incs</PRE
></BLOCKQUOTE
></P
><p class="para">I just added a shell script named <em class="emphasis">weather</EM
> yesterday; you can see
it as the first file in the first column.
I also made a change to my script named <em class="emphasis">crontab</EM
> last week;
it's shown next.
The oldest program in here is <em class="emphasis">echoerr</EM
>; it's listed last.
[1]</P
><blockquote class="footnote"><p class="para">[1] On some systems, <em class="emphasis">ls -t</EM
> will list the files in
one column, with the newest file first. Although that's usually a
pain, I actually find that more convenient when I'm interested in the
most recent files. If your system does that and you don't like the
single-column display, you can use <em class="emphasis">ls -Ct</EM
>.
On other systems, if a single column display would be handy, use <em class="emphasis">ls -1t</EM
>;
the &quot;1&quot; option means &quot;one column.&quot;
Throughout this article, we'll assume you're using a multi-column display.</P
></BLOCKQUOTE
><p class="para"><em class="emphasis">ls -t</EM
> is also great for file time comparisons
<span class="link">in a script (<a class="linkend" href="ch02_15.htm" webstripperlinkwas="ch02_15.htm" title="Unclutter Logins: Show Login Messages Just Once ">2.15</A
>, <a class="linkend" href="ch16_27.htm" webstripperlinkwas="ch16_27.htm" title="newer: Print the Name of the Newest File ">16.27</A
>)</SPAN
>.
[Personally, I find <em class="emphasis">ls -t</EM
> most useful when I've forgotten
whether or not I've edited a file recently. If I've changed a file,
it will be at or near the top of the <em class="emphasis">ls -t</EM
> listing. For
example, I might ask, &quot;Have I made the changes to that letter I was
going to send?&quot; If I haven't made the changes (but only think I have),
my letter will most likely appear somewhere in the middle of the listing. <em class="emphasis">-ML</EM
>&nbsp;]</P
><p class="para"><a class="indexterm" name="AUTOID-16721"></A
>
The <em class="emphasis">-u</EM
> option shows the files' last-access time instead of the
last-modification time.
The <em class="emphasis">-u</EM
> option doesn't do anything with plain <em class="emphasis">ls</EM
>-you have to use
it with another option like <em class="emphasis">-t</EM
> or <em class="emphasis">-l</EM
>.
The next listing shows that I've recently used the <em class="emphasis">rtfm</EM
> and
<em class="emphasis">rmmer</EM
> files.
I haven't read <em class="emphasis">README</EM
> in a long time, though&nbsp;- oops:</P
><p class="para"><blockquote class="screen"><pre class="screen">jerry@ora ~/.bin
62 % <code class="userinput"><b>ls -tu</B
></CODE
>
rtfm          cx            drmm          saveart       fixsubj
rmmer         c-w           zscan         scandrafts    echoerr
rfl           cw            zrefile       rhno          dirtop
mhprofile     distprompter  xmhprint      rhyes         cgrep
showmult      recomp        zloop         replf         append
tcx           crontab       zfolders      reheader      alifile
tofrom        mhadd         which         incs          README
rn2mh         pickthis      unshar        maillog
weather       incc          showpr        fols</PRE
></BLOCKQUOTE
></P
><p class="para">(Some UNIXes
<span class="link">don't update the last-access time of executable files (<a class="linkend" href="ch21_05.htm" webstripperlinkwas="ch21_05.htm" title="What Good Is a File's Last Access Time? ">21.5</A
>)</SPAN
>
when you run them.
Shell scripts are always read, so their last-access times will always be
updated.)</P
><p class="para"><a class="indexterm" name="AUTOID-16738"></A
><a class="indexterm" name="AUTOID-16741"></A
><a class="indexterm" name="AUTOID-16744"></A
>
The <em class="emphasis">-c</EM
> option shows when the file's
<span class="link">inode information (<a class="linkend" href="ch01_22.htm" webstripperlinkwas="ch01_22.htm" title="How UNIX Keeps Track of Files: Inodes ">1.22</A
>, <a class="linkend" href="ch21_06.htm" webstripperlinkwas="ch21_06.htm" title="A File's Inode Change (not  &#34;Creation&quot;!) Time">21.6</A
>)</SPAN
>
was last changed.
The inode time tells when the file was created, when you used <em class="emphasis">chmod</EM
>
to change the
permissions, and so on.
That doesn't help you find &quot;stale&quot; files:</P
><p class="para"><blockquote class="screen"><pre class="screen">jerry@ora ~/.bin 
64 % <code class="userinput"><b>ls -tc</B
></CODE
>
weather      maillog       reheader      recomp        incs          
crontab      tcx           rn2mh         fols          cx            
cgrep        zscan         tofrom        rmmer         cw            
zloop        zrefile       mhadd         fixsubj       c-w           
dirtop       rfl           drmm          mhprofile     echoerr       
pickthis     showmult      alifile       append        which         
rhno         rtfm          showpr        saveart       README        
unshar       incc          scandrafts    distprompter  
rhyes        zfolders      xmhprint      replf</PRE
></BLOCKQUOTE
></P
><p class="para">If you're wondering just how long ago a file was modified (or accessed),
add the <em class="emphasis">-l</EM
> option for a long listing.
As before, adding <em class="emphasis">-u</EM
> shows the last-access time; <em class="emphasis">-c</EM
> shows
inode change time.
If I look at the access times of a few specific files, I find that I
haven't read <em class="emphasis">README</EM
> since 1989...</P
><p class="para"><blockquote class="screen"><pre class="screen">jerry@ora ~/.bin 
65 % <code class="userinput"><b>ls -ltu README alifile maillog</B
></CODE
>
-rwxr-xr-x   1 jerry    ora           59 Feb  2  1991 maillog
-rwxrwxr-x   1 jerry    ora          213 Nov 29  1989 alifile
-rw-r--r--   1 jerry    ora         3654 Nov 27  1989 README</PRE
></BLOCKQUOTE
></P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">JP</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch16_01.htm" webstripperlinkwas="ch16_01.htm" title="16.1 Everything but the find Command "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 16.1 Everything but the find Command " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch16_03.htm" webstripperlinkwas="ch16_03.htm" title="16.3 Reordering ls Listings "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 16.3 Reordering ls Listings " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">16.1 Everything but the find Command </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">16.3 Reordering ls Listings </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
