<html><head><title>[Chapter 50] 50.6 Searching Online Manual Pages </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:56:55Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch50_01.htm" webstripperlinkwas="ch50_01.htm" title="50. Help--Online Documentation, etc."><link rel="prev" href="ch50_05.htm" webstripperlinkwas="ch50_05.htm" title="50.5 whereis: Finding Where a Command Is Located "><link rel="next" href="ch50_07.htm" webstripperlinkwas="ch50_07.htm" title="50.7 How UNIX Systems Remember Their Name "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch50_05.htm" webstripperlinkwas="ch50_05.htm" title="50.5 whereis: Finding Where a Command Is Located "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 50.5 whereis: Finding Where a Command Is Located " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 50<br>Help--Online Documentation, etc.</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch50_07.htm" webstripperlinkwas="ch50_07.htm" title="50.7 How UNIX Systems Remember Their Name "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 50.7 How UNIX Systems Remember Their Name " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-9909">50.6 Searching Online Manual Pages </A
></H2
><p class="para"><a class="indexterm" name="AUTOID-59242"></A
><a class="indexterm" name="AUTOID-59245"></A
>When the other techniques in this chapter don't find the information
you want, you can try searching the
<span class="link">online manual page (<a class="linkend" href="ch50_01.htm" webstripperlinkwas="ch50_01.htm#UPT-ART-4910" title="UNIX Online Documentation ">50.1</A
>)</SPAN
>
files.
You'll probably have to wade through a lot of stuff that you don't want
to see, but this method can work when nothing else does.
As an example, you remember that there's some command for chopping
columns out of a file.
You try
<span class="link"><em class="emphasis">apropos</EM
> (<a class="linkend" href="ch50_02.htm" webstripperlinkwas="ch50_02.htm" title="The apropos Command ">50.2</A
>)</SPAN
>,
but it only mentions <em class="emphasis">colrm</EM
> and <em class="emphasis">pr</EM
>, and those aren't what you
want.
You'll usually be able to narrow your search to one or two
<span class="link">manual page sections (<a class="linkend" href="ch50_01.htm" webstripperlinkwas="ch50_01.htm#UPT-ART-4910" title="UNIX Online Documentation ">50.1</A
>)</SPAN
>;
here, you know that user commands are in section&nbsp;1.
So you go to the manual pages and do a case-insensitive search through
all the files for &quot;column&quot; or &quot;chop&quot;:</P
><p class="para"><blockquote class="screen"><pre class="screen"><a class="indexterm" name="AUTOID-59256"></A
><a class="indexterm" name="AUTOID-59259"></A
>% <code class="userinput"><b>cd /usr/man/man1</B
></CODE
>
% <code class="userinput"><b>egrep -i 'column|chop' *</B
></CODE
>
awk.1:Add up first column, print sum and average:
colrm.1:colrm \- remove characters from specified columns within each line
  ...
cut.1:.IX  cut  &quot;&quot;  &quot;\fIcut\fP \(em remove columns from file&quot;
  ...</PRE
></BLOCKQUOTE
></P
><p class="para">It's <em class="emphasis">cut</EM
>!
Notice that <em class="emphasis">awk</EM
> also handles columns, but <em class="emphasis">apropos</EM
> doesn't
say so.</P
><p class="para">(I cheated on that example: there were other ways to find <em class="emphasis">cut</EM
>-using
the synonym <em class="emphasis">apropos field</EM
> instead of <em class="emphasis">apropos column</EM
>, for instance.
But this method does work in tougher cases.)
To search the manual page files, you'll need to know where they're
stored.
There are lots of possibilities, but the directories
<em class="emphasis">/usr/man</EM
> or <em class="emphasis">/usr/share/man</EM
> are good places to look.
If the command is local, try <em class="emphasis">/usr/local/man</EM
> and maybe <em class="emphasis">/opt</EM
> (a big
tree where
<span class="link"><em class="emphasis">find</EM
> (<a class="linkend" href="ch17_04.htm" webstripperlinkwas="ch17_04.htm" title="Looking for Files with Particular Names ">17.4</A
>)</SPAN
>
can help).
If your system has
<span class="link">fast <em class="emphasis">find</EM
> or <em class="emphasis">locate</EM
> (<a class="linkend" href="ch17_18.htm" webstripperlinkwas="ch17_18.htm" title='Using "Fast find&quot;'>17.18</A
>)</SPAN
>,
try searching for <code class="literal">man</CODE
> or <code class="literal">*/man*</CODE
>.</P
><p class="para">You'll probably find subdirectories with names like <em class="emphasis">man1</EM
>, <em class="emphasis">man2</EM
>,
... and/or <em class="emphasis">cat1</EM
>, <em class="emphasis">cat2</EM
>, ....
Directory names like <em class="emphasis">manN</EM
> will have unformatted source files for 
section <em class="emphasis">N</EM
>; the <em class="emphasis">catN</EM
> directories have formatted source files.
Or you may just find files named <em class="emphasis">command.N</EM
>, where <em class="emphasis">N</EM
> is <em class="emphasis">1</EM
>
for section 1, <em class="emphasis">2</EM
> for section 2, and so on.</P
><p class="para"><a class="indexterm" name="AUTOID-59296"></A
><a class="indexterm" name="AUTOID-59299"></A
>There are two types of manpage files: unformatted (shown in article
<a class="xref" href="ch50_11.htm" webstripperlinkwas="ch50_11.htm" title="Writing a Simple Man Page with the -man Macros ">50.11</A
>)
and formatted (with overstriking, as in article
<a class="xref" href="ch43_18.htm" webstripperlinkwas="ch43_18.htm" title="How nroff Makes Bold and Underline; How to Remove It">43.18</A
>).
The unformatted pages are easier to search because none of the words
will have embedded backspace characters.
The example above shows how.
The unformatted pages have
<span class="link"><em class="emphasis">nroff</EM
> (<a class="linkend" href="ch43_13.htm" webstripperlinkwas="ch43_13.htm" title="The Text Formatters nroff, troff, ditroff, ... ">43.13</A
>)</SPAN
>
commands and macros in them, though, which can make searching and reading
tougher.</P
><p class="para">To search formatted pages, you'll want to strip the embedded backspace
characters.
Otherwise, <em class="emphasis">grep</EM
> might miss the word you want because it was
boldfaced or underlined&nbsp;- with backspaces in it.
In the example below, a
<span class="link">shell loop (<a class="linkend" href="ch09_11.htm" webstripperlinkwas="ch09_11.htm" title="Repeating a Command with a foreach Loop ">9.11</A
>, <a class="linkend" href="ch09_12.htm" webstripperlinkwas="ch09_12.htm" title="The Bourne Shell for Loop ">9.12</A
>)</SPAN
>
applies a series of commands to each file.
First,
<span class="link"><em class="emphasis">col&nbsp;-b</EM
> (<a class="linkend" href="ch43_18.htm" webstripperlinkwas="ch43_18.htm" title="How nroff Makes Bold and Underline; How to Remove It">43.18</A
>)</SPAN
>
removes the overstriking.
<em class="emphasis">grep</EM
> does a search (case-insensitive, as before).
Because <em class="emphasis">grep</EM
> is reading its standard input, it doesn't know
the filename, so a little <em class="emphasis">sed</EM
> command adds the name to the
start of every line <em class="emphasis">grep</EM
> outputs.</P
><p class="para"><table class="screen.co" border="1"><tr><th valign="TOP"><pre class="calloutlist">
&#13;<a class="co" href="ch01_16.htm" webstripperlinkwas="ch01_16.htm" title="1.16 Wildcards ">*</A
> 




&#13;</PRE
></TH
><td valign="TOP"><pre class="screen">
$ <code class="userinput"><b>cd /usr/man/cat1</B
></CODE
><a class="indexterm" name="AUTOID-59319"></A
>
$ <code class="userinput"><b>for file in *</B
></CODE
>
&gt; <code class="userinput"><b>do col -b &lt; $file | grep -i column | sed &quot;s/^/${file}:/&quot;</B
></CODE
>
&gt; <code class="userinput"><b>done</B
></CODE
>
awk.1:   Add up first column, print   sum and average:
   ...
cut.1:   Use cut to cut out columns from a table or fields from each
   ...</PRE
></TD
></TR
></TABLE
></P
><p class="para">In Bourne shells, you can pipe the output of that loop to a pager (like
<span class="link"><em class="emphasis">less</EM
> (<a class="linkend" href="ch25_04.htm" webstripperlinkwas="ch25_04.htm" title='The "less&quot; Pager: More than "more&quot;'>25.4</A
>)</SPAN
>)
to see the output a screenful at a time and quit (with <code class="literal">q</CODE
>) when
you're done.
Change the last line of the <em class="emphasis">for</EM
> loop to:</P
><p class="para"><blockquote class="screen"><pre class="screen">done | less</PRE
></BLOCKQUOTE
></P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">JP</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch50_05.htm" webstripperlinkwas="ch50_05.htm" title="50.5 whereis: Finding Where a Command Is Located "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 50.5 whereis: Finding Where a Command Is Located " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch50_07.htm" webstripperlinkwas="ch50_07.htm" title="50.7 How UNIX Systems Remember Their Name "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 50.7 How UNIX Systems Remember Their Name " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">50.5 whereis: Finding Where a Command Is Located </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">50.7 How UNIX Systems Remember Their Name </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
