<html><head><title>[Chapter 42] 42.6 Screen Size Testing Files </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:52:33Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch42_01.htm" webstripperlinkwas="ch42_01.htm" title="42. Problems with Terminals"><link rel="prev" href="ch42_05.htm" webstripperlinkwas="ch42_05.htm" title="42.5 Checklist: Screen Size Messed Up? "><link rel="next" href="ch42_07.htm" webstripperlinkwas="ch42_07.htm" title="42.7 termtest: Send Repeated Characters to Terminal "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch42_05.htm" webstripperlinkwas="ch42_05.htm" title="42.5 Checklist: Screen Size Messed Up? "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 42.5 Checklist: Screen Size Messed Up? " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 42<br>Problems with Terminals</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch42_07.htm" webstripperlinkwas="ch42_07.htm" title="42.7 termtest: Send Repeated Characters to Terminal "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 42.7 termtest: Send Repeated Characters to Terminal " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-7000">42.6 Screen Size Testing Files </A
></H2
><p class="para"><a class="indexterm" name="AUTOID-47151"></A
><a class="indexterm" name="AUTOID-47155"></A
>How many lines and columns are there on your screen or window?
<span class="link">The answer can be important to some programs (<a class="linkend" href="ch42_05.htm" webstripperlinkwas="ch42_05.htm" title="Checklist: Screen Size Messed Up? ">42.5</A
>)</SPAN
>.
I've got a directory named <em class="emphasis">testing_files</EM
> with a few files I've
developed to test and set screen sizes.</P
><div class="sect2"><h3 class="sect2"><a class="title" name="UPT-ART-7000-SECT-1.1">42.6.1 Single Line Screen Width: 80cols </A
></H3
><table class="para.programreference" border="1"><tr><th valign="TOP"><a class="programreference" href="examples/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/examples/index.htm" title="80cols">80cols</A
><br></TH
><td valign="TOP"><a class="indexterm" name="AUTOID-47163"></A
><a class="indexterm" name="AUTOID-47165"></A
><a class="indexterm" name="AUTOID-47168"></A
>
The <em class="emphasis">80cols</EM
> file has a line of 80 numbers.
I use it to see if the window has exactly 80 columns, as in
<a class="xref" href="#UPT-ART-7000-FIG-0" title="The 80cols File">Figure 42.1</A
>.</TD
></TR
></TABLE
><h4 class="figure"><a class="title" name="UPT-ART-7000-FIG-0">Figure 42.1: The 80cols File</A
></H4
><img class="graphic" src="figs/7000b.gif" webstripperlinkwas="figs/7000b.gif" alt="Figure 42.1"><p class="para">The pattern repeats every ten characters, making it easy to count how
many columns the window has.</P
><p class="para">Some UNIX programs are set for 80-column screens&nbsp;- even if you can
make wider windows, you may not want to.
If you want other widths, you can make <em class="emphasis">cols</EM
> files for them, too.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UPT-ART-7000-SECT-1.2">42.6.2 Screen Width and Height: screensize </A
></H3
><table class="para.programreference" border="1"><tr><th valign="TOP"><a class="programreference" href="examples/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/examples/index.htm" title="screensize">screensize</A
><br></TH
><td valign="TOP"><a class="indexterm" name="AUTOID-47183"></A
><a class="indexterm" name="AUTOID-47185"></A
><a class="indexterm" name="AUTOID-47188"></A
>
The <em class="emphasis">screensize</EM
> file has 69 lines of numbers, starting at 69 and
ending at 1.
Type <code class="literal">cat screensize</CODE
>.
As shown in
<a class="xref" href="#UPT-ART-7000-FIG-1" title="Checking Window Height and Width with screensize">Figure 42.2</A
>,
when the file has all been displayed, count the number of lines filled
on the screen.</TD
></TR
></TABLE
><h4 class="figure"><a class="title" name="UPT-ART-7000-FIG-1">Figure 42.2: Checking Window Height and Width with screensize</A
></H4
><img class="graphic" src="figs/7000a.gif" webstripperlinkwas="figs/7000a.gif" alt="Figure 42.2"><p class="para">In Figure 2, the top number is 9.
So, the window has 10 lines (counting the prompt on the last line).</P
><p class="para"><a class="indexterm" name="AUTOID-47199"></A
>The <em class="emphasis">screensize</EM
> file is also handy
with a full-screen application like
<span class="link"><em class="emphasis">more</EM
> (<a class="linkend" href="ch25_03.htm" webstripperlinkwas="ch25_03.htm" title="Using more to Page Through Files ">25.3</A
>)</SPAN
>
to see if the
right number of lines and columns are displayed.
When <em class="emphasis">more</EM
> shows the first screenful, the line labeled <code class="literal">69</CODE
> should
be at the top of the screen (the command line might be displayed above it).
The last line should have the prompt, like <code class="literal">--More--</CODE
>.
When you ask for the next screenful, you should see the next consecutive
line at the top of the screen, maybe with a line or two from the
previous screen.</P
><p class="para">The same thing should work with editors like <em class="emphasis">vi</EM
>.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UPT-ART-7000-SECT-1.3">42.6.3 Set Width, Test Line Wrapping: longlines </A
></H3
><table class="para.programreference" border="1"><tr><th valign="TOP"><a class="programreference" href="examples/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/examples/index.htm" title="longlines">longlines</A
><br></TH
><td valign="TOP"><a class="indexterm" name="AUTOID-47214"></A
><a class="indexterm" name="AUTOID-47216"></A
><a class="indexterm" name="AUTOID-47219"></A
><a class="indexterm" name="AUTOID-47222"></A
>
The file <em class="emphasis">longlines</EM
> in
<a class="xref" href="#UPT-ART-7000-FIG-2" title="Using longlines File with the Emacs Editor">Figure 42.3</A
>
is like <em class="emphasis">screensize</EM
>, but the 200-character
lines in it are too long for most screens.
You can use it for two things:
<span class="link"> to adjust windows to a particular sizeand to see if long-line wrapping is working right . (<a class="linkend" href="ch42_05.htm" webstripperlinkwas="ch42_05.htm" title="Checklist: Screen Size Messed Up? ">42.5</A
>)</SPAN
>
This figure shows an example with the GNU Emacs editor, which shows a backslash
(<code class="literal">\</CODE
>) at the end of every line it wraps.</TD
></TR
></TABLE
><h4 class="figure"><a class="title" name="UPT-ART-7000-FIG-2">Figure 42.3: Using longlines File with the Emacs Editor</A
></H4
><img class="graphic" src="figs/7000c.gif" webstripperlinkwas="figs/7000c.gif" alt="Figure 42.3"><p class="para">On an 80-column screen, if line wrapping is working right, each line of
<em class="emphasis">longlines</EM
> should take exactly two and one-half lines to display.
(If you're using Emacs, remember that because it adds a backslash at
the line break, the third part of each line will have two more characters.)
As the previous figure shows, there shouldn't be any missing numbers or
blank lines.</P
><p class="para"><a class="indexterm" name="AUTOID-47235"></A
>If you're using a windowing system like
<span class="link">X (<a class="linkend" href="ch01_31.htm" webstripperlinkwas="ch01_31.htm" title="The X Window System ">1.31</A
>)</SPAN
>,
look for a resize or
window info function.
For example, in the X Window System, the <em class="emphasis">twm</EM
> window manager
will show a small box with the window dimensions as you hold down the
mouse button to resize a window.
You don't have to resize the window; just look at the size-box.
The X command <em class="emphasis">xwininfo</EM
> gives lots of information-including
the window size in pixels.</P
></DIV
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">JP</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch42_05.htm" webstripperlinkwas="ch42_05.htm" title="42.5 Checklist: Screen Size Messed Up? "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 42.5 Checklist: Screen Size Messed Up? " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch42_07.htm" webstripperlinkwas="ch42_07.htm" title="42.7 termtest: Send Repeated Characters to Terminal "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 42.7 termtest: Send Repeated Characters to Terminal " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">42.5 Checklist: Screen Size Messed Up? </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">42.7 termtest: Send Repeated Characters to Terminal </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
