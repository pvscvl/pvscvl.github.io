<html><head><title>[Chapter 6] 6.8 Shell Variables </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-10-23T15:38:06Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch06_01.htm" webstripperlinkwas="ch06_01.htm" title="6. Shell and Environment Variables"><link rel="prev" href="ch06_07.htm" webstripperlinkwas="ch06_07.htm" title="6.7 What Time Is It in Japan? "><link rel="next" href="ch06_09.htm" webstripperlinkwas="ch06_09.htm" title="6.9 Special C Shell Variables "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch06_07.htm" webstripperlinkwas="ch06_07.htm" title="6.7 What Time Is It in Japan? "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 6.7 What Time Is It in Japan? " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 6<br>Shell and Environment Variables</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch06_09.htm" webstripperlinkwas="ch06_09.htm" title="6.9 Special C Shell Variables "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 6.9 Special C Shell Variables " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-1180">6.8 Shell Variables </A
></H2
><p class="para"><a class="indexterm" name="AUTOID-6207"></A
><a class="indexterm" name="AUTOID-6210"></A
>Shell variables are really just the &quot;general case&quot; of
<span class="link">environment variables (<a class="linkend" href="ch06_01.htm" webstripperlinkwas="ch06_01.htm#UPT-ART-1170" title="What Environment Variables Are Good For ">6.1</A
>)</SPAN
>.
If you're a programmer, remember that a UNIX shell really runs
an interpreted
programming language. Shell variables belong to the shell; you can set them,
print them, and work with them much as you can in a C program (or a
FORTRAN program or a BASIC program). If you're not a programmer,
just remember that shell variables are pigeonholes that store
information for you or your shell to use.</P
><p class="para">If you've read the section on environment variables, you realize that
we defined them in exactly the same way. How are shell variables
different from environment variables? Whenever you start a new shell
or a UNIX program, it inherits all of its parent's environment
variables. However, it does <em class="emphasis">not</EM
> inherit any shell variables;
it starts with a clean slate. If you're a programmer, you can think
of environment variables as &quot;global&quot; variables, while shell variables
are &quot;local&quot; variables. By convention, shell variables have lowercase
names.</P
><p class="para">Just as some programs use certain environment variables, the shell expects
to use certain shell variables.<a class="indexterm" name="AUTOID-6218"></A
>
For example, the C shell uses
the<a class="indexterm" name="AUTOID-6221"></A
>
<span class="link"><em class="emphasis">history</EM
> (<a class="linkend" href="ch11_01.htm" webstripperlinkwas="ch11_01.htm#UPT-ART-4920" title="The Lessons of History ">11.1</A
>)</SPAN
>
variable to determine how many of your previous commands
to remember; if the<a class="indexterm" name="AUTOID-6225"></A
>
<span class="link"><em class="emphasis">noclobber</EM
> (<a class="linkend" href="ch13_06.htm" webstripperlinkwas="ch13_06.htm" title="Safe I/O Redirection with noclobber ">13.6</A
>)</SPAN
>
variable is defined, the C shell
prevents you from damaging files by making mistakes with standard
output. Most users insert code into 
their
<span class="link"><em class="emphasis">.cshrc</EM
> files (<a class="linkend" href="ch02_02.htm" webstripperlinkwas="ch02_02.htm" title="Shell Setup Files-Which, Where, and Why ">2.2</A
>)</SPAN
>
to define these
important variables appropriately.</P
><p class="para">To set a shell variable, use one of these commands:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>set </B
></CODE
><code class="replaceable"><i>name</I
></CODE
><code class="userinput"><b>=</B
></CODE
><code class="replaceable"><i>value   </I
></CODE
><em class="emphasis">C shell</EM
>
$ <code class="replaceable"><i>name</I
></CODE
><code class="userinput"><b>=</B
></CODE
><code class="replaceable"><i>value   </I
></CODE
><em class="emphasis">Bourne shell</EM
>&#13;</PRE
></BLOCKQUOTE
></P
><p class="para"><a class="indexterm" name="AUTOID-6244"></A
>As a special case, if you omit <em class="emphasis">value</EM
>, the shell variable is set
to a &quot;null&quot; value. For example, the following commands
are valid:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>set </B
></CODE
><code class="replaceable"><i>name   </I
></CODE
><em class="emphasis">C shell</EM
>
$ <code class="replaceable"><i>name</I
></CODE
><code class="userinput"><b>=   </B
></CODE
><em class="emphasis">Bourne shell</EM
>&#13;</PRE
></BLOCKQUOTE
></P
><p class="para">This is important:
giving a variable a null value is not the same as deleting
the value.
Some programs look at variables to see whether or not they exist; they
don't care what the actual value is, and an empty value is as good as anything
else. If you want to make the shell forget that a variable ever
existed, use the <em class="emphasis">unset</EM
> command.
Unfortunately, older Bourne shells don't have a command like <em class="emphasis">unset</EM
>:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>unset </B
></CODE
><code class="replaceable"><i>name   </I
></CODE
><em class="emphasis">C shell</EM
>
$ <code class="userinput"><b>unset </B
></CODE
><code class="replaceable"><i>name   </I
></CODE
><em class="emphasis">Bourne shell</EM
></PRE
></BLOCKQUOTE
></P
><p class="para"><a class="indexterm" name="AUTOID-6268"></A
><a class="indexterm" name="AUTOID-6270"></A
><a class="indexterm" name="AUTOID-6272"></A
>If you want to list all of your environment variables, use the
command <em class="emphasis">printenv</EM
> (Berkeley UNIX) or <em class="emphasis">env</EM
> (System V).
[1]
If you want to list all of your Bourne or C shell variables, just type
<code class="literal">set</CODE
>.
Here's a typical report in the C shell:</P
><blockquote class="footnote"><p class="para">[1] <em class="emphasis">printenv</EM
> and <em class="emphasis">env</EM
> are
<span class="link">external (<a class="linkend" href="ch01_10.htm" webstripperlinkwas="ch01_10.htm" title="Internal and External Commands ">1.10</A
>)</SPAN
>
commands; they work with any shell.</P
></BLOCKQUOTE
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>set</B
></CODE
>
argv    ()
cwd     /home/los/mikel/power/articles
history 40
home    /home/los/mikel
noclobber
path    (/home/los/mikel/bin /usr/local/bin /usr/ucb /bin /usr/bin .)
prompt  los%
shell   /bin/csh
status  0
term    sun
user    mikel</PRE
></BLOCKQUOTE
></P
><p class="para">If you want to print the value of an individual variable, give the command:<a class="indexterm" name="AUTOID-6286"></A
></P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>echo &quot;$</B
></CODE
><code class="replaceable"><i>variable-name</I
></CODE
><code class="userinput"><b>&quot;</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">(While the example above gives a C shell prompt, this command
works in all UNIX shells.)</P
><p class="para">Whenever you need the value of a shell variable&nbsp;- not just with
<span class="link"><em class="emphasis">echo</EM
> (<a class="linkend" href="ch08_06.htm" webstripperlinkwas="ch08_06.htm" title="Output Command-Line Arguments ">8.6</A
>)</SPAN
>-<a class="indexterm" name="AUTOID-6297"></A
>
you need to put a dollar sign&nbsp;(<code class="literal">$</CODE
>) in front of the name.
You don't need the dollar sign when you're assigning a new value to a<a class="indexterm" name="AUTOID-6301"></A
>
shell variable. You can also stick curly braces (<code class="literal">{}</CODE
>) around
the name, if you want (e.g., <code class="literal">${</CODE
><code class="replaceable"><i>name</I
></CODE
><code class="literal">}</CODE
>); when you're writing shell
programs, this can often make your code much clearer.
Curly braces are
mostly used when you need to separate the variable 
name from what comes after it.</P
><p class="para">But that's getting us out of the range of interactive variable use
and into
<span class="link">shell programming (<a class="linkend" href="ch44_01.htm" webstripperlinkwas="ch44_01.htm#UPT-ART-0065" title="Everyone Should Learn Some Shell Programming ">44.1</A
>)</SPAN
>.</P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">ML</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch06_07.htm" webstripperlinkwas="ch06_07.htm" title="6.7 What Time Is It in Japan? "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 6.7 What Time Is It in Japan? " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch06_09.htm" webstripperlinkwas="ch06_09.htm" title="6.9 Special C Shell Variables "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 6.9 Special C Shell Variables " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">6.7 What Time Is It in Japan? </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">6.9 Special C Shell Variables </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
