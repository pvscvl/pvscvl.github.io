<html><head><title>[Chapter 14] 14.10 Variables Help You Find Directories and Files </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:37:08Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch14_01.htm" webstripperlinkwas="ch14_01.htm" title="14. Moving Around in a Hurry"><link rel="prev" href="ch14_09.htm" webstripperlinkwas="ch14_09.htm" title="14.9 cd by Directory Initials "><link rel="next" href="ch14_11.htm" webstripperlinkwas="ch14_11.htm" title="14.11 Finding (Anyone's) Home Directory, Quickly "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch14_09.htm" webstripperlinkwas="ch14_09.htm" title="14.9 cd by Directory Initials "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 14.9 cd by Directory Initials " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 14<br>Moving Around in a Hurry</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch14_11.htm" webstripperlinkwas="ch14_11.htm" title="14.11 Finding (Anyone's) Home Directory, Quickly "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 14.11 Finding (Anyone's) Home Directory, Quickly " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-1420">14.10 Variables Help You Find Directories and Files </A
></H2
><p class="para"><a class="indexterm" name="AUTOID-15564"></A
><a class="indexterm" name="AUTOID-15567"></A
><a class="indexterm" name="AUTOID-15570"></A
><a class="indexterm" name="AUTOID-15573"></A
><a class="indexterm" name="AUTOID-15576"></A
>A UNIX system can have hundreds or thousands of directories&nbsp;- and a lot
more files.
Even if you remember all the pathnames, typing them over and over can be a pain.</P
><p class="para">Your account probably already has some helpful<a class="indexterm" name="AUTOID-15580"></A
><a class="indexterm" name="AUTOID-15582"></A
>
<span class="link">shell and environment variables (<a class="linkend" href="ch06_08.htm" webstripperlinkwas="ch06_08.htm" title="Shell Variables ">6.8</A
>, <a class="linkend" href="ch06_01.htm" webstripperlinkwas="ch06_01.htm#UPT-ART-1170" title="What Environment Variables Are Good For ">6.1</A
>)</SPAN
>
set up.
You can add more from the command line or from your
<span class="link">shell setup files (<a class="linkend" href="ch02_02.htm" webstripperlinkwas="ch02_02.htm" title="Shell Setup Files-Which, Where, and Why ">2.2</A
>)</SPAN
>
(like <em class="emphasis">.cshrc</EM
> or <em class="emphasis">.profile</EM
>).<a class="indexterm" name="AUTOID-15588"></A
>
To see what environment variables are set, use the <em class="emphasis">env</EM
> (System V) or<a class="indexterm" name="AUTOID-15591"></A
><a class="indexterm" name="AUTOID-15593"></A
>
<em class="emphasis">printenv</EM
> (Berkeley) command.
The command <em class="emphasis">set</EM
> should show shell variables (some of these might
be repeated in the environment).
Here's part of what happens on my account:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>env</B
></CODE
>
HOME=/home/jpeek
MH=/work/jpeek_mail/.mh_profile
PATH=/home/jpeek/.bin:/home/jpeek/.bin/show:/work/bin:...
RNINIT=/home/jpeek/.rnswitches
PAGER=/usr/local/bin/less
% <code class="userinput"><b>set</B
></CODE
>
active  /usr/lib/news/active
cwd     /home/jpeek/pwrtools
mail    (60 /usr/mail/jpeek)
maillog /usr/spool/smail/log/logfile</PRE
></BLOCKQUOTE
></P
><p class="para">UNIX programs use a lot of those environment variables.
For instance, my email system finds its setup file from <em class="emphasis">MH</EM
>.
But I can use environment variables for other things, too.
For instance, when I want to edit my email setup file, I can type
<code class="literal">vi&nbsp;$MH</CODE
> from any directory.
The shell expands <code class="literal">$MH</CODE
> to <em class="emphasis">/work/jpeek_mail/.mh_profile</EM
> and starts
the editor.
Check your environment and see what you've got; the names usually
explain the variables pretty well.</P
><p class="para">The shell uses shell variables like <code class="literal">$mail</CODE
>.
I can check incoming messages with the command
<span class="link"><code class="literal">tail&nbsp;$mail[2]</CODE
> (<a class="linkend" href="ch25_14.htm" webstripperlinkwas="ch25_14.htm" title="How to Look at the End of a File: tail ">25.14</A
>, <a class="linkend" href="ch47_05.htm" webstripperlinkwas="ch47_05.htm" title="Using C Shell Arrays ">47.5</A
>)</SPAN
>
(the
<code class="literal">[2]</CODE
> tells the C shell to pick the second word from the list in
<code class="literal">$mail</CODE
>).</P
><p class="para">I've set other shell variables for myself.
When I send some mail messages, I want to watch the system mail log to
see the message being delivered.
I just type:</P
><p class="para"><table class="screen.co" border="1"><tr><th valign="TOP"><pre class="calloutlist">
<a class="co" href="ch25_16.htm" webstripperlinkwas="ch25_16.htm" title="25.16 How to Look at a File as It Grows ">-f</A
> 


&#13;</PRE
></TH
><td valign="TOP"><pre class="screen">
% <code class="userinput"><b>tail -f $maillog</B
></CODE
>
   ...
09/08/96 17:13:27: [m0kJN4x-0000AKC] new msg: from jpeek@jpeek.com
09/08/96 17:13:28: [m0kJN4x-0000AKC] &lt;jim&gt; ... delivered
09/08/96 17:13:42: [m0kJN4x-0000AKC] &lt;allan@comex.com&gt; ... delivered</PRE
></TD
></TR
></TABLE
></P
><p class="para">Are there files or directories that you refer to a lot&nbsp;- ones that aren't
right for the
<span class="link"><em class="emphasis">cdpath</EM
> (<a class="linkend" href="ch14_05.htm" webstripperlinkwas="ch14_05.htm" title="Saving Time When You Change Directories: cdpath ">14.5</A
>)</SPAN
>
or a shell alias?
Pick a likely shell variable name and add the variable to your
<em class="emphasis">.cshrc</EM
> or <em class="emphasis">.profile</EM
>.
You can store more than one pathname in the same variable&nbsp;- either by
separating them with spaces or by using wildcards:</P
><p class="para"><table class="screen.co" border="1"><tr><th valign="TOP"><pre class="calloutlist">
&#13;




<a class="co" href="ch08_06.htm" webstripperlinkwas="ch08_06.htm" title="8.6 Output Command-Line Arguments ">echo</A
> &#13;</PRE
></TH
><td valign="TOP"><pre class="screen">
# C shell variables:
set worklog=~/todays_worklog   <em class="emphasis">Single file, defined when set</EM
>
set projfiles=(/work/beta/data_3.9*)   <em class="emphasis">Many files, defined when set</EM
>
set currdata='/work/beta/data_5*'   <em class="emphasis">Many files, defined when used</EM
>
# Bourne shell variables:
worklog=$HOME/todays_worklog   <em class="emphasis">Single file, defined when set</EM
>
projfiles=&quot;`echo /work/beta/data_3.9_*`&quot;   <em class="emphasis">Many files, defined when set</EM
>
currdata='/work/beta/data_5*'   <em class="emphasis">Many files, defined when used</EM
></PRE
></TD
></TR
></TABLE
></P
><p class="para">Then:</P
><ul class="itemizedlist"><li class="listitem"><p class="para">You could type <code class="literal">vi&nbsp;+&nbsp;$worklog</CODE
> any time you want to add a note to the end
of the file <em class="emphasis">todays_worklog</EM
> in your home directory.
(The <code class="literal">+</CODE
> tells <em class="emphasis">vi</EM
> to start at the end of the file.)</P
></LI
><li class="listitem"><p class="para">The shell expands the asterisk (<code class="literal">*</CODE
>) when it sets the <em class="emphasis">projfiles</EM
>
variable and stores a list of the files <em class="emphasis">as they were when the
variable was set</EM
>.
(If the list of files changes, it'll be reset when you start your next shell.)
You could print all those files any time you wanted to by typing a
command like <code class="literal">lpr&nbsp;$projfiles</CODE
>.
The C shell also lets you
<span class="link">pick individual files (<a class="linkend" href="ch47_05.htm" webstripperlinkwas="ch47_05.htm" title="Using C Shell Arrays ">47.5</A
>)</SPAN
>
from the list&nbsp;- for
instance, <code class="literal">lpr&nbsp;$projfiles[9]</CODE
> would print the ninth file from the list.</P
></LI
><li class="listitem"><p class="para">When the <em class="emphasis">currdata</EM
> variable is set, the single quotes (<code class="literal">&quot;</CODE
>)
around it
<span class="link">prevent expansion (<a class="linkend" href="ch08_14.htm" webstripperlinkwas="ch08_14.htm" title="Bourne Shell Quoting ">8.14</A
>)</SPAN
>
of the wildcard (<code class="literal">*</CODE
>).
Instead, the pathname <code class="literal">/work/beta/data_5*</CODE
> is expanded when you use
the variable&nbsp;- like <code class="literal">pg&nbsp;$currdata</CODE
>&nbsp;- to show

you the files as they
are at the time you use the variable.</P
></LI
></UL
><p class="para">You can also use variables to store the paths to directories.
Use <em class="emphasis">cd</EM
>, <em class="emphasis">ls</EM
>, or any other command with the variables.</P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">JP</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch14_09.htm" webstripperlinkwas="ch14_09.htm" title="14.9 cd by Directory Initials "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 14.9 cd by Directory Initials " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch14_11.htm" webstripperlinkwas="ch14_11.htm" title="14.11 Finding (Anyone's) Home Directory, Quickly "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 14.11 Finding (Anyone's) Home Directory, Quickly " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">14.9 cd by Directory Initials </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">14.11 Finding (Anyone's) Home Directory, Quickly </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
