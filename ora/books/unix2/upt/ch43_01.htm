<html><head><title>[Chapter 43] Printing</TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-10-23T15:51:40Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="part07.htm" webstripperlinkwas="part07.htm" title="VII. Terminals and Printers "><link rel="prev" href="ch42_08.htm" webstripperlinkwas="ch42_08.htm" title="42.8 Errors Erased Too Soon? Try These Workarounds "><link rel="next" href="ch43_02.htm" webstripperlinkwas="ch43_02.htm" title="43.2 Introduction to Printing on UNIX "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch42_08.htm" webstripperlinkwas="ch42_08.htm" title="42.8 Errors Erased Too Soon? Try These Workarounds "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 42.8 Errors Erased Too Soon? Try These Workarounds " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 43</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch43_02.htm" webstripperlinkwas="ch43_02.htm" title="43.2 Introduction to Printing on UNIX "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 43.2 Introduction to Printing on UNIX " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="CHAPTER"><h1 class="chapter"><a class="title" name="UPT-CHP-43">43. Printing</A
></H1
><div class="htmltoc"><p><b>Contents:</B
><br><a class="sect1" href="#UPT-ART-4960" title="43.1 Introduction to Printing ">Introduction to Printing </A
><br><a class="sect1" href="ch43_02.htm" webstripperlinkwas="ch43_02.htm" title="43.2 Introduction to Printing on UNIX ">Introduction to Printing on UNIX </A
><br><a class="sect1" href="ch43_03.htm" webstripperlinkwas="ch43_03.htm" title="43.3 Printer Control with lpc ">Printer Control with lpc </A
><br><a class="sect1" href="ch43_04.htm" webstripperlinkwas="ch43_04.htm" title="43.4 Using Different Printers ">Using Different Printers </A
><br><a class="sect1" href="ch43_05.htm" webstripperlinkwas="ch43_05.htm" title="43.5 Using Symbolic Links for Spooling ">Using Symbolic Links for Spooling </A
><br><a class="sect1" href="ch43_06.htm" webstripperlinkwas="ch43_06.htm" title="43.6 Printing to a Terminal Printer ">Printing to a Terminal Printer </A
><br><a class="sect1" href="ch43_07.htm" webstripperlinkwas="ch43_07.htm" title="43.7 Quick-and-Dirty Formatting Before Printing ">Quick-and-Dirty Formatting Before Printing </A
><br><a class="sect1" href="ch43_08.htm" webstripperlinkwas="ch43_08.htm" title="43.8 Fixing Margins with pr and fold ">Fixing Margins with pr and fold </A
><br><a class="sect1" href="ch43_09.htm" webstripperlinkwas="ch43_09.htm" title="43.9 Indenting Text for Printing ">Indenting Text for Printing </A
><br><a class="sect1" href="ch43_10.htm" webstripperlinkwas="ch43_10.htm" title="43.10 Filename Headers Above Files Without pr ">Filename Headers Above Files Without pr </A
><br><a class="sect1" href="ch43_11.htm" webstripperlinkwas="ch43_11.htm" title="43.11 Big Letters: banner ">Big Letters: banner </A
><br><a class="sect1" href="ch43_12.htm" webstripperlinkwas="ch43_12.htm" title="43.12 Typesetting Overview ">Typesetting Overview </A
><br><a class="sect1" href="ch43_13.htm" webstripperlinkwas="ch43_13.htm" title="43.13 The Text Formatters nroff, troff, ditroff, ... ">The Text Formatters nroff, troff, ditroff, ... </A
><br><a class="sect1" href="ch43_14.htm" webstripperlinkwas="ch43_14.htm" title="43.14 nroff/troff and Macro Packages ">nroff/troff and Macro Packages </A
><br><a class="sect1" href="ch43_15.htm" webstripperlinkwas="ch43_15.htm" title="43.15 From a Source File to the Printer ">From a Source File to the Printer </A
><br><a class="sect1" href="ch43_16.htm" webstripperlinkwas="ch43_16.htm" title="43.16 groff ">groff </A
><br><a class="sect1" href="ch43_17.htm" webstripperlinkwas="ch43_17.htm" title="43.17 Don't Have nroff?  Try gnroff or awf ">Don't Have nroff?  Try gnroff or awf </A
><br><a class="sect1" href="ch43_18.htm" webstripperlinkwas="ch43_18.htm" title="43.18 How nroff Makes Bold and Underline; How to Remove It">How nroff Makes Bold and Underline; How to Remove It</A
><br><a class="sect1" href="ch43_19.htm" webstripperlinkwas="ch43_19.htm" title="43.19 Removing Leading Tabs and Other Trivia ">Removing Leading Tabs and Other Trivia </A
><br><a class="sect1" href="ch43_20.htm" webstripperlinkwas="ch43_20.htm" title="43.20 Displaying a troff Macro Definition ">Displaying a troff Macro Definition </A
><br><a class="sect1" href="ch43_21.htm" webstripperlinkwas="ch43_21.htm" title="43.21 Preprocessing troff Input with sed ">Preprocessing troff Input with sed </A
><br><a class="sect1" href="ch43_22.htm" webstripperlinkwas="ch43_22.htm" title="43.22 Converting Text Files to PostScript ">Converting Text Files to PostScript </A
><br><a class="sect1" href="ch43_23.htm" webstripperlinkwas="ch43_23.htm" title="43.23 psselect: Print Some Pages from a PostScript file">psselect: Print Some Pages from a PostScript file</A
><br><a class="sect1" href="ch43_24.htm" webstripperlinkwas="ch43_24.htm" title="43.24 Other PostScript Utilities ">Other PostScript Utilities </A
><br><a class="sect1" href="ch43_25.htm" webstripperlinkwas="ch43_25.htm" title="43.25 The Portable Bitmap Package ">The Portable Bitmap Package </A
></P
><p></P
></DIV
><div class="sect1"><h2 class="sect1"><a class="title" name="UPT-ART-4960">43.1 Introduction to Printing </A
></H2
><p class="para"><a class="indexterm" name="UPT-ART-4960-IX-PRINTING-SPOOLING-SYSTEM-DESCRIBED"></A
><a class="indexterm" name="UPT-ART-4960-IX-SPOOLING-SYSTEM-DESCRIBED"></A
><a class="indexterm" name="AUTOID-47364"></A
>This chapter discusses printing, which is a surprisingly
complicated subject.
To understand why printing is so complicated,
though, let's think a little bit about what you might want to print.</P
><p class="para">First, in the &quot;olden days&quot; we had line printers and their relatives:
daisy wheel printers, dot matrix printers, and other pieces of
equipment that generated typewriter-like output.
Printing a simple
text file was easy: you didn't need any special processing, you only
needed some software to shove the file into the printer.
If you
wanted, you might add a banner page and do a little simple
formatting, but that was really pretty trivial.</P
><p class="para">The one area of complexity in the printing system was the &quot;spooling system,&quot;
which had to do several things in addition to force-feeding the printer.
Most printers were (and still are) shared devices.
This means that
many people can send jobs to the printer at the same time.
There may
also be several printers on which your file gets printed; you may care
which one is used, you may not.
The spooling system needs to manage
all this: receiving data from users, figuring out whether or not an
appropriate printer is in use, and sending the file to the printer (if
it's free) or storing the file somewhere (if the printer isn't free).</P
><p class="para">Historical note: why is this called the &quot;spooling system&quot;?
Dave Birnbaum, a Principal Scientist at Xerox, says:
<blockquote class="blockquote"><p class="para">&quot;SPOOL (Simultaneous Printing Off and On Line)&quot;<a class="indexterm" name="AUTOID-47372"></A
>
It was written for the early IBM mainframes (of the 3 digit, i.e.,
709 kind) and extended to the early 1401 machines.
Output for the printer was sent to the spool system which either
printed it directly or queued it (on tape) for later printing (hence
the on/off line).
There was also a 2nd generation version where the 1401 would act as the
printer controller for the (by then) 7094.
The two were usually connected by a switchable
tape drive that could be driven by either machine.&quot;
[There's some controversy about exactly what the acronym means,
but Dave's is as good as any I've heard. -<em class="emphasis">JP</EM
>&nbsp;]</P
></BLOCKQUOTE
></P
><p class="para">The first few articles in this chapter,
<a class="xref" href="ch43_02.htm" webstripperlinkwas="ch43_02.htm" title="Introduction to Printing on UNIX ">43.2</A
>,
<a class="xref" href="ch43_03.htm" webstripperlinkwas="ch43_03.htm" title="Printer Control with lpc ">43.3</A
>,
<a class="xref" href="ch43_04.htm" webstripperlinkwas="ch43_04.htm" title="Using Different Printers ">43.4</A
>,
and 
<a class="xref" href="ch43_05.htm" webstripperlinkwas="ch43_05.htm" title="Using Symbolic Links for Spooling ">43.5</A
>,
discuss the basic UNIX spooling system, and how to work
with it as a user.
(We don't discuss the administrative aspects of spooling;
that's a much more complicated topic, and not really appropriate for
this book.)
Article
<a class="xref" href="ch43_06.htm" webstripperlinkwas="ch43_06.htm" title="Printing to a Terminal Printer ">43.6</A
>
shows one way to print to a terminal with its own printer.</P
><p class="para">The next few articles talk about how to format articles for printing&nbsp;- not
the kind of fancy formatting people think of nowadays, but simpler things
like pagination, margins, and so on, for text files that are to be sent to
the line printer. Articles
<a class="xref" href="ch43_07.htm" webstripperlinkwas="ch43_07.htm" title="Quick-and-Dirty Formatting Before Printing ">43.7</A
>
through
<a class="xref" href="ch43_10.htm" webstripperlinkwas="ch43_10.htm" title="Filename Headers Above Files Without pr ">43.10</A
>
describe this kind of simple formatting.</P
><p class="para"><a class="indexterm" name="AUTOID-47385"></A
><a class="indexterm" name="AUTOID-47388"></A
><a class="indexterm" name="AUTOID-47391"></A
><a class="indexterm" name="AUTOID-47393"></A
>Historical note number two: why is the print spooler called <em class="emphasis">lp</EM
> or
<em class="emphasis">lpr</EM
>?
Because it typically spooled text to a line printer, a fast
printer that used a wide head to print an entire line at a time.
These printers are still common in data processing applications, and they
can really fly!</P
><p class="para">In the mid-'70s, lots of UNIX people got excited about typesetting.
Some typesetters were available that could be connected to computers,
most notably the C/A/T phototypesetter.
Programs like <em class="emphasis">troff</EM
> and
TeX were developed to format texts for phototypesetters: letting
computer people think that, because they could produce fancy output,
they actually had some sense of design.
Most of them didn't; if you
go back to the early days of typesetting, or even of laser printers,
you probably remember lots of incredibly ugly documents masquerading
as &quot;good designs.&quot;
(Gothic fonts on a dot matrix printer?
Get real.)
But that's another story.
Tools like <em class="emphasis">troff</EM
>,
<em class="emphasis">nroff</EM
> (a <em class="emphasis">troff</EM
> equivalent that produces output for a
standard terminal), and TeX are still with us, and still very
valuable.
They're discussed in articles
<a class="xref" href="ch43_12.htm" webstripperlinkwas="ch43_12.htm" title="Typesetting Overview ">43.12</A
>
through
<a class="xref" href="ch43_21.htm" webstripperlinkwas="ch43_21.htm" title="Preprocessing troff Input with sed ">43.21</A
>.</P
><p class="para"><a class="indexterm" name="AUTOID-47405"></A
>Laser printers became commonplace in the mid-80s, allowing common
people to do high-quality printing: almost as good (but not quite) as
true typesetting.
With laser printers came a widely used standard
language, called PostScript, to drive the printer.
Tools like
<em class="emphasis">troff</EM
> and TeX now generated PostScript output files, which could
be printed on any printer that understood the PostScript language.
This was a big advantage: if you bought a new printer, you didn't have
to change your software; you could ship a PostScript file
cross-country and be reasonably sure the recipient could print it
correctly.
[1]
However, another problem appeared.
PostScript is a complicated
language; things that were easy with a simple text file were now
rather difficult.
You can't just type up a letter and send it to your 
daisy wheel printer; you need to convert it into PostScript.
It used to be easy to print &quot;just a
few pages&quot; from the middle of a file, <em class="emphasis">grep</EM
> through a file to
find something interesting, or to look at the file on your
screen and read it.
Not any more.
We've 
ended this chapter with a few utilities for
working with PostScript files.
Unfortunately, not enough; I played
with lots of them, and while there were some winners, there were many
more losers: programs that worked sometimes but not most of the time.
The winners are discussed in articles
<a class="xref" href="ch43_22.htm" webstripperlinkwas="ch43_22.htm" title="Converting Text Files to PostScript ">43.22</A
>,
<a class="xref" href="ch43_23.htm" webstripperlinkwas="ch43_23.htm" title="psselect: Print Some Pages from a PostScript file">43.23</A
>,
and
<a class="xref" href="ch43_24.htm" webstripperlinkwas="ch43_24.htm" title="Other PostScript Utilities ">43.24</A
>.</P
><blockquote class="footnote"><p class="para">[1] Documents were reasonably &quot;portable&quot; back in the line-printer era.
Portability disappeared in the early days of computer typesetting, and
only reappeared when PostScript became the dominant page description
language.
[PostScript doesn't help someone who doesn't have the exact fonts
used in the PostScript file&nbsp;- unless the person who created the file
included the fonts in it. <em class="emphasis">-JP</EM
>&nbsp;]</P
></BLOCKQUOTE
><p class="para">Finally, article
<a class="xref" href="ch43_25.htm" webstripperlinkwas="ch43_25.htm" title="The Portable Bitmap Package ">43.25</A
>
is about the <em class="emphasis">netpbm</EM
> package.
It's a useful tool for people who deal with graphics files.
<em class="emphasis">netpbm</EM
> converts between different graphics formats.<a class="indexterm" name="AUTOID-47421"></A
><a class="indexterm" name="AUTOID-47422"></A
></P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">ML</SPAN
></P
></DIV
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch42_08.htm" webstripperlinkwas="ch42_08.htm" title="42.8 Errors Erased Too Soon? Try These Workarounds "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 42.8 Errors Erased Too Soon? Try These Workarounds " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch43_02.htm" webstripperlinkwas="ch43_02.htm" title="43.2 Introduction to Printing on UNIX "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 43.2 Introduction to Printing on UNIX " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">42.8 Errors Erased Too Soon? Try These Workarounds </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">43.2 Introduction to Printing on UNIX </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
