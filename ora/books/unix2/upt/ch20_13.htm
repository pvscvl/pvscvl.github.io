<html><head><title>[Chapter 20] 20.13 SCCS Basics </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-10-23T15:45:03Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch20_01.htm" webstripperlinkwas="ch20_01.htm" title="20. Backing Up Files"><link rel="prev" href="ch20_12.htm" webstripperlinkwas="ch20_12.htm" title="20.12 Protecting Files with SCCS or RCS "><link rel="next" href="ch20_14.htm" webstripperlinkwas="ch20_14.htm" title="20.14 RCS Basics "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch20_12.htm" webstripperlinkwas="ch20_12.htm" title="20.12 Protecting Files with SCCS or RCS "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 20.12 Protecting Files with SCCS or RCS " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 20<br>Backing Up Files</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch20_14.htm" webstripperlinkwas="ch20_14.htm" title="20.14 RCS Basics "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 20.14 RCS Basics " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-7943">20.13 SCCS Basics </A
></H2
><p class="para">If you don't know SCCS, you probably thought it was hard to learn.
Not true.
Here is a simple introduction to SCCS.</P
><ol class="orderedlist"><li class="listitem"><p class="para">Create a subdirectory called
<em class="emphasis">SCCS</EM
>
in the directory where you keep the code or other text files
you want to protect.</P
></LI
><li class="listitem"><p class="para">Add the characters
<code class="literal">%W%&nbsp;&nbsp;&nbsp;%G%</CODE
>
somewhere in the file you want to place under SCCS.
Put this in a comment field. That is, use
<code class="literal">/*&nbsp;%W%&nbsp;&nbsp;&nbsp;&nbsp;%G% */</CODE
>
in a C program and
<code class="literal">#&nbsp;%W%&nbsp;&nbsp;&nbsp;&nbsp;%G%</CODE
>
in a shell script.</P
></LI
><li class="listitem"><p class="para">Place the file under source code control. This is done by typing:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>sccs create</B
></CODE
> <code class="replaceable"><i>filename</I
></CODE
></PRE
></BLOCKQUOTE
></P
></LI
></OL
><p class="para">That's it. You're done.
There are three more commands you need to know:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>sccs get</B
></CODE
> <code class="replaceable"><i>filename</I
></CODE
>
% <code class="userinput"><b>sccs edit</B
></CODE
> <code class="replaceable"><i>filename</I
></CODE
>
% <code class="userinput"><b>sccs delta</B
></CODE
> <code class="replaceable"><i>filename</I
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">&#13;You may also want to add the following to your list of
<span class="link">aliases (<a class="linkend" href="ch10_02.htm" webstripperlinkwas="ch10_02.htm" title="Aliases for Common Commands ">10.2</A
>)</SPAN
>:</P
><p class="para"><blockquote class="screen"><pre class="screen"><b class="emphasis.bold">C shell</B
>      <code class="replaceable"><i>ksh, bash</I
></CODE
>
alias Create 'sccs create'           alias Create='sccs create'
alias Get 'sccs get'                 alias Get='sccs get'
alias Edit 'sccs edit'               alias Edit='sccs edit'
alias Delta 'sccs delta'             alias Delta='sccs delta'</PRE
></BLOCKQUOTE
></P
><p class="para"><a class="indexterm" name="AUTOID-22702"></A
>The
<em class="emphasis">get</EM
>
command will get a copy of the file from the Source Code Control
System. The file will be
<span class="link">marked read-only (<a class="linkend" href="ch22_02.htm" webstripperlinkwas="ch22_02.htm" title="Tutorial on File and Directory Permissions ">22.2</A
>)</SPAN
>.<a class="indexterm" name="AUTOID-22706"></A
>
If you want to edit the file, use the 
<em class="emphasis">edit</EM
>
command.
Once you are done, return the file to the <em class="emphasis">SCCS</EM
> directory
with the command<a class="indexterm" name="AUTOID-22710"></A
>
<em class="emphasis">delta</EM
>.
Each time you store the file, you'll get a new version
number, or &quot;delta.&quot;</P
><p class="para">There are only two more commands that you will need to know.
If you checked out a file for editing, and later on decided you didn't
want to edit, use:<a class="indexterm" name="AUTOID-22714"></A
></P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>sccs unedit</B
></CODE
> <code class="replaceable"><i>filename</I
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">and if you want a list of all files currently checked out, use:<a class="indexterm" name="AUTOID-22721"></A
></P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>sccs check</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">That's all there is to it! If you are not using SCCS, you should.
It is the best way to protect yourself. It does not require dozens of
tapes.</P
><p class="para">It is much easier to just type:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>sccs get -r1.12</B
></CODE
> <code class="replaceable"><i>filename</I
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">One command, and version 1.12 is restored.
If it's not the right one, restore the version before or after the one
you just grabbed. If you are worried that you are keeping 12 versions
of the file on the disk, and that this will use up a lot of disk
space, don't. SCCS stores the differences in a clever manner that
allows it to recover any version of the file in a single pass through
the file. </P
><p class="para"><a class="indexterm" name="AUTOID-22734"></A
><a class="indexterm" name="AUTOID-22738"></A
>Suppose you delete a file by accident?
Well, if the file is just checked out with a 
<em class="emphasis">get</EM
>,
it will be retrieved and marked read-only, so deleting the file will cause 
<em class="emphasis">rm</EM
>
to ask you for confirmation.
If you do delete it, you can recover it with another
<em class="emphasis">get</EM
>
command.
Suppose you check out a file with 
<em class="emphasis">edit</EM
>,
because you planned to change it.
Well, if this file gets deleted accidentally, you would lose the most
recent changes. This is why you should check your files back into SCCS
frequently&nbsp;- several times a day, if you wish.
Do it whenever you make significant changes to the file, and it would
be difficult to remember all of the changes. Making hundreds of
changes to a file without checking it back into the system is just
begging for trouble.</P
><p class="para">Good luck, and may you never delete another important file by accident.
[There are several other revision control systems&nbsp;- including
<span class="link">RCS (<a class="linkend" href="ch20_14.htm" webstripperlinkwas="ch20_14.htm" title="RCS Basics ">20.14</A
>)</SPAN
>,
which is widely used and available on the CD-ROM.
You can probably get the most help on whatever revision control system your
colleagues use.
Also see O'Reilly &amp; Associates' <em class="emphasis">Applying RCS and SCCS</EM
>. <em class="emphasis">-JP</EM
>&nbsp;]<a class="indexterm" name="AUTOID-22749"></A
></P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">BB</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch20_12.htm" webstripperlinkwas="ch20_12.htm" title="20.12 Protecting Files with SCCS or RCS "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 20.12 Protecting Files with SCCS or RCS " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch20_14.htm" webstripperlinkwas="ch20_14.htm" title="20.14 RCS Basics "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 20.14 RCS Basics " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">20.12 Protecting Files with SCCS or RCS </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">20.14 RCS Basics </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
