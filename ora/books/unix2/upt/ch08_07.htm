<html><head><title>[Chapter 8] 8.7 Setting Your Search Path </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-08-04T21:34:16Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch08_01.htm" webstripperlinkwas="ch08_01.htm" title="8. How the Shell Interprets What You Type"><link rel="prev" href="ch08_06.htm" webstripperlinkwas="ch08_06.htm" title="8.6 Output Command-Line Arguments "><link rel="next" href="ch08_08.htm" webstripperlinkwas="ch08_08.htm" title="8.8 A Directory for Commands You Shouldn't Run "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch08_06.htm" webstripperlinkwas="ch08_06.htm" title="8.6 Output Command-Line Arguments "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 8.6 Output Command-Line Arguments " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 8<br>How the Shell Interprets What You Type</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch08_08.htm" webstripperlinkwas="ch08_08.htm" title="8.8 A Directory for Commands You Shouldn't Run "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 8.8 A Directory for Commands You Shouldn't Run " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-7864">8.7 Setting Your Search Path </A
></H2
><p class="para"><a class="indexterm" name="AUTOID-7883"></A
><a class="indexterm" name="AUTOID-7886"></A
>Your
<span class="link">search path (<a class="linkend" href="ch06_04.htm" webstripperlinkwas="ch06_04.htm" title="The PATH Environment Variable ">6.4</A
>, <a class="linkend" href="ch06_05.htm" webstripperlinkwas="ch06_05.htm" title="PATH and path ">6.5</A
>)</SPAN
>
controls what directories&nbsp;- and in what order&nbsp;- the shell searches for
<span class="link">external (<a class="linkend" href="ch01_10.htm" webstripperlinkwas="ch01_10.htm" title="Internal and External Commands ">1.10</A
>)</SPAN
>
commands.
You can set a search path that takes effect every time you log in
by editing your shell
<span class="link">setup file (<a class="linkend" href="ch02_02.htm" webstripperlinkwas="ch02_02.htm" title="Shell Setup Files-Which, Where, and Why ">2.2</A
>)</SPAN
>.
You might also want to change the path temporarily.</P
><div class="sect2"><h3 class="sect2"><a class="title" name="UPT-ART-7864-SECT-1.1">8.7.1 Setting Path in Shell Setup Files </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-7895"></A
>To change the &quot;default&quot; search path used every time you log in,
edit the <code class="literal">PATH=...</CODE
> line in your <em class="emphasis">.profile</EM
> file
or the <code class="literal">set</CODE
> <code class="literal">path=(...)</CODE
> line in your <em class="emphasis">.cshrc</EM
><a class="indexterm" name="AUTOID-7903"></A
><a class="indexterm" name="AUTOID-7906"></A
>
or <em class="emphasis">.login</EM
> file.</P
><p class="para">Add the
<span class="link">absolute pathname (<a class="linkend" href="ch14_02.htm" webstripperlinkwas="ch14_02.htm" title="Using Relative and Absolute Pathnames ">14.2</A
>)</SPAN
>
of the directory to the path.
You have a choice:</P
><ul class="itemizedlist"><li class="listitem"><p class="para">You can put the directory at the end of your path.
(I think that's the best idea unless you know exactly what you're doing.)
Then, commands in the directories you add will be used only if they have
unique
names
that aren't found anywhere else in the path.
You can check that with a command like
<span class="link"><em class="emphasis">which</EM
> (<a class="linkend" href="ch50_08.htm" webstripperlinkwas="ch50_08.htm" title="Which Version Am I Using? ">50.8</A
>)</SPAN
>.</P
></LI
><li class="listitem"><p class="para">If you put the pathname close to the start of the path, before
standard system directories
like <em class="emphasis">/bin</EM
>, then commands in the directory you add
will be used instead of system commands with the same name.
That lets you replace commands that don't work the way
you want with your own version.
For instance, if you had the
<span class="link"><em class="emphasis">cal</EM
> script that marks today's date (<a class="linkend" href="ch48_07.htm" webstripperlinkwas="ch48_07.htm" title="cal That Marks Today's Date ">48.7</A
>)</SPAN
>
in
<span class="link">your <em class="emphasis">bin</EM
> (<a class="linkend" href="ch04_02.htm" webstripperlinkwas="ch04_02.htm" title="A bin Directory for Your Programs and Scripts ">4.2</A
>)</SPAN
>,
it would be used instead of the
<span class="link">system <em class="emphasis">cal</EM
> (<a class="linkend" href="ch48_06.htm" webstripperlinkwas="ch48_06.htm" title="Get Calendar for Any Month or Year: cal ">48.6</A
>)</SPAN
>.</P
><p class="para">If you set your path this way, you should
be especially careful not to
accidentally give some random program the same name as a system command&nbsp;- article
<a class="xref" href="ch44_21.htm" webstripperlinkwas="ch44_21.htm" title="Picking a Name for a New Command ">44.21</A
>
explains how to check for that.
Also, be sure to make the directory unwritable by other users
(with <code class="literal">chmod go-w</CODE
>)-so they can't add malicious programs with
the same names as system utilities.</P
></LI
></UL
><blockquote class="caution"><p class="para"><strong>CAUTION:</STRONG
> <a class="indexterm" name="AUTOID-7931"></A
>Installing your own version of standard system commands (like <em class="emphasis">ls</EM
>
or <em class="emphasis">rm</EM
>) at the front of your path has a serious consequence.
Many system programs and shell scripts will call a program like <em class="emphasis">ls</EM
>
and expect it to work just like the default system version of that program.
If you install a version at the front of your search path that behaves
differently, that can cause serious problems for an unsuspecting program.
For example, you might install a version of <em class="emphasis">rm</EM
> that writes messages
to standard output like &quot;Do you want to remove this file?&quot; and reads
your answer from standard input.
The standard system <em class="emphasis">rm</EM
> command won't prompt if its standard input
isn't a terminal.
If your custom <em class="emphasis">rm</EM
> doesn't work the same way as the system <em class="emphasis">rm</EM
>,
other programs that call <em class="emphasis">rm</EM
> can mysteriously lock up while
they wait (forever) for your private <em class="emphasis">rm</EM
> to get an answer to its prompt.
If you want to replace a system command, it's better to give your
version a different name.</P
></BLOCKQUOTE
><p class="para">When you log in, as your shell starts, before your setup files are read,
your system probably has already set a default search path for you.
Your system administrator can change that path.
If your system has a default path, you should think about using it as part of
your path&nbsp;- ask your administrator.
To do that, include the variable <code class="literal">$PATH</CODE
> or <code class="literal">$path</CODE
> as you set
your path.
For example, to add your <em class="emphasis">bin</EM
> directory at the end of the system
path, use one of the following lines:
[4]</P
><blockquote class="footnote"><p class="para">[4] There's a small problem with this if you set your path in your <em class="emphasis">.cshrc</EM
>
or <em class="emphasis">ksh ENV</EM
> file.
Each time you start a
<span class="link">subshell (<a class="linkend" href="ch38_04.htm" webstripperlinkwas="ch38_04.htm" title="Subshells ">38.4</A
>)</SPAN
>,
your <em class="emphasis">bin</EM
> directory will be added to the path again.
That won't cause any errors but it will make the path longer than it
needs to be.
If you want to work around this, use an environment variable like
<span class="link"><em class="emphasis">ENV_SET</EM
> (<a class="linkend" href="ch02_07.htm" webstripperlinkwas="ch02_07.htm" title="C Shell Setup Files Aren't Read When You Want Them to Be? ">2.7</A
>)</SPAN
>
as a flag&nbsp;- and set the path only if <em class="emphasis">ENV_SET</EM
> isn't set.</P
></BLOCKQUOTE
><p class="para"><blockquote class="screen"><pre class="screen">set path=($path ~/bin)                 <em class="emphasis">C shell</EM
>

PATH=$PATH:$HOME/bin                   <em class="emphasis">Bourne shell</EM
></PRE
></BLOCKQUOTE
></P
><p class="para">&#13;For Bourne-type shells, load the updated <em class="emphasis">PATH</EM
> by typing a command like:</P
><p class="para"><blockquote class="screen"><pre class="screen">$ <code class="userinput"><b>. .profile</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">&#13;For the C shell, type one of these commands, depending on which file you changed:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>source .cshrc</B
></CODE
>
% <code class="userinput"><b>source .login</B
></CODE
></PRE
></BLOCKQUOTE
></P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="UPT-ART-7864-SECT-1.2">8.7.2 Changing Path on the Command Line </A
></H3
><p class="para"><a class="indexterm" name="AUTOID-7973"></A
>As you work, you might need to add a directory to your path temporarily.
For example, when I develop new versions of existing programs, I put them
in a separate directory named something like <em class="emphasis">alpha-test</EM
>.
I don't usually want to run the alpha-test commands&nbsp;- but when I do, I
add the <em class="emphasis">alpha-test</EM
> directory to the front of my path temporarily.
(It's handy to set the new path in a
<span class="link">subshell (<a class="linkend" href="ch38_04.htm" webstripperlinkwas="ch38_04.htm" title="Subshells ">38.4</A
>)</SPAN
>
so it won't change the path in my other shell.)
Use the same path setting command you'd use in a shell setup file:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>set path=(~/xxx/alpha-test $path)</B
></CODE
>      <em class="emphasis">C shell</EM
>

$ <code class="userinput"><b>PATH=$HOME/xxx/alpha-test:$PATH</B
></CODE
>        <em class="emphasis">Bourne shell</EM
>
$ <code class="userinput"><b>export PATH</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">&#13;Article
<a class="xref" href="ch08_08.htm" webstripperlinkwas="ch08_08.htm" title="A Directory for Commands You Shouldn't Run ">8.8</A
>
shows another way to change your path:
command-by-command instead of directory-by-directory.</P
></DIV
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">JP</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch08_06.htm" webstripperlinkwas="ch08_06.htm" title="8.6 Output Command-Line Arguments "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 8.6 Output Command-Line Arguments " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch08_08.htm" webstripperlinkwas="ch08_08.htm" title="8.8 A Directory for Commands You Shouldn't Run "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 8.8 A Directory for Commands You Shouldn't Run " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">8.6 Output Command-Line Arguments </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">8.8 A Directory for Commands You Shouldn't Run </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
