<html><head><title>[Chapter 6] 6.6 The TZ Environment Variable </TITLE
><meta name="DC.title" content="UNIX Power Tools"><meta name="DC.creator" content="Jerry Peek, Tim O'Reilly &amp; Mike Loukides"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1998-10-23T15:38:04Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-260-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch06_01.htm" webstripperlinkwas="ch06_01.htm" title="6. Shell and Environment Variables"><link rel="prev" href="ch06_05.htm" webstripperlinkwas="ch06_05.htm" title="6.5 PATH and path "><link rel="next" href="ch06_07.htm" webstripperlinkwas="ch06_07.htm" title="6.7 What Time Is It in Japan? "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" webstripperlinkwas="gifs/smbanner.gif" alt="UNIX Power Tools" usemap="#srchmap" border="0"></H1
><map name="srchmap"><area shape="RECT" coords="0,0,466,58" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="467,0,514,18" href="jobjects/fsearch.htm" webstripperlinkwas="jobjects/fsearch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch06_05.htm" webstripperlinkwas="ch06_05.htm" title="6.5 PATH and path "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 6.5 PATH and path " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 6<br>Shell and Environment Variables</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch06_07.htm" webstripperlinkwas="ch06_07.htm" title="6.7 What Time Is It in Japan? "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 6.7 What Time Is It in Japan? " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="UPT-ART-1173">6.6 The TZ Environment Variable </A
></H2
><p class="para"><a class="indexterm" name="UPT-ART-1173-IX-TZ-ENVIRONMENT-VARIABLE"></A
><a class="indexterm" name="UPT-ART-1173-IX-TIMEZONES-TZ-VARIABLE-FOR"></A
>The <em class="emphasis">TZ</EM
> environment variable is a little obscure, but it can be very
useful. It tells UNIX what time zone you're in. The default time
zone was set when your system was first installed (and we'll assume
it was done correctly).
However, there are lots of times when you want
to change your time zone temporarily. For example, you might be
connected via 
a communications program to a UNIX system in another time zone; 
its notion of the
correct time is right for its location, but not for your location.
Or you may move your system to another location; you need to change
the time zone, but you don't want to reinstall the software (which can
be painful).
Article
<a class="xref" href="ch06_07.htm" webstripperlinkwas="ch06_07.htm" title="What Time Is It in Japan? ">6.7</A
>
shows how to use <em class="emphasis">TZ</EM
> to check the time in another zone.</P
><p class="para">To set <em class="emphasis">TZ</EM
>, give a command like:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>setenv TZ </B
></CODE
><code class="replaceable"><i>timezone</I
></CODE
>                      <em class="emphasis">C shell</EM
>

$ <code class="userinput"><b>TZ=</B
></CODE
><code class="replaceable"><i>timezone</I
></CODE
><code class="userinput"><b>; export TZ</B
></CODE
>                  <em class="emphasis">Bourne shell</EM
></PRE
></BLOCKQUOTE
></P
><p class="para">This setting takes effect immediately; if you give the
<span class="link"><em class="emphasis">date</EM
> (<a class="linkend" href="ch51_10.htm" webstripperlinkwas="ch51_10.htm" title="The date Command ">51.10</A
>)</SPAN
>
command, you'll see the current time in your new zone.</P
><p class="para">The time zones are, basically, files in the directory
<em class="emphasis">/usr/lib/zoneinfo</EM
> or its subdirectories. You'll have to look
through there to see what's available&nbsp;- but a lot is available,
including all the time zones in the United States, Canada, Australia, most of
Europe, and a lot of Asia, Africa, and South America. A lot of &quot;oddball&quot;
time zones are included: for example, the state of Indiana,
large parts of which don't observe Daylight Savings Time, and Michigan, for reasons
that are completely unclear to me.</P
><p class="para">So, let's say you want to set the current time so that it's correct in
Wyoming. You look in <em class="emphasis">/usr/lib/zoneinfo</EM
> and see a directory named
<em class="emphasis">US</EM
>. You then look in the <em class="emphasis">US</EM
> directory, and see a file named 
<em class="emphasis">Mountain</EM
>.
So

your time zone setting is <em class="emphasis">US/Mountain</EM
>:</P
><p class="para"><blockquote class="screen"><pre class="screen">% <code class="userinput"><b>setenv TZ US/Mountain</B
></CODE
>
% <code class="userinput"><b>date</B
></CODE
>
Wed Mar  6 19:34:53 MST 1996</PRE
></BLOCKQUOTE
></P
><p class="para">You don't have to worry about the difference between daylight and
standard time, or the fact that Daylight Savings Time rules aren't
the same everywhere. That information is all encoded in the
<em class="emphasis">zonefiles</EM
> database.</P
><div class="sect1info"><p class="SECT1INFO">- <span class="authorinitials">ML</SPAN
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch06_05.htm" webstripperlinkwas="ch06_05.htm" title="6.5 PATH and path "><img src="../gifs/txtpreva.gif" webstripperlinkwas="../gifs/txtpreva.gif" alt="Previous: 6.5 PATH and path " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" title="UNIX Power Tools"><img src="../gifs/txthome.gif" webstripperlinkwas="../gifs/txthome.gif" alt="UNIX Power Tools" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch06_07.htm" webstripperlinkwas="ch06_07.htm" title="6.7 What Time Is It in Japan? "><img src="../gifs/txtnexta.gif" webstripperlinkwas="../gifs/txtnexta.gif" alt="Next: 6.7 What Time Is It in Japan? " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">6.5 PATH and path </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" webstripperlinkwas="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" webstripperlinkwas="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">6.7 What Time Is It in Japan? </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><img src="../gifs/smnavbar.gif" webstripperlinkwas="../gifs/smnavbar.gif" usemap="#map" border="0" alt="The UNIX CD Bookshelf Navigation"><map name="map"><area shape="RECT" coords="0,0,73,21" href="../index.html" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/index.html" alt="The UNIX CD Bookshelf"><area shape="RECT" coords="74,0,163,21" href="index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/upt/index.htm" alt="UNIX Power Tools"><area shape="RECT" coords="164,0,257,21" href="../unixnut/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/unixnut/index.htm" alt="UNIX in a Nutshell"><area shape="RECT" coords="258,0,321,21" href="../vi/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/vi/index.htm" alt="Learning the vi Editor"><area shape="RECT" coords="322,0,378,21" href="../sedawk/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/sedawk/index.htm" alt="sed &amp; awk"><area shape="RECT" coords="379,0,438,21" href="../ksh/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/ksh/index.htm" alt="Learning the Korn Shell"><area shape="RECT" coords="439,0,514,21" href="../lrnunix/index.htm" webstripperlinkwas="http://www.ms.itb.ac.id/buku/unix-bookshelf/lrnunix/index.htm" alt="Learning the UNIX Operating System"></MAP
></DIV
></BODY
></HTML
>
