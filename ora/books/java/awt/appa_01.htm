<html>
<head>
<title>[Appendix A] Using Properties and Resources</TITLE>
<meta name="author" content="John Zukowski">
<meta name="date" content="Thu Jul 31 14:13:45 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="Java AWT">
<meta name="title" content="Java AWT">
<meta http-equiv="Content-Script-Type" content="text/javascript">
</HEAD>
<body bgcolor="#FFFFFF" text="#000000">

<div class=htmlnav>
<h1><a href='index.htm'><img src="gifs/smbanner.gif" alt="Java AWT" border=0></a></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch23_26.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Appendix A</FONT></B></TD>
<td width=172 align=right valign=top><a href="appa_02.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>

&nbsp;
<hr align=left width=515>
</DIV>
<h1 class=appendix><a class="TITLE" name="JAWT-APP-A">A. Using Properties and Resources</A></H1>

<div class=htmltoc>

<p>
<b>Contents:</b><br>
System Properties<br>
<a href="appa_02.htm">Server Properties</A><br>
<a href="appa_03.htm">Resource Bundles</A><br>

<p>
</DIV>

<p class=para>
Java provides "property lists" that are similar to Xdefaults 
in the X Window system. Programs can use properties to customize their 
behavior or find out information about the run-time environment; by reading 
a property list, a program can set defaults, choose colors and fonts, and 
more, without any changes to the code. Java 1.1 makes property lists much 
more general. Although the basic features of property lists did not change 
between Java 1.0 and 1.1, the way you access them did. Instead of providing 
specific locations for files, Java 1.1 provides access to these resource 
bundles in a more general scheme, described in <a href="appa_03.htm">Resource Bundles</A>. 

<div class=sect1>
<h2 class=sect1><a class="TITLE" name="JAWT-APP-A-SECT-1">A.1 System Properties</A></h2>

<p class=para>
Although Java applications can define property lists as conveniences, there 
is one special property list that is common to all applications and applets: 
System Properties. This list currently has 14 properties in Java 
1.0 and 21 in Java 1.1, although you may add to it, and more standard 
properties may be added in the future. An application has access to all 
of them. Because of security restrictions, an applet has access only to 
9. Among other things, these properties allow you to customize your 
code for different platforms if you want to provide workarounds for platform-specific 
deficiencies or load native methods if available. 

<p class=para>
<a href="#JAWT-APP-A-TAB-1">Table A.1</A> contains the complete list of system properties. The 
last column specifies whether an applet can access each property; applications can access all properties. As a word of caution, different vendors may report 
different values for the same environment (for example, <tt class=literal>os.arch</tt> 
could be x86 or 80486). The values in the property list reflect the run-time 
environment, not the development environment. 

<p>
<div class=table>
<table border>
<caption><a class="TITLE" name="JAWT-APP-A-TAB-1">Table A.1: System Properties</A></CAPTION>
<tr class=row>
<th align="LEFT">Name</TH>
<th align="LEFT">Description</TH>
<th align="LEFT">Sample Value</TH>
<th align="LEFT">Applet</TH>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>awt.toolkit</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD>
<td align="LEFT">

<p class=para>
Toolkit vendor</TD>
<td align="LEFT">

<p class=para>
<tt class=literal>sun.awt.window.Wtoolkit</tt></TD>
<td align="LEFT">No</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>file.encoding</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD>
<td align="LEFT">

<p class=para>
File encoding</TD>
<td align="LEFT"><tt class=literal>8859_1</tt></TD>
<td align="LEFT">No</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>file.encoding.pkg</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD>
<td align="LEFT">

<p class=para>
File encoding package</TD>
<td align="LEFT"><tt class=literal>sun.io</tt></TD>
<td align="LEFT">No</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>file.separator</tt></TD>
<td align="LEFT">

<p class=para>
File separator</TD>
<td align="LEFT">

<p class=para>
<tt class=literal>"\"</tt> or <tt class=literal>"/"</tt></TD>
<td align="LEFT">Yes</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>java.class.path</tt></TD>
<td align="LEFT">

<p class=para>
Java's CLASSPATH</TD>
<td align="LEFT">

<p class=para>
C:\JAVA\LIB;.;
C:\JAVA\BIN\..\classes;
C:\JAVA\BIN\..\lib\classes.zip</TD>
<td align="LEFT">No</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>java.class.version</tt></TD>
<td align="LEFT">

<p class=para>
Java's class library version</TD>
<td align="LEFT"><tt class=literal>45.3</tt></TD>
<td align="LEFT">Yes</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>java.home</tt></TD>
<td align="LEFT">

<p class=para>
Java's installation directory</TD>
<td align="LEFT">C:\JAVA</TD>
<td align="LEFT">No</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>java.vendor</tt></TD>
<td align="LEFT">

<p class=para>
Java's virtual machine vendor</TD>
<td align="LEFT">

<p class=para>
<tt class=literal>Netscape Communications</tt></TD>
<td align="LEFT">Yes</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>java.vendor.url</tt></TD>
<td align="LEFT">

<p class=para>
Java vendor's URL</TD>
<td align="LEFT"><tt class=literal>http://www.netscape.com</tt></TD>
<td align="LEFT">Yes</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>java.version</tt></TD>
<td align="LEFT">

<p class=para>
Java version</TD>
<td align="LEFT"><tt class=literal>1.021</tt></TD>
<td align="LEFT">Yes</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>line.separator</tt></TD>
<td align="LEFT">

<p class=para>
Line separator</TD>
<td align="LEFT">

<p class=para>
<tt class=literal>"\n"</tt></TD>
<td align="LEFT">Yes</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>os.arch</tt></TD>
<td align="LEFT">

<p class=para>
Operating system architecture</TD>
<td align="LEFT">

<p class=para>
<tt class=literal>x86</tt> or <tt class=literal>80486</tt></TD>
<td align="LEFT">Yes</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>os.name</tt></TD>
<td align="LEFT">

<p class=para>
Operating system name</TD>
<td align="LEFT">

<p class=para>
<tt class=literal>Windows NT</tt></TD>
<td align="LEFT">Yes</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>os.version</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD>
<td align="LEFT">

<p class=para>
Operating system version</TD>
<td align="LEFT"><tt class=literal>4.0</tt></TD>
<td align="LEFT">Yes</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>path.separator</tt></TD>
<td align="LEFT">

<p class=para>
Path separator</TD>
<td align="LEFT">

<p class=para>
<tt class=literal>";"</tt> or <tt class=literal>":"</tt></TD>
<td align="LEFT">Yes</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>user.dir</tt></TD>
<td align="LEFT">

<p class=para>
User's working directory</TD>
<td align="LEFT">

<p class=para>
C:\JAZ\AWTCode\Chapter2</TD>
<td align="LEFT">No</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>user.home</tt></TD>
<td align="LEFT">

<p class=para>
User's home directory</TD>
<td align="LEFT"><tt class=literal>C:\JAVA</tt></TD>
<td align="LEFT">No</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>user.language</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD>
<td align="LEFT">

<p class=para>
User's language</TD>
<td align="LEFT"><tt class=literal>en</tt></TD>
<td align="LEFT">No</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>user.name</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD>
<td align="LEFT">

<p class=para>
User's login name</TD>
<td align="LEFT"><tt class=literal>JOHNZ</tt></TD>
<td align="LEFT">No</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>user.region</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD>
<td align="LEFT">

<p class=para>
User's geographic region</TD>
<td align="LEFT"><tt class=literal>US</tt></TD>
<td align="LEFT">No</TD>
</TR>
<tr class=row>
<td align="LEFT"><tt class=literal>user.timezone</tt> <img src="gifs/bstar.gif" alt="(New)" border=0></TD>
<td align="LEFT">

<p class=para>
User's time zone</TD>
<td align="LEFT"><tt class=literal>EST</tt></TD>
<td align="LEFT">No</TD>
</TR>
</TABLE>
<p>
</DIV>
<p class=para>
To read one of the system properties, use the <tt class=literal>getProperty()</tt> method of the 
<tt class=literal>System</tt> class: 

<div class=programlisting>
<p>
<pre>
System.getProperty (String s);    // for the property you want
</PRE>
</DIV>

<p class=para>
If <tt class=literal>s</tt> is a valid property and 
is accessible by your program, the system retrieves the current value as 
a <tt class=literal>String</tt>. If it is not, the 
return value is <tt class=literal>null</tt>. For example, the following line of code retrieves 
the vendor for the Java platform you are working with: 

<div class=programlisting>
<p>
<pre>
String s = System.getProperty ("java.vendor");
</PRE>
</DIV>

<p class=para>
If an applet tries to access a property it does not have permission to 
read, a security exception is thrown. 

<p class=para>
For an application, the Java interpreter can add additional system properties 
at run-time with the -D flag. 
The following command runs the program <i class=emphasis>className</I>, 
adding the <tt class=literal>program.name</tt> property 
to the list of available properties; the value of this property is the 
string <tt class=literal>Foo</tt>: 

<div class=programlisting>
<p>
<pre>
java -Dprogram.name=Foo className
</PRE>
</DIV>

<p class=para>
An application can also modify its property list by calling various methods 
of the <tt class=literal>Properties</tt> class. The following code duplicates the effect of the -D 
flag in the previous example: 

<div class=programlisting>
<p>
<pre>
Properties p = System.getProperties ();
p.put ("program.name", "Foo");  // To add a new one
p.put ("java.vendor", "O'Reilly");  // To replace the current one
System.setProperties(p);
</PRE>
</DIV>

<p class=para>
An applet running within Netscape Navigator or Internet Explorer may not 
add or change system properties since Netscape Navigator and Internet Explorer 
do not let applets touch the local filesystem, and calls to <tt class=literal>getProperties()</tt> 
generate a security violation. Version 1.0 of HotJava, the JDK, and the <i class=emphasis>appletviewer</I> 
allow you to set properties with the <i class=emphasis>properties</I> 
file in the <i class=emphasis>.hotjava</I> 
directory. Other browsers may or may not enable this option. 

<div class=note>
<p class=note><blockquote><p><b>NOTE:</B> 
</blockquote><p>
</DIV>

<p class=para>
The location of the system properties file depends on the run-time 
environment you are using. Ordinarily, the file will go into a subdirectory 
of the installation directory or, for environments where users have home 
directories, in a subdirectory for the user. 
</blockquote><p>
</DIV>

<p class=para>
Users may add properties to the system property file by hand; of course, 
in this case, it's the Java developer's responsibility to document 
what properties the program reads, and to provide reasonable defaults in 
case those properties aren't set. The <tt class=literal>Color</tt> 
and <tt class=literal>Font</tt> classes have methods 
to read colors and fonts from the system properties list. These are two 
areas in which it would be appropriate for a program to define its own 
properties, expecting the user to set an appropriate value. For example, 
a program might expect the property <tt class=literal>myname.awt.drawingColor</tt> 
to define a default color for drawing; it would be the user's responsibility 
to add a line defining this property in the property file: 

<div class=programlisting>
<p>
<pre>
myname.awt.drawingColor=0xe0e0e0    #default drawing color: light gray
</PRE>
</DIV>

</DIV>


<div class=htmlnav>

<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch23_26.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.htm"><img src='gifs/txthome.gif' border=0 alt='Home'></a></td>
<td width=172 align=right valign=top><a href="appa_02.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>WindowPeer</td>
<td width=171 align=center valign=top><a href="index/idx_a.htm"><img src='gifs/index.gif' alt='Book Index' border=0></a></td>
<td width=172 align=right valign=top>Server Properties</td>
</tr>
</table>
<hr align=left width=515>

<img src="gifs/smnavbar.gif" usemap="#map" border=0> 
<map name="map"> 
<area shape=RECT coords="0,0,108,15" href="../javanut/index.htm" alt="Java in a Nutshell"> 
<area shape=RECT coords="109,0,200,15" href="../langref/index.htm" alt="Java Language Reference"> 
<area shape=RECT coords="203,0,290,15" href="index.htm" alt="Java AWT"> 
<area shape=RECT coords="291,0,419,15" href="../fclass/index.htm" alt="Java Fundamental Classes"> 
<area shape=RECT coords="421,0,514,15" href="../exp/index.htm" alt="Exploring Java"> 
</MAP>
</DIV>

</BODY>
</HTML>
