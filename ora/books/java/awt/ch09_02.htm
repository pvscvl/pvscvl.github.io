<html>
<head>
<title>[Chapter 9] 9.2 Lists</TITLE>
<meta name="author" content="John Zukowski">
<meta name="date" content="Thu Jul 31 14:44:11 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="Java AWT">
<meta name="title" content="Java AWT">
<meta http-equiv="index.htmlContent-Script-Type" content="text/javascript">
</HEAD>
<body bgcolor="#FFFFFF">

<div class=htmlnav>
<h1><a href='index.htm'><img src="gifs/smbanner.gif" alt="Java AWT" border=0></a></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch09_01.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 9<br>Pick Me</FONT></B></TD>
<td width=172 align=right valign=top><a href="ch09_03.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>

&nbsp;
<hr align=left width=515>
</DIV>
<div class=sect1>
<h2 class=sect1><a class="TITLE" name="JAWT-CH-9-SECT-2">9.2 Lists</A></h2>

<p class=para>
<a name="CH09.LIST1"></A><a name="CH09.LIST2"></A>Like the <tt class=literal>Choice</tt> component, 
the <tt class=literal>List</tt> provides a way to 
present your user with a fixed sequence of choices to select. However, 
with <tt class=literal>List</tt>, several items can 
be displayed at a time on the screen. A <tt class=literal>List</tt> 
can also allow multiple selection, so that more than one choice can be 
selected. 

<p class=para>
Normally, a scrollbar is associated with the <tt class=literal>List</tt> 
to enable the user to move to the items that do not fit on the screen. 
On some platforms, the <tt class=literal>List</tt> 
may not display the scrollbar if there is enough room to display all choices. 
A <tt class=literal>List</tt> can be resized by the 
<tt class=literal>LayoutManager</tt> according to 
the space available. <a href="#JAWT-CH-9-FIG-2">Figure 9.2</A> shows two lists, one of which has no items to display.

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="JAWT-CH-9-SECT-2.1">List Methods</A></h3>Constructors

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public List () </I><br>
<dd>

<p class=para>
This constructor creates an empty <tt class=literal>List</tt> 
with four visible lines. You must rely on the current <tt class=literal>LayoutManager</tt> 
to resize the <tt class=literal>List</tt> or override 
the <tt class=literal>preferredSize()</tt> (version 
1.0) or <tt class=literal>getPreferredSize()</tt> 
(version 1.1) method to affect the size of the displayed <tt class=literal>List</tt>. 
A <tt class=literal>List</tt> created with this constructor 
is in single-selection mode, so the user can select only one item at a 
time. 

<p>
<dt class=varlistentry><i class=emphasis>public List (int rows) </I><br>
<dd>

<p class=para>
This constructor creates a <tt class=literal>List</tt> 
that has <tt class=literal>rows</tt> visible lines. 
This is just a request; the <tt class=literal>LayoutManager</tt> 
is free to adjust the height of the <tt class=literal>List</tt> 
to some other amount based upon available space. A <tt class=literal>List</tt> 
created with this constructor is in single-selection mode, so the user 
will be able to select only one item at a time. 

<p>
<dt class=varlistentry><i class=emphasis>public List (int rows, boolean multipleSelections) </I><br>
<dd>

<p class=para>
The final constructor for <tt class=literal>List</tt> 
creates a <tt class=literal>List</tt> that has <tt class=literal>rows</tt> 
visible lines. This is just a request; the <tt class=literal>LayoutManager</tt> 
is free to adjust the height of the <tt class=literal>List</tt> 
to some other amount based upon available space. If <tt class=literal>multipleSelections</tt> 
is <tt class=literal>true</tt>, this <tt class=literal>List</tt> 
permits multiple items to be selected. If <tt class=literal>false</tt>, 
this is a single-selection list. </DL>
<div class=figure>
<h4 class=figure><a class="TITLE" name="JAWT-CH-9-FIG-2">Figure 9.2: Two lists; the list on the right is empty</A></h4>


<p>
<img align=middle src="figs/jawt0902.gif" alt="[Graphic: Figure 9-2]" width=328 height=160 border=0>

</DIV>

Content control

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public int getItemCount () <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public int countItems () <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>getItemCount()</tt> method returns 
the length of the list. The length of the list is the number of items in 
the list, not the number of visible rows. 

<p class=para>
<tt class=literal>countItems()</tt> is the Java 1.0 
name for this method. 

<p>
<dt class=varlistentry><i class=emphasis>public String getItem (int index) </I><br>
<dd>

<p class=para>
The <tt class=literal>getItem()</tt> method returns 
the <tt class=literal>String</tt> representation for 
the item at position <tt class=literal>index</tt>. 
The <tt class=literal>String</tt> is the parameter 
passed to the <tt class=literal>addItem()</tt> or 
<tt class=literal>add() </tt> method. 

<p>
<dt class=varlistentry><i class=emphasis>public String[] getItems () <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>getItems()</tt> method returns 
a <tt class=literal>String</tt> array that contains 
all the elements in the <tt class=literal>List</tt>. 
This method does not care if an item is selected or not. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized void add (String item) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public synchronized void addItem (String item) <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>add()</tt> method adds <tt class=literal>item</tt> 
as the last entry in the <tt class=literal>List</tt>. If <tt class=literal>item</tt> 
already exists in the list, this method adds it again. 

<p class=para>
<tt class=literal>addItem()</tt> is the Java 1.0 name 
for this method. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized void add (String item, int index) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public synchronized void addItem (String item, int index) <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
This version of the <tt class=literal>add()</tt> method has an 
additional parameter, <tt class=literal>index</tt>, 
which specifies where to add <tt class=literal>item</tt> 
to the <tt class=literal>List</tt>. If <tt class=literal>index</tt> 
<tt class=literal>&lt; 0</tt> or <tt class=literal>index 
&gt;=</tt> <tt class=literal>getItemCount()</tt>, 
<tt class=literal>item</tt> is added to the end 
of the <tt class=literal>List</tt>. The position count 
is zero based, so if <tt class=literal>index</tt> 
is 0, it will be added as the first item. 

<p class=para>
<tt class=literal>addItem()</tt> is the Java 1.0 name 
for this method. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized void replaceItem (String newItem, int index) </I><br>
<dd>

<p class=para>
The <tt class=literal>replaceItem()</tt> method replaces 
the contents at position <tt class=literal>index</tt> 
with <tt class=literal>newItem</tt>. If the item at 
<tt class=literal>index</tt> has been selected, <tt class=literal>newItem</tt> 
will not be selected. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized void removeAll () <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public synchronized void clear () <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>removeAll()</tt> method clears 
out all the items in the list. 

<p class=para>
<tt class=literal>clear()</tt> is the Java 1.0 name 
for this method. </DL>
<div class=note>
<p class=note><blockquote><p><b>NOTE:</B> 
</blockquote><p>
</DIV>

<p class=para>
Early versions (&nbsp;&nbsp;Java1.0) of the <tt class=literal>clear()</tt> 
method did not work reliably across platforms. You were better off calling the method 
<tt class=literal>listVar.delItems(0, listVar.countItems()-1)</tt>, 
where <tt class=literal>listVar</tt> is your <tt class=literal>List</tt> 
instance. 
</blockquote><p>
</DIV>

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public synchronized void remove (String item) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>remove()</tt> method removes 
<tt class=literal>item</tt> from the list of available 
choices. If <tt class=literal>item</tt> appears in 
the <tt class=literal>List</tt> several times, only 
the first instance is removed. If <tt class=literal>item</tt> 
is <tt class=literal>null</tt>, <tt class=literal>remove()</tt> 
throws the run-time exception <tt class=literal>NullPointerException</tt>. 
If <tt class=literal>item</tt> is not found in the 
<tt class=literal>List</tt>, <tt class=literal>remove()</tt> 
throws the <tt class=literal>IllegalArgumentException</tt> run-time exception. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized void remove (int position) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public synchronized void delItem (int position) <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>remove()</tt> method removes 
the entry at <tt class=literal>position</tt> from 
the <tt class=literal>List</tt>. If <tt class=literal>position</tt> 
is invalid--either <tt class=literal>position</tt> 
&lt; 0 or <tt class=literal>position</tt> &gt;= <tt class=literal>getItemCount()</tt>--<tt class=literal>remove()</tt> 
throws the <tt class=literal>ArrayIndexOutOfBoundsException</tt> 
run-time exception with a message indicating that <tt class=literal>position</tt> 
was invalid. 

<p class=para>
<tt class=literal>delItem()</tt> is the Java 1.0 name 
for this method. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized void delItems (int start, int end) <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>delItems()</tt> method removes 
entries from position <tt class=literal>start</tt> 
to position <tt class=literal>end</tt> from the <tt class=literal>List</tt>. 
If either parameter is invalid--either <tt class=literal>start</tt> 
&lt; 0 or <tt class=literal>end</tt> &gt;= <tt class=literal>getItemCount()</tt>--<tt class=literal>delItems()</tt> 
throws the <tt class=literal>ArrayIndexOutOfBoundsException</tt> 
run-time exception with a message indicating which position was invalid. If <tt class=literal>start</tt> 
is greater than <tt class=literal>end</tt>, nothing 
happens.</DL>
Selection and positioning

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public synchronized int getSelectedIndex () </I><br>
<dd>

<p class=para>
The <tt class=literal>getSelectedIndex()</tt> method 
returns the position of the selected item. If nothing is selected in the 
<tt class=literal>List</tt>, <tt class=literal>getSelectedIndex()</tt> 
returns -1. The value -1 is also returned if the <tt class=literal>List</tt> 
is in multiselect mode and multiple items are selected. For multiselection 
lists, use <tt class=literal>getSelectedIndexes() </tt>instead. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized int[] getSelectedIndexes () </I><br>
<dd>

<p class=para>
The <tt class=literal>getSelectedIndexes()</tt> method 
returns an integer array of the selected items. If nothing is selected, 
the array will be empty. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized String getSelectedItem () </I><br>
<dd>

<p class=para>
The <tt class=literal>getSelectedItem()</tt> method 
returns the label of the selected item. The label is the string used in 
the <tt class=literal>add()</tt> or <tt class=literal>addItem()</tt> 
call. If nothing is selected in the <tt class=literal>List</tt>, 
<tt class=literal>getSelectedItem()</tt> returns <tt class=literal>null</tt>. 
The return value is also <tt class=literal>null</tt> 
if <tt class=literal>List</tt> is in multiselect 
mode and multiple items are selected. For multiselection lists, use <tt class=literal>getSelectedItems() </tt>instead. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized String[] getSelectedItems () </I><br>
<dd>

<p class=para>
The <tt class=literal>getSelectedItems()</tt> method 
returns a <tt class=literal>String</tt> array of the 
selected items. If nothing is selected, the array is empty. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized Object[] getSelectedObjects () </I><br>
<dd>

<p class=para>
The <tt class=literal>getSelectedObjects()</tt> method 
returns the results of the method <tt class=literal>getSelectedItems()</tt> 
as an <tt class=literal>Object</tt> array instead 
of a <tt class=literal>String</tt> array, to conform 
to the <tt class=literal>ItemSelectable</tt> interface. 
If nothing is selected, the returned array is empty. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized void select (int index) </I><br>
<dd>

<p class=para>
The <tt class=literal>select()</tt> method selects 
the item at position <tt class=literal>index</tt>, 
which is zero based. If the <tt class=literal>List</tt> 
is in single-selection mode, any other selected item is deselected. If 
the <tt class=literal>List</tt> is in multiple-selection 
mode, calling this method has no effect on the other selections. The item 
at position <tt class=literal>index</tt> is made visible. </DL>
<div class=note>
<p class=note><blockquote><p><b>NOTE:</B> 
</blockquote><p>
</DIV>

<p class=para>
A negative index seems to select everything within the <tt class=literal>List</tt>. 
This seems more like an irregularity than a feature to rely upon. 
</blockquote><p>
</DIV>

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public synchronized void deselect (int index) </I><br>
<dd>

<p class=para>
The <tt class=literal>deselect()</tt> method deselects 
the item at position <tt class=literal>index</tt>, which is zero based. <tt class=literal>deselect()</tt> 
does not reposition the visible elements. 

<p>
<dt class=varlistentry><i class=emphasis>public boolean isIndexSelected (int index) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public boolean isSelected (int index) <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>isIndexSelected()</tt> method 
checks whether <tt class=literal>index</tt> is currently 
selected. If it is, <tt class=literal>isIndexSelected()</tt> 
returns <tt class=literal>true</tt>; otherwise, it 
returns <tt class=literal>false</tt>. 

<p class=para>
<tt class=literal>isSelected()</tt> is the Java 1.0 
name for this method. 

<p>
<dt class=varlistentry><i class=emphasis>public boolean isMultipleMode () <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public boolean allowsMultipleSelections () <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>isMultipleMode()</tt> method 
returns the current state of the <tt class=literal>List</tt>. 
If the <tt class=literal>List</tt> is in multiselection 
mode, <tt class=literal>isMultipleMode()</tt> returns 
<tt class=literal>true</tt>; otherwise, it returns 
<tt class=literal>false</tt>. 

<p class=para>
<tt class=literal>allowsMultipleSelections()</tt> 
is the Java 1.0 name for this method. 

<p>
<dt class=varlistentry><i class=emphasis>public void setMultipleMode (boolean value) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public void setMultipleSelections (boolean value) <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>setMultipleMode()</tt> method 
allows you to change the current state of a <tt class=literal>List</tt> 
from one selection mode to the other. The currently selected items change 
when this happens. If <tt class=literal>value</tt> 
is <tt class=literal>true</tt> and the <tt class=literal>List</tt> 
is going from single- to multiple-selection mode, the selected item gets 
deselected. If <tt class=literal>value</tt> is <tt class=literal>false</tt> 
and the <tt class=literal>List</tt> is going from 
multiple to single, the last item physically selected remains selected 
(the last item clicked on in the list, not the item with the highest index). 
If there was no selected item, the first item in the list becomes selected, 
or the last item that was deselected 
becomes selected. If staying within 
the same mode, <tt class=literal>setMultipleMode()</tt> 
has no effect on the selected items. 

<p class=para>
<tt class=literal>setMultipleSelections()</tt> is 
the Java 1.0 name for this method. 

<p>
<dt class=varlistentry><i class=emphasis>public void makeVisible (int index) </I><br>
<dd>

<p class=para>
The <tt class=literal>makeVisible()</tt> method ensures 
that the item at position <tt class=literal>index</tt> 
is displayed on the screen. This is useful if you want to make sure a certain 
entry is displayed when another action happens on the screen. 

<p>
<dt class=varlistentry><i class=emphasis>public int getVisibleIndex () </I><br>
<dd>

<p class=para>
The <tt class=literal>getVisibleIndex()</tt> method 
returns the last index from a call to the method <tt class=literal>makeVisible()</tt>. 
If <tt class=literal>makeVisible()</tt> was never 
called, -1 is returned. </DL>
Sizing

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public int getRows () </I><br>
<dd>

<p class=para>
The <tt class=literal>getRows()</tt> method returns 
the number of rows passed to the constructor of the <tt class=literal>List</tt>. 
It does not return the number of visible rows. To get a rough idea of the 
number of visible rows, compare the <tt class=literal>getSize()</tt> 
of the component with the results of <tt class=literal>getPreferredSize(getRows())</tt>. 

<p>
<dt class=varlistentry><i class=emphasis>public Dimension getPreferredSize (int rows) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public Dimension preferredSize (int rows) <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>getPreferredSize()</tt> method 
returns the preferable <tt class=literal>Dimension</tt> 
(width and height) for the size of a <tt class=literal>List</tt> 
with a height of <tt class=literal>rows</tt>. The 
<tt class=literal>rows</tt> specified may be different 
from the rows designated in the constructor. 

<p class=para>
<tt class=literal>preferredSize()</tt> is the Java 
1.0 name for this method. 

<p>
<dt class=varlistentry><i class=emphasis>public Dimension getPreferredSize () <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public Dimension preferredSize () <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>getPreferredSize()</tt> method 
returns the <tt class=literal>Dimension</tt> (width 
and height) for the preferred size of the <tt class=literal>List</tt>. 
Without the rows parameter, this version of <tt class=literal>getPreferredSize()</tt> 
uses the constructor's number of rows to calculate the <tt class=literal>List</tt>'s 
preferred size. 

<p class=para>
<tt class=literal>preferredSize()</tt> is the Java 
1.0 name for this method. 

<p>
<dt class=varlistentry><i class=emphasis>public Dimension getMiminumSize (int rows) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public Dimension minimumSize (int rows) <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>getMinimumSize()</tt> method 
returns the minimum <tt class=literal>Dimension</tt> 
(width and height) for the size of a <tt class=literal>List</tt> 
with a height of <tt class=literal>rows</tt>. The 
<tt class=literal>rows</tt> specified may be different 
from the rows designated in the constructor. For a <tt class=literal>List</tt>, 
<tt class=literal>getMinimumSize()</tt> and <tt class=literal>getPreferredSize()</tt> 
should return the same dimensions. 

<p class=para>
<tt class=literal>minimumSize()</tt> is the Java 1.0 
name for this method. 

<p>
<dt class=varlistentry><i class=emphasis>public Dimension getMiminumSize () <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br><i class=emphasis>public Dimension minimumSize () <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
The <tt class=literal>getMinimumSize()</tt> method 
returns the minimum <tt class=literal>Dimension</tt> 
(width and height) for the size of the <tt class=literal>List</tt>. 
Without the rows parameter, this <tt class=literal>getMinimumSize()</tt> 
uses the constructor's number of rows to calculate the <tt class=literal>List</tt>'s 
minimum size. 

<p class=para>
<tt class=literal>minimumSize()</tt> is the Java 1.0 
name for this method. </DL>
Miscellaneous methods

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public synchronized void addNotify () </I><br>
<dd>

<p class=para>
The <tt class=literal>addNotify()</tt> method creates 
the <tt class=literal>List</tt> peer. If you 
override this method, call <tt class=literal>super.addNotify()</tt> 
first, then add your customizations for the new class. You will then be able 
to do everything you need with the information about the newly created 
peer. 

<p>
<dt class=varlistentry><i class=emphasis>public synchronized void removeNotify () </I><br>
<dd>

<p class=para>
The <tt class=literal>removeNotify()</tt> method destroys 
the peer of the <tt class=literal>List</tt> and removes 
it from the screen. Prior to the <tt class=literal>List</tt> 
peer's destruction, the last selected entry is saved. If you override 
this method for a specific <tt class=literal>List</tt>, 
issue the particular commands that you need for your new object, then call 
<tt class=literal>super.removeNotify()</tt> last. 

<p>
<dt class=varlistentry><i class=emphasis>protected String paramString ()  </I><br>
<dd>

<p class=para>
When you call the <tt class=literal>toString()</tt> 
method of <tt class=literal>List</tt>, the default 
<tt class=literal>toString()</tt> method of <tt class=literal>Component</tt> 
is called. This in turn calls <tt class=literal>paramString()</tt>, 
which builds up the string to display. At the <tt class=literal>List</tt> 
level, the currently selected item (<tt class=literal>getSelectedItem()</tt>) 
is appended to the output. Using <a href="#JAWT-CH-9-FIG-2">Figure 9.2</A> as an 
example, the results would be the following: </DL>
<div class=screen>
<p>
<pre>
java.awt.List[0,34,107x54,selected=null]
</PRE>
</DIV>

</DIV>

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="JAWT-CH-9-SECT-2.2">List Events</A></h3>

<p class=para>
<a name="CH09.EVENT2"></A><a name="CH09.EVENT2A"></A>The primary event for a <tt class=literal>List</tt> 
occurs when the user selects an item in the list. With the 1.0 event model, 
double-clicking a selection causes an <tt class=literal>ACTION_EVENT</tt> 
and triggers the <tt class=literal>action()</tt> method, 
while single-clicking causes a <tt class=literal>LIST_SELECT</tt> or <tt class=literal>LIST_DESELECT</tt> event. Once 
the <tt class=literal>List</tt> has the input focus, 
it is possible to change the selection by using the arrow or keyboard keys. 
The arrow keys scroll through the list of choices, triggering the <tt class=literal>KEY_ACTION</tt>, 
<tt class=literal>LIST_SELECT</tt>, <tt class=literal>LIST_DESELECT</tt>, 
and <tt class=literal>KEY_ACTION_RELEASE</tt> events, 
and thus the <tt class=literal>keyDown()</tt>, <tt class=literal>handleEvent()</tt>, 
and <tt class=literal>keyUp()</tt> methods (no specific 
method gets called for <tt class=literal>LIST_SELECT</tt> 
and <tt class=literal>LIST_DESELECT</tt>). <tt class=literal>action()</tt> 
is called only when the user double-clicks on an item with the mouse. If 
the mouse is used to scroll through the list, no mouse events are triggered; 
<tt class=literal>ACTION_EVENT</tt> is generated 
only when the user double-clicks on an item. 

<p class=para>
With the 1.1 event model, you register an <tt class=literal>ItemListener</tt> 
with <tt class=literal>addItemListener()</tt> 
or an <tt class=literal>ActionListener</tt> 
with the <tt class=literal>addActionListener()</tt> 
method. When the user selects the <tt class=literal>List</tt>, 
either the <tt class=literal>ItemListener.itemStateChanged()</tt> 
method or the <tt class=literal>ActionListener.actionPerformed()</tt> 
method is called through the protected <tt class=literal>List.processItemEvent()</tt> 
method or <tt class=literal>List.processActionEvent()</tt> 
method. Key, mouse, and focus listeners are registered through the three <tt class=literal>Component</tt> 
methods of <tt class=literal>addKeyListener()</tt>, 
<tt class=literal>addMouseListener()</tt>, and <tt class=literal>addFocusListener()</tt>, 
respectively. Action

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public boolean action (Event e, Object o)</I><br>
<dd>

<p class=para>
The <tt class=literal>action()</tt> method for a <tt class=literal>List</tt> 
is called when the user double-clicks on any item in the <tt class=literal>List</tt>. 
<tt class=literal>e</tt> is the <tt class=literal>Event</tt> 
instance for the specific event, while <tt class=literal>o</tt> 
is the label for the item selected, from the <tt class=literal>add()</tt> 
or <tt class=literal>addItem()</tt> call. If <tt class=literal>List</tt> 
is in multiple-selection mode, you might not wish to catch this event because 
it's not clear whether the user wanted to choose the item just selected 
or all of the items selected. You can solve this problem by putting a multi-selecting 
list next to a <tt class=literal>Button</tt> that 
the user presses when the selection process is finished. Capture the event 
generated by the <tt class=literal>Button</tt>. The 
following example shows how to set up and handle a list in this manner, 
with the display shown in <a href="#JAWT-CH-9-FIG-3">Figure 9.3</A>. In this example, 
I just print out the selections to prove that I captured them. </DL>
<div class=screen>
<p>
<pre>
import java.awt.*;
import java.applet.*;
public class list3 extends Applet {
   List l;
   public void init () {
        String fonts[];
        fonts = Toolkit.getDefaultToolkit().getFontList();
        l = new List(4, true);
        for (int i = 0; i &lt; fonts.length; i++) {
            l.addItem (fonts[i]);
        }
        setLayout (new BorderLayout (10, 10));
        add ("North", new Label ("Pick Font Set"));
        add ("Center", l);
        add ("South", new Button ("Submit"));
        resize (preferredSize());
        validate();
   }
   public boolean action (Event e, Object o) {
        if (e.target instanceof Button) {
             String chosen[] = l.getSelectedItems();
             for (int i=0;i&lt;chosen.length;i++)
                System.out.println (chosen[i]);
        }
        return false;
   }
}
</PRE>
</DIV>

<div class=figure>
<h4 class=figure><a class="TITLE" name="JAWT-CH-9-FIG-3">Figure 9.3: Multiselect List</A></h4>


<p>
<img align=middle src="figs/jawt0903.gif" alt="[Graphic: Figure 9-3]" width=188 height=175 border=0>

</DIV>

Keyboard

<p class=para>
Ordinarily, <tt class=literal>List</tt> generates all 
the <tt class=literal>KEY</tt> events once it has 
the input focus. But the way it handles keyboard input differs slightly 
depending upon the selection mode of the list. Furthermore, each platform 
offers slightly different behavior, so code that depends on keyboard events 
in <tt class=literal>List</tt> is not portable. One 
strategy is to take advantage of the keyboard events when they are available 
but allow for another way of managing the list in case they are not. 

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public boolean keyDown (Event e, int key)</I><br>
<dd>

<p class=para>
The <tt class=literal>keyDown()</tt> method is called 
whenever the user presses a key while the <tt class=literal>List</tt> 
has the input focus. <tt class=literal>e</tt> is the 
<tt class=literal>Event</tt> instance for the specific 
event, while <tt class=literal>key</tt> 
is the integer representation of the character pressed. The identifier 
for the event (<tt class=literal>e.id</tt>) for <tt class=literal>keyDown()</tt> 
could be either <tt class=literal>KEY_PRESS</tt> for 
a regular key or <tt class=literal>KEY_ACTION</tt> 
for an action-oriented key (i.e., arrow or function key). If you check 
the current selection in this method through <tt class=literal>getSelectedItem()</tt> 
or <tt class=literal>getSelectedIndex()</tt>, you 
will actually be told the previously selected item because the <tt class=literal>List</tt>'s 
selection has not changed yet. <tt class=literal>keyDown()</tt> 
is not called when the user selects items with the mouse. 

<p>
<dt class=varlistentry><i class=emphasis>public boolean keyUp (Event e, int key)</I><br>
<dd>

<p class=para>
The <tt class=literal>keyUp()</tt> method is called 
whenever the user releases a key while the <tt class=literal>List</tt> 
has the input focus. <tt class=literal>e</tt> is the 
<tt class=literal>Event</tt> instance for the specific 
event, while <tt class=literal>key</tt> 
is the integer representation of the character pressed. The identifier 
for the event (<tt class=literal>e.id</tt>) for <tt class=literal>keyUp()</tt> 
could be either <tt class=literal>KEY_RELEASE</tt> 
for a regular key or <tt class=literal>KEY_ACTION_RELEASE</tt> 
for an action-oriented key (i.e., arrow or function key). </DL>
Mouse

<p class=para>
Ordinarily, the <tt class=literal>List</tt> component 
does not trigger any mouse events. Double-clicking the mouse over any element 
in the list generates an <tt class=literal>ACTION_EVENT</tt>. 
Single-clicking could result in either a <tt class=literal>LIST_SELECT</tt> 
or <tt class=literal>LIST_DESELECT</tt>, depending 
on the mode of the <tt class=literal>List</tt> and 
the current state of the item chosen. When the user changes the selection 
with the mouse, the <tt class=literal>ACTION_EVENT</tt> 
is posted only when an item is double-clicked. List

<p class=para>
There is a special pair of events for lists: <tt class=literal>LIST_SELECT</tt> 
and <tt class=literal>LIST_DESELECT</tt>. No special 
method is called when these events are triggered. However, you can catch 
them in the <tt class=literal>handleEvent()</tt> method. 
If the <tt class=literal>List</tt> is in single-selection 
mode, a <tt class=literal>LIST_SELECT</tt> event is 
generated whenever the user selects one of the items in the <tt class=literal>List</tt>. 
In multiple-selection mode, you will get a <tt class=literal>LIST_SELECT</tt> 
event when an element gets selected and a <tt class=literal>LIST_DESELECT</tt> 
event when it is deselected. The following code shows how to use this event 
type. 

<div class=screen>
<p>
<pre>
public boolean handleEvent (Event e) {
    if (e.id == Event.LIST_SELECT) {
        System.out.println ("Selected item: " + e.arg);
        return true;
    } else {
        return super.handleEvent (e);
    }
}
</PRE>
</DIV>

Focus

<p class=para>
Normally, the <tt class=literal>List</tt> component 
does not reliably trigger any focus events. Listeners and 1.1 event handling

<p class=para>
With the 1.1 event model, you register listeners, and they are told when 
the event happens. 

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public void addItemListener(ItemListener listener) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>addItemListener()</tt> method 
registers <tt class=literal>listener</tt> as an object 
interested in being notified when an <tt class=literal>ItemEvent</tt> 
passes through the <tt class=literal>EventQueue</tt> 
with this <tt class=literal>List</tt> as its target. 
The <tt class=literal>listener.itemStateChanged()</tt> 
method is called when these events occur. Multiple listeners can be registered. 

<p>
<dt class=varlistentry><i class=emphasis>public void removeItemListener(ItemListener listener) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>removeItemListener()</tt> method 
removes <tt class=literal>listener</tt> as an interested 
listener. If <tt class=literal>listener</tt> is not 
registered, nothing happens. 

<p>
<dt class=varlistentry><i class=emphasis>public void addActionListener(ActionListener listener) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>addActionListener()</tt> method 
registers <tt class=literal>listener</tt> as an object 
interested in being notified when an <tt class=literal>ActionEvent</tt> 
passes through the <tt class=literal>EventQueue</tt> 
with this <tt class=literal>List</tt> as its target. 
The <tt class=literal>listener.actionPerformed()</tt> 
method is called when these events occur. Multiple listeners can be registered. 

<p>
<dt class=varlistentry><i class=emphasis>public void removeActionListener(ActionListener listener) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>removeActionListener()</tt> 
method removes <tt class=literal>listener</tt> as 
a interested listener. If <tt class=literal>listener</tt> 
is not registered, nothing happens. 

<p>
<dt class=varlistentry><i class=emphasis>protected void processEvent(AWTEvent e) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>processEvent()</tt> method receives 
all <tt class=literal>AWTEvent</tt>s with this <tt class=literal>List</tt> 
as its target. <tt class=literal>processEvent()</tt> 
then passes them along to any listeners for processing. When you subclass 
<tt class=literal>List</tt>, overriding <tt class=literal>processEvent()</tt> 
allows you to process all events yourself, before sending them to any listeners. 
In a way, overriding the method <tt class=literal>processEvent()</tt> 
is like overriding <tt class=literal>handleEvent()</tt> 
using the 1.0 event model. 

<p class=para>
If you override <tt class=literal>processEvent()</tt>, 
remember to call <tt class=literal>super.processEvent(e)</tt> 
last to ensure that regular event processing can occur. If you want to 
process your own events, it's a good idea to call <tt class=literal>enableEvents()</tt> 
(inherited from <tt class=literal>Component</tt>) 
to ensure that events are delivered even in the absence of registered listeners. 

<p>
<dt class=varlistentry><i class=emphasis>protected void processItemEvent(ItemEvent e) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>processItemEvent()</tt> method 
receives all <tt class=literal>ItemEvent</tt>s with 
this <tt class=literal>List</tt> as its target. <tt class=literal>processItemEvent()</tt> 
then passes them along to any listeners for processing. When you subclass 
<tt class=literal>List</tt>, overriding <tt class=literal>processItemEvent()</tt> 
allows you to process all events yourself, before sending them to any listeners. 
In a way, overriding <tt class=literal>processItemEvent()</tt> 
is like overriding <tt class=literal>handleEvent() </tt>to 
deal with <tt class=literal>LIST_SELECT</tt> and <tt class=literal>LIST_DESELECT</tt> 
using the 1.0 event model. 

<p class=para>
If you override <tt class=literal>processItemEvent()</tt>, 
remember to call the method <tt class=literal>super.processItemEvent(e)</tt> 
last to ensure that regular event processing can occur. If you want to 
process your own events, it's a good idea to call <tt class=literal>enableEvents()</tt> 
(inherited from <tt class=literal>Component</tt>) 
to ensure that events are delivered even in the absence of registered listeners. 

<p>
<dt class=varlistentry><i class=emphasis>protected void processActionEvent(ActionEvent e) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>processActionEvent()</tt> method 
receives all <tt class=literal>ActionEvent</tt>s with 
this <tt class=literal>List</tt> as its target. <tt class=literal>processActionEvent()</tt> 
then passes them along to any listeners for processing. When you subclass 
<tt class=literal>List</tt>, overriding <tt class=literal>processActionEvent()</tt> 
allows you to process all action events yourself, before sending them to 
any listeners. In a way, overriding <tt class=literal>processActionEvent()</tt> 
is like overriding <tt class=literal>action() </tt>using 
the 1.0 event model. 

<p class=para>
If you override <tt class=literal>processActionEvent()</tt>, 
remember to call the method <tt class=literal>super.processActionEvent(e)</tt> 
last to ensure that regular event processing can occur. If you want to 
process your own events, it's a good idea to call <tt class=literal>enableEvents()</tt> 
(inherited from <tt class=literal>Component</tt>) 
to ensure that events are delivered even in the absence of registered listeners. </DL>
</DIV>

</DIV>


<div class=htmlnav>

<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch09_01.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.htm"><img src='gifs/txthome.gif' border=0 alt='Home'></a></td>
<td width=172 align=right valign=top><a href="ch09_03.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>Choice</td>
<td width=171 align=center valign=top><a href="index/idx_a.htm"><img src='gifs/index.gif' alt='Book Index' border=0></a></td>
<td width=172 align=right valign=top>Checkbox</td>
</tr>
</table>
<hr align=left width=515>

<img src="gifs/smnavbar.gif" usemap="#map" border=0> 
<map name="map"> 
<area shape=RECT coords="0,0,108,15" href="../javanut/index.htm" alt="Java in a Nutshell"> 
<area shape=RECT coords="109,0,200,15" href="../langref/index.htm" alt="Java Language Reference"> 
<area shape=RECT coords="203,0,290,15" href="index.htm" alt="Java AWT"> 
<area shape=RECT coords="291,0,419,15" href="../fclass/index.htm" alt="Java Fundamental Classes"> 
<area shape=RECT coords="421,0,514,15" href="../exp/index.htm" alt="Exploring Java"> 
</MAP>
</DIV>

</BODY>
</HTML>
