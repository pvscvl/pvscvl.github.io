<html>
<head>
<title>[Chapter 7] 7.5 CardLayout</TITLE>
<meta name="author" content="John Zukowski">
<meta name="date" content="Thu Jul 31 14:39:33 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="Java AWT">
<meta name="title" content="Java AWT">
<meta http-equiv="index.htmlContent-Script-Type" content="text/javascript">
</HEAD>
<body bgcolor="#FFFFFF">

<div class=htmlnav>
<h1><a href='index.htm'><img src="gifs/smbanner.gif" alt="Java AWT" border=0></a></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch07_04.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 7<br>Layouts</FONT></B></TD>
<td width=172 align=right valign=top><a href="ch07_06.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>

&nbsp;
<hr align=left width=515>
</DIV>
<div class=sect1>
<h2 class=sect1><a class="TITLE" name="JAWT-CH-7-SECT-5">7.5 CardLayout</A></h2>

<p class=para>
<a name="CH07.CARD1"></A><a name="CH07.CARD2"></A><a name="CH07.CARD3"></A><a name="CH07.CARD4"></A>The <tt class=literal>CardLayout</tt> layout manager 
is significantly different from the other layouts. Whereas the other layout 
managers attempt to display all the components within the container at 
once, a <tt class=literal>CardLayout</tt> displays 
only one component at a time. (That component could be a <tt class=literal>Component</tt> 
or another <tt class=literal>Container</tt>.) The 
result is similar to Netscape Navigator's Property sheets or a tabbed 
Dialog, without the tabs. You can flip through the cards (components) in 
the layout in order or jump to a specific card if you know its name. The 
following call to <tt class=literal>setLayout()</tt> 
changes the <tt class=literal>LayoutManager</tt> of 
the current container to <tt class=literal>CardLayout</tt>: 

<div class=screen>
<p>
<pre>
lm = new CardLayout();
setLayout (lm);
</PRE>
</DIV>

<p class=para>
Unlike most other layout managers, <tt class=literal>CardLayout</tt> 
has a number of instance methods that programs have to call. Therefore, 
you usually have to retain a reference to the layout manager. In addition, 
you usually have some other component to control the <tt class=literal>CardLayout</tt> 
(i.e., select which card to view). Most simply, you could put some buttons 
in a panel and stick this panel in the north region of a <tt class=literal>BorderLayout</tt>; 
then make another panel with a <tt class=literal>CardLayout</tt>, 
and place that in the center. A more complex task would be to build a set 
of tabs to control the <tt class=literal>CardLayout</tt>. 

<p class=para>
A <tt class=literal>CardLayout</tt> allows you to assign names to the components it manages. You 
can use the name to jump to an arbitrary component by calling the manager's 
<tt class=literal>show()</tt> method. In Java 1.0, 
naming was optional; you could call <tt class=literal>add(Component)</tt> 
to put a component in the layout with a null name. A null name meant 
only that you couldn't flip to the component at will; you could only display 
the component by calling <tt class=literal>next()</tt> 
or <tt class=literal>previous()</tt> (or <tt class=literal>first()</tt> 
or <tt class=literal>last()</tt>), which cycle through 
all the components in order. In Java 1.1, all components added to a <tt class=literal>CardLayout</tt> 
must be named. 

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="JAWT-CH-7-SECT-5.1">CardLayout Methods</A></h3>Constructors

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public CardLayout () </I><br>
<dd>

<p class=para>
This constructor creates a <tt class=literal>CardLayout</tt> 
using a horizontal and vertical gap of zero pixels. With <tt class=literal>CardLayout</tt>, 
there is no space between components because only one component is visible 
at a time; think of the gaps as insets. 

<p>
<dt class=varlistentry><i class=emphasis>public CardLayout (int hgap, int vgap) </I><br>
<dd>

<p class=para>
This version of the constructor allows you to create a <tt class=literal>CardLayout</tt> 
with a horizontal gap of <tt class=literal>hgap</tt> 
and vertical gap of <tt class=literal>vgap</tt> to 
add some space around the outside of the component that is displayed. The 
units for gaps are pixels. Using negative gaps chops off components at 
the edges of the container. </DL>
Informational methods

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public int getHgap () <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>getHgap()</tt> method retrieves 
the current horizontal gap setting. 

<p>
<dt class=varlistentry><i class=emphasis>public void setHgap (int hgap) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>setHgap()</tt> method changes 
the current horizontal gap setting to <tt class=literal>hgap</tt>. 
After changing the gaps, you must <tt class=literal>validate()</tt> 
the <tt class=literal>Container</tt>. 

<p>
<dt class=varlistentry><i class=emphasis>public int getVgap () <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>getVgap()</tt> method retrieves 
the current vertical gap setting. 

<p>
<dt class=varlistentry><i class=emphasis>public void setVgap (int hgap) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>setVgap()</tt> method changes 
the current vertical gap setting to <tt class=literal>vgap</tt>. 
After changing the gaps, you must <tt class=literal>validate()</tt> 
the <tt class=literal>Container</tt>. </DL>
LayoutManager methods

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public void addLayoutComponent (String name, Component component) <img src="gifs/wstar.gif" alt="(Deprecated)" border=0></I><br>
<dd>

<p class=para>
This version of <tt class=literal>addLayoutComponent()</tt> 
has been deprecated and replaced by the <tt class=literal>addLayoutComponent(Component, 
Object)</tt> method of the <tt class=literal>LayoutManager2</tt> 
interface. 

<p>
<dt class=varlistentry><i class=emphasis>public void removeLayoutComponent (Component component)  </I><br>
<dd>

<p class=para>
The <tt class=literal>removeLayoutComponent()</tt> 
method of <tt class=literal>CardLayout</tt> removes 
<tt class=literal>component</tt> from the container. 
If <tt class=literal>component</tt> is not in the 
container already, nothing happens. 

<p>
<dt class=varlistentry><i class=emphasis>public Dimension preferredLayoutSize (Container target)  </I><br>
<dd>

<p class=para>
The <tt class=literal>preferredLayoutSize()</tt> method 
of <tt class=literal>CardLayout</tt> retrieves the 
preferred size for all the components within it. The <tt class=literal>preferredLayoutSize()</tt> 
method then determines the widest and tallest size of all components (not 
necessarily from the same one), adds the appropriate insets and gaps, and 
uses that as the preferred size for the layout. 

<p>
<dt class=varlistentry><i class=emphasis>public Dimension minimumLayoutSize (Container target)  </I><br>
<dd>

<p class=para>
The <tt class=literal>minimumLayoutSize()</tt> method 
of <tt class=literal>CardLayout</tt> calculates the 
minimum size for all the components within it. The <tt class=literal>minimumLayoutSize()</tt> 
method then determines the widest and tallest minimum size of all components 
(not necessarily from the same one), adds the appropriate insets and gaps, 
and uses that as the minimum size for the layout. 

<p>
<dt class=varlistentry><i class=emphasis>public void layoutContainer (Container target)  </I><br>
<dd>

<p class=para>
The <tt class=literal>layoutContainer()</tt> method 
draws <tt class=literal>target</tt>'s visible 
components one on top of another. Initially, all components are visible. 
Components do not become invisible until you select one for display, by 
calling the <tt class=literal>first()</tt>, <tt class=literal>last()</tt>, 
<tt class=literal>next()</tt>, <tt class=literal>previous()</tt>, 
or <tt class=literal>show()</tt> methods. Where possible, 
<tt class=literal>CardLayout</tt> reshapes all components 
to fit the target container. </DL>
LayoutManager2 methods

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public void addLayoutComponent (Component component, Object name) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
This <tt class=literal>addLayoutComponent()</tt> method 
of <tt class=literal>CardLayout</tt> puts <tt class=literal>component</tt> 
into an internal table with a key of <tt class=literal>name</tt>. 
The <tt class=literal>name</tt> comes from the version 
of <tt class=literal>add()</tt> that has a constraints 
object as a parameter. The name allows you to refer to the component when 
you call other card layout methods, like <tt class=literal>show()</tt>. 
If you call the version of <tt class=literal>add()</tt> 
that only takes a <tt class=literal>Component</tt> 
parameter, you cannot call the <tt class=literal>show()</tt> 
method to flip to the specific component. 

<p class=para>
If <tt class=literal>name</tt> is not a <tt class=literal>String</tt>, 
the run-time exception <tt class=literal>IllegalArgumentException</tt> 
is thrown. 

<p>
<dt class=varlistentry><i class=emphasis>public abstract Dimension maximumLayoutSize(Container target) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>maximumLayoutSize()</tt> method 
returns a <tt class=literal>Dimension</tt> object 
with a width and height of <tt class=literal>Integer.MAX_VALUE</tt>. 
In practice, this means that <tt class=literal>CardLayout</tt> 
doesn't support the concept of maximum size. 

<p>
<dt class=varlistentry><i class=emphasis>public abstract float getLayoutAlignmentX(Container target) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>getLayoutAlignmentX()</tt> method 
says that <tt class=literal>CardLayout</tt> containers 
should be centered horizontally within the area available. 

<p>
<dt class=varlistentry><i class=emphasis>public abstract float getLayoutAlignmentY(Container target) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>getLayoutAlignmentY()</tt> method 
says that <tt class=literal>CardLayout</tt> containers 
should be centered vertically within the area available. 

<p>
<dt class=varlistentry><i class=emphasis>public abstract void invalidateLayout(Container target) <img src="gifs/bstar.gif" alt="(New)" border=0> </I><br>
<dd>

<p class=para>
The <tt class=literal>invalidateLayout()</tt> method 
of <tt class=literal>CardLayout</tt> does nothing. </DL>
CardLayout methods

<p class=para>
This group of methods controls which component the <tt class=literal>CardLayout</tt> 
displays. The <tt class=literal>show()</tt> is only 
usable if you assigned components names when adding them to the container. 
The others can be used even if the components are unnamed; they cycle through 
the components in the order in which they were added. All of these methods 
require the parent <tt class=literal>Container</tt> 
(i.e., the container being managed by this layout manager) as an argument. 
If the layout manager of the <tt class=literal>parent</tt> 
parameter is anything other than the container using this instance of the 
<tt class=literal>CardLayout</tt>, the method throws 
the run-time exception <tt class=literal>IllegalArgumentException</tt>. 

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public void first (Container parent) </I><br>
<dd>

<p class=para>
The <tt class=literal>first()</tt> method flips to 
the initial component in <tt class=literal>parent</tt>. 

<p>
<dt class=varlistentry><i class=emphasis>public void next (Container parent) </I><br>
<dd>

<p class=para>
The <tt class=literal>next()</tt> method flips to 
the following component in <tt class=literal>parent</tt>, 
wrapping back to the beginning if the current component is the last. 

<p>
<dt class=varlistentry><i class=emphasis>public void previous (Container parent) </I><br>
<dd>

<p class=para>
The <tt class=literal>previous()</tt> method flips 
to the prior component in <tt class=literal>parent</tt>, 
wrapping to the end if the current component is the first. 

<p>
<dt class=varlistentry><i class=emphasis>public void last (Container parent) </I><br>
<dd>

<p class=para>
The <tt class=literal>last()</tt> method flips to 
the final component in <tt class=literal>parent</tt>. 

<p>
<dt class=varlistentry><i class=emphasis>public void show (Container parent, String name) </I><br>
<dd>

<p class=para>
The <tt class=literal>show()</tt> method displays 
the component in parent that was assigned the given <tt class=literal>name</tt> 
when it was added to the container. If there is no component with <tt class=literal>name</tt> 
contained within <tt class=literal>parent</tt>, nothing 
happens. </DL>
Miscellaneous methods

<p>
<dl class=variablelist>
<dt class=varlistentry><i class=emphasis>public String toString () </I><br>
<dd>

<p class=para>
The <tt class=literal>toString()</tt> method of <tt class=literal>CardLayout</tt> 
returns the a string showing the current horizontal and vertical gap settings. 
The result for a typical <tt class=literal>CardLayout</tt> 
would be: </DL>
<div class=screen>
<p>
<pre>
java.awt.CardLayout[hgap=0,vgap=0]
</PRE>
</DIV>

</DIV>

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="JAWT-CH-7-SECT-5.2">CardLayout Example</A></h3>

<p class=para>
<a href="#JAWT-CH-7-FIG-7">Figure 7.7</A> shows a simple <tt class=literal>CardLayout</tt>. 
This layout has three cards that cycle when you make a selection. 
The first card (A) contains some <tt class=literal>Checkbox</tt> 
items within a <tt class=literal>Panel</tt>, the second 
card (B) contains a single <tt class=literal>Button</tt>, 
and the third (C) contains a <tt class=literal>List</tt> 
and a <tt class=literal>Choice</tt> within another 
<tt class=literal>Panel</tt>. 

<div class=figure>
<h4 class=figure><a class="TITLE" name="JAWT-CH-7-FIG-7">Figure 7.7: Different views of CardLayout</A></h4>


<p>
<img align=middle src="figs/jawt0707.gif" alt="[Graphic: Figure 7-7]" width=503 height=217 border=0>

</DIV>

<p class=para>
<a href="#JAWT-CH-7-EX-1">Example 7.1</A> is the code that generated <a href="#JAWT-CH-7-FIG-7">Figure 7.7</A>.

<div class=example>
<h4 class=example><a class="TITLE" name="JAWT-CH-7-EX-1">Example 7.1: The CardExample Class</A></h4>

<div class=screen>
<p>
<pre>
import java.awt.*;
import java.applet.*;
public class CardExample extends Applet {
    CardLayout cl = new CardLayout();
    public void init () {
        String fonts[] = Toolkit.getDefaultToolkit().getFontList();
        setLayout (cl);
        Panel pA = new Panel();
        Panel pC = new Panel ();
        p1.setLayout (new GridLayout (3, 2));
        List l = new List(4, false);
        Choice c = new Choice ();
        for (int i=0;i&lt;fonts.length;i++) {
            pA.add (new Checkbox (fonts[i]));
            l.addItem (fonts[i]);
            c.addItem (fonts[i]);
        }
        pC.add (l);
        pC.add (c);
        add ("One", pA);
        add ("Two", new Button ("Click Here"));
        add ("Three", pC);
    }
    public boolean action (Event e, Object o) {
        cl.next(this);
        return true;
    }
}
</PRE>
</DIV>

</DIV>

<p class=para>
Each panel within the <tt class=literal>CardLayout</tt> 
has its own layout manager. <tt class=literal>Panel</tt> 
A uses a <tt class=literal>GridLayout</tt>; panel C uses its default layout manager, which is a <tt class=literal>FlowLayout</tt>. 
When the user takes any action (i.e., clicking on a checkbox or button, 
or selecting an item from the <tt class=literal>List</tt> 
or <tt class=literal>Choice</tt> components), the 
system generates a call to <tt class=literal>action()</tt>, 
which calls the <tt class=literal>CardLayout</tt>'s 
<tt class=literal>next()</tt> method, thus displaying 
the next card in the sequence. 

</DIV>

</DIV>


<div class=htmlnav>

<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch07_04.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.htm"><img src='gifs/txthome.gif' border=0 alt='Home'></a></td>
<td width=172 align=right valign=top><a href="ch07_06.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>GridLayout</td>
<td width=171 align=center valign=top><a href="index/idx_a.htm"><img src='gifs/index.gif' alt='Book Index' border=0></a></td>
<td width=172 align=right valign=top>GridBagLayout</td>
</tr>
</table>
<hr align=left width=515>

<img src="gifs/smnavbar.gif" usemap="#map" border=0> 
<map name="map"> 
<area shape=RECT coords="0,0,108,15" href="../javanut/index.htm" alt="Java in a Nutshell"> 
<area shape=RECT coords="109,0,200,15" href="../langref/index.htm" alt="Java Language Reference"> 
<area shape=RECT coords="203,0,290,15" href="index.htm" alt="Java AWT"> 
<area shape=RECT coords="291,0,419,15" href="../fclass/index.htm" alt="Java Fundamental Classes"> 
<area shape=RECT coords="421,0,514,15" href="../exp/index.htm" alt="Exploring Java"> 
</MAP>
</DIV>

</BODY>
</HTML>
