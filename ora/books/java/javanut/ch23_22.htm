<!doctype html public "-//ORA//DTD CD HTML 3.2//EN">
<html>
<head>
<title>[Chapter 23] 23.22 java.beans.VetoableChangeSupport (JDK 1.1)</TITLE>
<meta name="author" content="David Flanagan">
<meta name="date" content="Thu Jul 31 16:18:48 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="Java">
<meta name="title" content="Java in a Nutshell">
<meta http-equiv="index.htmlContent-Script-Type" content="text/javascript">
</HEAD>
<body bgcolor="#FFFFFF">

<div class=htmlnav>
<h1><a href='index.htm'><img src="gifs/smbanner.gif" alt="Java in a Nutshell" border=0></a></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch23_21.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 23<br>The java.beans Package</FONT></B></TD>
<td width=172 align=right valign=top><a href="ch23_23.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>

&nbsp;
<hr align=left width=515>
</DIV>
<div class=sect1>
<h2 class=sect1><a class="TITLE" name="JNUT2-CH-23-SECT-22">23.22 java.beans.VetoableChangeSupport (JDK 1.1)</A></h2>

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="JNUT2-CH-23-SECT-22.1"></A></h3>
</DIV>

<p class=para>
<tt class=literal>VetoableChangeSupport</tt> is a convenience class that
maintains a list of registered
<tt class=literal>VetoableChangeListener</tt> objects and provides a
<tt class=literal>fireVetoableChange()</tt> method for sending a
<tt class=literal>PropertyChangeEvent</tt> to all registered listeners.  If
any of the registered listeners veto the proposed change,
<tt class=literal>fireVetoableChange()</tt> send out another
<tt class=literal>PropertyChangeEvent</tt> notifying previously notified
listeners that the property has changed back to its original
value.  

<p class=para>
Because of the extra complexity of correctly handling
vetoable changes, and because of some tricky thread
synchronization issues involved in maintaining the list of
listeners, it is recommended that all Java beans that
support "constrained" events create a
<tt class=literal>VetoableChangeSupport</tt> object to which they can
delegate the tasks of maintaining the list of listeners and
of firing events.

<div class=screen>
<p>
<pre>
public class <tt class=literal>VetoableChangeSupport</tt> extends Object implements Serializable {
    // <tt class=literal>Public Constructor</tt>
            public <tt class=literal>VetoableChangeSupport</tt>(Object <tt class=literal>sourceBean</tt>);
    // <tt class=literal>Public Instance Methods</tt>
            public synchronized void <tt class=literal>addVetoableChangeListener</tt>(VetoableChangeListener <tt class=literal>listener</tt>);
            public void <tt class=literal>fireVetoableChange</tt>(String <tt class=literal>propertyName</tt>, Object <tt class=literal>oldValue</tt>, Object <tt class=literal>newValue</tt>)
            public void <tt class=literal>fireVetoableChange</tt>'u'throws PropertyVetoException;
            public synchronized void <tt class=literal>removeVetoableChangeListener</tt>(VetoableChangeListener <tt class=literal>listener</tt>);
}
</PRE>
</DIV>

<p class=para>
</DIV>

</DIV>


<div class=htmlnav>

<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch23_21.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.htm"><img src='gifs/txthome.gif' border=0 alt='Home'></a></td>
<td width=172 align=right valign=top><a href="ch23_23.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>java.beans.VetoableChangeListener (JDK 1.1)</td>
<td width=171 align=center valign=top><a href="index/idx_0.htm"><img src='gifs/index.gif' alt='Book Index' border=0></a></td>
<td width=172 align=right valign=top>java.beans.Visibility (JDK 1.1)</td>
</tr>
</table>
<hr align=left width=515>

<img src="gifs/smnavbar.gif" usemap="#map" border=0> 
<map name="map"> 
<area shape=RECT coords="0,0,108,15" href="index.htm" alt="Java in a Nutshell"> 
<area shape=RECT coords="109,0,200,15" href="../langref/index.htm" alt="Java Language Reference"> 
<area shape=RECT coords="203,0,290,15" href="../awt/index.htm" alt="Java AWT"> 
<area shape=RECT coords="291,0,419,15" href="../fclass/index.htm" alt="Java Fundamental Classes"> 
<area shape=RECT coords="421,0,514,15" href="../exp/index.htm" alt="Exploring Java"> 
</MAP>
</DIV>

</BODY>
</HTML>
