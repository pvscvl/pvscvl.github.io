<html><head>
<title>[Chapter 6] 6.5 Things to Try</TITLE>
<meta name="DC.title" content="sendmail"><meta name="DC.creator" content="Bryan Costales &amp; Eric Allman"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-01-06T18:35:06Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-222-0" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch06_01.htm" title="6. The Mail Hub and Delivery Agents"><link rel="prev" href="ch06_04.htm" title="6.4 Add the Missing Parts to Mhub"><link rel="next" href="ch07_01.htm" title="7. Macros"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="sendmail" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="sendmail"><area shape="RECT" coords="467,0,514,18" href="../search/ssrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch06_04.htm" title="6.4 Add the Missing Parts to Mhub"><img src="../gifs/txtpreva.gif" alt="Previous: 6.4 Add the Missing Parts to Mhub" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 6<br>The Mail Hub and Delivery Agents</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="CHAPTER" href="ch07_01.htm" title="7. Macros"><img src="../gifs/txtnexta.gif" alt="Next: 7. Macros" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="SML2-CH-6-SECT-5">6.5 Things to Try</A
></H2
><ul class="itemizedlist"><li class="listitem"><p class="para">Create a mail delivery agent definition that has no symbolic name
or one that has what you suspect is an illegal name. What happens
when you run <em class="emphasis">sendmail</EM
> with the <code class="literal">-d0.15</CODE
> command-line
argument?</P
></LI
><li class="listitem"><p class="para">Define two different mail delivery agents that have the same symbolic name.
Does <em class="emphasis">sendmail</EM
> catch the error, or does it replace the first with
the second?</P
></LI
><li class="listitem"><p class="para">Make a typo in one of the equates. For example, instead of
<code class="literal">S=6</CODE
>, enter <code class="literal">s=6</CODE
>. What happens?</P
></LI
><li class="listitem"><p class="para">The <code class="literal">P=</CODE
> equate is used to state the full pathname of
the program that delivers the mail message. Since the 
parts are separated from each other by commas, is it possible
to include a comma in that pathname? If so, how? Use <code class="literal">-d0.15</CODE
>
to test your proposals.</P
></LI
><li class="listitem"><p class="para">What happens if the program shown in the <code class="literal">P=</CODE
> equate
does not exist or if that
program is not executable? Is this detected by <em class="emphasis">sendmail</EM
>
when the <em class="emphasis">sendmail.cf</EM
> file is read?</P
></LI
><li class="listitem"><p class="para">The <code class="literal">A=</CODE
> equate specifies the command-line arguments that
are given to the <code class="literal">P=</CODE
> program when it is run.
Can you include commas in those command-line arguments?</P
></LI
><li class="listitem"><p class="para">When a line in the <em class="emphasis">sendmail.cf</EM
> file begins with a
space or tab character, it is joined (appended) to the line above
it. Try splitting delivery agents over multiple lines for
readability using this mechanism. Test the result with the
<code class="literal">-d0.15</CODE
> debugging switch (review <a class="xref" href="ch06_02.htm" title="Testing the client.cf File">Section 6.2.1, "Testing the client.cf File"</A
>).</P
><p class="para"><blockquote class="screen"><pre class="screen">Mhub,           # Delivery agent definition to forward mail to hub
    P=[IPC],    #  use SMTP over the network
    S=0,        #  no sender rewriting
    R=0,        #  no recipient rewriting
    F=m,        #  flag: deliver to more than one user at a time
    F=D,        #  flag: include Date: in the header
    F=F,        #  flag: include From: in the header
    F=M,        #  flag: include Message-ID: in the header
    F=u,        #  flag: preserve the case of the recipient name
    F=X,        #  flag: pass lone dots on a line by doubling
    F=a,        #  flag: run extended SMTP protocol
    T=DNS/RFC822/SMTP, 
    A=IPC $h</PRE
></BLOCKQUOTE
></P
><p class="para"></P
></LI
><li class="listitem"><p class="para">Gather all of the lines in your system's current <em class="emphasis">sendmail.cf</EM
>
file that define mail delivery agents.
In each of the lines printed, you will see one field that declares
the full path of a mail delivery program. For each of those
<code class="literal">P=</CODE
> fields, locate and read the online manual page for the
program specified. Do the arguments in the <code class="literal">A=</CODE
> field
make sense to you?<a class="indexterm" name="AUTOID-4002"></A
></P
></LI
></UL
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch06_04.htm" title="6.4 Add the Missing Parts to Mhub"><img src="../gifs/txtpreva.gif" alt="Previous: 6.4 Add the Missing Parts to Mhub" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="sendmail"><img src="../gifs/txthome.gif" alt="sendmail" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="CHAPTER" href="ch07_01.htm" title="7. Macros"><img src="../gifs/txtnexta.gif" alt="Next: 7. Macros" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">6.4 Add the Missing Parts to Mhub</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">7. Macros</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
