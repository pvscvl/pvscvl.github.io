<html><head>
<title>[Chapter 15] 15.6 Install the client.cf File</TITLE>
<meta name="DC.title" content="sendmail"><meta name="DC.creator" content="Bryan Costales &amp; Eric Allman"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-01-06T18:39:29Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-222-0" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch15_01.htm" title="15. Install and Test the client.cf File"><link rel="prev" href="ch15_05.htm" title="15.5 Prevent the Daemon from Running"><link rel="next" href="ch15_07.htm" title="15.7 Things to Try"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="sendmail" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="sendmail"><area shape="RECT" coords="467,0,514,18" href="../search/ssrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch15_05.htm" title="15.5 Prevent the Daemon from Running"><img src="../gifs/txtpreva.gif" alt="Previous: 15.5 Prevent the Daemon from Running" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 15<br>Install and Test the client.cf File</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch15_07.htm" title="15.7 Things to Try"><img src="../gifs/txtnexta.gif" alt="Next: 15.7 Things to Try" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="SML2-CH-15-SECT-6">15.6 Install the client.cf File</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-8702"></A
><a class="indexterm" name="AUTOID-8705"></A
>At last! All the pieces are in place, and you can install the <em class="emphasis">client.cf</EM
>
file as the official system configuration file.</P
><p class="para">As we explained when we began developing the <em class="emphasis">client.cf</EM
> file,
you should not type it in yourself. The pieces that we developed were
strictly instructional and should not be used as is. Instead,
you should bear with us for the rest of the tutorial chapters.
In the next chapter you are shown how to generate a full-fledged
configuration file. If you have been typing in <em class="emphasis">client.cf</EM
> all
along, you can use it here. If you waited, you should skip to
the next chapter, then return here.</P
><p class="para">Just to be safe,
once you have obtained, tuned, and tested a <em class="emphasis">client.cf</EM
> file,
make a backup copy of the system configuration file:</P
><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>cp /etc/sendmail.cf /etc/sendmail.cf.orig</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">The <code class="literal">#</CODE
> prompt indicates that you are doing this as <em class="emphasis">root</EM
>.
Next, overwrite the system configuration file with the new <em class="emphasis">client.cf</EM
>
file:</P
><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>cp ./client.cf /etc/sendmail.cf</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">Now that the <em class="emphasis">client.cf</EM
> file is in place as your system configuration file,
you need to kill and restart the <em class="emphasis">sendmail</EM
> daemon. Review <a class="xref" href="ch04_01.htm" title="Daemon Mode (-bd)">Section 4.1.1, "Daemon Mode (-bd)"</A
>
if you have forgotten how to do this. Remember, when you restart it, that you are
now starting it in queue-processing mode as shown in the previous section.
Here is how we kill and restart <em class="emphasis">sendmail</EM
> for version 8.7:</P
><p class="para"><blockquote class="screen"><pre class="screen"># <code class="userinput"><b>kill -HUP `head -1 /etc/sendmail.pid`</B
></CODE
></PRE
></BLOCKQUOTE
></P
><p class="para">That's all there is to it. From now on, any mail that is sent from your
machine will result in <em class="emphasis">sendmail</EM
> using your configuration
file in place of the original.</P
><p class="para">Once again, it is important to test your configuration file. Send mail to yourself and
others using your favorite MUA. Examine the results (especially
the header information), and ask others to do so too.
If anything is amiss, first try to fix the new configuration file.
If that fails, put the saved original back as the system configuration
file until you can solve the problem.</P
><p class="para">Some problems will doubtless require expertise beyond that provided
in this tutorial. For those, you will need to take on the reference
chapters. This will be even more necessary if you
are managing a hub machine or if you want mail delivered locally.&#13;</P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch15_05.htm" title="15.5 Prevent the Daemon from Running"><img src="../gifs/txtpreva.gif" alt="Previous: 15.5 Prevent the Daemon from Running" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="sendmail"><img src="../gifs/txthome.gif" alt="sendmail" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch15_07.htm" title="15.7 Things to Try"><img src="../gifs/txtnexta.gif" alt="Next: 15.7 Things to Try" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">15.5 Prevent the Daemon from Running</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">15.7 Things to Try</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
