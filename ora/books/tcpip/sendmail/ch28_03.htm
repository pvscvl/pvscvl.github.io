<html><head>
<title>[Chapter 28] 28.3 The Workspace</TITLE>
<meta name="DC.title" content="sendmail"><meta name="DC.creator" content="Bryan Costales &amp; Eric Allman"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-01-06T19:50:15Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-222-0" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch28_01.htm" title="28. Rules"><link rel="prev" href="ch28_02.htm#SML2-CH-28-SECT-2-3" title="28.2 Tokenizing Rules"><link rel="next" href="ch28_04.htm" title="28.4 The Behavior of a Rule"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="sendmail" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="sendmail"><area shape="RECT" coords="467,0,514,18" href="../search/ssrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch28_02.htm#SML2-CH-28-SECT-2-3" title="28.2 Tokenizing Rules"><img src="../gifs/txtpreva.gif" alt="Previous: 28.2 Tokenizing Rules" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 28<br>Rules</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch28_04.htm" title="28.4 The Behavior of a Rule"><img src="../gifs/txtnexta.gif" alt="Next: 28.4 The Behavior of a Rule" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="SML2-CH-28-SECT-3">28.3 The Workspace</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-26426"></A
><a class="indexterm" name="AUTOID-26428"></A
><a class="indexterm" name="AUTOID-26431"></A
>As was mentioned, rules exist to rewrite addresses. We won't cover
the reasons this rewriting needs to be done just yet but will instead
concentrate on the general behavior of rewriting.</P
><p class="para">Before any rules
are called to perform rewriting, a temporary buffer called
the &amp;&quot;workspace&quot; is created. The address to be rewritten
is then tokenized and placed into that workspace.
The process of tokenizing addresses in the workspace 
is exactly
the same as the tokenizing of rules that you saw before:</P
><p class="para"><blockquote class="screen"><pre class="screen">gw@wash.dc.gov    <em class="emphasis">becomes <img src="../chars/rarr.gif" alt="-&gt;">  gw  @  wash  .  dc  . gov</EM
></PRE
></BLOCKQUOTE
></P
><p class="para">Here, the tokenizing characters defined by the 
<code class="literal">OperatorChars</CODE
> (pre-V8.7, <code class="literal">$o</CODE
>) option (see <a class="xref" href="ch34_08.htm" title="">Section 34.8.45</A
>)
and those defined internally by <em class="emphasis">sendmail</EM
> caused the address to be
broken into seven tokens.
The process of rewriting changes the tokens in the workspace:</P
><p class="para"><blockquote class="screen"><pre class="screen">		<i class="lineannotation"><img src="../chars/larr.gif" alt="&lt;-"> workspace is </I
>&quot;gw&quot; &quot;@&quot; &quot;wash&quot; &quot;.&quot; &quot;dc&quot; &quot;.&quot; &quot;gov&quot;
R<i class="lineannotation">lhs</I
> <i class="lineannotation">rhs</I
>
R<i class="lineannotation">lhs</I
> <i class="lineannotation">rhs</I
>		<i class="lineannotation"><img src="../chars/larr.gif" alt="&lt;-"> rules rewrite the workspace</I
>
R<i class="lineannotation">lhs</I
> <i class="lineannotation">rhs</I
>
		<i class="lineannotation"><img src="../chars/larr.gif" alt="&lt;-"> workspace is </I
>&quot;gw&quot; &quot;.&quot; &quot;LOCAL&quot;</PRE
></BLOCKQUOTE
></P
><p class="para">Here, the workspace began with seven tokens. The three hypothetical
rules recognized that this was a local address (in token
form) and rewrote it so that it became three tokens.</P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch28_02.htm#SML2-CH-28-SECT-2-3" title="28.2 Tokenizing Rules"><img src="../gifs/txtpreva.gif" alt="Previous: 28.2 Tokenizing Rules" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="sendmail"><img src="../gifs/txthome.gif" alt="sendmail" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch28_04.htm" title="28.4 The Behavior of a Rule"><img src="../gifs/txtnexta.gif" alt="Next: 28.4 The Behavior of a Rule" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">28.2 Tokenizing Rules</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">28.4 The Behavior of a Rule</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
