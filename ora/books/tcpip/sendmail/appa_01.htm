<html><head>
<title>[Appendix A] The client.cf File</TITLE>
<meta name="DC.title" content="sendmail"><meta name="DC.creator" content="Bryan Costales &amp; Eric Allman"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-01-06T22:49:53Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-222-0" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="part05.htm" title="V. Appendixes"><link rel="prev" href="part05.htm" title="V. Appendixes"><link rel="next" href="appb_01.htm" title="B. Host Status File Internals"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="sendmail" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="sendmail"><area shape="RECT" coords="467,0,514,18" href="../search/ssrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="PART" href="part05.htm" title="V. Appendixes"><img src="../gifs/txtpreva.gif" alt="Previous: V. Appendixes" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Appendix A</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="APPENDIX" href="appb_01.htm" title="B. Host Status File Internals"><img src="../gifs/txtnexta.gif" alt="Next: B. Host Status File Internals" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="APPENDIX"><h1 class="appendix"><a class="title" name="SML2-AP-A">A. The client.cf File</A
></H1
><p class="para"></P
><p class="para">In Part I of this book a configuration file that always forwards to
the hub was partly developed.<a class="indexterm" name="SML2-AP-A-IX-CLIENT-CF"></A
>
This appendix presents it in annotated and cross-referenced
form, but please use this file only to learn about <em class="emphasis">sendmail</EM
>. If you
really need a client file that always forwards to a hub, use the
<em class="emphasis">nullclient</EM
> feature described in <a class="xref" href="ch16_01.htm" title="The null.mc File and m4">Chapter 16, <cite class="chapter">The null.mc File and m4</CITE
></A
>.</P
><p class="para"><blockquote class="screen"><pre class="screen">V7                                                                    <i class="lineannotation"><a class="xref" href="ch05_01.htm" title="The sendmail.cf File">Chapter 5, <cite class="chapter">The sendmail.cf File</CITE
></A
></I
>

# Defined macros                                                      <i class="lineannotation"><a class="xref" href="ch07_01.htm" title="Macros">Chapter 7, <cite class="chapter">Macros</CITE
></A
></I
>

                               <i class="lineannotation">Note that in the next two lines you should replace mailhost</I
>
                               <i class="lineannotation">with the real internal name of your mail hub and mail.us.edu</I
>
                               <i class="lineannotation">with the real canonical name of your mail hub.</I
>

D{REMOTE}mailhost         # The name of the mail hub                  <i class="lineannotation"><a class="xref" href="ch07_01.htm" title="Macros">Chapter 7</A
></I
>
D{HUB}mail.us.edu         # Hub as known to the outside world         <i class="lineannotation"><a class="xref" href="ch11_01.htm" title="Rule Sets 1 and S=">Chapter 11, <cite class="chapter">Rule Sets 1 and S=</CITE
></A
></I
>
Cw localhost              # My other names                            <i class="lineannotation"><a class="xref" href="ch12_01.htm" title="Class">Chapter 12, <cite class="chapter">Class</CITE
></A
></I
>
Fw -o /etc/sendmail.cw    # A file of other names                     <i class="lineannotation"><a class="xref" href="ch12_01.htm" title="Class">Chapter 12</A
></I
>
Ct root daemon                                                        <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14, <cite class="chapter">Headers, Precedence, and Trust</CITE
></A
></I
>

# Options                                                             <i class="lineannotation"><a class="xref" href="ch13_01.htm" title="Setting Options">Chapter 13, <cite class="chapter">Setting Options</CITE
></A
></I
>

                               <i class="lineannotation">Note that you must change the next line to the path for your</I
>
                               <i class="lineannotation">queue directory before putting this configuration file into use.</I
>

O QueueDirectory=/tmp     # Use /var/spool/mqueue upon release        <i class="lineannotation"><a class="xref" href="ch13_01.htm" title="Setting Options">Chapter 13</A
></I
>
O Timeout.queuewarn=4h                                                <i class="lineannotation"><a class="xref" href="ch13_01.htm" title="Setting Options">Chapter 13</A
></I
>
O Timeout.queuereturn=5d                                              <i class="lineannotation"><a class="xref" href="ch13_01.htm" title="Setting Options">Chapter 13</A
></I
>
O DeliveryMode=background                                             <i class="lineannotation"><a class="xref" href="ch13_01.htm" title="Setting Options">Chapter 13</A
></I
>
O TempFileMode=0600                                                   <i class="lineannotation"><a class="xref" href="ch13_01.htm" title="Setting Options">Chapter 13</A
></I
>
O DefaultUser=1:1                                                     <i class="lineannotation"><a class="xref" href="ch13_01.htm" title="Setting Options">Chapter 13</A
></I
>
O LogLevel=9                                                          <i class="lineannotation"><a class="xref" href="ch13_01.htm" title="Setting Options">Chapter 13</A
></I
>
O OldStyleHeaders=True                                                <i class="lineannotation"><a class="xref" href="ch13_01.htm" title="Setting Options">Chapter 13</A
></I
>
O BlankSub=.              # Replace unquoted spaces                   <i class="lineannotation"><a class="xref" href="ch13_01.htm" title="Setting Options">Chapter 13</A
></I
>

# Headers                                                             <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>
HFrom: &lt;$g&gt;                     # Added only if missing               <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>


                               <i class="lineannotation">Note that this is a minimal Received: header. See <a class="xref" href="ch35_10.htm" title="">Section 35.10.25, Received:</A
> for</I
>
                               <i class="lineannotation">a more complete version of this header.</I
>

HReceived: by $j; $b            # Always added                        <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>
H?x?Full-Name: $?x$x$.          # Add full name if available          <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>
H?D?Date: $a                    # Add if F=D                          <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>
H?M?Message-Id: &lt;$t.$i@$j&gt;      # Add if F=M                          <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>

# Precedence                                                          <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>
Pspecial-delivery=100                                                 <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>
Pfirst-class=0                                                        <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>
Plist=-30                                                             <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>
Pbulk=-60                                                             <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>
Pjunk=-100                                                            <i class="lineannotation"><a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>

# Delivery agent definition to forward mail to hub                    <i class="lineannotation"><a class="xref" href="ch06_01.htm" title="The Mail Hub and Delivery Agents">Chapter 6, <cite class="chapter">The Mail Hub and Delivery Agents</CITE
></A
></I
>
Mhub, P=[IPC], S=Hubset, R=0, F=xmDFMuXa, T=DNS/RFC822/SMTP, A=IPC $h <i class="lineannotation"><a class="xref" href="ch06_01.htm" title="The Mail Hub and Delivery Agents">Chapter 6</A
>, <a class="xref" href="ch11_01.htm" title="Rule Sets 1 and S=">Chapter 11</A
>, <a class="xref" href="ch14_01.htm" title="Headers, Precedence, and Trust">Chapter 14</A
></I
>
# Sendmail requires this, but we won't use it.                        <i class="lineannotation"><a class="xref" href="ch06_01.htm" title="The Mail Hub and Delivery Agents">Chapter 6</A
></I
>
Mlocal, P=/bin/mail, F=lsDFMAw5:/|@rmn, S=0, R=0, A=mail -d $u        <i class="lineannotation"><a class="xref" href="ch06_01.htm" title="The Mail Hub and Delivery Agents">Chapter 6</A
></I
>

S0 # select delivery agent                                            <i class="lineannotation"><a class="xref" href="ch09_01.htm" title="Rule Set 0">Chapter 9, <cite class="chapter">Rule Set 0</CITE
></A
></I
>
R@ $+                   $#error $: Missing user name                  <i class="lineannotation"><a class="xref" href="ch09_01.htm" title="Rule Set 0">Chapter 9</A
></I
>
R$+                     $#hub $@${REMOTE} $:$1  forward to hub        <i class="lineannotation"><a class="xref" href="ch09_01.htm" title="Rule Set 0">Chapter 9</A
></I
>

S3 # preprocessing for all rule sets                                  <i class="lineannotation"><a class="xref" href="ch10_01.htm" title="Rule Set 3">Chapter 10, <cite class="chapter">Rule Set 3</CITE
></A
></I
>
R$* &lt;&gt; $*               $n              handle &lt;&gt; error address       <i class="lineannotation"><a class="xref" href="ch10_01.htm" title="Rule Set 3">Chapter 10</A
></I
>
R$* &lt; $* &lt;$*&gt; $* &gt; $*   $2&lt;$3&gt;$4        de-nest brackets              <i class="lineannotation"><a class="xref" href="ch10_01.htm" title="Rule Set 3">Chapter 10</A
></I
>
R$* &lt; $* &gt; $*           $2              basic RFC822 parsing          <i class="lineannotation"><a class="xref" href="ch10_01.htm" title="Rule Set 3">Chapter 10</A
></I
>

SHubset # Rewrite the sender for the hub
R$-                     $@ $1@${HUB}    user -&gt; user@hub              <i class="lineannotation"><a class="xref" href="ch11_01.htm" title="Rule Sets 1 and S=">Chapter 11</A
></I
>
R$- @ $=w               $@ $1@${HUB}    user@local -&gt; user@hub        <i class="lineannotation"><a class="xref" href="ch11_01.htm" title="Rule Sets 1 and S=">Chapter 11</A
>, <a class="xref" href="ch12_01.htm" title="Class">Chapter 12</A
></I
>
R$- @ $=w . $m          $@ $1@${HUB}    user@local.domain -&gt; user@hub <i class="lineannotation"><a class="xref" href="ch12_01.htm" title="Class">Chapter 12</A
></I
></PRE
></BLOCKQUOTE
></P
><p class="para"><a class="indexterm" name="AUTOID-62857"></A
></P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="PART" href="part05.htm" title="V. Appendixes"><img src="../gifs/txtpreva.gif" alt="Previous: V. Appendixes" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="sendmail"><img src="../gifs/txthome.gif" alt="sendmail" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="APPENDIX" href="appb_01.htm" title="B. Host Status File Internals"><img src="../gifs/txtnexta.gif" alt="Next: B. Host Status File Internals" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">V. Appendixes</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">B. Host Status File Internals</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
