<html><head>
<title>[Chapter 2] 2.11 Rules</TITLE>
<meta name="DC.title" content="sendmail Desktop Reference"><meta name="DC.creator" content="Bryan Costales &amp; Eric Allman"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T00:04:25Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-278-6" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch02_01.htm" title="2. The sendmail.cf File"><link rel="prev" href="ch02_10.htm" title="2.10 The check_ Rule Sets"><link rel="next" href="ch02_12.htm" title="2.12 Wildcard Operators in the LHS"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="sendmail Desktop Reference" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="sendmail Desktop Reference"><area shape="RECT" coords="467,0,514,18" href="../search/rsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch02_10.htm" title="2.10 The check_ Rule Sets"><img src="../gifs/txtpreva.gif" alt="Previous: 2.10 The check_ Rule Sets" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 2<br>The sendmail.cf File</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch02_12.htm" title="2.12 Wildcard Operators in the LHS"><img src="../gifs/txtnexta.gif" alt="Next: 2.12 Wildcard Operators in the LHS" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="SMQR-CH-2-SECT-11">2.11 Rules</A
></H2
><p class="para">Rules are declared in the configuration file with the <b class="emphasis.bold">R</B
> command:</P
><p class="para"><blockquote class="screen"><pre class="screen"><b class="emphasis.bold">R</B
>LHS<code class="replaceable"><i> tabs </I
></CODE
>RHS [<code class="replaceable"><i> tabs COMMENT</I
></CODE
>]</PRE
></BLOCKQUOTE
></P
><p class="para">Rules are composed of two parts separated by <em class="emphasis">tab</EM
> characters (an optional
third part can follow the first two, also separated by <em class="emphasis">tab</EM
> characters,
and it forms a comment that is ignored).</P
><p class="para">Each rule forms a do-while statement as shown in
<a class="xref" href="#SMQR-CH-2-FIG-2" title="The behavior of a rule">Figure 2.2</A
>
So long as the LHS evaluates to true, the RHS rewrites the
current address in the workspace. LHS evaluation is done by matching
wildcard expressions to addresses. RHS rewriting is done
by positional substitution.
In this chapter we describe the wildcard and positional operators
that aid in the writing of rules
(see &#167;28.1).</P
><h4 class="figure"><a class="title" name="SMQR-CH-2-FIG-2">Figure 2.2: The behavior of a rule</A
></H4
><img class="graphic" src="figs/smq_0202.gif" alt="Figure 2.2"></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch02_10.htm" title="2.10 The check_ Rule Sets"><img src="../gifs/txtpreva.gif" alt="Previous: 2.10 The check_ Rule Sets" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="sendmail Desktop Reference"><img src="../gifs/txthome.gif" alt="sendmail Desktop Reference" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch02_12.htm" title="2.12 Wildcard Operators in the LHS"><img src="../gifs/txtnexta.gif" alt="Next: 2.12 Wildcard Operators in the LHS" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">2.10 The check_ Rule Sets</TD
><td align="CENTER" valign="TOP" width="171">&nbsp;</TD
><td align="RIGHT" valign="TOP" width="172">2.12 Wildcard Operators in the LHS</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
