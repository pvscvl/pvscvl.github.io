<html><head>
<title>[Chapter 7] 7.7 Using the TIS Internet Firewall Toolkit for Proxying</TITLE>
<meta name="DC.title" content="Building Internet Firewalls"><meta name="DC.creator" content="D. Brent Chapman &amp; Elizabeth D. Zwicky"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T00:19:08Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-124-0" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch07_01.htm" title="7. Proxy Systems"><link rel="prev" href="ch07_06.htm" title="7.6 Using SOCKS for Proxying"><link rel="next" href="ch07_08.htm#FIRE-07-S2-18" title="7.8 What If You Can't Proxy?"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Building Internet Firewalls" usemap="#srchmap" border="0"></H1
><map name="srchmap"index.html><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Building Internet Firewalls"><area shape="RECT" coords="467,0,514,18" href="../search/fsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch07_06.htm" title="7.6 Using SOCKS for Proxying"><img src="../gifs/txtpreva.gif" alt="Previous: 7.6 Using SOCKS for Proxying" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 7<br>Proxy Systems</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch07_08.htm#FIRE-07-S2-18" title="7.8 What If You Can't Proxy?"><img src="../gifs/txtnexta.gif" alt="Next: 7.8 What If You Can't Proxy?" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="FIRE-07-S1-7">7.7 Using the <span class="acronym">TIS</SPAN
>
Internet Firewall Toolkit for Proxying</A
></H2
><p class="para"><a class="indexterm" name="CH07PSTISFWTK"></A
><a class="indexterm" name="CH07TISFWTKPROX"></A
>The free <span class="acronym">TIS FWTK</SPAN
>, from Trusted Information
Systems, includes a number of proxy servers of various types. The
<span class="acronym">TIS FWTK</SPAN
> also provides a number of other tools for
authentication and other purposes, which are discussed where
appropriate in other chapters of this book. <a class="xref" href="appb_01.htm" title="Tools">Appendix B</A
> provides information on how to get the
<span class="acronym">TIS FWTK</SPAN
>.</P
><p class="para">Whereas <span class="acronym">SOCKS</SPAN
> attempts to provide a single, general
proxy, the <span class="acronym">TIS FWTK</SPAN
> provides individual proxies for
the most common Internet services (as shown in <a class="xref" href="#FIRE-07-FIG-4" title="Using the TIS FWTK for proxying">Figure 7.4</A
>). The idea is that by using small separate
programs with a common configuration file, it can provide intelligent
proxies that are provably safe, while still allowing central
control. The result is an extremely flexible toolkit and a rather
large configuration file.</P
><h4 class="figure"><a class="title" name="FIRE-07-FIG-4">Figure 7.4: Using the <span class="acronym">TIS FWTK</SPAN
> for proxying</A
></H4
><img class="graphic" src="figs/fire0704.gif" alt="Figure 7.4"><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-07-S2-13">7.7.1 <span class="acronym">FTP</SPAN
> Proxying with
<span class="acronym">TIS FWTK</SPAN
></A
></H3
><p class="para"><a class="indexterm" name="AUTOID-7603"></A
>The <span class="acronym">TIS FWTK</SPAN
> provides <span class="acronym">FTP</SPAN
>
proxying either with modified client programs or modified user
procedures (<em class="emphasis">ftp-gw</EM
>). If you wish to use the same
machine to support proxied <span class="acronym">FTP</SPAN
> and straight
<span class="acronym">FTP</SPAN
> (for example, allowing people on the Internet
to pick up files from the same machine that does outbound proxying for
your users), the toolkit will support that but you will have to use
modified user procedures.</P
><p class="para">Using modified user procedures is the most common configuration for
the <span class="acronym">TIS FWTK</SPAN
>. The support for
modified client programs is somewhat half-hearted (for example, no
modified clients or libraries are provided). Because it's a dedicated
<span class="acronym">FTP</SPAN
> proxy, it provides logging, denial, and extra
user authentication of particular <span class="acronym">FTP</SPAN
> commands.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-07-S2-14">7.7.2 Telnet and rlogin Proxying with
<span class="acronym">TIS FWTK</SPAN
></A
></H3
><p class="para"><a class="indexterm" name="AUTOID-7619"></A
><a class="indexterm" name="AUTOID-7622"></A
>The <span class="acronym">TIS FWTK</SPAN
> Telnet
(<em class="emphasis">telnet-gw</EM
>) and <em class="emphasis">rlogin</EM
>
(<em class="emphasis">rlogin-gw</EM
>) proxies support modified user
procedures only. Users connect via Telnet or
<em class="emphasis">rlogin</EM
> to the proxy host, and instead of getting
a &quot;login&quot; prompt for the proxy host, they are presented
with a prompt from the proxy program, allowing them to specify what
host to connect to (and whether to make an X connection if the
<em class="emphasis">x-gw</EM
> software is installed, as we describe in
&quot;Other <span class="acronym">TIS</SPAN
> <span class="acronym">FWTK</SPAN
>
Proxies&quot; below).</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-07-S2-15">7.7.3 Generic Proxying with <span class="acronym">TIS FWTK</SPAN
></A
></H3
><p class="para"><a class="indexterm" name="AUTOID-7637"></A
>The <span class="acronym">TIS FWTK</SPAN
> provides a purely
generic proxy, <em class="emphasis">plug-gw</EM
>, which requires no
modifications to clients, but supports a limited range of protocols
and uses. It examines the address it received a connection from and
the port the connection came in on, and it creates a connection to
another host on an appropriate port. You can't specify which host it
should connect to while making that connection; it's determined by the
incoming host. This makes <em class="emphasis">plug-gw</EM
> inappropriate
for services that are employed by users, who rarely want to connect to
the same host every time. It provides logging but no other security
enhancements, and therefore needs to be used with caution even in
situations where it's appropriate (e.g., for <span class="acronym">NNTP</SPAN
>
connections).</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-07-S2-16">7.7.4 Other <span class="acronym">TIS FWTK</SPAN
>
Proxies</A
></H3
><p class="para"><a class="indexterm" name="AUTOID-7647"></A
><a class="indexterm" name="AUTOID-7650"></A
><a class="indexterm" name="AUTOID-7653"></A
><span class="acronym">TIS FWTK</SPAN
> proxies <span class="acronym">HTTP</SPAN
> and Gopher
via the <em class="emphasis">http-gw</EM
> program. This program supports
either modified clients or modified procedures. Most
<span class="acronym">HTTP</SPAN
> clients support proxying; you just need to
tell them where the proxy server is. To use <em class="emphasis">http-gw</EM
> with an <span class="acronym">HTTP</SPAN
> client that's not
proxy-aware, you add <a class="systemitem.url" href="../../../../../../../firewall/">http://firewall/</A
> in front of
the <span class="acronym">URL</SPAN
>. Using it with a Gopher client that is not
proxy-aware is slightly more complex, since all the host and port
information has to be moved into the path specification.</P
><p class="para"><a class="indexterm" name="AUTOID-7664"></A
><em class="emphasis">x-gw</EM
> is an X gateway. It provides some minimal
security by requiring confirmation from the user before allowing a
remote X client to connect. The X gateway is started up by connecting
to the Telnet or <em class="emphasis">rlogin</EM
> proxy and typing
&quot;x&quot;, which puts up a control window.<a class="indexterm" name="AUTOID-7668"></A
><a class="indexterm" name="AUTOID-7669"></A
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch07_06.htm" title="7.6 Using SOCKS for Proxying"><img src="../gifs/txtpreva.gif" alt="Previous: 7.6 Using SOCKS for Proxying" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Building Internet Firewalls"><img src="../gifs/txthome.gif" alt="Building Internet Firewalls" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch07_08.htm#FIRE-07-S2-18" title="7.8 What If You Can't Proxy?"><img src="../gifs/txtnexta.gif" alt="Next: 7.8 What If You Can't Proxy?" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">7.6 Using SOCKS for Proxying</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_a.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">7.8 What If You Can't Proxy?</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
