<html><head>
<title>[Chapter 8] 8.3 Terminal Access (Telnet)</TITLE>
<meta name="DC.title" content="Building Internet Firewalls"><meta name="DC.creator" content="D. Brent Chapman &amp; Elizabeth D. Zwicky"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T00:22:14Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-124-0" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch08_01.htm" title="8. Configuring Internet Services"><link rel="prev" href="ch08_02.htm#FIRE-08-S3-15" title="8.2 File Transfer"><link rel="next" href="ch08_04.htm#FIRE-08-S2-11" title="8.4 Remote Command Execution"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Building Internet Firewalls" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Building Internet Firewalls"><area shape="RECT" coords="467,0,514,18" href="../search/fsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch08_02.htm#FIRE-08-S3-15" title="8.2 File Transfer"><img src="../gifs/txtpreva.gif" alt="Previous: 8.2 File Transfer" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 8<br>Configuring Internet Services</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch08_04.htm#FIRE-08-S2-11" title="8.4 Remote Command Execution"><img src="../gifs/txtnexta.gif" alt="Next: 8.4 Remote Command Execution" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="FIRE-08-S1-3">8.3 Terminal Access (Telnet)</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-9785"></A
><a class="indexterm" name="CH08CONFTELNET"></A
><a class="indexterm" name="CH08TELNET"></A
>Telnet allows a user to remotely access a command shell on another
computer. Telnet is supported by most platforms on the Internet, even
some <span class="acronym">MS-DOS</SPAN
> and Microsoft Windows systems (which
provide access to a <span class="acronym">DOS</SPAN
> shell via a Telnet
server). The major exception is the Macintosh operating system,
which doesn't have a command-line-oriented shell to give users access
to, regardless of whether they're local or not; if MacOS did have a
shell, however, somebody would probably create a Telnet server to give
remote access to it. (And, having written this, we're sure someone
will tell us that there <em class="emphasis">is</EM
> a Telnet server for
Mac<span class="acronym">OS</SPAN
> which we simply didn't know about.)</P
><p class="para">Although remote terminal access is the most common use of Telnet, most
Telnet clients support the specification of arbitrary port numbers to
access text-based <span class="acronym">TCP</SPAN
> services at other ports.
This is useful if you have a service for which you don't want to
distribute a dedicated client, for example, it's often used to give
access to <span class="acronym">MUD</SPAN
>s (Multi-User Domains) and
<span class="acronym">MOO</SPAN
>s (Multi-user domains, Object Oriented), which
are multiuser environments for games, collaborative work environments,
or chat areas. Telnet clients are also used fairly often for debugging
protocols that are normally accessed by dedicated clients. For
example, people will check <span class="acronym">SMTP</SPAN
> servers or verify
user names by using <em class="emphasis">telnet hostname 25</EM
> to connect
to the <span class="acronym">SMTP</SPAN
> server directly on port 25 and type
<span class="acronym">SMTP</SPAN
> commands at it. It's important to understand
that, although you may be using the program named
<em class="emphasis">telnet</EM
> for these purposes, all it's doing is
opening a simple <span class="acronym">TCP</SPAN
> connection to the specified
port number. The <em class="emphasis">telnet</EM
> program doesn't use the
Telnet protocol (which provides for things like option negotiation
between client and server, line-at-a-time and character-at-a-time
modes, and so on) unless it is talking to a server on the standard
Telnet port (port 23). This section discusses only the use of Telnet
clients to access Telnet servers.</P
><p class="para"><a class="indexterm" name="AUTOID-9810"></A
>Incoming and outgoing Telnet have very different security
implications. Most sites want to allow their users access to outgoing
Telnet service, so their users can get to command shells and
information services provided via Telnet on remote systems on the
Internet. (<a class="xref" href="#FIRE-08-FIG-8" title="Outbound Telnet">Figure 8.8</A
> illustrates outbound Telnet.)
On the other hand, most sites don't want to allow (or want to allow
but very strictly control) incoming Telnet access to their site. <a class="xref" href="ch10_01.htm" title="Authentication and Inbound Services">Chapter 10</A
> describes reasons for, and ways of, controlling
incoming access, so we won't discuss these in any detail here.</P
><h4 class="figure"><a class="title" name="FIRE-08-FIG-8">Figure 8.8: Outbound Telnet</A
></H4
><img class="graphic" src="figs/fire0808.gif" alt="Figure 8.8"><p class="para">Regardless of whether the access is incoming or outgoing, Telnet is a
cleartext protocol (just like most others). Whatever information your
users access or provide over a Telnet session (for example, accessing
sensitive data, or providing their passwords for other systems) is
going to be visible to someone snooping on the Telnet
connection. Encrypting versions of Telnet are starting to become
available, but none are widely used yet. As these tools become more
capable and more widely supported, they should become more useful. The
best place to see what's currently available would be one of the
general Internet security Web pages (such as the
<span class="acronym">COAST</SPAN
> Web page) discussed in <a class="xref" href="appa_01.htm" title="Resources">Appendix A</A
>.</P
><p class="para">Users should be warned to use different passwords on external hosts
from those they use on your hosts. When they make outgoing Telnet
connections, their passwords may be sniffed.</P
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-08-S2-8">8.3.1 Packet Filtering Characteristics of
Telnet</A
></H3
><p class="para"><a class="indexterm" name="AUTOID-9825"></A
>Telnet is a <span class="acronym">TCP</SPAN
>-based service. Telnet servers
normally use port 23 (they can be set to use any port number, but very
rarely use any port but 23). Telnet clients use ports above 1023.
(Telnet is used as an example in <a class="xref" href="ch06_01.htm" title="Packet Filtering">Chapter 6</A
> so its
filtering characteristics are discussed in more detail there.) </P
><table class="informaltable"><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Direc-</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Source</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Dest.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Pro-</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Source</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Dest.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">ACK</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"></TH
></TR
><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">tion</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Addr.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Addr.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">tocol</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Port</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Port</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Set</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Notes</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">In</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Ext</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Int</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">23</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">[13]</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Incoming session, client to server</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">Out</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Int</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Ext</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">23</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Yes</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Incoming session, server to client</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">Out</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Int</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Ext</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">23</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">[13]</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Outgoing session, client to server</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">In</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Ext</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Int</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">23</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Yes</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Outgoing session, server to client</P
></TD
></TR
></TBODY
></TABLE
><blockquote class="footnote"><p class="para">[13] <span class="acronym">ACK</SPAN
> is not 
set on the first packet of this type
(establishing connection) but will be set on the rest.</P
></BLOCKQUOTE
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-08-S2-9">8.3.2 Proxying Characteristics of Telnet</A
></H3
><p class="para"><a class="indexterm" name="AUTOID-9940"></A
>Telnet is well-supported by proxies. <span class="acronym">SOCKS</SPAN
> provides
a modified <span class="acronym">UNIX</SPAN
> Telnet client; modifying clients
on other platforms is relatively trivial. The <span class="acronym">TIS</SPAN
>
<span class="acronym">FWTK</SPAN
> provides a Telnet proxy server that requires
modified user procedures. The <span class="acronym">SOCKS</SPAN
> proxies should
allow you to connect to ports other than the standard Telnet port, if such
connections are <span class="acronym">OK</SPAN
> according to your
<span class="acronym">SOCKS</SPAN
> server configuration file. Almost any commercial
proxying package will probably provide Telnet proxying, because Telnet
is such a commonly used protocol on the Internet.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-08-S2-10">8.3.3 Summary of Telnet Recommendations</A
></H3
><ul class="itemizedlist"><li class="listitem"><p class="para">Restrict incoming Telnet as far as possible; most sites have little or
no need for it. Whatever you're going to allow, follow the 
authentication guidelines
in <a class="xref" href="ch10_01.htm" title="Authentication and Inbound Services">Chapter 10</A
>.</P
></LI
><li class="listitem"><p class="para">Outgoing Telnet can safely be allowed via packet filtering or
proxying.</P
></LI
><li class="listitem"><p class="para">If you're concerned about the sensitivity of the data accessed over
Telnet sessions, consider using an encrypting version of Telnet; check
one of the general Internet security Web pages (such as the
<span class="acronym">COAST</SPAN
> page)
to see what tools are currently available.</P
></LI
></UL
><a class="indexterm" name="AUTOID-9962"></A
><a class="indexterm" name="AUTOID-9963"></A
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch08_02.htm#FIRE-08-S3-15" title="8.2 File Transfer"><img src="../gifs/txtpreva.gif" alt="Previous: 8.2 File Transfer" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Building Internet Firewalls"><img src="../gifs/txthome.gif" alt="Building Internet Firewalls" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch08_04.htm#FIRE-08-S2-11" title="8.4 Remote Command Execution"><img src="../gifs/txtnexta.gif" alt="Next: 8.4 Remote Command Execution" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">8.2 File Transfer</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_a.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">8.4 Remote Command Execution</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
