<html><head>
<title>[Appendix C] C.3 TCP/IP Protocol Architecture</TITLE>
<meta name="DC.title" content="Building Internet Firewalls"><meta name="DC.creator" content="D. Brent Chapman &amp; Elizabeth D. Zwicky"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T00:30:49Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-124-0" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="appc_01.htm" title="C. TCP/IP Fundamentals"><link rel="prev" href="appc_02.htm#FIRE-C-S2-3" title="C.2 A Data Communications Model"><link rel="next" href="appc_04.htm" title="C.4 Network Access Layer"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Building Internet Firewalls" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Building Internet Firewalls"><area shape="RECT" coords="467,0,514,18" href="../search/fsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="appc_02.htm#FIRE-C-S2-3" title="C.2 A Data Communications Model"><img src="../gifs/txtpreva.gif" alt="Previous: C.2 A Data Communications Model" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Appendix C<br><span class="acronym">TCP/IP</SPAN
> Fundamentals</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="appc_04.htm" title="C.4 Network Access Layer"><img src="../gifs/txtnexta.gif" alt="Next: C.4 Network Access Layer" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="FIRE-C-S1-3">C.3 TCP/IP Protocol Architecture</A
></H2
><p class="para"><a class="indexterm" name="CTCPIPPROTO"></A
>While there is no universal agreement about how to describe
<span class="acronym">TCP/IP</SPAN
> with a layered model, it is generally viewed
as being composed of fewer layers than the seven used in the
<span class="acronym">OSI</SPAN
> model. Most descriptions of
<span class="acronym">TCP/IP</SPAN
> define three to five functional levels in
the protocol architecture. The four-level model illustrated in <a class="xref" href="#FIRE-C-FIG-2" title="Layers in the TCP/IP protocol architecture">Figure 13.6</A
> is based on the three layers (Application,
Host-to-Host, and Network Access) shown in the <span class="acronym">DOD</SPAN
>
Protocol Model in the <em class="emphasis"><span class="acronym">DDN</SPAN
> Protocol
Handbook, Volume 1</EM
>, with the addition of a separate
Internet layer. This model provides a reasonable pictorial
representation of the layers in the <span class="acronym">TCP/IP</SPAN
> protocol
hierarchy.</P
><h4 class="figure"><a class="title" name="FIRE-C-FIG-2">Figure 13.6: Layers in the <span class="acronym">TCP/IP</SPAN
> protocol architecture</A
></H4
><img class="graphic" src="figs/firec02.gif" alt="Figure 13.6"><p class="para">As in the <span class="acronym">OSI</SPAN
> model, data is passed down the stack
when it is being sent to the net, and up the stack when it is being
received from the network. The four-layered structure of
<span class="acronym">TCP/IP</SPAN
> is seen in the way data is handled as it
passes down the protocol stack from the Application Layer to the
underlying physical network. Each layer in the stack adds control
information to ensure proper delivery. This control information is
called a <em class="emphasis">header </EM
>because it is placed in front of
the data to be transmitted. Each layer treats all of the information
it receives from the layer above as data and places its own header in
front of that information. The addition of delivery information at<a class="indexterm" name="AUTOID-23576"></A
>
every layer is called <em class="emphasis">encapsulation</EM
>. (<a class="xref" href="#FIRE-C-FIG-3" title="Data encapsulation">Figure 13.7</A
> illustrates this.) When data is received, the
opposite happens. Each layer strips off its header before passing the
data on to the layer above. As information flows back up the stack,
information received from a lower layer is interpreted as both a
header and data.</P
><h4 class="figure"><a class="title" name="FIRE-C-FIG-3">Figure 13.7: Data encapsulation</A
></H4
><img class="graphic" src="figs/firec03.gif" alt="Figure 13.7"><p class="para">Each layer has its own independent data structures. Conceptually a
layer is unaware of the data structures used by the layers above and
below it. In reality, the data structures of a layer are designed to
be compatible with the structures used by the surrounding layers for
the sake of more efficient data transmission. Still, each layer has
its own data structure and its own terminology to describe that
structure.</P
><p class="para">Let's look more closely at the function of each layer, working our way
up from the Network Access Layer to the Application Layer.</P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="appc_02.htm#FIRE-C-S2-3" title="C.2 A Data Communications Model"><img src="../gifs/txtpreva.gif" alt="Previous: C.2 A Data Communications Model" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Building Internet Firewalls"><img src="../gifs/txthome.gif" alt="Building Internet Firewalls" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="appc_04.htm" title="C.4 Network Access Layer"><img src="../gifs/txtnexta.gif" alt="Next: C.4 Network Access Layer" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">C.2 A Data Communications Model</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_a.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">C.4 Network Access Layer</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
