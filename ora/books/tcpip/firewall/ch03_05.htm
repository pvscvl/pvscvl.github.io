<html><head>
<title>[Chapter 3] 3.5 Fail-Safe Stance</TITLE>
<meta name="DC.title" content="Building Internet Firewalls"><meta name="DC.creator" content="D. Brent Chapman &amp; Elizabeth D. Zwicky"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T00:09:40Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-124-0" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch03_01.htm" title="3. Security Strategies"><link rel="prev" href="ch03_04.htm" title="3.4 Weakest Link"><link rel="next" href="ch03_06.htm" title="3.6 Universal Participation"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Building Internet Firewalls" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Building Internet Firewalls"><area shape="RECT" coords="467,0,514,18" href="../search/fsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch03_04.htm" title="3.4 Weakest Link"><img src="../gifs/txtpreva.gif" alt="Previous: 3.4 Weakest Link" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 3<br>Security Strategies</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch03_06.htm" title="3.6 Universal Participation"><img src="../gifs/txtnexta.gif" alt="Next: 3.6 Universal Participation" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="FIRE-03-S1-5">3.5 Fail-Safe Stance</A
></H2
><p class="para"><a class="indexterm" name="CH03FAILSAFE"></A
><a class="indexterm" name="CH03SYSFAIL"></A
><a class="indexterm" name="CH03SECURITYAGAINST"></A
><a class="indexterm" name="CH03ACCESSFAIL"></A
>Another fundamental principle of security is that, to the extent
possible, systems should <em class="emphasis">fail safe</EM
>; that is, if
they're going to fail, they should fail in such a way that they deny
access to an attacker, rather than letting the attacker in. The failure
may also result in denying access to legitimate users as well, until
repairs are made, but this is usually an acceptable tradeoff. </P
><p class="para">Safe failures are another principle with wide application in familiar
places. Electrical devices are designed to go off&nbsp;- to stop&nbsp;- when
they fail in almost any way. Elevators are designed to grip their
cables if they're not being powered. Electric door locks generally
unlock when the power fails, to avoid trapping people in buildings. </P
><p class="para">Most of the applications we discuss automatically fail safely. For
example, if a packet filtering router goes down, it doesn't let any
packets in. If a proxying program goes down, it provides no service. 
On the other hand, some host-based packet filtering systems are designed
such that packets are allowed to arrive at a machine that runs a
packet filtering application and separately runs applications providing
services. The way some of these systems work, if the packet filtering
application crashes (or is never started at boot time), the packets will
be delivered to the applications providing services. This is not a
fail-safe design and should be avoided.</P
><p class="para">The biggest application of this principle in network security is in
choosing your site's <em class="emphasis">stance</EM
> with respect to
security. Your stance is, essentially, your site's overall attitude
towards security. Do you lean towards being restrictive or permissive? 
Are you more inclined to err in the direction of safety (some might call
it paranoia) or freedom?</P
><p class="para">There are two fundamental stances that you can take with respect to
security decisions and policies:

<ul class="itemizedlist"><li class="listitem"><p class="para">The default deny stance: Specify only what you allow and
prohibit everything else. </P
></LI
><li class="listitem"><p class="para">The default permit stance: Specify only what you prohibit and
allow everything else. </P
></LI
></UL
></P
><p class="para">It may seem obvious to you which of these is the &quot;right&quot;
approach to take; from a security point of view, it's the default deny
stance. Probably, it will also seem obvious to your users and
management; from their point of view, it's the default permit stance. 
It's important to make your stance clear to users and management, as
well as to explain the reasons behind that stance. Otherwise, you're
likely to spend a lot of unproductive time in conflict with them,
wondering &quot;How could they be so foolish as to even suggest
that?&quot; time and again, simply because they don't understand the
security point of view. </P
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-03-S2-1">3.5.1 Default Deny Stance: That Which Is Not
Expressly Permitted Is Prohibited</A
></H3
><p class="para"><a class="indexterm" name="AUTOID-1493"></A
><a class="indexterm" name="AUTOID-1495"></A
>The <em class="emphasis">default deny stance</EM
> makes sense from a security
point of view because it is a fail-safe stance. It recognizes that what
you don't know <em class="emphasis">can</EM
> hurt you. It's the obvious
choice for most security people, but it's usually not at all obvious to
users.</P
><p class="para">With the default deny stance, you prohibit everything by default; then,
to determine what you are going to allow, you:

<ul class="itemizedlist"><li class="listitem"><p class="para">Examine the services your users want.</P
></LI
><li class="listitem"><p class="para">Consider the security implications of these services and how you
can safely provide them.</P
></LI
><li class="listitem"><p class="para">Allow only the services that you understand, can provide safely,
and see a legitimate need for. </P
></LI
></UL
></P
><p class="para">Services are enabled on a case-by-case basis. You start by analyzing
the security of a specific service, and balance its security
implications against the needs of your users. Based on that analysis
and the availability of various remedies to improve the security of the
service, you settle on an appropriate compromise. </P
><p class="para">For one service, you might determine that you should provide the
service to all users and can do so safely with commonly available
packet filtering or proxy systems. For another service, you might
determine that the service cannot be adequately secured by any
currently available means, but that only a small number of your users
or systems require it.  In the latter case, perhaps its use can be
restricted to that small set of users (who can be made aware of the
risks through special training) or systems (which you may be able to
protect in other ways; e.g., through host security). The whole key is
to find a compromise that is appropriate to your particular situation.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-03-S2-2">3.5.2 Default Permit Stance: That Which Is
Not Expressly Prohibited Is Permitted</A
></H3
><p class="para"><a class="indexterm" name="CH03SERVDEFAULT"></A
><a class="indexterm" name="CH03DEFAULTPERMIT"></A
>Most users and managers prefer the <em class="emphasis">default permit
stance</EM
>. They tend to assume that everything will be, by
default, permitted, and that certain specific, troublesome actions and
services will then be prohibited as necessary. For example:

<ul class="itemizedlist"><li class="listitem"><p class="para"><span class="acronym">NFS</SPAN
> is not permitted across the firewall.</P
></LI
><li class="listitem"><p class="para"><span class="acronym">WWW</SPAN
> access is restricted to users
who have received awareness training about its security problems.</P
></LI
><li class="listitem"><p class="para">Users are not allowed to set up unauthorized servers.</P
></LI
></UL
></P
><p class="para">They want you to tell them what's dangerous; to itemize those few
(they think) things that they can't do, and to let them do everything
else. This is definitely not a fail-safe stance. </P
><p class="para">First, it assumes that you know ahead of time precisely what the
specific dangers are, how to explain them so users will understand them,
and how to guard against them. Trying to guess what
dangers might be in a system or out there on the Internet is essentially
an impossible task. There are simply too many possible problems, and
too much information (e.g., new security holes, new exploitations of old
holes, etc.) to be able to keep up to date. If you don't know that
something is a problem, it won't be on your &quot;prohibited&quot;
list. In that case, it will go right on being a problem until you
notice it and you'll probably notice it because somebody takes
advantage of it.</P
><p class="para">Second, the default permit stance tends to degenerate into an escalating
&quot;arms race&quot; between the firewall maintainer and the users. 
The maintainer prepares defenses against user action or inaction (or, he
just keeps saying, &quot;Don't do that!&quot;); the users come up with
fascinating new and insecure ways of doing things; and the process
repeats, again and again. The maintainer is forever playing catch up. 
Inevitably, there are going to be periods of vulnerability between the
time that a system is set up, the time that a security problem is
discovered, and the time that the maintainer is able to respond to the
problem. No matter how vigilant and cooperative everyone may be, some
things are going to fall through the cracks forever: because the
maintainer has never heard about them, because he has never realized the
full security consequences; or because he just plain hasn't had time to
work on the problem.</P
><p class="para">About the only people who benefit from the default permit stance are
potential attackers, because the firewall maintainer can't possibly
close all the holes, is forever stuck in &quot;fire fighting&quot;
mode, and is likely to be far too busy to notice an attacker's
activities.</P
><p class="para">For example, consider the problem of sharing files with collaborators
at another site. Your users' first idea will probably be to use the
same tool that they use to share files
internally&nbsp;- <span class="acronym">NFS</SPAN
>. The problem is,
<span class="acronym">NFS</SPAN
> is completely unsafe to allow across a firewall
(for reasons discussed in <a class="xref" href="ch02_01.htm" title="Internet Services">Chapter 2, <cite class="chapter">Internet Services</CITE
></A
> and <a class="xref" href="ch08_01.htm" title="Configuring Internet Services">Chapter 8, <cite class="chapter">Configuring Internet Services</CITE
></A
>). Suppose that your stance is a permissive one,
and you haven't specifically told your users that it's not safe to run
<span class="acronym">NFS</SPAN
> across your firewall (or even if you have told
them, but don't remember or don't care). In this case, you're probably
going to find yourself running <span class="acronym">NFS</SPAN
> across your
firewall because it seemed like a good idea to somebody who didn't
understand (or care about) the security issues. If your stance
is default deny, on the other hand, your users' attempts to set up
<span class="acronym">NFS</SPAN
> will fail.  You'll need to explain why to them,
suggest alternatives that are more secure (such as
<span class="acronym">FTP</SPAN
>), and look for ways to make those more secure
alternatives easier to use without sacrificing security.<a class="indexterm" name="AUTOID-1541"></A
><a class="indexterm" name="AUTOID-1542"></A
><a class="indexterm" name="AUTOID-1543"></A
><a class="indexterm" name="AUTOID-1544"></A
><a class="indexterm" name="AUTOID-1545"></A
><a class="indexterm" name="AUTOID-1546"></A
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch03_04.htm" title="3.4 Weakest Link"><img src="../gifs/txtpreva.gif" alt="Previous: 3.4 Weakest Link" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Building Internet Firewalls"><img src="../gifs/txthome.gif" alt="Building Internet Firewalls" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch03_06.htm" title="3.6 Universal Participation"><img src="../gifs/txtnexta.gif" alt="Next: 3.6 Universal Participation" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">3.4 Weakest Link</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_a.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">3.6 Universal Participation</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
