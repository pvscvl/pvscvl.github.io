<html><head>
<title>[Chapter 8] 8.5 Network News Transfer Protocol (NNTP)</TITLE>
<meta name="DC.title" content="Building Internet Firewalls"><meta name="DC.creator" content="D. Brent Chapman &amp; Elizabeth D. Zwicky"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T00:23:30Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-124-0" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch08_01.htm" title="8. Configuring Internet Services"><link rel="prev" href="ch08_04.htm#FIRE-08-S2-11" title="8.4 Remote Command Execution"><link rel="next" href="ch08_06.htm#FIRE-08-S2-20" title="8.6 World Wide Web (WWW) and HTTP"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Building Internet Firewalls" usemap="#srchmap" border="0"></H1
><map name="srindex.htmlchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Building Internet Firewalls"><area shape="RECT" coords="467,0,514,18" href="../search/fsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch08_04.htm#FIRE-08-S2-11" title="8.4 Remote Command Execution"><img src="../gifs/txtpreva.gif" alt="Previous: 8.4 Remote Command Execution" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 8<br>Configuring Internet Services</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch08_06.htm#FIRE-08-S2-20" title="8.6 World Wide Web (WWW) and HTTP"><img src="../gifs/txtnexta.gif" alt="Next: 8.6 World Wide Web (WWW) and HTTP" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="FIRE-08-S1-5">8.5 Network News Transfer Protocol
(<span class="acronym">NNTP</SPAN
>)</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-10564"></A
><a class="indexterm" name="AUTOID-10567"></A
><a class="indexterm" name="CH08NNTP"></A
><a class="indexterm" name="CH08CONFNNTP"></A
><span class="acronym">NNTP</SPAN
> is the service generally used to transfer
Usenet news across the Internet (as we mentioned
above, <span class="acronym">UUCP</SPAN
> over <span class="acronym">TCP</SPAN
> is
sometimes used for this purpose). A news server is the place where
Usenet news flows into and out of your
organization, and which your users access (via news clients) to read
and post news. There are a number of news servers available, including
B-News, C-News, and <span class="acronym">INN</SPAN
>, and they generally speak
<span class="acronym">NNTP</SPAN
> among themselves so they can transfer news
between sites. In addition, many news clients use
<span class="acronym">NNTP</SPAN
> to access news servers for users reading news.</P
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-08-S2-14">8.5.1 Packet Filtering Characteristics of
<span class="acronym">NNTP</SPAN
></A
></H3
><p class="para"><a class="indexterm" name="AUTOID-10586"></A
><span class="acronym">NNTP</SPAN
> is a <span class="acronym">TCP</SPAN
>-based
service. <span class="acronym">NNTP</SPAN
> servers use port
119. <span class="acronym">NNTP</SPAN
> clients (including servers transferring
news to other servers) use ports above 1023. </P
><p class="para"><a class="xref" href="#FIRE-08-FIG-9" title="NNTP via packet filtering">Figure 8.9</A
> shows <span class="acronym">NNTP</SPAN
> via
packet filtering.</P
><h4 class="figure"><a class="title" name="FIRE-08-FIG-9">Figure 8.9: <span class="acronym">NNTP</SPAN
> via packet filtering</A
></H4
><img class="graphic" src="figs/fire0809.gif" alt="Figure 8.9"><table class="informaltable"><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Direc-</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Source</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Dest.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Pro-</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Source</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Dest.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">ACK</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"></TH
></TR
><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">tion</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Addr.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Addr.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">tocol</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Port</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Port</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Set</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Notes</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">In</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Ext</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Int</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">119</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">[16]</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Incoming news</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">Out</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Int</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Ext</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">119</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Yes</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Incoming news responses</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">Out</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Int</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Ext</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">119</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">[16]</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Outgoing news</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">In</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Ext</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Int</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">119</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Yes</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Outgoing news responses</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">[17]</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Int</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">News
Server</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">119</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">[16]</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Newsreader client reading news</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">[17]</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">News</P
><p class="para">Server</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Int</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">119</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Yes</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Server sending articles to newsreader client</P
></TD
></TR
></TBODY
></TABLE
><blockquote class="footnote"><p class="para">[16] <span class="acronym">ACK</SPAN
> is not set on the first packet of this type
(establishing connection) but will be set on the rest.</P
><p class="para">[17] Both ends are internal in most cases. </P
></BLOCKQUOTE
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-08-S2-15">8.5.2 Proxying Characteristics of
<span class="acronym">NNTP</SPAN
></A
></H3
><p class="para"><a class="indexterm" name="AUTOID-10752"></A
><span class="acronym">NNTP</SPAN
> is a store-and-forward protocol, capable of
doing its own proxying. It is also easy to proxy as a straightforward
single-connection protocol. The <span class="acronym">TIS FWTK</SPAN
> provides a
generic proxy, <em class="emphasis">plug-gw</EM
>, which is frequently used
with <span class="acronym">NNTP</SPAN
> as well as modified user procedures (the
<span class="acronym">NNTP</SPAN
> connection is directed to the proxy server,
which redirects the connection based on the client address). It would
be easy to modify clients to use a generic modified-client proxy like
<span class="acronym">SOCKS</SPAN
>.</P
><p class="para"><a class="xref" href="#FIRE-08-FIG-10" title="NNTP via proxy services">Figure 8.10</A
> shows <span class="acronym">NNTP</SPAN
> via
proxy services.</P
><h4 class="figure"><a class="title" name="FIRE-08-FIG-10">Figure 8.10: <span class="acronym">NNTP</SPAN
> via proxy services</A
></H4
><img class="graphic" src="figs/fire0810.gif" alt="Figure 8.10"></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-08-S2-16">8.5.3 Dangerous Ways to Set up
<span class="acronym">NNTP</SPAN
> in a Firewall Environment</A
></H3
><p class="para"><a class="indexterm" name="AUTOID-10773"></A
><a class="indexterm" name="AUTOID-10776"></A
>It may seem obvious that the bastion host should be your site's Usenet
news server. However, there are some subtle problems that can be
caused by such a configuration.</P
><p class="para">First, it is advisable to dedicate a machine to news service; news has
a tendency to absorb all available disk space and processing time, and
does not coexist well with critical services. If you use a bastion
host for news, you will probably need to have multiple bastion hosts,
which is not in itself a bad thing, but does raise maintenance
overhead. It may not be worth it to you to have multiple bastion hosts
just so you can provide news service on one of them.</P
><p class="para">Second, if your news server is your bastion host, you can't have any
private or proprietary newsgroups for internal discussions. You
wouldn't want those newsgroups to be exposed if
the bastion host gets broken into, or if some outsider manages to
connect to your <span class="acronym">NNTP</SPAN
> server and convinces it to
show him your newsgroups.</P
><p class="para">Third, if your bastion host is your news server, you will have to
choose one of four approaches to letting your users read news; each of
these approaches, described in the sections below, has its own
problems.</P
><div class="sect3"><h4 class="sect3"><a class="title" name="FIRE-08-S3-35">8.5.3.1 Letting users log into the bastion
host to read news</A
></H4
><p class="para">The most straightforward approach is to let users log into the bastion
host and run a newsreader. This involves giving many users accounts on
the bastion host, and will seriously compromise the bastion host's
security. (See the discussions concerning user accounts on bastion hosts
in <a class="xref" href="ch05_01.htm" title="Bastion Hosts">Chapter 5, <cite class="chapter">Bastion Hosts</CITE
></A
>.)</P
><p class="para">This approach may not be very popular with the users, either, because
it will require them all to use whichever <span class="acronym">UNIX</SPAN
>
newsreaders are available on the bastion host.</P
></DIV
><div class="sect3"><h4 class="sect3"><a class="title" name="FIRE-08-S3-36">8.5.3.2 Using only <span class="acronym">NNTP</SPAN
>
clients to read news</A
></H4
><p class="para">The second and somewhat safer approach is to make your users use only
<span class="acronym">NNTP</SPAN
> clients to read news from the bastion host.
The main problem with this approach is that it requires your users to
use <span class="acronym">NNTP</SPAN
>-capable newsreaders. While many, perhaps
even most, newsreaders are <span class="acronym">NNTP</SPAN
>-capable, there are
some that are still in common usage (such as certain versions of
<em class="emphasis">nn</EM
>) that are not
<span class="acronym">NNTP</SPAN
>-capable. Depending on the
<span class="acronym">NNTP</SPAN
> server you are using, it may be impossible to
get popular newsreader features like article threading through
<span class="acronym">NNTP</SPAN
>. You may have difficulty finding a server that
has all the features you want for both transferring news and serving
newsreaders.</P
></DIV
><div class="sect3"><h4 class="sect3"><a class="title" name="FIRE-08-S3-37">8.5.3.3 Exporting news to clients via
<span class="acronym">NFS</SPAN
></A
></H4
><p class="para"><a class="indexterm" name="AUTOID-10804"></A
><a class="indexterm" name="AUTOID-10807"></A
>The third approach you could take to making your bastion host be your
news server is to export the news to clients via
<span class="acronym">NFS</SPAN
>. This approach solves one of the problems
we've identified: it allows you to use
non-<span class="acronym">NNTP</SPAN
>-capable newsreaders. However, it doesn't
solve the other major problem, that of not being able to support any
private or proprietary newsgroups for fear of exposure. If your users
can use <span class="acronym">NFS</SPAN
> to access your news server, chances are
that an attacker can too, because the security of
<span class="acronym">NFS</SPAN
> is so weak. You're much better off disabling
<span class="acronym">NFS</SPAN
> altogether on your bastion host (see the
section on <span class="acronym">NFS</SPAN
> later in this chapter and <a class="xref" href="ch05_01.htm" title="Bastion Hosts">Chapter 5</A
> for further discussion of this point).</P
></DIV
><div class="sect3"><h4 class="sect3"><a class="title" name="FIRE-08-S3-38">8.5.3.4 Relaying news through your bastion
host to an internal news server</A
></H4
><p class="para"><a class="indexterm" name="AUTOID-10819"></A
>The fourth approach is to simply relay news through your bastion host,
and make some internal system your &quot;real&quot; news server. The
most obvious way to do this is to set up a news server on the bastion
host that simply relays news to and from the internal news server. </P
><p class="para">The problem with this approach is that it requires a lot of
maintenance. It takes a fair amount of ongoing attention to keep a news
system functioning; ideally, you'd like to be able to set your bastion
host up and leave it alone, maintenance free. Also, tightly coupled
news systems like these are very susceptible to cascading problems.
A problem on one causes news to stop flowing, stopping things up on the
other system and causing problems there; when you fix the first problem,
the other system floods the first, and the whole process starts over.
However, if you have experienced news administrators and a large amount
of disk space, you may find this approach acceptable, and it can be set
up to allow for private newsgroups.</P
></DIV
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-08-S2-17">8.5.4 Good Ways to Set up
<span class="acronym">NNTP</SPAN
> in a Firewall Environment</A
></H3
><p class="para">One of the key differences between <span class="acronym">NNTP</SPAN
> and other
protocols, such as <span class="acronym">SMTP</SPAN
>, is in how they are
used. You might get <span class="acronym">SMTP</SPAN
> connections from all over
the world, as folks from everywhere send electronic mail to your
site. On the other hand, you'll only get legitimate
<span class="acronym">NNTP</SPAN
> connections from your news feed site (or
sites).</P
><p class="para">The most convenient and reliable way to deal with news on a firewall is
usually to arrange for the news to flow directly between your feed
site(s) and your internal news server. This can be arranged either
through packet filtering, or through a proxy system on the bastion host,
as we describe in the following sections.</P
><p class="para"><a class="indexterm" name="CH08PACKFILTNNTP"></A
><a class="indexterm" name="CH08PROXNNTP"></A
>If you set up <span class="acronym">NNTP</SPAN
> using either packet filtering or
a proxy server, you'll greatly reduce your vulnerability to
attacks via <span class="acronym">NNTP</SPAN
>. With <span class="acronym">NNTP</SPAN
>
configured as we describe here, 
both of the following conditions would have
to hold true 
in order for you to be attacked via <span class="acronym">NNTP</SPAN
>: </P
><ul class="itemizedlist"><li class="listitem"><p class="para">Your <span class="acronym">NNTP</SPAN
> server would have to have some bug or
configuration error that could be exploited.</P
></LI
><li class="listitem"><p class="para">The attack would have to come from (or appear to come from) one of
your feed sites, because the feed sites are the only sites that are
allowed to open <span class="acronym">NNTP</SPAN
> connections to your server.</P
></LI
></UL
><p class="para"><span class="acronym">NNTP</SPAN
> is a relatively simple protocol. There have
been no known attacks that use <span class="acronym">NNTP</SPAN
> itself. There
has been one known data-driven attack on <span class="acronym">UNIX</SPAN
> news
systems, which relied on the willingness of some news server software
to create newsgroups automatically. It was possible to specify
newsgroup names with semicolons (;) in them, so that when the news server
went to create the group it also executed commands contained after the
semicolon in the malformed group name. Because the control messages
were malformed, they weren't recognized and propagated by all servers,
and many sites were immune anyway because they didn't automatically
create newsgroups. This bug is fixed in current releases of various
news server software packages, but it highlights the importance of
staying up to date, as we describe in <a class="xref" href="ch12_01.htm" title="Maintaining Firewalls">Chapter 12, <cite class="chapter">Maintaining Firewalls</CITE
></A
>.</P
><p class="para">You may want to disable automated group creation in any case; it's a
maintenance hassle to keep up with valid requests, but users can find
it seriously annoying to deal with the side effects of automated group
creation when somebody decides that it's amusing to send a few
thousand creation requests overnight, most of them obscene.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-08-S2-18">8.5.5 Using Packet Filtering with
<span class="acronym">NNTP</SPAN
></A
></H3
><p class="para">If you've set up a packet filtering system between the internal news
server and your news feed site, you can arrange to pass
<span class="acronym">NNTP</SPAN
> between them. Set up the packet filtering
system to allow the following, as shown in the table below:</P
><ul class="itemizedlist"><li class="listitem"><p class="para">Incoming <span class="acronym">NNTP</SPAN
> connections, so that you can receive
news: that is, <span class="acronym">TCP</SPAN
> packets from ports above 1023 on
the remote system to port 119 on your news server, and
<span class="acronym">TCP</SPAN
> packets with the <span class="acronym">ACK</SPAN
> bit set
from port 119 on your news server to ports above 1023 on the remote
system. (Rules A and B)</P
></LI
><li class="listitem"><p class="para">Outgoing <span class="acronym">NNTP</SPAN
> connections, so that you can send
news: that is, <span class="acronym">TCP</SPAN
> packets from ports above 1023 on
your news server to port 119 on the remote system, and
<span class="acronym">TCP</SPAN
> packets with the <span class="acronym">ACK</SPAN
> bit set
from port 119 on the remote system to ports above 1023 on your news
server (Rules C and D).</P
></LI
></UL
><table class="informaltable"><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1"></TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Direc-</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Source</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Dest.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Pro-</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Source</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Dest.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">ACK</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"></TH
></TR
><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Rule</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">tion</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Addr.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Addr.</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">tocol</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Port</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Port</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Set</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Action</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">A</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">In</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Service Provider</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Your Server</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">119</P
></TD
><td class="entry" rowspan="1" colspan="1">Any</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Permit</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">B</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Out</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Your Server</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Service Provider</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">119</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Yes</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Permit</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">C</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Out</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Your Server</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Service Provider</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">119</P
></TD
><td class="entry" rowspan="1" colspan="1">Any</TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Permit</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">D</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">In</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Service Provider</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Your Server</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><span class="acronym">TCP</SPAN
></P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">119</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">&gt;1023</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Yes</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Permit</P
></TD
></TR
></TBODY
></TABLE
><a class="indexterm" name="AUTOID-10987"></A
><a class="indexterm" name="AUTOID-10988"></A
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="FIRE-08-S2-19">8.5.6 Summary of <span class="acronym">NNTP</SPAN
>
Recommendations</A
></H3
><ul class="itemizedlist"><li class="listitem"><p class="para">Don't use a bastion host as a news server.</P
></LI
><li class="listitem"><p class="para">Don't allow automated group creation.</P
></LI
><li class="listitem"><p class="para">Allow external <span class="acronym">NNTP</SPAN
> connections only from the sites
you exchange news with.&#13;</P
></LI
><li class="listitem"><p class="para">Use packet filtering or proxying to connect trusted external
<span class="acronym">NNTP</SPAN
> servers to an internal news server, and vice
versa.</P
></LI
></UL
></DIV
><a class="indexterm" name="AUTOID-11003"></A
><a class="indexterm" name="AUTOID-11004"></A
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch08_04.htm#FIRE-08-S2-11" title="8.4 Remote Command Execution"><img src="../gifs/txtpreva.gif" alt="Previous: 8.4 Remote Command Execution" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Building Internet Firewalls"><img src="../gifs/txthome.gif" alt="Building Internet Firewalls" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch08_06.htm#FIRE-08-S2-20" title="8.6 World Wide Web (WWW) and HTTP"><img src="../gifs/txtnexta.gif" alt="Next: 8.6 World Wide Web (WWW) and HTTP" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">8.4 Remote Command Execution</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_a.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">8.6 World Wide Web (WWW) and HTTP</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
