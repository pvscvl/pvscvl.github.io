<html><head>
<title>[Chapter 23] 23.6 Tips on Generating Random Numbers</TITLE>
<meta name="DC.title" content="Practical UNIX &amp; Internet Security"><meta name="DC.creator" content="Simson Garfinkel &amp; Gene Spafford"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T00:17:58Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-148-8" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch23_01.htm" title="23. Writing Secure SUID and Network Programs"><link rel="prev" href="ch23_05.htm" title="23.5 Tips on Using Passwords"><link rel="next" href="ch23_07.htm#PUIS-CHP-23-SECT-7.1" title="23.7 UNIX Pseudo-Random Functions"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Practical UNIX &amp; Internet Security" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Practical UNIX &amp; Internet Security"><area shape="RECT" coords="467,0,514,18" href="../search/psrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch23_05.htm" title="23.5 Tips on Using Passwords"><img src="../gifs/txtpreva.gif" alt="Previous: 23.5 Tips on Using Passwords" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 23<br>Writing Secure SUID and Network Programs</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch23_07.htm#PUIS-CHP-23-SECT-7.1" title="23.7 UNIX Pseudo-Random Functions"><img src="../gifs/txtnexta.gif" alt="Next: 23.7 UNIX Pseudo-Random Functions" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="PUIS-CHP-23-SECT-6">23.6 Tips on Generating Random Numbers</A
></H2
><p class="para"><a class="indexterm" name="IDX-643399"></A
><a class="indexterm" name="AUTOID-32912"></A
>Random numbers play an important role in modern computer
security. Many programs that use encryption need a good source of
random numbers for producing session keys. For example, the PGP
program uses random numbers for generating a random key which is used
to encrypt the contents of electronic mail messages; the random key is
then itself encrypted using the recipient's public key.</P
><p class="para">Random numbers have other uses in computer security as well. A
variety of authentication protocols require that the computer create a
random number, encrypt it, and send it to the user. The user must then
decrypt the number, perform a mathematical operation on it, re-encrypt
the number, and send it back to the computer.</P
><p class="para">A great deal is known
about random numbers.  Here are some general rules of thumb:</P
><ol class="orderedlist"><li class="listitem"><p class="para">If a number is random, then each bit of that number should have an equal probability of 
being a 0 or a 1.</P
></LI
><li class="listitem"><p class="para">If a number is random, then after each 0 in that number there should be an equal proba-
bility that the following bit is a 0 or a 1. Likewise, after each 1 there should be an equal 
probability that the following bit is a 0 or a 1.</P
></LI
><li class="listitem"><p class="para">If the number has a large number of bits, then roughly half of the number's bits should be 
0s, and half of the bits should be 1s.</P
></LI
></OL
><p class="para">For security-related purposes, a further requirement for 
random numbers is <a class="indexterm" name="IDX-643400"></A
>
<em class="emphasis">unpredictability</EM
>:</P
><ol class="orderedlist"><li class="listitem"><p class="para">It should not be possible to predict the output of the random number generator given 
previous outputs or other knowledge about the computer generating the random numbers.</P
></LI
><li class="listitem"><p class="para">It should not be possible to determine the internal state of the random number generator.</P
></LI
><li class="listitem"><p class="para">It should not be possible to replicate the initial state of the random number generator, or to 
reseed the generator with the same initial value.</P
></LI
></OL
><p class="para">One of the best ways of generating a stream of random numbers is
to make use of a random process, such as radioactive
decay. Unfortunately, most UNIX computers are not equipped with Geiger
counters. Thus, they need to use something else. Often, they use
pseudorandom functions as random number generators.</P
><p class="para">A <a class="indexterm" name="IDX-643401"></A
>
pseudorandom function is a function that yields a series of outputs which appears to 
be unpredictable. In practice, these functions maintain a large internal state from which the 
output is calculated. Each time a new number is generated, the internal state is changed. The 
function's initial state is referred to as its <a class="indexterm" name="IDX-643402"></A
>
<em class="emphasis">seed</EM
>.</P
><p class="para">If you need a series of random numbers that is 
repeatable, you need a pseudorandom generator that takes a seed and keeps an internal 
state. If you need a non-reproducible series of random numbers, you should avoid pseudo-
random generators. Thus, successfully picking random numbers in the UNIX environment 
depends on two things: picking the right random number generator, and then picking a 
different seed each time the program is run.</P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch23_05.htm" title="23.5 Tips on Using Passwords"><img src="../gifs/txtpreva.gif" alt="Previous: 23.5 Tips on Using Passwords" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Practical UNIX &amp; Internet Security"><img src="../gifs/txthome.gif" alt="Practical UNIX &amp; Internet Security" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch23_07.htm#PUIS-CHP-23-SECT-7.1" title="23.7 UNIX Pseudo-Random Functions"><img src="../gifs/txtnexta.gif" alt="Next: 23.7 UNIX Pseudo-Random Functions" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">23.5 Tips on Using Passwords</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">23.7 UNIX Pseudo-Random Functions</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
