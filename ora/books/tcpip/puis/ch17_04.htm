<html><head>
<title>[Chapter 17] 17.4 Security Implications of Network Services</TITLE>
<meta name="DC.title" content="Practical UNIX &amp; Internet Security"><meta name="DC.creator" content="Simson Garfinkel &amp; Gene Spafford"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T00:13:51Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-148-8" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch17_01.htm" title="17. TCP/IP Services"><link rel="prev" href="ch17_03.htm#PUIS-CHP-17-SECT-3.21.3" title="17.3 Primary UNIX Network Services"><link rel="next" href="ch17_05.htm" title="17.5 Monitoring Your Network with netstat"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Practical UNIX &amp; Internet Security" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Practical UNIX &amp; Internet Security"><area shape="RECT" coords="467,0,514,18" href="../search/psrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch17_03.htm#PUIS-CHP-17-SECT-3.21.3" title="17.3 Primary UNIX Network Services"><img src="../gifs/txtpreva.gif" alt="Previous: 17.3 Primary UNIX Network Services" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 17<br>TCP/IP Services</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch17_05.htm" title="17.5 Monitoring Your Network with netstat"><img src="../gifs/txtnexta.gif" alt="Next: 17.5 Monitoring Your Network with netstat" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="PUIS-CHP-17-SECT-4">17.4 Security Implications of Network Services</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-24050"></A
>Network servers
are the portals through which the outside world accesses the information
stored on your computer. Every server must:</P
><ul class="itemizedlist"><li class="listitem"><p class="para">Determine what information or action
the client requests.</P
></LI
><li class="listitem"><p class="para">Decide whether or not the client is entitled to
the information, optionally authenticating the person (or program)
on the other side of the network that is requesting service.</P
></LI
><li class="listitem"><p class="para">Transfer the requested information or perform the
desired service.</P
></LI
></UL
><p class="para"><a class="indexterm" name="AUTOID-24061"></A
><a class="indexterm" name="AUTOID-24064"></A
>By their design, many servers must run with
<i class="filename">root</I
> privileges. A bug or an intentional back door built into a
server can therefore compromise the security of an entire computer,
opening the system to any user of the network who is aware of the
flaw. Even a relatively innocuous program can be the downfall of
an entire computer. Flaws may remain in programs distributed by
vendors for many years, only to be uncovered some time in the future.
<a class="indexterm" name="AUTOID-24068"></A
></P
><p class="para">Furthermore, many <span class="acronym">UNIX</SPAN
> network servers
rely on IP numbers or hostnames to authenticate incoming network
connections. This approach is fundamentally flawed, as neither the
IP protocol nor <span class="acronym">DNS</SPAN
> were designed to be resistant
to attack. There have been many reports of computers that have fallen
victim to successful IP spoofing attacks or <span class="acronym">DNS</SPAN
>
compromise.</P
><p class="para">Given these factors, you may wish to adopt one or more of
the following strategies to protect your servers and data:</P
><ul class="itemizedlist"><li class="listitem"><p class="para">Use <a class="indexterm" name="AUTOID-24078"></A
><a class="indexterm" name="AUTOID-24081"></A
>
encryption to protect your data. If it is stolen,
the data will do your attacker no good. Furthermore, making alterations
in your data that you will not notice will be difficult, if not
impossible.</P
></LI
><li class="listitem"><p class="para">Avoid using <a class="indexterm" name="AUTOID-24086"></A
><a class="indexterm" name="AUTOID-24089"></A
><a class="indexterm" name="AUTOID-24091"></A
><a class="indexterm" name="AUTOID-24094"></A
>
passwords and host-based authentication. Instead,
rely on tokens, one-time passwords, or cryptographically secure
communications.</P
></LI
><li class="listitem"><p class="para">Use a firewall to isolate your internal network
from the outside world.</P
></LI
><li class="listitem"><p class="para">Disconnect your internal network from the outside
world. You can still relay electronic mail between the two networks
using <span class="acronym">UUCP</SPAN
> or some other mechanism. Set up separate
network workstations to allow people to access the <span class="acronym">WWW</SPAN
>
or other Internet services.</P
></LI
><li class="listitem"><p class="para">Create a second internal network for the most confidential
information.</P
></LI
></UL
><div class="sidebar"><h4 class="sidebar"><a class="title" name="AUTOID-24105">Bringing Up an Internet Server Machine: Step-by-Step</A
></H4
><p class="para"><a class="indexterm" name="AUTOID-24108"></A
>Although
every site is unique, you may find the following step-by-step list
helpful in bringing up new servers as securely as possible:</P
><ol class="orderedlist"><li class="listitem"><p class="para">Don't physically connect to the network
before you perform all of the following steps. Because some network
access may be needed to <span class="acronym">FTP</SPAN
> patches, for example,
you may need to connect as briefly as possible in single-user mode
(so there are no daemons running), fetch what you need, disconnect
physically, and then follow steps 2-12.</P
></LI
><li class="listitem"><p class="para">Erase your computer's hard disk and load
a fresh copy of your operating system.</P
></LI
><li class="listitem"><p class="para">Locate and load all security-related patches. To
find the patches, check with both your vendor and with <span class="acronym">CERT</SPAN
>'s
<span class="acronym">FTP</SPAN
> server, <a class="systemitem.ftpserver" href="../../../WebStripper/protected.html#link=ftp://ftp.cert.org.">ftp.cert.org.</A
></P
></LI
><li class="listitem"><p class="para">Modify your computer's <i class="filename">/etc/syslog.conf</I
>
file so that logs are stored both locally and on your organization's
logging host.</P
></LI
><li class="listitem"><p class="para">Configure as few user accounts as necessary. Ideally,
users should avoid logging into your Internet server.</P
></LI
><li class="listitem"><p class="para">If your server is a mail server, then you may wish
to have your users read their mail with <span class="acronym">POP</SPAN
>.
You will need to create user accounts, but give each user a <i class="filename">/bin/nologin</I
>
(or a shell script that simply prints a &quot;no logins allowed&quot;
message) as their shell to prevent logins.</P
></LI
><li class="listitem"><p class="para">Check all <i class="filename">/etc/rc*</I
> and
other system initialization files, and remove daemons you don't
want running. (Use<i class="filename"> netstat </I
>to see what services
are running.)</P
></LI
><li class="listitem"><p class="para">Look through <i class="filename">/etc/inetd.conf </I
>and
disable all unneeded services. Protect the remaining services with
<kbd class="command">tcpwrapper</KBD
> or a similar program.</P
></LI
><li class="listitem"><p class="para">Add your own server programs to the system. Make
sure that each one is based on the most up-to-date code.</P
></LI
><li class="listitem"><p class="para">Get and install Tripwire, so you can tell if any
files have been modified as the result of a compromise. (See <a class="xref" href="ch09_01.htm" title="Integrity Management">Chapter 9, <cite class="chapter">Integrity Management</CITE
></A
>, for details.)</P
></LI
><li class="listitem"><p class="para">Get and run Tiger to look for other problems.</P
></LI
><li class="listitem"><p class="para">Monitor your system. Make sure that log files aren't
growing out of control. Use the <kbd class="command">last</KBD
> command
to see if people have logged in. Be curious.</P
></LI
></OL
></DIV
><ul class="itemizedlist"><li class="listitem"><p class="para">Disable all services that you are
not sure you need, and put wrappers around the rest to log connections
and restrict connectivity.</P
></LI
></UL
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch17_03.htm#PUIS-CHP-17-SECT-3.21.3" title="17.3 Primary UNIX Network Services"><img src="../gifs/txtpreva.gif" alt="Previous: 17.3 Primary UNIX Network Services" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Practical UNIX &amp; Internet Security"><img src="../gifs/txthome.gif" alt="Practical UNIX &amp; Internet Security" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch17_05.htm" title="17.5 Monitoring Your Network with netstat"><img src="../gifs/txtnexta.gif" alt="Next: 17.5 Monitoring Your Network with netstat" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">17.3 Primary UNIX Network Services</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">17.5 Monitoring Your Network with netstat</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
