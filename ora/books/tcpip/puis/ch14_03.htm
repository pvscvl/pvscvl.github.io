<html><head>
<title>[Chapter 14] 14.3 The RS-232 Serial Protocol</TITLE>
<meta name="DC.title" content="Practical UNIX &amp; Internet Security"><meta name="DC.creator" content="Simson Garfinkel &amp; Gene Spafford"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T00:11:40Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-148-8" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch14_01.htm" title="14. Telephone Security"><link rel="prev" href="ch14_02.htm" title="14.2 Serial Interfaces"><link rel="next" href="ch14_04.htm#PUIS-CHP-14-SECT-4.4" title="14.4 Modems and Security"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Practical UNIX &amp; Internet Security" usemap="#srchmap" border="0"></H1
><mapindex.html name="srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Practical UNIX &amp; Internet Security"><area shape="RECT" coords="467,0,514,18" href="../search/psrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch14_02.htm" title="14.2 Serial Interfaces"><img src="../gifs/txtpreva.gif" alt="Previous: 14.2 Serial Interfaces" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 14<br>Telephone Security</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch14_04.htm#PUIS-CHP-14-SECT-4.4" title="14.4 Modems and Security"><img src="../gifs/txtnexta.gif" alt="Next: 14.4 Modems and Security" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="PUIS-CHP-14-SECT-3">14.3 The RS-232 Serial Protocol</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-17297"></A
>One of the most common serial interfaces
is based on the RS-232 standard, which was developed primarily to
allow individuals to use terminals with remote computer systems
over a telephone line more easily.</P
><p class="para">The basic configuration
of a terminal and a computer connected by two modems is shown in
<a class="xref" href="ch07_02.htm" title="Incremental backup with media rotation">Figure 7.2</A
>.</P
><h4 class="figure"><a class="title" name="PUIS-CHP-14-FIG-2">Figure 14.2: A terminal and a computer connected by two modems</A
></H4
><img class="graphic" src="figs/puis_1402.gif" alt="Figure 14.2"><p class="para">The computer and terminal are called <em class="emphasis"><a class="indexterm" name="AUTOID-17306"></A
><a class="indexterm" name="AUTOID-17309"></A
>
data
terminal equipment</EM
> (<span class="acronym">DTE</SPAN
>), while the
modems are called <em class="emphasis"><a class="indexterm" name="AUTOID-17313"></A
><a class="indexterm" name="AUTOID-17316"></A
>data communication
equipment</EM
> (<span class="acronym">DCE</SPAN
>). The standard RS-232
connector is a 25-pin D-shell type connector; only nine pins are
used to connect the <span class="acronym">DTE</SPAN
> and <span class="acronym">DCE</SPAN
>
sides together, as seen in <a class="xref" href="#PUIS-CHP-14-FIG-3" title="The standard 25-pin RS-232 connector">Figure 14.3</A
>.</P
><h4 class="figure"><a class="title" name="PUIS-CHP-14-FIG-3">Figure 14.3: The standard 25-pin RS-232 connector</A
></H4
><img class="graphic" src="figs/puis_1403.gif" alt="Figure 14.3"><p class="para">Of these nine pins, only transmit
data (pin 2), receive data (pin 3), and signal ground (pin 7) are
essential for directly wired communications. Five pins (2, 3, 7,
8, and 20) are needed for proper operation of modems. Frame ground
(pin 1) was originally used to connect electrically the physical
frame of the <span class="acronym">DCE</SPAN
> and the frame of the <span class="acronym">DTE</SPAN
>
to reduce electrical hazards, although its use has been discontinued
in the RS-232-C standard. <a class="xref" href="#PUIS-CHP-14-TAB-1" title=".RS-232 Pin Assignments for a 25-Pin Connector">Table 14.1</A
> describes
the use of each pin.</P
><table class="table"><caption class="table"><a class="title" name="PUIS-CHP-14-TAB-1">Table 14.1: .RS-232 Pin Assignments for a 25-Pin Connector</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1"><p class="para">Pin</P
></TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"><p class="para">Code</P
></TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"><p class="para">Name</P
></TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"><p class="para">Description</P
></TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">1</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">FG</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><a class="indexterm" name="AUTOID-17354"></A
>Frame
Ground</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Chassis ground of equipment. (Note: this
pin is historical; modern systems don't connect the electrical
ground of different components together, because such a connection
causes more problems than it solves.)</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">2</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">TD</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><a class="indexterm" name="AUTOID-17365"></A
>Transmit
Data</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Data transmitted from the computer or
terminal to the modem.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">3</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">RD</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><a class="indexterm" name="AUTOID-17376"></A
>Receive
Data</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Data transmitted from the modem to the
computer.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">4</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">RTS</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><a class="indexterm" name="AUTOID-17387"></A
>Request
to Send</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Tells the modem when it can transmit
data. Sometimes the computer is busy and needs to have the modem
wait before the next character is transmitted. Used for &quot;hardware
flow control.&quot;</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">5</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">CTS</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><a class="indexterm" name="AUTOID-17398"></A
>Clear
to Send</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Tells the computer when it's
okay to transmit data. Sometimes the modem is busy and needs to
have the computer wait before the next character is transmitted.
Used for &quot;hardware flow control.&quot;</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">6</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">DSR</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><a class="indexterm" name="AUTOID-17409"></A
>Data
Set Ready</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Tells the computer that the modem is
turned on. The computer should not send the modem commands if this
signal is not present.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">7</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">SG</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><a class="indexterm" name="AUTOID-17420"></A
>Signal
Ground</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Reference point for all signal voltages.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">8</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">DCD</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><a class="indexterm" name="AUTOID-17431"></A
>Data
Carrier Detect</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Tells the computer that the modem is
connected by telephone with another modem. <span class="acronym">UNIX</SPAN
>
may use this signal to tell it when to display a<kbd class="command"> </KBD
>login:<kbd class="command"></KBD
>banner.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">22</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">RI</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><a class="indexterm" name="AUTOID-17445"></A
>Ring
Indicator</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Tells the computer that the telephone
is ringing.</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">20</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">DTR</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para"><a class="indexterm" name="AUTOID-17456"></A
>Data
Terminal Ready</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Tells the modem that the computer is
turned on and ready to accept connections. The modem should not
answer the telephone&nbsp;- and it should automatically hang up
on an established conversation&nbsp;- if this signal is not present.</P
></TD
></TR
></TBODY
></TABLE
><p class="para">Because only eight pins of the 25-pin RS-232
connector are used, the computer industry has largely moved to smaller
connectors that have fewer pins and cost less money to produce.
Most PCs are equipped with a 9-pin RS-232 connector, which has pin
assignments: listed in <a class="xref" href="#PUIS-CHP-14-TAB-2" title=".RS-232 Pin Assignments for 25- and 9-pin Connectors">Table 14.2</A
>.</P
><table class="table"><caption class="table"><a class="title" name="PUIS-CHP-14-TAB-2">Table 14.2: .RS-232 Pin Assignments for 25- and 9-pin Connectors</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1"><p class="para">Code</P
></TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"><p class="para">Name</P
></TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"><p class="para">25-pin Connector Assignment</P
></TH
><th class="entry" align="LEFT" rowspan="1" colspan="1"><p class="para">9-pin Connector Assignment</P
></TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">TD</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Transmit Data</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">2</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">3</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">RD</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Receive Data</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">3</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">2</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">RTS</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Request to Send</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">4</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">7</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">CTS</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Clear to Send</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">5</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">8</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">DSR</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Data Set Ready</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">6</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">6</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">SG</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Signal Ground</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">7</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">5</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">DCD</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Data Carrier Detect</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">8</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">1</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">DTR</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Data Terminal Ready</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">20</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">4</P
></TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1"><p class="para">RI</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">Ring indicator</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">22</P
></TD
><td class="entry" rowspan="1" colspan="1"><p class="para">9</P
></TD
></TR
></TBODY
></TABLE
><p class="para">A number of nonstandard RS-232 connectors
are also in use. The Apple Macintosh computer uses a circular 9-pin
<span class="acronym">DIN</SPAN
> connector, and there are several popular
(and incompatible) systems for using standard modular telephone
cords.</P
><p class="para">In general, you should be suspicious of any RS-232
system that claims to carry all eight signals between the data set
and the data terminal without the full complement of wires.<a class="indexterm" name="AUTOID-17564"></A
></P
><div class="sect2"><h3 class="sect2"><a class="title" name="PUIS-CHP-14-SECT-3.1">14.3.1 Originate and Answer</A
></H3
><p class="para">Modern modems can
both place and receive telephone calls. After a connection between
two modems is established, information that each modem receives
on the TD pin is translated into a series of tones that are sent
down the telephone line. Likewise, each modem takes the tones that
it receives through its telephone connection, passes them through
a series of filters and detectors, and eventually translates them
back into data that is transmitted on the RD pin.</P
><p class="para">To
allow modems to transmit and receive information at the same time,
different tones are used for each direction of data transfer. By
convention, the modem that places the telephone call runs in <em class="emphasis"><a class="indexterm" name="AUTOID-17571"></A
>
originate</EM
> <em class="emphasis">mode</EM
>
and uses one set of tones, while the modem that receives the telephone
call operates in <em class="emphasis"><a class="indexterm" name="AUTOID-17575"></A
><a class="indexterm" name="AUTOID-17577"></A
>answer mode</EM
> and
uses another set of tones.</P
><p class="para">High-speed modems have additional
electronics inside them that perform data compression before the
data is translated into tones. Some high-speed modems automatically
reallocate their audio spectrum as the call progresses to maximize
signal clarity and thus maximize data transfer speed. Others allocate
a high-speed channel to the answering modem and a low-speed channel
to the originating modem, with provisions for swapping channels
should the need arise.</P
><p class="para">Further details on modem operation
are available from any reasonably current book on data communications.
Some are listed in <a class="xref" href="appd_01.htm" title="Paper Sources">Appendix D, <cite class="appendix">Paper Sources</CITE
></A
>.</P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch14_02.htm" title="14.2 Serial Interfaces"><img src="../gifs/txtpreva.gif" alt="Previous: 14.2 Serial Interfaces" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Practical UNIX &amp; Internet Security"><img src="../gifs/txthome.gif" alt="Practical UNIX &amp; Internet Security" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch14_04.htm#PUIS-CHP-14-SECT-4.4" title="14.4 Modems and Security"><img src="../gifs/txtnexta.gif" alt="Next: 14.4 Modems and Security" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">14.2 Serial Interfaces</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">14.4 Modems and Security</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
