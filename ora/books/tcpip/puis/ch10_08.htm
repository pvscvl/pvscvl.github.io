<html><head>
<title>[Chapter 10] 10.8 Managing Log Files</TITLE>
<meta name="DC.title" content="Practical UNIX &amp; Internet Security"><meta name="DC.creator" content="Simson Garfinkel &amp; Gene Spafford"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T00:07:47Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-148-8" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch10_01.htm" title="10. Auditing and Logging"><link rel="prev" href="ch10_07.htm#PUIS-CHP-10-SECT-7.2.1" title="10.7 Handwritten Logs"><link rel="next" href="ch11_01.htm" title="11. Protecting Against Programmed Threats"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Practical UNIX &amp; Internet Security" usemap="#srchmap" border="0"></H1
><map name="srchmap"index.html><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Practical UNIX &amp; Internet Security"><area shape="RECT" coords="467,0,514,18" href="../search/psrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch10_07.htm#PUIS-CHP-10-SECT-7.2.1" title="10.7 Handwritten Logs"><img src="../gifs/txtpreva.gif" alt="Previous: 10.7 Handwritten Logs" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 10<br>Auditing and Logging</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="CHAPTER" href="ch11_01.htm" title="11. Protecting Against Programmed Threats"><img src="../gifs/txtnexta.gif" alt="Next: 11. Protecting Against Programmed Threats" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="PUIS-CHP-10-SECT-8">10.8 Managing Log Files</A
></H2
><p class="para">There <a class="indexterm" name="AUTOID-14568"></A
>
are
several final suggestions we can make about log files. The first
has to do with backups. We strongly recommend that you ensure that
all of your log files are copied to your backup media on a regular
basis, preferably daily. The timing of the backups should be such
that any file that is periodically reset is copied to the <a class="indexterm" name="AUTOID-14571"></A
>
backups before the reset is performed. This will
ensure that you have a series of records over time to show system
access and behavior.</P
><p class="para">Our second suggestion concerns how often to review the log
files. We recommend that you do this at least daily. Keeping log
records does you little service if you do not review them on a regular
basis. Log files can reveal problems with your hardware, with your
network configuration, and (of course) with your security. Consequently,
you must review the logs regularly to note when a problem is actually
present. If you delay for too long, the problem may become more
severe; if there has been an intruder, he or she may have the time
to edit the log files, change your security mechanisms, and do dirty
deeds before you take notice.</P
><p class="para">Our third suggestion concerns how you process your log messages.
Typically, log messages record nothing of particular interest. Thus,
every time you review the logs (possibly daily, or several times
a day, if you take our previous suggestion), you are faced with
many lines of boring, familiar messages. The problem with this scenario
is that you may become so accustomed to seeing this material that
you get in the habit of making only a cursory scan of the messages
to see if something is wrong, and this way you can easily miss an
important message.</P
><p class="para">To address this problem, our advice is to filter the messages
that you actually look at to reduce them to a more manageable collection.
To do so requires some care, however. You do not want to write a
filter that selects those important things you want to see and discards
the rest. Such a system is likely to result in an important message
being discarded without being read. Instead, you should filter out
the boring messages, being as specific as you can with your pattern
matching, and pass everything else to you to be read. Periodically,
you should also study unfiltered log messages to be sure that you
are not missing anything of importance.</P
><p class="para">Our last suggestion hints at our comments in <a class="xref" href="ch27_01.htm" title="Who Do You Trust?">Chapter 27, <cite class="chapter">Who Do You Trust?</CITE
></A
>,
Who Do You Trust? Don't <a class="indexterm" name="AUTOID-14579"></A
>
trust your logs completely! Logs can often be
altered or deleted by an intruder who obtains superuser privileges.
Local users with physical access or appropriate knowledge of the
system may be able to falsify or circumvent logging mechanisms.
And, of course, software errors and system errors may result in
logs not being properly collected and saved. Thus, you need to develop
redundant scanning and logging mechanisms: because something is
not logged does not mean it didn't happen.</P
><p class="para">Of course, simply because something was logged doesn't
mean it did happen, either&nbsp;- someone may cause entries to
be written to logs to throw you off the case of a real problem or
point a false accusation at someone else. These deceptions are easy
to create with <em class="emphasis">syslog</EM
> if you haven't
protected the network port from messages originating outside your
site!<a class="indexterm" name="AUTOID-14584"></A
><a class="indexterm" name="AUTOID-14587"></A
></P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch10_07.htm#PUIS-CHP-10-SECT-7.2.1" title="10.7 Handwritten Logs"><img src="../gifs/txtpreva.gif" alt="Previous: 10.7 Handwritten Logs" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Practical UNIX &amp; Internet Security"><img src="../gifs/txthome.gif" alt="Practical UNIX &amp; Internet Security" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="CHAPTER" href="ch11_01.htm" title="11. Protecting Against Programmed Threats"><img src="../gifs/txtnexta.gif" alt="Next: 11. Protecting Against Programmed Threats" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">10.7 Handwritten Logs</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">11. Protecting Against Programmed Threats</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
