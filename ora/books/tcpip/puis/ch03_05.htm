<html><head>
<title>[Chapter 3] 3.5 Verifying Your New Password</TITLE>
<meta name="DC.title" content="Practical UNIX &amp; Internet Security"><meta name="DC.creator" content="Simson Garfinkel &amp; Gene Spafford"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T00:00:29Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-148-8" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch03_01.htm" title="3. Users and Passwords"><link rel="prev" href="ch03_04.htm" title="3.4 Changing Your Password"><link rel="next" href="ch03_06.htm#PUIS-CHP-3-SECT-6.2" title="3.6 The Care and Feeding of Passwords"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Practical UNIX &amp; Internet Security" usemap="#srchmap" border="0"></H1
><map name="srchmap"index.html><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Practical UNIX &amp; Internet Security"><area shape="RECT" coords="467,0,514,18" href="../search/psrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch03_04.htm" title="3.4 Changing Your Password"><img src="../gifs/txtpreva.gif" alt="Previous: 3.4 Changing Your Password" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 3<br>Users and Passwords</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch03_06.htm#PUIS-CHP-3-SECT-6.2" title="3.6 The Care and Feeding of Passwords"><img src="../gifs/txtnexta.gif" alt="Next: 3.6 The Care and Feeding of Passwords" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="PUIS-CHP-3-SECT-5">3.5 Verifying Your New Password</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-2316"></A
><a class="indexterm" name="AUTOID-2319"></A
>After you have changed your password, try logging
into your account with the new password to make sure that you've
entered the new password properly. Ideally, you should do this without
logging out, so you will have some recourse if you did not change
your password properly. This is especially crucial if you are logged
in as <i class="systemitem.username">root</I
> and you have
just changed the <i class="systemitem.username">root</I
>
password.</P
><div class="sidebar"><h4 class="sidebar"><a class="title" name="AUTOID-2324">Forcing a Change
of Password</A
></H4
><p class="para">At one major university we know about, it was commonplace
for students to change their passwords and then be unable to log
into their accounts. Most often this happened when students tried
to put control characters into their passwords.[7]
Other times, students mistyped the password and were unable to retype
it again later. More than a few got so carried away making up a
fancy password that they couldn't remember it later.</P
><blockquote class="footnote"><p class="para">[7] The
control characters ^@, ^G, ^H, ^J, ^M, ^Q, ^S, and ^[
should probably not be put in passwords, because they can be interpreted
by the system. If your users will log in using xdm, they should
avoid all control characters, as xdm often filters them out. You
should also beware of control characters that may interact with
your terminal programs, terminal concentrator monitors, and other
intermediate systems you may use. Finally, you may wish to avoid
the # and @ characters, as some <span class="acronym">UNIX</SPAN
>
systems still interpret these characters with their use as erase
and kill characters.<a class="indexterm" name="AUTOID-2330"></A
></P
></BLOCKQUOTE
><p class="para">Well, once a <span class="acronym">UNIX</SPAN
> password is entered,
there is no way to decrypt it and recover it. The only recourse
is to have someone change the password to another known value. Thus,
the students would bring a picture ID to the computing center office,
where a staff member would change the password to <i class="filename">ChangeMe</I
>
and instruct them to immediately go down the hall to a terminal
room to do exactly that.</P
><p class="para">Late one semester shortly after the Internet worm incident,
one of the staff decided to try running a password cracker (see
<a class="xref" href="ch08_01.htm" title="Defending  Your Accounts">Chapter 8</A
>) to see how many student account passwords were weak.
Much to the surprise of the staff member, dozens of the student
accounts had a password of <i class="filename">ChangeMe.</I
> Furthermore,
at least one of the other staff members also had that as a password!
The policy soon changed to one in which forgetful students were
forced to enter a new password on the spot.</P
><p class="para">Under <span class="acronym">SVR4</SPAN
>, there is an option to the <i class="filename"><a class="indexterm" name="AUTOID-2342"></A
>passwd</I
>
command that can be used by the superuser: -f, (e.g., <kbd class="command">passwd
-f nomemory</KBD
>). This forces the user to change his password during
the login process the very next time he logs in to the system. It's
a good option for system administrators to remember. (This behavior
is the default on <span class="acronym">AIX</SPAN
>. <span class="acronym">OSF</SPAN
>/1
uses the chfn command for this same purpose.)</P
></DIV
><p class="para"></P
><p class="para">One way to try out your new password is to use the <i class="filename">su</I
> command. Normally, the su command is used to switch to
another account. But as the command requires that you type the password
of the account to which you are switching, you can effectively use
the su command to test the password of your own account.</P
><blockquote class="screen"><pre class="screen">% <b class="emphasis.bold"> su nosmis</B
>
password: <i class="systemitem.password">mypassword</I
> 
%</PRE
></BLOCKQUOTE
><p class="para">(Of course, instead of typing <kbd class="command">nosmis</KBD
> and
<i class="systemitem.password">mypassword</I
>, use your own account name and password.)</P
><p class="para"><a class="indexterm" name="AUTOID-2358"></A
><a class="indexterm" name="AUTOID-2360"></A
>If you're
using a machine that is on a network, you can use the telnet or
rlogin programs to loop back through the network and log in a second
time by typing:</P
><blockquote class="screen"><pre class="screen">% <b class="emphasis.bold">telnet localhost </B
>
Trying 127.0.0.1... 
Connected to localhost 
Escape character is '^]'   


artemis login: <b class="emphasis.bold">dawn </B
>
password: <i class="systemitem.password">techtalk</I
> 
Last login: Sun Feb 3 11:48:45 on ttyb 
%</PRE
></BLOCKQUOTE
><p class="para">You may need to replace localhost in the above example with
the name of your computer.</P
><p class="para">If you try one of the earlier methods and discover that your
password is not what you thought it was, you have a definite problem.
To change the password to something you do know, you will need the
current password. However, you don't know that password!
You will need the help of the superuser to fix the situation. (That's
why you shouldn't log out&nbsp;- if the time is 2 a.m.
on Saturday, you might not be able to reach the superuser until
Monday morning, and you might want to get some work done before
then.)</P
><p class="para">The superuser (user root) can't decode the password
of any user. However, the superuser can help you when you don't
know what you've set your password to by setting your password
to something else. If you are running as the superuser, you can
set the password of any user, including yourself, without supplying
the old password. You do this by supplying the username to the <a class="indexterm" name="AUTOID-2369"></A
><a class="indexterm" name="AUTOID-2372"></A
>
<kbd class="command">passwd</KBD
>
command when you invoke it:</P
><blockquote class="screen"><pre class="screen"># passwd <b class="emphasis.bold">cindy</B
>
New password: <i class="systemitem.password">NewR-pas</I
> 
Retype new password: <i class="systemitem.password">NewR-pas</I
> 
# <a class="indexterm" name="AUTOID-2380"></A
><a class="indexterm" name="AUTOID-2383"></A
>
 </PRE
></BLOCKQUOTE
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch03_04.htm" title="3.4 Changing Your Password"><img src="../gifs/txtpreva.gif" alt="Previous: 3.4 Changing Your Password" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Practical UNIX &amp; Internet Security"><img src="../gifs/txthome.gif" alt="Practical UNIX &amp; Internet Security" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch03_06.htm#PUIS-CHP-3-SECT-6.2" title="3.6 The Care and Feeding of Passwords"><img src="../gifs/txtnexta.gif" alt="Next: 3.6 The Care and Feeding of Passwords" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">3.4 Changing Your Password</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">3.6 The Care and Feeding of Passwords</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="../tcpip/index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
