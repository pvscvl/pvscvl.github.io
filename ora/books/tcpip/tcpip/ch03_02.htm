<html><head>
<title>[Chapter 3] 3.2 The Host Table</TITLE>
<meta name="DC.title" content="TCP/IP Network Administration"><meta name="DC.creator" content="Craig Hunt"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T01:31:30Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-322-7" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch03_01.htm" title="3. Network Services"><link rel="prev" href="ch03_01.htm" title="3.1 Names and Addresses"><link rel="next" href="ch03_03.htm#TCP2-CH-3-SECT-3.1" title="3.3 Domain Name Service"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="TCP/IP Network Administration" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="TCP/IP Network Administration"><area shape="RECT" coords="467,0,514,18" href="../search/tsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch03_01.htm" title="3.1 Names and Addresses"><img src="../gifs/txtpreva.gif" alt="Previous: 3.1 Names and Addresses" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 3<br>Network Services</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch03_03.htm#TCP2-CH-3-SECT-3.1" title="3.3 Domain Name Service"><img src="../gifs/txtnexta.gif" alt="Next: 3.3 Domain Name Service" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="TCP2-CH-3-SECT-2">3.2 The Host Table</A
></H2
><p class="para"><a class="indexterm" name="TCP2-CH-3-IX-HOSTS-TABLE"></A
>The <em class="emphasis">host table</EM
> is a simple text file that associates IP
addresses with hostnames. On most UNIX systems, the table is in the
file <em class="emphasis">/etc/hosts</EM
>.<a class="indexterm" name="AUTOID-2367"></A
><a class="indexterm" name="AUTOID-2370"></A
>
Each table entry in <em class="emphasis">/etc/hosts</EM
> contains an IP address
separated by whitespace from a list of hostnames associated with that
address. Comments begin with <code class="literal">#</CODE
>.<a class="indexterm" name="AUTOID-2374"></A
><a class="indexterm" name="AUTOID-2376"></A
><a class="indexterm" name="AUTOID-2378"></A
><a class="indexterm" name="AUTOID-2380"></A
></P
><p class="para">The host table on <em class="emphasis">peanut</EM
> might contain the following entries:</P
><p class="para"><blockquote class="screen"><pre class="screen">#
# Table of IP addresses and hostnames
#
172.16.12.2     peanut.nuts.com peanut
127.0.0.1       localhost
172.16.12.1     almond.nuts.com almond loghost
172.16.12.4     walnut.nuts.com walnut
172.16.12.3     pecan.nuts.com pecan
172.16.1.2      filbert.nuts.com filbert
172.16.6.4      salt.plant.nuts.com salt.plant salt</PRE
></BLOCKQUOTE
></P
><p class="para">The first entry in the sample table is for <em class="emphasis">peanut</EM
> itself. The IP
address 172.16.12.2 is associated with the hostname
<em class="emphasis">peanut.nuts.com</EM
> and the alternate hostname (or alias)
<em class="emphasis">peanut</EM
>. 
The hostname and all of its aliases resolve to the same IP
address, in this case 172.16.12.2.</P
><p class="para">Aliases provide for name changes, alternate spellings, and shorter
hostnames. They also allow for &quot;generic hostnames.&quot; Look at the
entry for 172.16.12.1. One of the aliases associated with that address
is <em class="emphasis">loghost</EM
>.<a class="indexterm" name="AUTOID-2392"></A
>
<em class="emphasis">loghost</EM
> is a special hostname used by the syslog daemon,<a class="indexterm" name="AUTOID-2395"></A
><a class="indexterm" name="AUTOID-2397"></A
>
<b class="emphasis.bold">syslogd</B
>. Programs like <b class="emphasis.bold">syslogd</B
> are designed to direct
their output to the host that has a certain generic name.  You can
direct the output to any host you choose by assigning it the
appropriate generic name as an alias. Other commonly used generic host
names are <em class="emphasis">lprhost</EM
>, <em class="emphasis">mailhost</EM
>, and <em class="emphasis">dumphost</EM
>.</P
><p class="para">The second entry in the sample file assigns the address 127.0.0.1 to
the hostname <em class="emphasis">localhost</EM
>.<a class="indexterm" name="AUTOID-2406"></A
>
As we have discussed, the class A
network address 127 is reserved for the loopback network. The host
address 127.0.0.1 is a special address used to designate the loopback
address of the local host&nbsp;- hence the hostname <em class="emphasis">localhost</EM
>. This
special addressing convention allows the host to address itself the
same way it addresses a remote host. The loopback address simplifies<a class="indexterm" name="AUTOID-2409"></A
>
software by allowing common code to be used for communicating with
local or remote processes. This addressing convention also reduces
network traffic because the <em class="emphasis">localhost</EM
> address is associated with
a loopback device that loops data back to the host before it is
written out to the network.</P
><p class="para">Although the host table system has been superseded by DNS, it is still
widely used for the following reasons:</P
><ul class="itemizedlist"><li class="listitem"><p class="para">Most systems have a small host table containing name and address
information about the important hosts on the local network. This small
table is used when DNS is not running, such as during the initial
system startup. Even if you use DNS, you should create a small<a class="indexterm" name="AUTOID-2417"></A
><a class="indexterm" name="AUTOID-2421"></A
>
<em class="emphasis">/etc/hosts</EM
> file containing entries for your host, for
<em class="emphasis">localhost</EM
>, and for the gateways and servers on your local net.</P
></LI
><li class="listitem"><p class="para">Sites that use NIS use the host table as input to the NIS host database.
You can use NIS in conjunction with DNS; but even when they are used
together, most NIS sites create host tables that have an entry for every
host on the local network. <a class="xref" href="ch09_01.htm" title="Configuring Network Servers ">Chapter 9, <cite class="chapter">Configuring Network Servers </CITE
></A
>, explains how to use NIS with DNS.</P
></LI
><li class="listitem"><p class="para">Very small sites that are not connected to the Internet sometimes use
the host table. If there are few local hosts and the information about
these hosts rarely changes, and there is no need to communicate via
TCP/IP with remote sites, then there is little advantage to using
DNS.</P
></LI
></UL
><p class="para">The old host table system is inadequate for the global Internet for<a class="indexterm" name="AUTOID-2432"></A
>
two reasons: inability to scale and lack of an automated update
process. Prior to adopting DNS, the Network Information Center (NIC)
maintained a large table of Internet hosts called the <em class="emphasis">NIC host
table</EM
>. Hosts included in the table were called <em class="emphasis">registered<a class="indexterm" name="AUTOID-2437"></A
>
hosts</EM
>, and the NIC placed hostnames and addresses into this file
for all sites on the Internet.</P
><p class="para">Even when the host table was the primary means for
translating hostnames to IP addresses, most sites registered only a
limited number of key systems. But even with limited registration, the
table grew so large that it became an inefficient way to convert host
names to IP addresses. There is no way that a simple table could
provide adequate service for the enormous number of hosts in today's
Internet.</P
><p class="para">Another problem with the host table system is that it lacks a technique<a class="indexterm" name="AUTOID-2441"></A
>
for automatically distributing information about newly registered<a class="indexterm" name="AUTOID-2445"></A
>
hosts. Newly registered hosts can be referenced by name as soon as a site
receives the new version of the host table. However, there is no
way to guarantee that the host table is distributed to a site. The
NIC didn't know who had a current version of the table, and who
did not. This lack of guaranteed uniform distribution
is a major weakness of the host table system.</P
><p class="para">Some versions of UNIX<a class="indexterm" name="AUTOID-2448"></A
><a class="indexterm" name="AUTOID-2451"></A
>
provide the command <b class="emphasis.bold">htable</B
> to automatically build
<em class="emphasis">/etc/hosts</EM
> and <em class="emphasis">/etc/networks</EM
> from the NIC host
table. <b class="emphasis.bold">htable</B
> and the NIC host table are no longer used to build
the <em class="emphasis">/etc/hosts</EM
> file. However, the command is still useful for
building <em class="emphasis">/etc/networks</EM
>. The <em class="emphasis">/etc/networks</EM
> file is<a class="indexterm" name="AUTOID-2461"></A
><a class="indexterm" name="AUTOID-2464"></A
>
still used to map network addresses to network names because many
network names are not included in the DNS database.

To create the <em class="emphasis">/etc/networks</EM
> file, download the file<a class="indexterm" name="AUTOID-2467"></A
>
<a class="systemitem.url" href="../../../WebStripper/protected.html#link=ftp://rs.internic.net/netinfo/networks.txt">ftp://rs.internic.net/netinfo/networks.txt</A
> into a local work<a class="indexterm" name="AUTOID-2470"></A
>
directory. Run <b class="emphasis.bold">htable networks.txt</B
>. Discard the <em class="emphasis">hosts</EM
> file
and the <em class="emphasis">gateways</EM
> file produced by <b class="emphasis.bold">htable</B
>, and move the
<em class="emphasis">networks</EM
> file to the <em class="emphasis">/etc</EM
> directory.</P
><p class="para">This is the last we'll speak of the NIC host table: it has been
superseded by DNS. All hosts connected to the Internet should use
DNS.<a class="indexterm" name="AUTOID-2480"></A
></P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch03_01.htm" title="3.1 Names and Addresses"><img src="../gifs/txtpreva.gif" alt="Previous: 3.1 Names and Addresses" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="TCP/IP Network Administration"><img src="../gifs/txthome.gif" alt="TCP/IP Network Administration" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch03_03.htm#TCP2-CH-3-SECT-3.1" title="3.3 Domain Name Service"><img src="../gifs/txtnexta.gif" alt="Next: 3.3 Domain Name Service" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">3.1 Names and Addresses</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">3.3 Domain Name Service</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
