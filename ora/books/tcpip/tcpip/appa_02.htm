<html><head>
<title>[Appendix A] A.2 The PPP Daemon</TITLE>
<meta name="DC.title" content="TCP/IP Network Administration"><meta name="DC.creator" content="Craig Hunt"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T01:42:33Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-322-7" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="appa_01.htm" title="A. PPP Tools"><link rel="prev" href="appa_01.htm" title="A.1 Dial-Up IP"><link rel="next" href="appa_03.htm" title="A.3 chat"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="TCP/IP Network Administration" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="TCP/IP Network Administration"><area shape="RECT" coords="467,0,514,18" href="../search/tsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="appa_01.htm" title="A.1 Dial-Up IP"><img src="../gifs/txtpreva.gif" alt="Previous: A.1 Dial-Up IP" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Appendix A<br>PPP Tools</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="appa_03.htm" title="A.3 chat"><img src="../gifs/txtnexta.gif" alt="Next: A.3 chat" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="TCP2-AP-1-SECT-2">A.2 The PPP Daemon</A
></H2
><p class="para"><a class="indexterm" name="TCP2-AP-1-IX-POINT-TO-POINT-PROTOCOL-PPP-DAEMON-PPPD-TOOLS-REFERENCE"></A
>The PPP Daemon (<b class="emphasis.bold">pppd</B
>) is a freely available implementation of
the Point-to-Point Protocol (PPP) that runs on many UNIX systems.
Examples of configuring and using <b class="emphasis.bold">pppd</B
> are covered in <a class="xref" href="ch06_01.htm" title="Configuring the Interface ">Chapter 6</A
>.
The syntax of the <b class="emphasis.bold">pppd</B
> command is:</P
><dl class="variablelist"><dt class="term"></DT
><dd class="listitem"><p class="para"><b class="emphasis.bold">pppd </B
>[<code class="replaceable"><i>device</I
></CODE
>] [<code class="replaceable"><i>speed</I
></CODE
>] [<code class="replaceable"><i>options</I
></CODE
>]</P
></DD
></DL
><p class="para"><code class="replaceable"><i>device</I
></CODE
> is the name of the serial port over which the PPP
protocol operates and <code class="replaceable"><i>speed</I
></CODE
> is the transmission speed of that
port in bits per second. The complexity of this command comes not from
these simple parameters but from the large number of <code class="replaceable"><i>options</I
></CODE
>
that it supports. There are so many options, in fact, that they are
often stored in a file. There are three options files that can be used<a class="indexterm" name="AUTOID-19846"></A
><a class="indexterm" name="AUTOID-19848"></A
>
with <b class="emphasis.bold">pppd</B
>: the <em class="emphasis">/etc/ppp/options</EM
> file, which is used to set<a class="indexterm" name="AUTOID-19853"></A
>
system-wide <b class="emphasis.bold">pppd</B
> options; the <em class="emphasis">~/.ppprc</EM
> file, which is used
by an individual to set personal <b class="emphasis.bold">pppd</B
> options, and the
<em class="emphasis">/etc/ppp/options.</EM
>device file, which sets options for a serial<a class="indexterm" name="AUTOID-19859"></A
><a class="indexterm" name="AUTOID-19861"></A
>
device, e.g., <em class="emphasis">/etc/ppp/options.cua0</EM
> sets options for cua0. The
order of precedence for options is that those specified in the
<em class="emphasis">/etc/ppp/options</EM
>.device file are the highest priority, followed
by those defined on the command line, then those in the <em class="emphasis">~/.ppprc</EM
>
file, and, finally, those defined in the <em class="emphasis">/etc/ppp/options</EM
>
file. Some options that relate to system security, once defined in the
<em class="emphasis">/etc/ppp/options</EM
> file, cannot be overridden by the user through
the command line or the <em class="emphasis">~/.ppprc</EM
> file. The system administrator
can override any option set by the user by setting the option in the
<em class="emphasis">/etc/ppp/options</EM
>.device file.</P
><p class="para">The following list contains all of the <b class="emphasis.bold">pppd</B
> options except
those that do not relate to TCP/IP:</P
><dl class="variablelist"><dt class="term"><code class="replaceable"><i>local_IP_address</I
></CODE
>:<code class="replaceable"><i>remote_IP_address</I
></CODE
></DT
><dd class="listitem"><p class="para">Defines static local and remote IP addresses. Either address may
be omitted. For example: 172.16.25.3: defines only the local address,
while :172.16.25.12 defines only the remote address. The default local
address is the IP address associated with the local system's hostname.</P
></DD
><dt class="term"><b class="emphasis.bold">-ac</B
></DT
><dd class="listitem"><p class="para">Disables Address/Control compression negotiation.</P
></DD
><dt class="term"><b class="emphasis.bold">-all</B
></DT
><dd class="listitem"><p class="para">Disables all LCP and IPCP negotiations.</P
></DD
><dt class="term"><b class="emphasis.bold">-am</B
></DT
><dd class="listitem"><p class="para">Disables <b class="emphasis.bold">asyncmap</B
> negotiation. Sends all control characters as
two-character escape sequences.&#13;</P
></DD
><dt class="term"><b class="emphasis.bold">asyncmap</B
> <code class="replaceable"><i>map</I
></CODE
></DT
><dd class="listitem"><p class="para">Defines the ASCII control characters that must be sent as two-character
escape sequences. The first 32 ASCII characters are control characters.
<code class="replaceable"><i>map</I
></CODE
> is a 32-bit hex number with each bit representing a control
character. Bit 0 (00000001) represents the character 0x00; bit 31
(80000000) represents the character 0x1f. If a bit is on in <code class="replaceable"><i>map</I
></CODE
>,
the character represented by that bit must be sent as an escape sequence.
If no <b class="emphasis.bold">asyncmap</B
> option is specified, all control characters are sent
as escape sequences. The <b class="emphasis.bold">asyncmap</B
> option can also be written in
the form <b class="emphasis.bold">-as</B
> <code class="replaceable"><i>map</I
></CODE
>.</P
></DD
><dt class="term"><b class="emphasis.bold">auth</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-19913"></A
>Requires the use of an authentication protocol. See <a class="xref" href="ch06_01.htm" title="Configuring the Interface ">Chapter 6</A
> for a
discussion of the authentication protocols CHAP and PAP.</P
></DD
><dt class="term"><b class="emphasis.bold">bsdcomp</B
> <code class="replaceable"><i>receive</I
></CODE
>,<code class="replaceable"><i>transmit</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-19924"></A
>Enables the BSD-Compress scheme to compress packets. The maximum
length code word used to compress packets accepted by this host is
<code class="replaceable"><i>receive</I
></CODE
> bits long. The maximum code word length used to compress
packets sent by this host is <code class="replaceable"><i>transmit</I
></CODE
> bits long. Acceptable code
word length is 9 to 15 bits. Disable compression when receiving
or transmitting by placing a 0 in <code class="replaceable"><i>receive</I
></CODE
> or <code class="replaceable"><i>transmit</I
></CODE
>,
respectively.</P
></DD
><dt class="term"><b class="emphasis.bold">-bsdcomp</B
></DT
><dd class="listitem"><p class="para">Disables BSD-Compress compression.</P
></DD
><dt class="term"><b class="emphasis.bold">+chap</B
></DT
><dd class="listitem"><p class="para">Requires the use of the <em class="emphasis">Challenge Handshake Authentication
Protocol</EM
> (CHAP).<a class="indexterm" name="AUTOID-19941"></A
></P
></DD
><dt class="term"><b class="emphasis.bold">-chap</B
></DT
><dd class="listitem"><p class="para">Disables the use of CHAP. This is a bad idea.</P
></DD
><dt class="term"><b class="emphasis.bold">chap-interval</B
></DT
><dd class="listitem"><p class="para">Tells system to use CHAP to reauthenticate the remote system every
<code class="replaceable"><i>n</I
></CODE
> seconds.</P
></DD
><dt class="term"><b class="emphasis.bold">chap-max-challenge</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to send the CHAP challenge to the remote system a maximum
of <code class="replaceable"><i>n</I
></CODE
> times until the remote system responds. The default is
10.</P
></DD
><dt class="term"><b class="emphasis.bold">chap-restart</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to wait <code class="replaceable"><i>n</I
></CODE
> seconds before retransmitting a CHAP
challenges when the remote system fails to respond. The default is 3
seconds.&#13;</P
></DD
><dt class="term"><b class="emphasis.bold">connect</B
> <code class="replaceable"><i>script</I
></CODE
></DT
><dd class="listitem"><p class="para">Invokes a <code class="replaceable"><i>script</I
></CODE
> to create the serial connection. Any
scripting language can be used, but <b class="emphasis.bold">chat</B
> is the most common. See
<a class="xref" href="ch06_01.htm" title="Configuring the Interface ">Chapter 6</A
> for an example of using <b class="emphasis.bold">connect</B
> to invoke an inline
<b class="emphasis.bold">chat</B
> script.</P
></DD
><dt class="term"><b class="emphasis.bold">crtscts</B
></DT
><dd class="listitem"><p class="para">Enables hardware flow control (RTS/CTS).</P
></DD
><dt class="term"><b class="emphasis.bold">-crtscts</B
></DT
><dd class="listitem"><p class="para">Disables hardware flow control (RTS/CTS).</P
></DD
><dt class="term"><b class="emphasis.bold">debug</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-19994"></A
>Logs all control packets sent or received using <b class="emphasis.bold">syslogd</B
> with facility
<em class="emphasis">daemon</EM
> and level <em class="emphasis">debug</EM
>. The <b class="emphasis.bold">debug</B
> option can also be
written as <b class="emphasis.bold">-d</B
>.</P
></DD
><dt class="term"><b class="emphasis.bold">defaultroute</B
></DT
><dd class="listitem"><p class="para">Defines the PPP link as the default route. The route is removed when
the connection is closed.</P
></DD
><dt class="term"><b class="emphasis.bold">-defaultroute</B
></DT
><dd class="listitem"><p class="para">Prevents users from creating a default route using the
<b class="emphasis.bold">defaultroute</B
> option.</P
></DD
><dt class="term"><b class="emphasis.bold">-detach</B
></DT
><dd class="listitem"><p class="para">Prevents <b class="emphasis.bold">pppd</B
> from running as a background process. See the
example in <a class="xref" href="ch06_01.htm" title="Configuring the Interface ">Chapter 6</A
>.</P
></DD
><dt class="term"><b class="emphasis.bold">disconnect</B
> <code class="replaceable"><i>script</I
></CODE
></DT
><dd class="listitem"><p class="para">Invokes a <code class="replaceable"><i>script</I
></CODE
> to gracefully shut down the serial connection.
Any scripting language can be used, but <b class="emphasis.bold">chat</B
> is the most common.<a class="indexterm" name="AUTOID-20027"></A
></P
></DD
><dt class="term"><b class="emphasis.bold">domain</B
> <code class="replaceable"><i>name</I
></CODE
></DT
><dd class="listitem"><p class="para">Defines the name of the local domain. Use this if <b class="emphasis.bold">hostname</B
>
does not return a fully qualified name for the local system.</P
></DD
><dt class="term"><b class="emphasis.bold">escape</B
> <code class="replaceable"><i>x,x,...</I
></CODE
></DT
><dd class="listitem"><p class="para">Specifies characters that should be transmitted as two-character escape
sequences. The characters are specified in a comma-separated list of
hex numbers. Any character except 0x20 - 0x3f and 0x5e can be
escaped.</P
></DD
><dt class="term"><b class="emphasis.bold">file</B
> <code class="replaceable"><i>file</I
></CODE
></DT
><dd class="listitem"><p class="para">Defines another options file, where <code class="replaceable"><i>file</I
></CODE
> is the name of the
new file. Options are normally read for <em class="emphasis">/etc/ppp/options</EM
>, <em class="emphasis">~/.ppprc</EM
>,
the command line, and <em class="emphasis">/etc/ppp/options</EM
>.device. See the description
of these files earlier in this section.</P
></DD
><dt class="term"><b class="emphasis.bold">-ip</B
></DT
><dd class="listitem"><p class="para">Disables IP address negotiation. When used, the remote IP address must
be explicitly defined by a <b class="emphasis.bold">pppd</B
> option.</P
></DD
><dt class="term"><b class="emphasis.bold">+ip-protocol</B
></DT
><dd class="listitem"><p class="para">Enables the IPCP and IP protocols, which is the default.</P
></DD
><dt class="term"><b class="emphasis.bold">-ip-protocol</B
></DT
><dd class="listitem"><p class="para">Disables the IPCP and IP protocols. This should never be used on a TCP/IP
network. It is for pure IPX networks.<a class="indexterm" name="AUTOID-20068"></A
></P
></DD
><dt class="term"><b class="emphasis.bold">ipcp-accept-local</B
></DT
><dd class="listitem"><p class="para">Tells system to use the local IP address provided by the remote server even if it is defined locally.</P
></DD
><dt class="term"><b class="emphasis.bold">ipcp-accept-remote</B
></DT
><dd class="listitem"><p class="para">Tells system to use the remote IP address provided by the remote server even if it is defined locally.</P
></DD
><dt class="term"><b class="emphasis.bold">ipcp-max-configure</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to send the IPCP configure-request packet a maximum of <code class="replaceable"><i>n</I
></CODE
> times.
The default is 10.</P
></DD
><dt class="term"><b class="emphasis.bold">ipcp-max-failure</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to accept up to <code class="replaceable"><i>n</I
></CODE
> IPCP configure-NAKs before sending
a configure-reject. The default is 10.</P
></DD
><dt class="term"><b class="emphasis.bold">ipcp-max-terminate</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to send no more than <code class="replaceable"><i>n</I
></CODE
> IPCP terminate-request packets
without receiving an acknowledgment. The default is 3.</P
></DD
><dt class="term"><b class="emphasis.bold">ipcp-restart</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to wait <code class="replaceable"><i>n</I
></CODE
> seconds before resending an IPCP configure-request packet.
The default is 3.</P
></DD
><dt class="term"><b class="emphasis.bold">ipparam</B
> <code class="replaceable"><i>string</I
></CODE
></DT
><dd class="listitem"><p class="para">Passes <code class="replaceable"><i>string</I
></CODE
> to the ip-up and ip-down scripts.  <em class="emphasis">/etc/ppp/ip-up</EM
>
is a shell script executed by <b class="emphasis.bold">pppd</B
> when the link comes
up.  <em class="emphasis">/etc/ppp/ip-down</EM
> is a shell script executed by <b class="emphasis.bold">pppd</B
> when the
link is brought down.</P
></DD
><dt class="term"><b class="emphasis.bold">kdebug</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Enables kernel-level debugging. <code class="replaceable"><i>n</I
></CODE
> is 1 to print general
debugging messages, 2 to print received packets, and 4 to print
transmitted packets.</P
></DD
><dt class="term"><b class="emphasis.bold">lcp-echo-failure</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to terminate the connection if no reply is received to <code class="replaceable"><i>n</I
></CODE
> LCP
echo-requests. Normally echo-requests are not used for this purpose
because &quot;link down&quot; conditions are determined by the modem hardware.</P
></DD
><dt class="term"><b class="emphasis.bold">lcp-echo-interval</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to wait <code class="replaceable"><i>n</I
></CODE
> seconds before sending another LCP echo-request when the
remote system fails to reply.</P
></DD
><dt class="term"><b class="emphasis.bold">lcp-max-configure</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to send the LCP configure-request packet a maximum of <code class="replaceable"><i>n</I
></CODE
> times.
The default is 10.</P
></DD
><dt class="term"><b class="emphasis.bold">lcp-max-failure</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to accept up to <code class="replaceable"><i>n</I
></CODE
> LCP configure-NAKs before sending
a configure-reject. The default is 10.</P
></DD
><dt class="term"><b class="emphasis.bold">lcp-max-terminate</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to send no more than <code class="replaceable"><i>n</I
></CODE
> LCP terminate-request transmissions
without receiving an acknowledgment. The default is 3.</P
></DD
><dt class="term"><b class="emphasis.bold">lcp-restart</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to wait <code class="replaceable"><i>n</I
></CODE
> seconds before resending a LCP configure-request packet.
The default is 3.</P
></DD
><dt class="term"><b class="emphasis.bold">local</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20173"></A
>Tells system to ignore the DCD (Data Carrier Detect) and DTR (Data Terminal Ready)
modem control lines.<a class="indexterm" name="AUTOID-20175"></A
></P
></DD
><dt class="term"><b class="emphasis.bold">lock</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20182"></A
>Tells system to use a UUCP-style lock file to ensure that <b class="emphasis.bold">pppd</B
> has exclusive access
to the serial device.</P
></DD
><dt class="term"><b class="emphasis.bold">login</B
></DT
><dd class="listitem"><p class="para">Tells system to use the <em class="emphasis">/etc/passwd</EM
> file to authenticate PAP users. Records the login in the <em class="emphasis">wtmp</EM
> file.</P
></DD
><dt class="term"><b class="emphasis.bold">modem</B
></DT
><dd class="listitem"><p class="para">Tells system to use the DCD (Data Carrier Detect) and DTR (Data Terminal Ready) modem control lines; wait for the DCD signal before opening the serial device;
and drop the DTR signal when terminating a connection.</P
></DD
><dt class="term"><b class="emphasis.bold">-mn</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20202"></A
>Disables magic number negotiation.</P
></DD
><dt class="term"><b class="emphasis.bold">mru</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20210"></A
><a class="indexterm" name="AUTOID-20212"></A
>Sets the Maximum Receive Unit (MRU) to <code class="replaceable"><i>n</I
></CODE
> bytes. MRU is used to tell
the remote system the maximum packet size the local system can accept.
The minimum is 128. The default is 1500.</P
></DD
><dt class="term"><b class="emphasis.bold">-mru</B
></DT
><dd class="listitem"><p class="para">Disables Maximum Receive Unit (MRU) negotiation.</P
></DD
><dt class="term"><b class="emphasis.bold">mtu</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Sets the Maximum Transmission Unit (MTU) to <code class="replaceable"><i>n</I
></CODE
> bytes. MTU defines
the maximum length of a packet that can be sent. The smaller of the
local MTU and the remote MRU is used to define the maximum packet
length.</P
></DD
><dt class="term"><b class="emphasis.bold">name</B
> <code class="replaceable"><i>name</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to use <code class="replaceable"><i>name</I
></CODE
> as the name of the local system for authentication purposes.</P
></DD
><dt class="term"><b class="emphasis.bold">netmask</B
> <code class="replaceable"><i>mask</I
></CODE
></DT
><dd class="listitem"><p class="para">Defines the subnet mask.</P
></DD
><dt class="term"><b class="emphasis.bold">noipdefault</B
></DT
><dd class="listitem"><p class="para">Instructs system not to use <b class="emphasis.bold">hostname</B
> to determine the local IP address. The address must
be obtained from the remote system or explicitly set by an option.</P
></DD
><dt class="term"><b class="emphasis.bold">+pap</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20251"></A
><a class="indexterm" name="AUTOID-20253"></A
>Requires the use of the <em class="emphasis">Password Authentication Protocol</EM
> (PAP).</P
></DD
><dt class="term"><b class="emphasis.bold">-pap</B
></DT
><dd class="listitem"><p class="para">Disables the use of PAP.</P
></DD
><dt class="term"><b class="emphasis.bold">papcrypt</B
></DT
><dd class="listitem"><p class="para">Instructs system not to accept passwords that are identical to those in the
<em class="emphasis">/etc/ppp/pap-secrets</EM
> file because the ones in the file are encrypted.
Therefore the transmitted password should not match an entry in the
<em class="emphasis">pap-secrets</EM
> file until it is also encrypted.</P
></DD
><dt class="term"><b class="emphasis.bold">pap-max-authreq</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to transmit no more than <code class="replaceable"><i>n</I
></CODE
> PAP authenticate-requests if the remote
system does not respond. The default is 10.</P
></DD
><dt class="term"><b class="emphasis.bold">pap-restart</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to wait <code class="replaceable"><i>n</I
></CODE
> seconds before retransmitting a PAP authenticate-request.
The default is 3 seconds.</P
></DD
><dt class="term"><b class="emphasis.bold">pap-timeout</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to wait no more than <code class="replaceable"><i>n</I
></CODE
> seconds for the remote system to authenticate
itself. When <code class="replaceable"><i>n</I
></CODE
> is 0, there is no time limit.</P
></DD
><dt class="term"><b class="emphasis.bold">passive</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20295"></A
><a class="indexterm" name="AUTOID-20297"></A
>Tells system to wait for a Link Control Protocol (LCP) packet from the remote system even if that system does not reply to the initial LCP packet sent by the
local system. Without this option the local system aborts the connection
when it does not receive a reply. The <b class="emphasis.bold">passive</B
> option can also be written as <b class="emphasis.bold">-p</B
>.</P
></DD
><dt class="term"><b class="emphasis.bold">-pc</B
></DT
><dd class="listitem"><p class="para">Disables protocol field compression negotiation. By default, protocol
field compression is not used. Setting this option means that even if
the remote end requests it, it will not be used.</P
></DD
><dt class="term"><b class="emphasis.bold">persist</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20311"></A
>Tells system to reopen the connection if it was terminated by a SIGHUP signal.</P
></DD
><dt class="term"><b class="emphasis.bold">pred1comp</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20318"></A
>Tells system to ask the remote system to use Predictor-1 compression.</P
></DD
><dt class="term"><b class="emphasis.bold">-pred1comp</B
></DT
><dd class="listitem"><p class="para">Tells system not to use Predictor-1 compression.</P
></DD
><dt class="term"><b class="emphasis.bold">proxyarp</B
></DT
><dd class="listitem"><p class="para">Tells system to enable proxy ARP. This adds a proxy ARP entry for the remote system to
the local system's ARP table.</P
></DD
><dt class="term"><b class="emphasis.bold">-proxyarp</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20335"></A
>Disables the <b class="emphasis.bold">proxyarp</B
> option, preventing users from creating proxy
ARP entries with <em class="emphasis">pppd</EM
>.</P
></DD
><dt class="term"><b class="emphasis.bold">remotename</B
> <code class="replaceable"><i>name</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to use <code class="replaceable"><i>name</I
></CODE
> as the remote system's name for authentication purposes.</P
></DD
><dt class="term"><b class="emphasis.bold">silent</B
></DT
><dd class="listitem"><p class="para">Tells system to wait for an LCP packet from the remote system. Do not send the first
LCP packet.</P
></DD
><dt class="term"><b class="emphasis.bold">usehostname</B
></DT
><dd class="listitem"><p class="para">Disables the <b class="emphasis.bold">name</B
> option, forcing the local hostname to be used for
authentication purposes.</P
></DD
><dt class="term"><b class="emphasis.bold">user</B
> <code class="replaceable"><i>username</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to use <code class="replaceable"><i>username</I
></CODE
> for PAP authentication when challenged by a remote
host.</P
></DD
><dt class="term"><b class="emphasis.bold">-vj</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20369"></A
>Disables Van Jacobson header compression.</P
></DD
><dt class="term"><b class="emphasis.bold">-vjccomp</B
></DT
><dd class="listitem"><p class="para">Disables the connection-ID compression option in Van Jacobson header
compression.</P
></DD
><dt class="term"><b class="emphasis.bold">vj-max-slots</B
> <code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para">Tells system to use <code class="replaceable"><i>n</I
></CODE
> connection slots for Van Jacobson header compression. <code class="replaceable"><i>n</I
></CODE
> must be a number from 2 to 16.</P
></DD
></DL
><p class="para">Several of the options listed above concern PPP security. One of
the strengths of PPP is its security. The <em class="emphasis">Challenge Handshake<a class="indexterm" name="AUTOID-20387"></A
>
Authentication Protocol</EM
> (CHAP) is the preferred PPP security protocol.<a class="indexterm" name="AUTOID-20389"></A
>
The <em class="emphasis">Password Authentication Protocol</EM
> (PAP) is less secure and only
provided for compatibility with less capable systems. The usernames,
IP addresses, and secret keys used for these protocols are defined in the
<em class="emphasis">/etc/ppp/chap-secrets</EM
> file and the <em class="emphasis">/etc/ppp/pap-secrets</EM
> file. <a class="xref" href="ch06_01.htm" title="Configuring the Interface ">Chapter 6</A
>
shows the format of these files and describes their use.</P
><p class="para">It is very important that the directory <em class="emphasis">/etc/ppp</EM
> and the files in
that directory not be world- or group-writable. Modifications to
the <em class="emphasis">chap-secrets</EM
>, <em class="emphasis">pap-secrets</EM
>, or <em class="emphasis">options</EM
> files could
compromise system security. In addition, the script files <em class="emphasis">/etc/ppp/ip-up</EM
>
and <em class="emphasis">/etc/ppp/ip-down</EM
> may run with root privilege. If <b class="emphasis.bold">pppd</B
> finds a
file with the name <em class="emphasis">ip-up</EM
> in the <em class="emphasis">/etc/ppp</EM
> directory, it executes 
it as soon as the PPP connection is established. The <em class="emphasis">ip-up</EM
> script is used
to modify the routing table, process the <b class="emphasis.bold">sendmail</B
> queue, or do
other tasks that depend on the presences of the network connection.
The <em class="emphasis">ip-down</EM
> script is executed by <b class="emphasis.bold">pppd</B
> after the PPP connection
is closed and is used to terminate processes that depend on the link.<a class="indexterm" name="AUTOID-20409"></A
><a class="indexterm" name="AUTOID-20411"></A
>
Clearly these scripts and the <em class="emphasis">/etc/ppp</EM
> directory must be protected.</P
><div class="sect2"><h3 class="sect2"><a class="title" name="TCP2-AP-1-SECT-2.0.1">A.2.1 Signal processing</A
></H3
><p class="para"><a class="indexterm" name="TCP2-AP-1-IX-SIGNAL-PROCESSING-IN-PPPD"></A
><b class="emphasis.bold">pppd</B
> handles the following signals:</P
><dl class="variablelist"><dt class="term">SIGUSR1</DT
><dd class="listitem"><p class="para">This signal toggles debugging on or off. The first SIGUSR1 signal
received by <b class="emphasis.bold">pppd</B
> turns on debugging and begins logging diagnostic
messages through <b class="emphasis.bold">syslogd</B
> with facility set to <em class="emphasis">daemon</EM
> and
level set to <em class="emphasis">debug</EM
>. The second SIGUSR1 signal turns off
debugging and closes the log file. See the <b class="emphasis.bold">debug</B
> option
described above.</P
></DD
><dt class="term">SIGUSR2</DT
><dd class="listitem"><p class="para">This signal causes <b class="emphasis.bold">pppd</B
> to renegotiate compression. It has limited
applicability because it is only needed to restart compression after
a fatal error has occurred. Most people close the PPP connection and
open a new one after a fatal error.</P
></DD
><dt class="term">SIGHUP</DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20441"></A
>This signal closes the PPP connection, returns the serial device to its
normal operating mode, and terminates <b class="emphasis.bold">pppd</B
>. If the <b class="emphasis.bold">persist</B
>
option is specified, <b class="emphasis.bold">pppd</B
> opens an new connection instead of
terminating.</P
></DD
><dt class="term">SIGINT</DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-20450"></A
>This signal, or the SIGTERM signal, closes the PPP connection,
returns the serial device to its normal operating mode, and terminates
<b class="emphasis.bold">pppd</B
>. The <b class="emphasis.bold">persist</B
> option has no effect.<a class="indexterm" name="AUTOID-20454"></A
><a class="indexterm" name="AUTOID-20455"></A
></P
></DD
></DL
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="appa_01.htm" title="A.1 Dial-Up IP"><img src="../gifs/txtpreva.gif" alt="Previous: A.1 Dial-Up IP" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="TCP/IP Network Administration"><img src="../gifs/txthome.gif" alt="TCP/IP Network Administration" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="appa_03.htm" title="A.3 chat"><img src="../gifs/txtnexta.gif" alt="Next: A.3 chat" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">A.1 Dial-Up IP</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">A.3 chat</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
