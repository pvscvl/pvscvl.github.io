<html><head>
<title>[Chapter 11] 11.2 Diagnostic Tools </TITLE>
<meta name="DC.title" content="TCP/IP Network Administration"><meta name="DC.creator" content="Craig Hunt"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T01:40:17Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-322-7" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch11_01.htm" title="11. Troubleshooting TCP/IP "><link rel="prev" href="ch11_01.htm" title="11.1 Approaching a Problem "><link rel="next" href="ch11_03.htm#TCP2-CH-11-SECT-3.1" title="11.3 Testing Basic Connectivity "></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="TCP/IP Network Administration" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="TCP/IP Network Administration"><area shape="RECT" coords="467,0,514,18" href="../search/tsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch11_01.htm" title="11.1 Approaching a Problem "><img src="../gifs/txtpreva.gif" alt="Previous: 11.1 Approaching a Problem " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 11<br>Troubleshooting TCP/IP </FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch11_03.htm#TCP2-CH-11-SECT-3.1" title="11.3 Testing Basic Connectivity "><img src="../gifs/txtnexta.gif" alt="Next: 11.3 Testing Basic Connectivity " border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="TCP2-CH-11-SECT-2">11.2 Diagnostic Tools </A
></H2
><p class="para"><a class="indexterm" name="TCP2-CH-11-IX-DIAGNOSTIC-TOOLS"></A
>Because most problems have a simple cause, developing a clear idea of
the problem often provides the solution. Unfortunately, this is not
always true, so in this section we begin to discuss the tools that can
help you attack the most intractable problems. Many diagnostic tools
are available, ranging from commercial systems with specialized
hardware and software that may cost thousands of dollars, to free
software that is available from the Internet. Many software tools are
provided with your UNIX system. You should also keep some hardware
tools handy.</P
><p class="para">To maintain the network's equipment<a class="indexterm" name="AUTOID-15294"></A
>
and wiring you need some simple hand tools. A pair of needle-nose pliers and a few screwdrivers may be
sufficient, but you may also need specialized tools. For example, attaching RJ45 connectors to Unshielded Twisted
Pair (UTP) cable requires special crimping tools. It is usually easiest<a class="indexterm" name="AUTOID-15297"></A
>
to buy a ready-made network maintenance toolkit from your cable
vendor.</P
><p class="para"><a class="indexterm" name="AUTOID-15300"></A
>A full-featured cable tester is also useful. Modern cable testers are
small hand-held units with a keypad and LCD display that test both
thinnet or UTP cable. Tests are selected from the keyboard and results
are displayed on the LCD screen. It is not necessary to interpret the
results because the unit does that for you and displays the error
condition in a simple text message. For example, a cable test might
produce the message &quot;Short at 74 feet.&quot; This tells you that the cable
is shorted 74 feet away from the tester. What could be simpler? The
proper test tools make it easier to locate, and therefore fix, cable
problems.</P
><p class="para">A laptop computer can be a most useful piece of test equipment when<a class="indexterm" name="AUTOID-15303"></A
>
properly configured. Install TCP/IP software on the laptop. Take it to
the location where the user reports a network problem. Disconnect the
Ethernet cable from the back of the user's system and attach it to the
laptop. Configure the laptop with an appropriate address for the user's
subnet and reboot it. Then <b class="emphasis.bold">ping</B
> various systems on the network and
attach to one of the user's servers. If everything works, the fault is
probably in the user's computer. The user trusts this test because it
demonstrates something she does every day. She will have more confidence in the laptop than an unidentifiable piece
of test equipment displaying the message &quot;No faults found.&quot; If the test fails, the fault is probably
in the network equipment or wiring. That's the time to bring out the
cable tester.</P
><p class="para">Another advantage of using a laptop as a piece of test equipment is its
inherent versatility. It runs a wide variety of test, diagnostic, and
management software. Install UNIX on the laptop and run the software
discussed in the rest of this chapter from your desktop or your
laptop.</P
><p class="para">This book emphasizes free or &quot;built-in&quot; software diagnostic tools that
run on UNIX systems. The software tools used in this chapter, and many
more, are described in RFC 1470, <em class="emphasis">FYI on a Network Management Tool
Catalog: Tools for Monitoring and Debugging TCP/IP Internets and
Interconnected Devices</EM
>. A catchy title, and a very useful RFC! The
tools listed in that catalog and discussed in this book are:</P
><dl class="variablelist"><dt class="term"><b class="emphasis.bold">ifconfig</B
></DT
><dd class="listitem"><p class="para">Provides information about the basic configuration of the interface.<a class="indexterm" name="AUTOID-15315"></A
>
It is useful for detecting bad IP addresses, incorrect subnet masks, and 
improper broadcast addresses. <a class="xref" href="ch06_01.htm" title="Configuring the Interface ">Chapter 6, <cite class="chapter">Configuring the Interface </CITE
></A
>, covers <b class="emphasis.bold">ifconfig</B
> in detail. This tool is provided with the UNIX operating system.</P
></DD
><dt class="term"><b class="emphasis.bold">arp</B
></DT
><dd class="listitem"><p class="para">Provides information about Ethernet/IP address translation. It can be<a class="indexterm" name="AUTOID-15325"></A
>
used to detect systems on the local network that are configured with
the wrong IP address. <b class="emphasis.bold">arp</B
> is covered in this chapter, and is
used in an example in <a class="xref" href="ch02_01.htm" title="Delivering the Data">Chapter 2, <cite class="chapter">Delivering the Data</CITE
></A
>. <b class="emphasis.bold">arp</B
> is delivered as part of
UNIX.</P
></DD
><dt class="term"><b class="emphasis.bold">netstat</B
></DT
><dd class="listitem"><p class="para">Provides a variety of information. It is commonly used to display<a class="indexterm" name="AUTOID-15337"></A
>
detailed statistics about each network interface, network
sockets, and the network routing table. <b class="emphasis.bold">netstat</B
> is used
repeatedly in this book, most extensively in Chapters 2, 6, and 7.
<b class="emphasis.bold">netstat</B
> is delivered as part of UNIX.</P
></DD
><dt class="term"><b class="emphasis.bold">ping</B
></DT
><dd class="listitem"><p class="para">Indicates whether a remote host can be reached.
<b class="emphasis.bold">ping</B
> also displays statistics about packet loss and
delivery time. <b class="emphasis.bold">ping</B
> is discussed in <a class="xref" href="ch01_01.htm" title="Overview of TCP/IP">Chapter 1, <cite class="chapter">Overview of TCP/IP</CITE
></A
> and used in
Chapter&nbsp;7. <b class="emphasis.bold">ping</B
> also comes as part of UNIX.</P
></DD
><dt class="term"><b class="emphasis.bold">nslookup</B
></DT
><dd class="listitem"><p class="para">Provides information about the DNS name service. <b class="emphasis.bold">nslookup</B
> is<a class="indexterm" name="AUTOID-15357"></A
><a class="indexterm" name="AUTOID-15360"></A
>
covered in detail in <a class="xref" href="ch08_01.htm" title="Configuring DNS Name Service ">Chapter 8, <cite class="chapter">Configuring DNS Name Service </CITE
></A
>. It comes as part of the BIND software
package.</P
></DD
><dt class="term"><b class="emphasis.bold">dig</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-15368"></A
>Also provides information about name service, and is similar to
<b class="emphasis.bold">nslookup</B
>.</P
></DD
><dt class="term"><b class="emphasis.bold">ripquery</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-15376"></A
>Provides information about the contents of the RIP update packets being
sent or received by your system. It is provided as part of the<a class="indexterm" name="AUTOID-15378"></A
>
<b class="emphasis.bold">gated</B
> software package, but it does not require that you run
<b class="emphasis.bold">gated</B
>. It will work with any system running RIP.</P
></DD
><dt class="term"><b class="emphasis.bold">traceroute</B
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-15388"></A
>Prints information about each routing hop that packets take going from
your system to a remote system.</P
></DD
><dt class="term"><b class="emphasis.bold">snoop</B
></DT
><dd class="listitem"><p class="para">Analyzes the individual packets exchanged between hosts on a network.<a class="indexterm" name="AUTOID-15395"></A
>
<b class="emphasis.bold">snoop</B
> is a TCP/IP protocol analyzer that examines the contents
of packets, including their headers. It is most useful for analyzing<a class="indexterm" name="AUTOID-15398"></A
>
protocol problems. <b class="emphasis.bold">tcpdump</B
> is a tool similar to <b class="emphasis.bold">snoop</B
> that
is available via anonymous FTP from the Internet.</P
></DD
></DL
><p class="para">This chapter discusses each of these tools, even those covered earlier in the text. We start with <b class="emphasis.bold">ping</B
>, which is used in
more troubleshooting situations than any other diagnostic tool.<a class="indexterm" name="AUTOID-15404"></A
></P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch11_01.htm" title="11.1 Approaching a Problem "><img src="../gifs/txtpreva.gif" alt="Previous: 11.1 Approaching a Problem " border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="TCP/IP Network Administration"><img src="../gifs/txthome.gif" alt="TCP/IP Network Administration" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch11_03.htm#TCP2-CH-11-SECT-3.1" title="11.3 Testing Basic Connectivity "><img src="../gifs/txtnexta.gif" alt="Next: 11.3 Testing Basic Connectivity " border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">11.1 Approaching a Problem </TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">11.3 Testing Basic Connectivity </TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
