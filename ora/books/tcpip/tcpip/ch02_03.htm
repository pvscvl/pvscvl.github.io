<html><head>
<title>[Chapter 2] 2.3 Subnets</TITLE>
<meta name="DC.title" content="TCP/IP Network Administration"><meta name="DC.creator" content="Craig Hunt"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-02-04T01:31:13Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-322-7" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch02_01.htm" title="2. Delivering the Data"><link rel="prev" href="ch02_02.htm#TCP2-CH-2-SECT-2.2" title="2.2 The IP Address"><link rel="next" href="ch02_04.htm" title="2.4 Internet Routing Architecture"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="TCP/IP Network Administration" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="TCP/IP Network Administration"><area shape="RECT" coords="467,0,514,18" href="../search/tsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch02_02.htm#TCP2-CH-2-SECT-2.2" title="2.2 The IP Address"><img src="../gifs/txtpreva.gif" alt="Previous: 2.2 The IP Address" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 2<br>Delivering the Data</FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch02_04.htm" title="2.4 Internet Routing Architecture"><img src="../gifs/txtnexta.gif" alt="Next: 2.4 Internet Routing Architecture" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="TCP2-CH-2-SECT-3">2.3 Subnets</A
></H2
><p class="para"><a class="indexterm" name="TCP2-CH-2-IX-SUBNETS"></A
>The structure of an IP address can be locally modified by using host
address bits as additional network address bits. Essentially, the
&quot;dividing line&quot; between network address bits and host address bits is
moved, creating additional networks, but reducing the maximum number of
hosts that can belong to each network. These newly designated network
bits define a network within the larger network, called a <em class="emphasis">subnet</EM
>.</P
><p class="para">Organizations usually decide to subnet in order to overcome topological
or organizational problems. Subnetting allows decentralized management<a class="indexterm" name="AUTOID-1717"></A
><a class="indexterm" name="AUTOID-1719"></A
>
of host addressing. With the standard addressing scheme, a central
administrator is responsible for managing host addresses for the entire
network. By subnetting, the administrator can delegate address assignment
to smaller organizations within the overall organization&nbsp;- which may be
a political expedient, if not a technical requirement. If you don't
want to deal with the data processing department, assign them their own
subnet and let them manage it themselves.</P
><p class="para">Subnetting can also be used to overcome hardware differences and
distance limitations. IP routers can link dissimilar physical networks<a class="indexterm" name="AUTOID-1724"></A
>
together, but only if each physical network has its own unique network
address. Subnetting divides a single network address
into many unique subnet addresses, so that each physical network can
have its own unique address.</P
><p class="para">A subnet is defined by changing the bit mask of the IP address.
A <em class="emphasis">subnet mask</EM
> <a class="indexterm" name="AUTOID-1729"></A
><a class="indexterm" name="AUTOID-1732"></A
>
functions in the same way as a normal address mask:
an &quot;on&quot; bit is interpreted as a network bit; an &quot;off&quot; bit belongs to the
host part of the address. The difference is that a subnet mask is only
used locally. In the outside world the address is still interpreted as
a standard IP address.</P
><p class="para">Assume we have been assigned network address 172.16.0.0/16. The subnet
mask associated with that address is 255.255.0.0. The most commonly
used subnet mask, and the one we use in most of our examples, extends the
network portion of the address by an additional byte, e.g., 172.16.0.0/24.
The subnet mask that does this is 255.255.255.0; all bits on in the
first three bytes, and all bits off in the last byte. The first two bytes
define the original network; the third byte defines the the subnet address;
the fourth byte defines the host on that subnet.</P
><p class="para">Many network administrators prefer byte-oriented masks<a class="indexterm" name="AUTOID-1736"></A
>
because they are easy to read and understand when addresses are
written in dotted decimal notation.<a class="indexterm" name="AUTOID-1738"></A
><a class="indexterm" name="AUTOID-1740"></A
>
However, limiting subnet masks to byte boundaries does not take
advantage of their true power. The subnet mask is bit-oriented.  We
could subdivide 172.16.0.0/16 into 16 subnets with the mask
255.255.240.0, i.e. 172.16.0.0/20. Applying this mask defines the four
high-order bits of the third byte as the subnet part of the address,
and the remaining 12 bits&nbsp;- four bits of the third byte and all of
the fourth byte&nbsp;- as the host portion of the address. This creates 16
subnets that each contain more than four thousand host addresses,
which may well be better suited to our network and organization.  For
example, we may have a small number of large subdivisions.
<a class="xref" href="#TCP2-CH-2-TAB-0" title="Effect of a Subnet Mask">Table 2.1</A
>
shows the
subnets and host addresses produced by applying this subnet masks to
network address 172.16.0.0/16.&#13;</P
><table class="table"><caption class="table"><a class="title" name="TCP2-CH-2-TAB-0">Table 2.1: Effect of a Subnet Mask</A
></CAPTION
><thead class="thead"><tr class="row" valign="TOP"><th class="entry" align="LEFT" rowspan="1" colspan="1">Network Number</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">First Address</TH
><th class="entry" align="LEFT" rowspan="1" colspan="1">Last Address</TH
></TR
></THEAD
><tbody class="tbody"><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.0.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.0.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.15.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.16.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.16.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.31.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.32.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.32.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.47.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.48.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.48.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.63.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.64.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.64.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.79.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.80.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.80.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.95.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.96.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.96.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.111.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.112.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.112.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.127.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.128.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.128.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.143.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.144.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.144.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.159.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.160.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.160.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.175.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.176.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.176.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.191.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.192.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.192.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.207.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.208.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.208.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.223.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.224.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.224.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.239.254</TD
></TR
><tr class="row" valign="TOP"><td class="entry" rowspan="1" colspan="1">172.16.240.0</TD
><td class="entry" rowspan="1" colspan="1">172.16.240.1</TD
><td class="entry" rowspan="1" colspan="1">172.16.254.254</TD
></TR
></TBODY
></TABLE
><p class="para">You don't have to manually calculate a table like 
<a class="xref" href="#TCP2-CH-2-TAB-0" title="Effect of a Subnet Mask">Table 2.1</A
>
to
know what subnets and host addresses are produced by a subnet mask.
The calculations have already been done for you. RFC 1878 lists all
possible subnet masks and the valid addresses they produce.</P
><p class="para">Organizations have been discouraged from subnetting class C addresses
because of the fear that subnetting reduces the number of host addresses
to increase the number of network addresses. A class C network is limited
to fewer than 255 host addresses. Further limiting the number of hosts
would reduce the utility of a class C address. The mask 255.255.255.192
divides a class C address into four subnets of 64 host addresses.
The fear is that the subnet address of all 0s and the subnet address
of all 1s will not be usable. This leaves only two subnets; and because
host addresses of all 1s and all 0s are also unusable, the remaining
two subnets can only address 62 hosts. Therefore the address space of this
class C network number is reduced from 254 hosts to 124 hosts. The fear
of subnetting class C addresses is no longer justified.</P
><p class="para">Originally, the RFCs<a class="indexterm" name="AUTOID-1820"></A
>
implied that you should not used subnet numbers
of all 0s or all 1s. However, RFC 1812, <em class="emphasis">Requirements for
IP Version 4 Routers</EM
>, makes it clear that subnets of all 0s and
all 1s are legal and should be supported by all routers. Some older
routers do not allow the use of these addresses despite the newer RFCs.
Updating router software or hardware should make it possible for you to
reliably subnet class C addresses.</P
><p class="para">Class C subnets are used when very small networks are needed for
specialized network equipment, such as terminal servers, cluster
controllers or routers. In some configurations an entire subnet may be
consumed for the link between two routers. In this case only two host
addresses are need, one for the router at each end of the link. A
subnet mask of 255.255.255.252 applied to a class C address creates 64
subnets each containing four host addresses. In a special case this
might be just what is needed.<a class="indexterm" name="AUTOID-1824"></A
></P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch02_02.htm#TCP2-CH-2-SECT-2.2" title="2.2 The IP Address"><img src="../gifs/txtpreva.gif" alt="Previous: 2.2 The IP Address" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="TCP/IP Network Administration"><img src="../gifs/txthome.gif" alt="TCP/IP Network Administration" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch02_04.htm" title="2.4 Internet Routing Architecture"><img src="../gifs/txtnexta.gif" alt="Next: 2.4 Internet Routing Architecture" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">2.2 The IP Address</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">2.4 Internet Routing Architecture</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.htm" title="The Networking CD Bookshelf">Library Home</A
> | <a href="../dnsbind/index.htm" title="DNS &amp; BIND">DNS &amp; BIND</A
> | <a href="index.htm" title="TCP/IP Network Administration">TCP/IP</A
> | <a href="../sendmail/index.htm" title="sendmail">sendmail</A
> | <a href="../smdref/index.htm" title="sendmail Desktop Reference">sendmail Reference</A
> | <a href="../firewall/index.htm" title="Building Internet Firewalls">Firewalls</A
> | <a href="../puis/index.htm" title="Practical UNIX &amp; Internet Security">Practical Security</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
