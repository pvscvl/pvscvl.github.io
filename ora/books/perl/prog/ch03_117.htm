<html><head>
<title>[Chapter 3] 3.2.117 readdir</TITLE>
<meta name="DC.title" content="Programming Perl"><meta name="DC.creator" content="Larry Wall, Tom Christiansen &amp; Randal L. Schwartz"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-07-02T01:52:47Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-149-6" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch03_02.htm" title="3.2 Perl Functions in Alphabetical Order"><link rel="prev" href="ch03_116.htm#PERL2-CMD-READ" title="3.2.116 read"><link rel="next" href="ch03_118.htm#PERL2-CMD-READLINK" title="3.2.118 readlink"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Programming Perl" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Programming Perl"><area shape="RECT" coords="467,0,514,18" href="../search/psrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT2" href="ch03_116.htm#PERL2-CMD-READ" title="3.2.116 read"><img src="../gifs/txtpreva.gif" alt="Previous: 3.2.116 read" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch03_01.htm" title="3. Functions">Chapter 3<br>Functions</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT2" href="ch03_118.htm#PERL2-CMD-READLINK" title="3.2.118 readlink"><img src="../gifs/txtnexta.gif" alt="Next: 3.2.118 readlink" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT2"><h3 class="sect2"><a class="title" name="PERL2-CMD-READDIR">3.2.117 readdir</A
></H3
><pre class="programlisting">readdir <code class="replaceable"><i>DIRHANDLE</I
></CODE
></PRE
><p class="para"><a class="indexterm" name="AUTOID-12114"></A
><a class="indexterm" name="AUTOID-12116"></A
>This function reads directory entries from a directory handle opened
by <a class="xref" href="ch03_103.htm#PERL2-CMD-OPENDIR" title="opendir"><b class="xref.cmd">opendir</B
></A
>.
In scalar context, this function returns the next directory entry, if any,
otherwise an undefined value.
In list context, it returns all the rest of the entries in the
directory, which will of course be a null list if there are none.
For example:</P
><pre class="programlisting">opendir THISDIR, &quot;.&quot; or die &quot;serious dainbramage: $!&quot;;
@allfiles = readdir THISDIR;
closedir THISDIR;
print &quot;@allfiles\n&quot;;</PRE
><p class="para">prints all the files in the current directory on one line.  If you want to avoid
the &quot;<code class="literal">.</CODE
>&quot; and &quot;<code class="literal">..</CODE
>&quot;
entries, use this instead:</P
><pre class="programlisting">@allfiles = grep !/^\.\.?$/, readdir THISDIR;</PRE
><p class="para">And to avoid all <code class="literal">.*</CODE
> files (like the <em class="emphasis">ls</EM
> program):</P
><pre class="programlisting">@allfiles = grep !/^\./, readdir THISDIR;</PRE
><p class="para">To get just text files, say this:</P
><pre class="programlisting">@textfiles = grep -T, readdir THISDIR;</PRE
><p class="para">But watch out on that last one, because the result of <a class="xref" href="ch03_117.htm#PERL2-CMD-READDIR" title="readdir"><b class="xref.cmd">readdir</B
></A
>
needs to have the directory part glued back on if it's not the current
directory&nbsp;- like this:</P
><pre class="programlisting">opendir THATDIR, $thatdir;
@text_of_thatdir = grep -T, map &quot;$thatdir/$_&quot;, readdir THATDIR;
closedir THATDIR;</PRE
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT2" href="ch03_116.htm#PERL2-CMD-READ" title="3.2.116 read"><img src="../gifs/txtpreva.gif" alt="Previous: 3.2.116 read" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Programming Perl"><img src="../gifs/txthome.gif" alt="Programming Perl" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT2" href="ch03_118.htm#PERL2-CMD-READLINK" title="3.2.118 readlink"><img src="../gifs/txtnexta.gif" alt="Next: 3.2.118 readlink" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">3.2.116 read</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">3.2.118 readlink</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.html" title="The Perl CD Bookshelf">Library Home</A
> | <a href="../perlnut/index.htm" title="Perl in a Nutshell">Perl in a Nutshell</A
> | <a href="../learn/index.htm" title="Learning Perl">Learning Perl</A
> | <a href="../learn32/index.htm" title="Learning Perl on Win32 Systems">Learning Perl on Win32</A
> | <a href="index.htm" title="Programming Perl">Programming Perl</A
> | <a href="../advprog/index.htm" title="Advanced Perl Programming">Advanced Perl Programming</A
> | <a href="../cookbook/index.htm" title="Perl Cookbook">Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
