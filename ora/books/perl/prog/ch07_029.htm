<html><head>
<title>[Chapter 7] 7.2.29 File::Copy&nbsp;- Copy Files or Filehandles</TITLE>
<meta name="DC.title" content="Programming Perl"><meta name="DC.creator" content="Larry Wall, Tom Christiansen &amp; Randal L. Schwartz"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-07-02T02:02:26Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-149-6" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch07_02.htm" title="7.2 Library Modules"><link rel="prev" href="ch07_028.htm#AUTOID-22345" title="7.2.28 File::CheckTree&nbsp;- Run Many Tests on a Collection of Files"><link rel="next" href="ch07_030.htm#AUTOID-22408" title="7.2.30 File::Find&nbsp;- Traverse a File Tree"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Programming Perl" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Programming Perl"><area shape="RECT" coords="467,0,514,18" href="../search/psrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT2" href="ch07_028.htm#AUTOID-22345" title="7.2.28 File::CheckTree&nbsp;- Run Many Tests on a Collection of Files"><img src="../gifs/txtpreva.gif" alt="Previous: 7.2.28 File::CheckTree&nbsp;- Run Many Tests on a Collection of Files" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch07_01.htm" title="7. The Standard Perl Library">Chapter 7<br>The Standard Perl Library</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT2" href="ch07_030.htm#AUTOID-22408" title="7.2.30 File::Find&nbsp;- Traverse a File Tree"><img src="../gifs/txtnexta.gif" alt="Next: 7.2.30 File::Find&nbsp;- Traverse a File Tree" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT2"><h3 class="sect2"><a class="title" name="AUTOID-22378">7.2.29 File::Copy&nbsp;- Copy Files or Filehandles</A
></H3
><pre class="programlisting">use File::Copy;

copy(&quot;<code class="replaceable"><i>src-file</I
></CODE
>&quot;, &quot;<code class="replaceable"><i>dst-file</I
></CODE
>&quot;);
copy(&quot;Copy.pm&quot;, \*STDOUT);

use POSIX;
use File::Copy 'cp';

$fh = FileHandle-&gt;new(&quot;/dev/null&quot;, &quot;r&quot;);
cp($fh, &quot;<code class="replaceable"><i>dst-file</I
></CODE
>&quot;);'</PRE
><p class="para"><a class="indexterm" name="AUTOID-22385"></A
><a class="indexterm" name="AUTOID-22387"></A
><a class="indexterm" name="AUTOID-22389"></A
><a class="indexterm" name="AUTOID-22392"></A
>The Copy module provides one function, <code class="literal">copy()</CODE
>, that takes two
parameters: a file to copy from and a file to copy to.  Either
argument may be a string, a FileHandle reference, or a FileHandle
glob.  If the first argument is a filehandle of some
sort, it will be read from; if it is a filename, it will
be opened for reading.  Likewise, the second argument will be
written to (and created if need be).</P
><p class="para">An optional third parameter is a hint that requests the buffer size to
be used for copying.  This is the number of bytes from the first file
that will be held in memory at any given time, before being written to
the second file.  The default buffer size depends upon the file and the
operating system, but will generally be the whole file (up to 2Mb), or
1kb for filehandles that do not reference files (for example, sockets).</P
><p class="para">When running under VMS, this routine performs an RMS copy of
the file, in order to preserve file attributes, indexed file
structure, and so on.  The buffer size parameter is ignored.</P
><p class="para">You may use the syntax:</P
><pre class="programlisting">use File::Copy &quot;cp&quot;</PRE
><p class="para">to get at the <code class="literal">cp()</CODE
> alias for the <code class="literal">copy()</CODE
> function.
The syntax is exactly
the same.</P
><p class="para"><code class="literal">copy()</CODE
> returns <code class="literal">1</CODE
> on success, <code class="literal">0</CODE
> on failure;
<b class="emphasis.bold">$!</B
> will be set if an error was encountered.</P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT2" href="ch07_028.htm#AUTOID-22345" title="7.2.28 File::CheckTree&nbsp;- Run Many Tests on a Collection of Files"><img src="../gifs/txtpreva.gif" alt="Previous: 7.2.28 File::CheckTree&nbsp;- Run Many Tests on a Collection of Files" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Programming Perl"><img src="../gifs/txthome.gif" alt="Programming Perl" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT2" href="ch07_030.htm#AUTOID-22408" title="7.2.30 File::Find&nbsp;- Traverse a File Tree"><img src="../gifs/txtnexta.gif" alt="Next: 7.2.30 File::Find&nbsp;- Traverse a File Tree" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">7.2.28 File::CheckTree&nbsp;- Run Many Tests on a Collection of Files</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">7.2.30 File::Find&nbsp;- Traverse a File Tree</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.html" title="The Perl CD Bookshelf">Library Home</A
> | <a href="../perlnut/index.htm" title="Perl in a Nutshell">Perl in a Nutshell</A
> | <a href="../learn/index.htm" title="Learning Perl">Learning Perl</A
> | <a href="../learn32/index.htm" title="Learning Perl on Win32 Systems">Learning Perl on Win32</A
> | <a href="index.htm" title="Programming Perl">Programming Perl</A
> | <a href="../advprog/index.htm" title="Advanced Perl Programming">Advanced Perl Programming</A
> | <a href="../cookbook/index.htm" title="Perl Cookbook">Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
