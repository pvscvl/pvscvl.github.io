<html><head>
<title>[Chapter 7] 7.2.31 File::Path&nbsp;- Create or Remove a Series of Directories</TITLE>
<meta name="DC.title" content="Programming Perl"><meta name="DC.creator" content="Larry Wall, Tom Christiansen &amp; Randal L. Schwartz"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-07-02T02:02:29Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-149-6" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch07_02.htm" title="7.2 Library Modules"><link rel="prev" href="ch07_030.htm#AUTOID-22408" title="7.2.30 File::Find&nbsp;- Traverse a File Tree"><link rel="next" href="ch07_032.htm#AUTOID-22511" title="7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Programming Perl" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Programming Perl"><area shape="RECT" coords="467,0,514,18" href="../search/psrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT2" href="ch07_030.htm#AUTOID-22408" title="7.2.30 File::Find&nbsp;- Traverse a File Tree"><img src="../gifs/txtpreva.gif" alt="Previous: 7.2.30 File::Find&nbsp;- Traverse a File Tree" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch07_01.htm" title="7. The Standard Perl Library">Chapter 7<br>The Standard Perl Library</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT2" href="ch07_032.htm#AUTOID-22511" title="7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits"><img src="../gifs/txtnexta.gif" alt="Next: 7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT2"><h3 class="sect2"><a class="title" name="AUTOID-22456">7.2.31 File::Path&nbsp;- Create or Remove a Series of Directories</A
></H3
><pre class="programlisting">use File::Path;

mkpath(['/foo/bar/baz', 'blurfl/quux'], 1, 0711);
rmtree(['/foo/bar/baz', 'blurfl/quux'], 1, 1);</PRE
><p class="para"><a class="indexterm" name="AUTOID-22460"></A
><a class="indexterm" name="AUTOID-22462"></A
><a class="indexterm" name="AUTOID-22464"></A
><a class="indexterm" name="AUTOID-22466"></A
><a class="indexterm" name="AUTOID-22469"></A
><a class="indexterm" name="AUTOID-22472"></A
>The <code class="literal">mkpath()</CODE
> function provides a convenient way to create directories,
even if
your <em class="emphasis">mkdir</EM
>(2) won't create more than one level of directory at a
time.  <code class="literal">mkpath()</CODE
> takes three arguments:</P
><ul class="itemizedlist"><li class="listitem"><p class="para">The name of the path to create, or a reference
to a list of paths to create</P
></LI
><li class="listitem"><p class="para">A Boolean value, which if true will cause <code class="literal">mkpath()</CODE
>
to print the name of each directory as it is created
(defaults to false)</P
></LI
><li class="listitem"><p class="para">The numeric mode to use when creating the directories
(defaults to <code class="literal">0777</CODE
>)</P
></LI
></UL
><p class="para">It returns a list of all directories created, including intermediate
directories, which are assumed to be delimited by
the UNIX path separator, <code class="literal">/</CODE
>.</P
><p class="para"><a class="indexterm" name="AUTOID-22490"></A
><a class="indexterm" name="AUTOID-22492"></A
>Similarly, the <code class="literal">rmtree()</CODE
> function provides a convenient way to delete a
subtree from the directory structure, much like the UNIX <em class="emphasis">rm -r</EM
>
command.  <code class="literal">rmtree()</CODE
> takes three arguments:</P
><ul class="itemizedlist"><li class="listitem"><p class="para">The root of the subtree to delete, or a reference to
a list of roots.  All of the files and directories
below each root, as well as the roots themselves,
will be deleted.</P
></LI
><li class="listitem"><p class="para">A Boolean value, which if true will cause <code class="literal">rmtree()</CODE
> to
print a message each time it examines a file, giving the
name of the file and indicating whether it's using <em class="emphasis">rmdir</EM
>(2)
or <em class="emphasis">unlink</EM
>(2) to remove it, or whether it's skipping it.
(This argument defaults to false.)</P
></LI
><li class="listitem"><p class="para">A Boolean value, which if true will cause <code class="literal">rmtree()</CODE
> to
skip any files to which you do not have delete access
(if running under VMS) or write access (if running
under another operating system).  This will change in the future when
a criterion for &quot;delete permission&quot; under operating systems other
than VMS is settled. (This argument defaults to false.)</P
></LI
></UL
><p class="para"><code class="literal">rmtree()</CODE
> returns the number of files successfully deleted.
Symbolic links are treated as ordinary files.</P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT2" href="ch07_030.htm#AUTOID-22408" title="7.2.30 File::Find&nbsp;- Traverse a File Tree"><img src="../gifs/txtpreva.gif" alt="Previous: 7.2.30 File::Find&nbsp;- Traverse a File Tree" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Programming Perl"><img src="../gifs/txthome.gif" alt="Programming Perl" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT2" href="ch07_032.htm#AUTOID-22511" title="7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits"><img src="../gifs/txtnexta.gif" alt="Next: 7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">7.2.30 File::Find&nbsp;- Traverse a File Tree</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">7.2.32 FileCache&nbsp;- Keep More Files Open Than the System Permits</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.html" title="The Perl CD Bookshelf">Library Home</A
> | <a href="../perlnut/index.htm" title="Perl in a Nutshell">Perl in a Nutshell</A
> | <a href="../learn/index.htm" title="Learning Perl">Learning Perl</A
> | <a href="../learn32/index.htm" title="Learning Perl on Win32 Systems">Learning Perl on Win32</A
> | <a href="index.htm" title="Programming Perl">Programming Perl</A
> | <a href="../advprog/index.htm" title="Advanced Perl Programming">Advanced Perl Programming</A
> | <a href="../cookbook/index.htm" title="Perl Cookbook">Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
