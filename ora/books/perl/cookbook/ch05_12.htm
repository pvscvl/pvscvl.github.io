<html><head>
<title>Recipe 5.11. Finding Common or Different Keys in Two Hashes</TITLE>
<meta name="DC.title" content="Perl Cookbook"><meta name="DC.creator" content="Tom Christiansen &amp; Nathan Torkington"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-07-02T01:32:52Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-243-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch05_01.htm" title="5. Hashes"><link rel="prev" href="ch05_11.htm" title="5.10. Merging Hashes"><link rel="next" href="ch05_13.htm" title="5.12. Hashing References"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Perl Cookbook" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,65" href="index.htm" alt="Perl Cookbook"><area shape="RECT" coords="467,0,514,18" href="../search/csrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="sect1" href="ch05_11.htm" title="5.10. Merging Hashes"><img src="../gifs/txtpreva.gif" alt="Previous: 5.10. Merging Hashes" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch05_01.htm" title="5. Hashes">Chapter 5<br>Hashes</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="sect1" href="ch05_13.htm" title="5.12. Hashing References"><img src="../gifs/txtnexta.gif" alt="Next: 5.12. Hashing References" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="sect1"><h2 class="sect1"><a class="title" name="ch05-chap05_finding_0">5.11. Finding Common or Different Keys in Two Hashes</A
></H2
><div class="sect2"><h3 class="sect2"><a class="title" name="ch05-pgfId-1096">Problem<a class="indexterm" name="ch05-idx-1000006503-0"></A
><a class="indexterm" name="ch05-idx-1000006503-1"></A
><a class="indexterm" name="ch05-idx-1000006503-2"></A
></A
></H3
><p class="para">You need to find keys in one hash that are present in another hash or keys in one hash that are not present in another.</P
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="ch05-pgfId-1102">Solution</A
></H3
><p class="para">Use <code class="literal">keys</CODE
> to loop through the keys of one hash, checking whether each key is also in the other hash.</P
><div class="sect3"><h4 class="sect3"><a class="title" name="ch05-pgfId-1000005736">Find common keys</A
></H4
><pre class="programlisting">my @common = ();
foreach (keys %hash1) {
    push(@common, $_) if exists $hash2{$_};
}
# @common now contains common keys</PRE
></DIV
><div class="sect3"><h4 class="sect3"><a class="title" name="ch05-pgfId-1000005753">Find keys from one hash that aren't in both</A
></H4
><pre class="programlisting">my @this_not_that = ();
foreach (keys %hash1) {
    push(@this_not_that, $_) unless exists $hash2{$_};
}</PRE
></DIV
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="ch05-pgfId-1108">Discussion</A
></H3
><p class="para">Because we're finding common or different keys of the hashes, we can apply our earlier array recipes for finding common or different elements to arrays of the hashes' keys. For an explanation, see <a class="xref" href="ch04_09.htm" title="Computing Union, Intersection, or Difference of Unique Lists">Recipe 4.8</A
>.</P
><p class="para">This code uses the difference technique to find non-citrus foods:</P
><pre class="programlisting"># %food_color per the introduction

# %citrus_color is a hash mapping citrus food name to its color.
%citrus_color = ( Lemon  =&gt; &quot;yellow&quot;,
                  Orange =&gt; &quot;orange&quot;,
                  Lime   =&gt; &quot;green&quot; );

# build up a list of non-citrus foods
@non_citrus = ();

foreach (keys %food_color) {
    push (@non_citrus, $_) unless exists $citrus_color{$_};
}</PRE
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="ch05-pgfId-1144">See Also</A
></H3
><p class="para">The "Variables" section of <a class="olink" href="../prog/ch02_01.htm">Chapter 2</A
> of <a class="citetitle" href="../prog/index.htm" title="Programming Perl"><cite class="citetitle">Programming Perl</CITE
></A
>; the <code class="literal">each</CODE
> function in <i class="filename">perlfunc </I
>(1) and in <a class="olink" href="../prog/ch03_01.htm">Chapter 3</A
> of <a class="citetitle" href="../prog/index.htm" title="Programming Perl"><cite class="citetitle">Programming Perl</CITE
></A
></P
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="sect1" href="ch05_11.htm" title="5.10. Merging Hashes"><img src="../gifs/txtpreva.gif" alt="Previous: 5.10. Merging Hashes" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Perl Cookbook"><img src="../gifs/txthome.gif" alt="Perl Cookbook" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="sect1" href="ch05_13.htm" title="5.12. Hashing References"><img src="../gifs/txtnexta.gif" alt="Next: 5.12. Hashing References" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">5.10. Merging Hashes</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">5.12. Hashing References</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.html" title="The Perl CD Bookshelf">Library Home</A
> | <a href="../perlnut/index.htm" title="Perl in a Nutshell">Perl in a Nutshell</A
> | <a href="../learn/index.htm" title="Learning Perl">Learning Perl</A
> | <a href="../learn32/index.htm" title="Learning Perl on Win32 Systems">Learning Perl on Win32</A
> | <a href="../prog/index.htm" title="Programming Perl">Programming Perl</A
> | <a href="../advprog/index.htm" title="Advanced Perl Programming">Advanced Perl Programming</A
> | <a href="index.htm" title="Perl Cookbook">Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
