<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>Searching The Perl CD Bookshelf on UNIX</title>
<link rev="made" href="mailto:online-books@oreilly.com" title="Online" books">
<link rel="home" href="../../../../../../../www.oreilly.com/" title="O'Reilly &amp;" associates">
<link rel="up" href="../index.html" title="The Perl CD Bookshelf">
<link rel="prev" href="server.htm" title="Searching the Perl CD" bookshelf">
</head>
<body bgcolor="#ffffff" text="#000000">

<h1>
<img src="../gifs/smbanner.gif" alt="The Perl CD Bookshelf">
</h1>

<h1>About Searching on UNIX</h1>

<p>You need to have a JRE or JDK installed.  An executable called
<kbd>jre</kbd> or <kbd>java</kbd> should be in your path, or the
<kbd>JRE</kbd> environment variable should be set to the full path to
some Java interpreter.  If you don't have a Java interpreter, you can
<a href="#install">install a JRE</a>.

<p>When that is done, you can run <kbd>run_me.sh</kbd> from the root
directory of the CD-ROM.  You can stop the search server by typing
ctrl-C, or, if you've run it the background, by killing the process.

<h2>If you are using Lynx</h2>

<p>If you are using Lynx as your Web browser, the search will not work
the first time you run the <kbd>run_me.sh</kbd> script.  Wait for the
message

<blockquote>
<pre>
Search Service using port: 6010
</pre>
</blockquote>

<p>Then type ctrl-C to shut the search server down, and run
<kbd>run_me.sh</kbd> again.  Searches will now work from Lynx.

<h2>If search connections are refused</h2>

<p>The search engine includes a security precaution that requests for
files from hosts other than localhost are rejected.  On some systems,
including FreeBSD 2.<var>x</var>, requests from localhost are not
correctly recognized.  If this happens, you will receive the message:

<blockquote>
<h3>403 Refusing non-local request</h3>
<p>Error when fetching URL:
</blockquote>

<p>To fix this problem:

<ol>

<li>Find your NetResults installation directory; it is
<kbd>/tmp/netresults</kbd> unless you've given a directory other than
<kbd>/tmp</kbd> in the initial installation dialog.  If it does not
exist, run <kbd>run_me.sh</kbd> from the root directory of the CD-ROM.

<li>Find the file <kbd>http-nr.cfg</kbd>.  If it does not exist, kill
the search engine if it is currently running, and run
<kbd>run_me.sh</kbd> from the root directory of the CD-ROM a second
time.  This will create <kbd>http-nr.cfg</kbd>.

<li>Shut down the search server (use ctrl-C if it is running in the
foreground, or issue a <kbd>kill</kbd> otherwise).

<li>Edit <kbd>http-nr.cfg</kbd>.  Change all occurrences of
<code>localhost</code> to the full name of your system (<i>e.g.</i>,
<code>ivory.ora.com</code>).

<li>Re-start the server by running <kbd>run_me.sh</kbd> from the root
directory of the CD-ROM.

</ol>

<p>

<h2><a name="install">Installing a JRE</a></h2>

<p>In the <kbd>jre</kbd> directory of the CD are JREs for several
platforms:

<dl>
<dt>FreeBSD

<dd><dl>

<dt>FreeBSD 2.2.* with a.out binary format
<dd><kbd>jre1.1.8_FreeBSD_aout.tar.gz</kbd>

<dt>FreeBSD 3.* with ELF binary format
<dd><kbd>jre1.1.8_FreeBSD_ELF.tar.gz</kbd>

</dl>

<dt>HP-UX

<dd><dl>

<dt>HP-UX 10.20
<dd><kbd>jre1153_hpux1020.tar.Z</kbd>

<dt>HP-UX 11
<dd><kbd>jre1153_hpux11.tar.Z</kbd>

</dl>

<dt>Linux

<dd><dl>

<dt>Linux with glibc
<dd><kbd>jre1.1.7-v3-Linux-glibc.tar.gz</kbd>

<dt>Older JRE for Linux with glibc (try this if that doesn't work)
<dd><kbd>jre1.1.6-v2-Linux-glibc.tar.gz</kbd>

<dt>Linux with libc5
<dd><kbd>jre1.1.6-v2-Linux-libc5.tar.gz</kbd>

</dl>

<dt>Solaris

<dd><dl>

<dt>Solaris 2.4-2.6 for SPARC
<dd><kbd>jre116-solaris2-sparc.bin</kbd>

<dt>Solaris 2.5-2.6 for x86
<dd><kbd>jre116-solaris2-x86.bin</kbd>

</dl>
<dt>SunOS 4.1.3
<dd><kbd>jre1.1.5-sunos.tar.gz</kbd>

</dl>

<p>The Solaris packages can be run; they will create a JRE
installation in the current directory:

<blockquote>
<pre>
root@localhost:/usr/local# <b>/cdrom/jre/jre116-solaris2-sparc.bin</b>
</pre>
</blockquote>

<p>will create a <kbd>/usr/local/jre1.1.6</kbd> directory.

<p>The other packages should be extracted into a directory, such as
<kbd>/usr/local/</kbd>:

<blockquote>
<pre>
root@localhost:/usr/local# <b>zcat /cdrom/jre/jre1.1.6-v2-Linux-libc5.tar.gz | tar xvf -</b>
</pre>
</blockquote>

<p>will similarly create a <kbd>/usr/local/jre1.1.6</kbd> directory.

<p>The HP-UX packages are system addition packages, and can be
installed with your system's utilities.

<p>Licensing terms prevent us from distributing JREs for AIX, Digital
UNIX, and SCO UNIX.  You can find these, and other JREs, from <a href="../../../../../../../java.about.com/msub2.htm">http://java.about.com/msub2.htm</a>.

<p>If you experience any problems running the server, <kbd>cd</kbd> to
the <kbd>netresults</kbd> directory, run

<blockquote>
<pre>
<b>jre -mx16m -cp . -ms8m itm.nr.serve.NRServer +ds +es +vs</b>
</pre>
</blockquote>

<p>and try the search again.  The console will show more debugging
information; have this available when contacting us.

<p>
<hr align=left width=515 title="Footer">
<p>
<img src="../gifs/navbar.gif" usemap="#map" border=0 alt="The" perl cd bookshelf navigation">
<map name="map">
<area shape=rect coords="0,0,69,62" href="../index.html" alt="The Perl" cd bookshelf">
<area shape=rect coords="70,0,145,62" href="../perlnut/index.htm" alt="Perl in a Nutshell">
<area shape=rect coords="146,0,210,62" href="../learn/index.htm" alt="Learning Perl">
<area shape=rect coords="211,0,284,62" href="../learn32/index.htm" alt="Learning Perl on Win32 Systems">
<area shape=rect coords="285,0,362,62" href="../prog/index.htm" alt="Programming Perl">
<area shape=rect coords="363,0,436,62" href="../advprog/index.htm" alt="Advanced Perl Programming">
<area shape=rect coords="437,0,514,62" href="../cookbook/index.htm" alt="Perl Cookbook">
</map>

</body>
</html>
