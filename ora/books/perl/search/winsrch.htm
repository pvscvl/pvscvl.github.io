<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>Searching The Perl CD Bookshelf on Windows</title>
<link rev="made" href="mailto:online-books@oreilly.com" title="Online" books">
<link rel="home" href="../../../../../../../www.oreilly.com/" title="O'Reilly &amp;" associates">
<link rel="up" href="../index.html" title="The Perl CD Bookshelf">
<link rel="prev" href="server.htm" title="Searching the Perl CD" bookshelf">
</head>
<body bgcolor="#ffffff" text="#000000">

<h1>
<img src="../gifs/smbanner.gif" alt="The Perl CD Bookshelf">
</h1>

<h1>About Searching on Windows</h1>

<p>When you put the CD into your computer, the search server should
have started automatically.  When it is running, you will have both a
console (entitled <code>JRE</code> or <code>NetResults</code>
depending on its state) and a button labeled "Exit Search Service".

<p>The first time the server runs, it will prompt you for a place to
store temporary files.  Unless you have a strong objection, the
default of <kbd>C:\TEMP</kbd> should be fine.

<p>If you have shut the server down, or if it failed to start for you,
you can run <kbd>NetResults.bat</kbd> in the CD's root directory.

<p>The <kbd>AUTORUN.INF</kbd> file should also install a Java
interpreter.

<p>Windows runs the <kbd>AUTORUN.INF</kbd> every time the CD is
inserted.  If you eject the CD and re-insert it while the search
engine is running, Windows will attempt to to start a second server.
This will not work.  To prevent this, or if at any time you don't want
to automatically launch the search server, hold down the Shift key
while the CD is loading.

<p>If you experience any problems running the server:

<ul>
<li><a href="#hd">Did you copy the CD to your hard drive?</a>
<li><a href="#opera">Are you using Opera as your Web browser?</a>
</ul>

<p>If not, or if the advice in those suggestions doesn't work, please
do the following:

<ol>

<li><p>Open an MS-DOS prompt

<li><p>Change to the <kbd>netresults</kbd> directory on the CD-ROM;
e.g.,

<pre>
C:\> <b>d:</b>
D:\> <b>cd netresults</b>
D:\netresults>
</pre>

<li><p>Run the search server manually with these parameters:

<pre>
D:\netresults> <b>jvm\win\bin\jre -mx16m -cp . -ms8m itm.nr.serve.NRServer +ds +es +vs</b>
</pre>

</ol>

<p>Then try the search again.  The console will show more debugging
information; have this available when contacting us.

<h2><a name="hd">If you copy the CD to your hard drive</a></h2>

<p>The server assumes that all the files from the CD will be in the
root of some drive.  If you put the files into a directory, you'll
need to alter the configuration file.  Unfortunately, this is a little
complicated.

<ol>

<li><p>Let the search engine run once normally.  This will prompt you
for a temporary directory, defaulting to <kbd>C:\TEMP</kbd>.  The
server will install some files there.

<li><p>In the temporary directory you specified, find the file
<kbd>Server.cfg</kbd>.  Open it in Notepad or WordPad.  This file uses
UNIX line breaks and will look like a mass of text.  Please do not
alter those line breaks.

<li><p>Search for <kbd>CD_PATH</kbd>.  Change the string there from
<kbd>/C:</kbd> (or whatever drive is given) to the full path to your
installation, <i>e.g.</i> <kbd>/C:/reference/perlcd</kbd>.  Note the
use of forward slashes, not backslashes, and note also that there is
no slash at the end.

<li><p>Save the file under another name, like <kbd>nr-hd.cfg</kbd> (if
you're using Notepad, make sure Word Wrap is turned off first).

<li><p>Open a DOS window.

<li><p>Go to the <kbd>netresults</kbd> directory in the CD copy.

<pre>
C:> <b>cd reference\perlcd\netresults</b>
C:\reference\perlcd\netresults>
</pre>

<li><p>Run the search server manually with a new parameter pointing to
the exact location of the new configuration file:

<pre>
C:\reference\perlcd\netresults> <b>jvm\win\bin\jre -cp . -ms8m itm.nr.serve.NRServer +prop=c:\temp\nr-hd.cfg</b>
</pre>

<p>where the value of prop is the full path to the new config file you
saved (note that Notepad may have saved it as a <kbd>.txt</kbd> file).

</ol>

<p>You should now be able to search the CD's contents.

<h2><a name="opera">If you are using Opera</a></h2>

<p>Because the Opera Web browser is stricter about standards than the
search engine, users of Opera will not be able to search with the
engine's default configuration.  The search engine can be reconfigured
to work properly, but the steps necessary are, unfortunately, a little
complicated.

<ol>

<li><p>Let the search engine run once normally.  This will prompt you
for a temporary directory, defaulting to <kbd>C:\TEMP</kbd>.  The
server will install some files there.

<li><p>In the temporary directory you specified, find the file
<kbd>Server.cfg</kbd>.  Open it in Notepad or WordPad.  This file uses
UNIX line breaks and will look like a mass of text.  Please do not
alter those line breaks.

<li><p>Search for <kbd>NO_RESULT_URL</kbd>.  Change the string there
from <kbd>file:/c|/temp/noResults.html</kbd> to
<kbd>http://localhost:6016/noResults.html</kbd>.  (Note that the exact
string you are replacing will be different if you specified a
different temporary directory.)

<li><p>Search for <kbd>TEMP_HTML_URL</kbd>.  Change the string there
from <kbd>file:/c|/temp/</kbd> to <kbd>http://localhost:6016/</kbd>.
(Again, the exact original string may vary.)

<li><p>Save the file under another name, like <kbd>nr-http.cfg</kbd>
(if you're using Notepad, make sure Word Wrap is turned off first).

<li><p>Open a DOS window.

<li><p>Go to the <kbd>netresults</kbd> directory on the CD.

<pre>
C:> <b>e:</b>
E:> <b>cd netresults</b>
E:\netresults>
</pre>

<li><p>Run the search server manually with a new parameter pointing to
the exact location of the new configuration file:

<pre>
E:\netresults> <b>jvm\win\bin\jre -cp . -ms8m itm.nr.serve.NRServer +prop=c:\temp\nr-http.cfg</b>
</pre>

<p>where the value of prop is the full path to the new config file you
saved (note that Notepad may have saved it as a <kbd>.txt</kbd> file).

</ol>

<p>You should now be able to search normally.

<p>
<hr align=left width=515 title="Footer">
<p>
<img src="../gifs/navbar.gif" usemap="#map" border=0 alt="The" perl cd bookshelf navigation">
<map name="map">
<area shape=rect coords="0,0,69,62" href="../index.html" alt="The Perl" cd bookshelf">
<area shape=rect coords="70,0,145,62" href="../perlnut/index.htm" alt="Perl in a Nutshell">
<area shape=rect coords="146,0,210,62" href="../learn/index.htm" alt="Learning Perl">
<area shape=rect coords="211,0,284,62" href="../learn32/index.htm" alt="Learning Perl on Win32 Systems">
<area shape=rect coords="285,0,362,62" href="../prog/index.htm" alt="Programming Perl">
<area shape=rect coords="363,0,436,62" href="../advprog/index.htm" alt="Advanced Perl Programming">
<area shape=rect coords="437,0,514,62" href="../cookbook/index.htm" alt="Perl Cookbook">
</map>

</body>
</html>