<html><head>
<title>[Chapter 18] 18.14 The Menubutton Widget</TITLE>
<meta name="DC.title" content="Perl in a Nutshell"><meta name="DC.creator" content="Ellen Siever, Stephen Spainhour &amp; Nathan Patwardhan"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-07-02T01:59:03Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-286-7" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch18_01.htm" title="18. Perl/Tk"><link rel="prev" href="ch18_13.htm" title="18.13 The Scale Widget"><link rel="next" href="ch18_15.htm#PNUT-CH-18-SECT-15.1" title="18.15 The Menu Widget"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Perl in a Nutshell" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,71" href="index.htm" alt="Perl in a Nutshell"><area shape="RECT" coords="467,0,514,18" href="../search/nsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch18_13.htm" title="18.13 The Scale Widget"><img src="../gifs/txtpreva.gif" alt="Previous: 18.13 The Scale Widget" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch18_01.htm" title="18. Perl/Tk">Chapter 18<br>Perl/Tk</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch18_15.htm#PNUT-CH-18-SECT-15.1" title="18.15 The Menu Widget"><img src="../gifs/txtnexta.gif" alt="Next: 18.15 The Menu Widget" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="PNUT-CH-18-SECT-14">18.14 The Menubutton Widget</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-39871"></A
><a class="indexterm" name="AUTOID-39873"></A
><a class="indexterm" name="AUTOID-39877"></A
>Create a menubutton with the <code class="literal">Menubutton</CODE
> method.
For example:


<blockquote class="screen"><pre class="screen">$mainwindow-&gt;Menubutton(-text =&gt; &quot;File&quot;, 
	-menuitems =&gt; [ [ 'command' =&gt; &quot;New&quot;,
			  &quot;-command&quot; =&gt; \&amp;newfile,
			  &quot;-underline&quot; =&gt; 0 ],
			[ 'command' =&gt; &quot;Open&quot;,
			  &quot;-command&quot; =&gt; \&amp;openfile,
			  &quot;-underline&quot; =&gt; 0 ],
			&quot;-&quot;,
			[ 'command' =&gt; &quot;Save&quot;,
			  &quot;-command&quot; =&gt; \&amp;savefile,
			  &quot;-underline&quot; =&gt; 0 ],
			[ 'command' =&gt; &quot;SaveAs&quot;,
			  &quot;-command&quot; =&gt; \&amp;saveasfile,
			  &quot;-underline&quot; =&gt; 4 ] ] );</PRE
></BLOCKQUOTE
>

<a class="indexterm" name="AUTOID-39883"></A
>
The <code class="literal">-menuitems</CODE
> option takes a list of lists describing 
the menu items.  For each menu item, an embedded anonymous list 
describes the type of menu item, the label to use, and the
action to take when it is selected along with any other options
desired to configure the menu item.  In this example, each
of the menu items is the <code class="literal">'command'</CODE
> type, and we use the <code class="literal">-command</CODE
>
option for each item to point to the callback to execute when the
menu item is selected.  We also use the <code class="literal">-underline</CODE
> option to
enable the user to select a menu item using keystrokes.
(The <code class="literal">\[<code class="replaceable"><i>quotedbl</I
></CODE
>]-&quot;</CODE
> represents a separator
between menu items.)</P
><p class="para">In addition to <code class="literal">'command'</CODE
>, other types of menus are:</P
><dl class="variablelist"><dt class="term"><code class="literal">'cascade'</CODE
></DT
><dd class="listitem"><p class="para">Embeds a cascade menu.</P
></DD
><dt class="term"><code class="literal">'checkbutton'</CODE
></DT
><dd class="listitem"><p class="para">Treats the menu item as a checkbutton.</P
></DD
><dt class="term"><code class="literal">'command'</CODE
></DT
><dd class="listitem"><p class="para">Executes a callback.</P
></DD
><dt class="term"><code class="literal">'radiobutton'</CODE
></DT
><dd class="listitem"><p class="para">Treats the menu item as a radiobutton.</P
></DD
></DL
><p class="para">You can configure both the menu itself and the individual menu
items.  The configuration options that apply to <code class="literal">Menubutton</CODE
> are:
<code class="literal">-activebackground</CODE
>,
<code class="literal">-activeforeground</CODE
>,
<code class="literal">-anchor</CODE
>,
<code class="literal">-background</CODE
>,
<code class="literal">-bg</CODE
>,
<code class="literal">-bitmap</CODE
>,
<code class="literal">-borderwidth</CODE
>,
<code class="literal">-bw</CODE
>,
<code class="literal">-cursor</CODE
>,
<code class="literal">-disabledforeground</CODE
>,
<code class="literal">-font</CODE
>,
<code class="literal">-foreground</CODE
>,
<code class="literal">-fg</CODE
>,
<code class="literal">-height</CODE
>,
<code class="literal">-highlightbackground</CODE
>,
<code class="literal">-highlightcolor</CODE
>,
<code class="literal">-highlightthickness</CODE
>,
<code class="literal">-image</CODE
>,
<code class="literal">-justify</CODE
>,
<code class="literal">-padx</CODE
>,
<code class="literal">-pady</CODE
>,
<code class="literal">-relief</CODE
>,
<code class="literal">-state</CODE
>,
<code class="literal">-takefocus</CODE
>,
<code class="literal">-underline</CODE
>,
<code class="literal">-width</CODE
>,
and
<code class="literal">-wraplength</CODE
>.</P
><p class="para">Other <code class="literal">Menubutton</CODE
> options are:</P
><dl class="variablelist"><dt class="term"><code class="literal">-indicatoron =&gt;</CODE
> <code class="replaceable"><i>boolean</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-39953"></A
>Determines whether or not to display an indicator.  </P
></DD
><dt class="term"><code class="literal">-menu =&gt;</CODE
> <code class="replaceable"><i>$menu</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-39962"></A
>Display the menu associated with <code class="replaceable"><i>$menu</I
></CODE
>.</P
></DD
><dt class="term"><code class="literal">-menuitems =&gt;</CODE
> <code class="replaceable"><i>list</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-39972"></A
>Specifies items to create in the menu as a list
of lists.  See the description at the beginning of this section.</P
></DD
><dt class="term"><code class="literal">-tearoff =&gt;</CODE
> <code class="replaceable"><i>boolean</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-39981"></A
>Whether or not to allow the menu to be &quot;torn off.&quot; Default is 1.</P
></DD
><dt class="term"><code class="literal">-text =&gt;</CODE
> <code class="replaceable"><i>string</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-39990"></A
>Specifies the text to display as a label for the button.</P
></DD
><dt class="term"><code class="literal">-textvariable =&gt;</CODE
> <code class="replaceable"><i>\$variable</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-39999"></A
>Points to the variable containing text to be displayed in the menubutton. Button text will change as <code class="replaceable"><i>$variable</I
></CODE
> does.</P
></DD
></DL
><div class="sect2"><h3 class="sect2"><a class="title" name="PNUT-CH-18-SECT-14.1">18.14.1 Menu Item Options</A
></H3
><p class="para">In addition to the menu itself, each individual menu item 
can be configured.  The widget configuration options that
apply to menu items are:
<code class="literal">-activebackground</CODE
>,
<code class="literal">-background</CODE
>,
<code class="literal">-bg</CODE
>,
<code class="literal">-bitmap</CODE
>,
<code class="literal">-font</CODE
>,
<code class="literal">-foreground</CODE
>,
<code class="literal">-fg</CODE
>,
<code class="literal">-image</CODE
>,
<code class="literal">-state</CODE
>,
and 
<code class="literal">-underline</CODE
>.
Other options are:</P
><dl class="variablelist"><dt class="term"><code class="literal">-accelerator</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40022"></A
>Displays an accelerator key sequence for the menu item.  The key 
sequence must be independently defined with a <code class="literal">bind</CODE
>.</P
></DD
><dt class="term"><code class="literal">-command =&gt;</CODE
> <code class="replaceable"><i>callback</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40031"></A
>Pointer to a function that will be called when the menu item is
selected.</P
></DD
><dt class="term"><code class="literal">-indicatoron =&gt;</CODE
> <code class="replaceable"><i>boolean</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40040"></A
>Determines whether or not to display an indicator.  </P
></DD
><dt class="term"><code class="literal">-label =&gt;</CODE
> <code class="replaceable"><i>string</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40049"></A
>The string to use as a label for the menu item.</P
></DD
><dt class="term"><code class="literal">-menu =&gt;</CODE
> <code class="replaceable"><i>$submenu</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40058"></A
>For a cascade menu, points to the menu to embed.</P
></DD
><dt class="term"><code class="literal">-offvalue =&gt;</CODE
> <code class="replaceable"><i>newvalue</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40067"></A
>For a checkbutton,
specifies the value used when the checkbutton is &quot;off.&quot; </P
></DD
><dt class="term"><code class="literal">-onvalue =&gt;</CODE
> <code class="replaceable"><i>newvalue</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40076"></A
>For a checkbutton,
specifies the value used when the checkbutton is &quot;on.&quot; </P
></DD
><dt class="term"><code class="literal">-selectcolor =&gt;</CODE
> <code class="replaceable"><i>color</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40085"></A
>For a checkbutton or radiobutton,
color of the indicator when &quot;on.&quot;</P
></DD
><dt class="term"><code class="literal">-selectimage =&gt;</CODE
> <code class="replaceable"><i>imgptr</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40094"></A
>For a checkbutton or radiobutton,
defines the image to be displayed instead of text when 
the radiobutton is &quot;on&quot;.  Ignored if <code class="literal">-image</CODE
> is not used.</P
></DD
><dt class="term"><code class="literal">-value =&gt;</CODE
> <code class="replaceable"><i>value</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40104"></A
>For a radiobutton, 
sets <code class="replaceable"><i>$variable</I
></CODE
> to the specified value when the radiobutton is selected
(default is 1).</P
></DD
><dt class="term"><code class="literal">-variable =&gt;</CODE
> <code class="replaceable"><i>\$variable</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40114"></A
>Associates the value of the menu item to the specified variable.</P
></DD
></DL
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="PNUT-CH-18-SECT-14.2">18.14.2 Menubutton Methods</A
></H3
><p class="para">In addition to <code class="literal">configure</CODE
> and <code class="literal">cget</CODE
>, the following
methods are defined for Menubutton widgets:</P
><dl class="variablelist"><dt class="term"><code class="literal">AddItems</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40128"></A
>Adds menu items to the end of the menu.  The arguments to <code class="literal">AddItems</CODE
>
are lists configuring each menu item, similar to the lists defined
with the <code class="literal">-menuitem</CODE
> option.  


<blockquote class="screen"><pre class="screen">$menubutton-&gt;AddItems([&quot;command&quot; =&gt; &quot;Print&quot;,
		       &quot;-command&quot; =&gt; \&amp;printscreen ],
		      [&quot;command&quot; =&gt; &quot;Exit&quot;,
		       &quot;-command&quot; =&gt; \&amp;exitclean ]);</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">command</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40138"></A
>Adds a command item to the end of the menu.  The above example
could have read:


<blockquote class="screen"><pre class="screen">$menubutton-&gt;command(-label =&gt; &quot;Print&quot;, -command =&gt; \&amp;printscreen);
$menubutton-&gt;command(-label =&gt; &quot;Exit&quot;, -command =&gt; \&amp;exitclean);</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">checkbutton</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40147"></A
>Adds a checkbutton item to the end of the menu.  


<blockquote class="screen"><pre class="screen">$menubutton-&gt;checkbutton(-label =&gt; &quot;Show Toolbar&quot;, 
           [-variable =&gt; \$toolbar&quot;);</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">radiobutton</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40155"></A
>Adds a radiobutton item to the end of the menu.  


<blockquote class="screen"><pre class="screen">$menubutton-&gt;radiobutton(-label =&gt; &quot;Red&quot;, -variable =&gt; \$color&quot;);
$menubutton-&gt;radiobutton(-label =&gt; &quot;Blue&quot;, -variable =&gt; \$color&quot;);</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">separator</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40163"></A
>Adds a separator line to the end of a menu.  </P
></DD
><dt class="term"><code class="literal">cascade</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40170"></A
>Adds a cascade item to the end of the menu.  </P
></DD
><dt class="term"><code class="literal">menu</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40177"></A
>Returns a reference to the menu.  </P
></DD
><dt class="term"><code class="literal">entrycget</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40184"></A
>Gets information on a menu entry given an index and option to
query.</P
></DD
><dt class="term"><code class="literal">entryconfigure</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-40192"></A
>Changes information on a specific menu item given an index.</P
></DD
></DL
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch18_13.htm" title="18.13 The Scale Widget"><img src="../gifs/txtpreva.gif" alt="Previous: 18.13 The Scale Widget" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Perl in a Nutshell"><img src="../gifs/txthome.gif" alt="Perl in a Nutshell" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch18_15.htm#PNUT-CH-18-SECT-15.1" title="18.15 The Menu Widget"><img src="../gifs/txtnexta.gif" alt="Next: 18.15 The Menu Widget" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">18.13 The Scale Widget</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">18.15 The Menu Widget</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.html" title="The Perl CD Bookshelf">Library Home</A
> | <a href="index.htm" title="Perl in a Nutshell">Perl in a Nutshell</A
> | <a href="../learn/index.htm" title="Learning Perl">Learning Perl</A
> | <a href="../learn32/index.htm" title="Learning Perl on Win32 Systems">Learning Perl on Win32</A
> | <a href="../prog/index.htm" title="Programming Perl">Programming Perl</A
> | <a href="../advprog/index.htm" title="Advanced Perl Programming">Advanced Perl Programming</A
> | <a href="../cookbook/index.htm" title="Perl Cookbook">Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
