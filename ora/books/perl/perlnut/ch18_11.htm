<html><head>
<title>[Chapter 18] 18.11 The Text Widget</TITLE>
<meta name="DC.title" content="Perl in a Nutshell"><meta name="DC.creator" content="Ellen Siever, Stephen Spainhour &amp; Nathan Patwardhan"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-07-02T01:58:56Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-286-7" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch18_01.htm" title="18. Perl/Tk"><link rel="prev" href="ch18_10.htm#PNUT-CH-18-SECT-10.2" title="18.10 The Listbox Widget"><link rel="next" href="ch18_12.htm" title="18.12 The Canvas Widget"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Perl in a Nutshell" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,71" href="index.htm" alt="Perl in a Nutshell"><area shape="RECT" coords="467,0,514,18" href="../search/nsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch18_10.htm#PNUT-CH-18-SECT-10.2" title="18.10 The Listbox Widget"><img src="../gifs/txtpreva.gif" alt="Previous: 18.10 The Listbox Widget" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch18_01.htm" title="18. Perl/Tk">Chapter 18<br>Perl/Tk</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch18_12.htm" title="18.12 The Canvas Widget"><img src="../gifs/txtnexta.gif" alt="Next: 18.12 The Canvas Widget" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="PNUT-CH-18-SECT-11">18.11 The Text Widget</A
></H2
><p class="para"><a class="indexterm" name="PNUT-CH-18-IX-TEXT-WIDGET-PERL-TK"></A
><a class="indexterm" name="PNUT-CH-18-IX-TK-EXTENSION-TO-PERL-WIDGETS-TEXT-WIDGET"></A
><a class="indexterm" name="PNUT-CH-18-IX-PERL-TK-WIDGETS-TEXT-WIDGET"></A
>Create a text widget with the <code class="literal">Text</CODE
> method:  


<blockquote class="screen"><pre class="screen">$parentwidget-&gt;Text ( <em class="emphasis">options</EM
>)</PRE
></BLOCKQUOTE
>


The standard configuration options that apply to <code class="literal">Text</CODE
> are:
<code class="literal">-background</CODE
>,
<code class="literal">-bg</CODE
>,
<code class="literal">-borderwidth</CODE
>,
<code class="literal">-bd</CODE
>,
<code class="literal">-cursor</CODE
>,
<code class="literal">-exportselection</CODE
>,
<code class="literal">-font</CODE
>,
<code class="literal">-foreground</CODE
>,
<code class="literal">-fg</CODE
>,
<code class="literal">-height</CODE
>,
<code class="literal">-highlightbackground</CODE
>,
<code class="literal">-highlightcolor</CODE
>,
<code class="literal">-highlightthickness</CODE
>,
<code class="literal">-insertbackground</CODE
>,
<code class="literal">-insertborderwidth</CODE
>,
<code class="literal">-insertofftime</CODE
>,
<code class="literal">-insertontime</CODE
>,
<code class="literal">-insertwidth</CODE
>,
<code class="literal">-padx</CODE
>,
<code class="literal">-pady</CODE
>,
<code class="literal">-relief</CODE
>,
<code class="literal">-selectbackground</CODE
>,
<code class="literal">-selectborderwidth</CODE
>,
<code class="literal">-selectforeground</CODE
>,
<code class="literal">-state</CODE
>,
<code class="literal">-takefocus</CODE
>,
<code class="literal">-width</CODE
>,
<code class="literal">-xscrollcommand</CODE
>,
and
<code class="literal">-yscrollcommand</CODE
>.</P
><p class="para">Other options are:</P
><dl class="variablelist"><dt class="term"><code class="literal">-setgrid =&gt;</CODE
> <code class="replaceable"><i>boolean</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38007"></A
>Turns on gridding for the text widget.  Default is 0 (off).</P
></DD
><dt class="term"><code class="literal">-spacing1 =&gt;</CODE
> <code class="replaceable"><i>amount</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38016"></A
>Defines the amount of space left on the top of a line of text
that starts on its own line.  Default is 0.</P
></DD
><dt class="term"><code class="literal">-spacing2 =&gt;</CODE
> <code class="replaceable"><i>amount</I
></CODE
></DT
><dd class="listitem"><p class="para">Defines the amount of space left on the top of a line of text
after it has been automatically wrapped by the text widget.  
Default is 0.</P
></DD
><dt class="term"><code class="literal">-spacing3 =&gt;</CODE
> <code class="replaceable"><i>amount</I
></CODE
></DT
><dd class="listitem"><p class="para">Defines the amount of space left after a line of text
that has been ended by &quot;<code class="literal">\n</CODE
>&quot;.  Default is 0.</P
></DD
><dt class="term"><code class="literal">-tabs =&gt;</CODE
> <code class="replaceable"><i>list</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38037"></A
>Specifies a list of tab stops to use in the text widget.  
Default is undefined (no tab stops).  </P
></DD
><dt class="term"><code class="literal">-wrap =&gt;</CODE
> <code class="replaceable"><i>mode</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38045"></A
>Sets the mode for determining automatic line wrapping.  Values 
are <code class="literal">&quot;none&quot;</CODE
> (no wrapping), <code class="literal">&quot;char&quot;</CODE
> (wrap at any character), or <code class="literal">&quot;word&quot;</CODE
>
(wrap at a word boundary).  Default is <code class="literal">&quot;char&quot;</CODE
>.</P
></DD
></DL
><div class="sect2"><h3 class="sect2"><a class="title" name="PNUT-CH-18-SECT-11.1">18.11.1 Text Indexes and Modifiers</A
></H3
><p class="para">In a Text widget, several indexes are defined to identify 
positions in the text widget, for use by the 
methods used for retrieving or manipulating text.  
These indexes are:</P
><dl class="variablelist"><dt class="term"><code class="replaceable"><i>n</I
></CODE
>.<code class="replaceable"><i>m</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38061"></A
>Numbers representing character <code class="replaceable"><i>m</I
></CODE
> on line <code class="replaceable"><i>n</I
></CODE
>.</P
></DD
><dt class="term"><code class="literal">@</CODE
><code class="replaceable"><i>x,y</I
></CODE
></DT
><dd class="listitem"><p class="para">The character closest to the <code class="replaceable"><i>x,y</I
></CODE
> coordinate.</P
></DD
><dt class="term"><code class="literal">end</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38078"></A
>The end of the text.</P
></DD
><dt class="term"><code class="literal">insert</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38086"></A
>The character after the insert cursor.</P
></DD
><dt class="term"><code class="literal">current</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38094"></A
>The position closest to the mouse cursor.</P
></DD
><dt class="term"><code class="replaceable"><i>mark</I
></CODE
></DT
><dd class="listitem"><p class="para">Other marks defined for the widget (see discussion of text marks
later in this section).</P
></DD
><dt class="term"><code class="literal">sel.first</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38106"></A
>The first selected character.</P
></DD
><dt class="term"><code class="literal">sel.last</CODE
></DT
><dd class="listitem"><p class="para">The character just after the last selected character.</P
></DD
><dt class="term"><code class="replaceable"><i>tag</I
></CODE
>.<code class="literal">first</CODE
></DT
><dd class="listitem"><p class="para">The first character in the widget of the specified tag type.  </P
></DD
><dt class="term"><code class="replaceable"><i>tag</I
></CODE
>.<code class="literal">last</CODE
></DT
><dd class="listitem"><p class="para">The character just after the last character of the specified tag
type.</P
></DD
><dt class="term"><code class="replaceable"><i>widget</I
></CODE
></DT
><dd class="listitem"><p class="para">The location of an embedded widget.</P
></DD
></DL
><p class="para">There are also several modifiers to use with text indexes.
They are:</P
><dl class="variablelist"><dt class="term"><code class="literal">+</CODE
> <code class="replaceable"><i>n</I
></CODE
> lines</DT
><dt class="term"><code class="literal">-</CODE
> <code class="replaceable"><i>n</I
></CODE
> lines</DT
><dd class="listitem"><p class="para"><code class="replaceable"><i>n</I
></CODE
> lines before or after the index.</P
></DD
><dt class="term"><code class="literal">+</CODE
> <code class="replaceable"><i>n</I
></CODE
> chars</DT
><dt class="term"><code class="literal">-</CODE
> <code class="replaceable"><i>n</I
></CODE
> chars</DT
><dd class="listitem"><p class="para"><code class="replaceable"><i>n</I
></CODE
> characters before or after the index.</P
></DD
><dt class="term"><code class="literal">linestart</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38158"></A
>The first character on the line.</P
></DD
><dt class="term"><code class="literal">lineend</CODE
></DT
><dd class="listitem"><p class="para">The last character on the line (often a newline).</P
></DD
><dt class="term"><code class="literal">wordstart</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38170"></A
>The first character in the word.</P
></DD
><dt class="term"><code class="literal">wordend</CODE
></DT
><dd class="listitem"><p class="para">The character after the last character in the word.</P
></DD
></DL
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="PNUT-CH-18-SECT-11.2">18.11.2 Text Methods</A
></H3
><p class="para">In addition to <code class="literal">configure</CODE
> and <code class="literal">cget</CODE
>, the following methods
are defined for the Text widget.</P
><dl class="variablelist"><dt class="term"><code class="literal">bbox</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38188"></A
>Returns the location and dimensions of the bounding box surrounding
the character at the specified index.
The returned list contains four numbers representing 
(respectively) the x coordinate of the upper-left corner,
the y coordinate of the upper-left corner, the width of the
text in pixels, and the height of the text in pixels.</P
></DD
><dt class="term"><code class="literal">compare</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38196"></A
>Performs a comparison on two indexes.  For example:


<blockquote class="screen"><pre class="screen">if ($text-&gt;compare('insert', '==', 'end') { 
	# we're at the end of the text
}</PRE
></BLOCKQUOTE
>


The valid operators are <code class="literal">&lt;</CODE
>, <code class="literal">&lt;=</CODE
>, <code class="literal">==</CODE
>, <code class="literal">&gt;=</CODE
>, and <code class="literal">!=</CODE
>.</P
></DD
><dt class="term"><code class="literal">debug</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38209"></A
>Given a boolean, turns debugging on or off.  </P
></DD
><dt class="term"><code class="literal">delete</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38217"></A
>Deletes text from the text widget.  
To delete everything:


<blockquote class="screen"><pre class="screen">$text-&gt;delete(0, 'end');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">dlineinfo</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38226"></A
>Returns the location and dimensions of the bounding box surrounding
the line at the specified index.
The returned list contains five numbers representing 
(respectively) the x coordinate of the upper-left corner,
the y coordinate of the upper-left corner, the width of the
text in pixels, the height of the text in pixels, and the
baseline position of the line.</P
></DD
><dt class="term"><code class="literal">get</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38233"></A
>Returns the text located in the given index range.  </P
></DD
><dt class="term"><code class="literal">index</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38241"></A
>Given a named index, returns its numeric equivalent in the
format <code class="replaceable"><i>line.char</I
></CODE
>.</P
></DD
><dt class="term"><code class="literal">insert</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38250"></A
>Inserts text into the widget at the specified location.
The second argument is the text to insert and the third
argument is either a single tag or a list reference containing 
the names of multiple tags to apply to the text.  Subsequent
arguments alternate between text and tags.  For example:


<blockquote class="screen"><pre class="screen">$text-&gt;insert('end', 'You want to do ', 'normal', 
                     'what?!', ['bold','red']);</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">search</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38259"></A
>Returns the index containing a particular string in the text widget.  
For example, to search backwards for a case-insensitive hostname 
starting from the end of the text:


<blockquote class="screen"><pre class="screen">$hostindex = $text-&gt;search(-nocase, -backwards, $hostname, 'end');</PRE
></BLOCKQUOTE
>


The <code class="literal">search</CODE
> method takes several switches to modify the search,
each starting with &quot;-&quot;.
The first argument that does not start with &quot;-&quot; is taken to be
the search string.  
The switches are:

<dl class="variablelist"><dt class="term"><code class="literal">-forwards</CODE
></DT
><dd class="listitem"><p class="para">Search forwards starting at the specified index.</P
></DD
><dt class="term"><code class="literal">-backwards</CODE
></DT
><dd class="listitem"><p class="para">Search backwards starting at the specified index.</P
></DD
><dt class="term"><code class="literal">-exact</CODE
></DT
><dd class="listitem"><p class="para">Match the string exactly (default).</P
></DD
><dt class="term"><code class="literal">-regexp</CODE
></DT
><dd class="listitem"><p class="para">Treat the pattern as a regular expression.</P
></DD
><dt class="term"><code class="literal">-nocase</CODE
></DT
><dd class="listitem"><p class="para">Ignore case.</P
></DD
><dt class="term"><code class="literal">-count =&gt;</CODE
> \<em class="emphasis">$variable</EM
></DT
><dd class="listitem"><p class="para">Store the number of matches into the specified variable.</P
></DD
><dt class="term"><code class="literal">--</CODE
></DT
><dd class="listitem"><p class="para">Interpret the next argument as the pattern.  (Useful when
the pattern starts with a &quot;-&quot;.)</P
></DD
></DL
>&#13;</P
></DD
><dt class="term"><code class="literal">see</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38305"></A
>Scrolls the text so that the portion of the text containing the 
specified index is visible.</P
></DD
><dt class="term"><code class="literal">window</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38313"></A
>Embeds widgets within the Text widget.  The first argument
can be any of: <code class="literal">'create'</CODE
>, <code class="literal">'names'</CODE
>, <code class="literal">'cget'</CODE
>, and <code class="literal">'configure'</CODE
>.  
<dl class="variablelist"><dt class="term"><code class="literal">create</CODE
></DT
><dd class="listitem"><p class="para">Inserts an embedded widget at a specified index.  Each 
widget occupies one character in the text widget.
The widget must have already been created as a child of
the text widget.  
For example:

<blockquote class="screen"><pre class="screen">$button = $text-&gt;Label(-text =&gt; &quot;How ya doing?&quot;);
$text-&gt;window('create','end', -window =&gt; $button);</PRE
></BLOCKQUOTE
>

Here, the <code class="literal">-window</CODE
> option is used to identify the widget to
embed.

The list of options to <code class="literal">window ('create')</CODE
> is:

<dl class="variablelist"><dt class="term"><code class="literal">-align</CODE
></DT
><dd class="listitem"><p class="para">Determines the positioning within the line of text.  Values are <code class="literal">'baseline'</CODE
>, <code class="literal">'bottom'</CODE
>, <code class="literal">'top'</CODE
>, or <code class="literal">'center'</CODE
> (default).</P
></DD
><dt class="term"><code class="literal">-padx</CODE
></DT
><dd class="listitem"><p class="para">Adds padding in the <code class="literal">x</CODE
> direction.</P
></DD
><dt class="term"><code class="literal">-pady</CODE
></DT
><dd class="listitem"><p class="para">Adds padding in the <code class="literal">y</CODE
> direction.</P
></DD
><dt class="term"><code class="literal">-window</CODE
></DT
><dd class="listitem"><p class="para">Identifies the widget to embed.</P
></DD
></DL
>&#13;</P
></DD
><dt class="term"><code class="literal">names</CODE
></DT
><dd class="listitem"><p class="para">Returns a list of widget types embedded into the text widget.</P
></DD
><dt class="term"><code class="literal">cget</CODE
></DT
><dd class="listitem"><p class="para">Returns information on the widget at the specified index.

<blockquote class="screen"><pre class="screen">$text-&gt;window('cget',0);</PRE
></BLOCKQUOTE
>&#13;</P
></DD
><dt class="term"><code class="literal">configure</CODE
></DT
><dd class="listitem"><p class="para">Configures widget at the specified index.

<blockquote class="screen"><pre class="screen">$text-&gt;window('configure',0,-background =&gt; &quot;green&quot;);</PRE
></BLOCKQUOTE
>&#13;</P
></DD
></DL
>&#13;</P
></DD
><dt class="term"><code class="literal">xview</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38377"></A
>Manipulates the text in view.  With no arguments, returns a
list of two numbers between 0 and 1, defining what portion of the
text is currently hidden on the left and right sides,
respectively.  With arguments, the function of <code class="literal">xview</CODE
>
changes:

<dl class="variablelist"><dt class="term"><code class="replaceable"><i>index</I
></CODE
></DT
><dd class="listitem"><p class="para">If the first argument is an index, that position becomes 
the leftmost position in view.  </P
></DD
><dt class="term"><code class="literal">moveto</CODE
></DT
><dd class="listitem"><p class="para">Moves the specified fraction of the text to the left
of the visible portion.  </P
></DD
><dt class="term"><code class="literal">scroll</CODE
></DT
><dd class="listitem"><p class="para">Scrolls the text left or right by the specified number of
units (characters, in this context) or pages.  
Used primarily as a callback to a scrollbar; pressing on
an arrow would move by units (characters), and pressing on the
trough would move by pages.
The number is either 1 or -1, to move forwards or backwards,
respectively.</P
></DD
></DL
>&#13;</P
></DD
><dt class="term"><code class="literal">yview</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38402"></A
>Manipulates the text in view.  With no arguments, returns a
list of two numbers between 0 and 1, defining what portion of the
text is currently hidden on the top and bottom,
respectively.  With arguments, the function of <code class="literal">yview</CODE
>
changes:

<dl class="variablelist"><dt class="term"><code class="replaceable"><i>index</I
></CODE
></DT
><dd class="listitem"><p class="para">If the first argument is an index, that position becomes 
the topmost position in view.  </P
></DD
><dt class="term"><code class="literal">moveto</CODE
></DT
><dd class="listitem"><p class="para">Moves the specified fraction of the text to the top
of the visible portion.  </P
></DD
><dt class="term"><code class="literal">scroll</CODE
></DT
><dd class="listitem"><p class="para">Scrolls the text up or down by the specified number of
units (lines, in this context) or pages.  
Used primarily as a callback to a scrollbar; 
pressing on an arrow would move by units (lines), 
and pressing on the trough would move by pages.
The number is either 1 or -1, to move forwards or backwards,
respectively.</P
></DD
></DL
>&#13;</P
></DD
></DL
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="PNUT-CH-18-SECT-11.3">18.11.3 Tags</A
></H3
><p class="para"><a class="indexterm" name="AUTOID-38425"></A
>You can associate a distinct set of format properties to a 
portion of the text using <em class="emphasis">tags</EM
>.
A tag is defined with the <code class="literal">tagConfigure</CODE
> 
method, and text is associated with a tag via an option to 
the <code class="literal">insert</CODE
> or <code class="literal">tagAdd</CODE
> method.  For example:


<blockquote class="screen"><pre class="screen">$text-&gt;Text-&gt;pack;
$text-&gt;tagConfigure('bold', -font =&gt;
     '-*-Courier-Medium-B-Normal-*-120-*-*-*-*-*-*&quot;);
$text-&gt;insert('end', &quot;Normal text\n&quot;);
$text-&gt;insert('end', &quot;Bold text\n&quot;, 'bold');</PRE
></BLOCKQUOTE
>


There are several methods defined for manipulating text tags.
They are:</P
><dl class="variablelist"><dt class="term"><code class="literal">tagAdd</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38438"></A
>Adds a tag to the text within the specified index range.  For
example, to assign the &quot;bold&quot; tag defined above to the current
selection:


<blockquote class="screen"><pre class="screen">$text-&gt;tagAdd('bold','sel.first','sel.last');</PRE
></BLOCKQUOTE
>


You can supply multiple ranges as arguments to <code class="literal">tagAdd</CODE
>.</P
></DD
><dt class="term"><code class="literal">tagBind</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38447"></A
>Executes a callback when a specified event happens on the tagged
text.  For example:


<blockquote class="screen"><pre class="screen">$text-&gt;tagBind('goto_end', &quot;&lt;Button-1&gt;&quot;, sub {shift-&gt;see('end');} );</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">tagConfigure</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38455"></A
>Creates or changes settings for a text tag, for example:  


<blockquote class="screen"><pre class="screen">$text-&gt;tagConfigure('link', -foreground =&gt; 'red');</PRE
></BLOCKQUOTE
>


Options for configuring text tags are:

<dl class="variablelist"><dt class="term"><code class="literal">-background =&gt;</CODE
> <code class="replaceable"><i>color</I
></CODE
></DT
><dd class="listitem"><p class="para">The color to use behind the text.</P
></DD
><dt class="term"><code class="literal">-bgstipple =&gt;</CODE
> <code class="replaceable"><i>bitmap</I
></CODE
></DT
><dd class="listitem"><p class="para">A pattern to draw behind the text.</P
></DD
><dt class="term"><code class="literal">-borderwidth =&gt;</CODE
> <code class="replaceable"><i>amount</I
></CODE
></DT
><dd class="listitem"><p class="para">The width of the edge drawn around the text. </P
></DD
><dt class="term"><code class="literal">-fgstipple =&gt;</CODE
> <code class="replaceable"><i>bitmap</I
></CODE
></DT
><dd class="listitem"><p class="para">A pattern used to draw the text.</P
></DD
><dt class="term"><code class="literal">-font =&gt;</CODE
> <code class="replaceable"><i>fontname</I
></CODE
></DT
><dd class="listitem"><p class="para">The font used for the text.</P
></DD
><dt class="term"><code class="literal">-foreground =&gt;</CODE
> <code class="replaceable"><i>color</I
></CODE
></DT
><dd class="listitem"><p class="para">The color of the text.</P
></DD
><dt class="term"><code class="literal">-justify =&gt;</CODE
> <code class="replaceable"><i>position</I
></CODE
></DT
><dd class="listitem"><p class="para">The justification of the text (any of <code class="literal">'left'</CODE
>, <code class="literal">'right'</CODE
>, and <code class="literal">'center'</CODE
>).  The default is <code class="literal">'left'</CODE
>.</P
></DD
><dt class="term"><code class="literal">-lmargin1 =&gt;</CODE
> <code class="replaceable"><i>amount</I
></CODE
></DT
><dd class="listitem"><p class="para">The indentation for the first line of a paragraph.</P
></DD
><dt class="term"><code class="literal">-lmargin2 =&gt;</CODE
> <code class="replaceable"><i>amount</I
></CODE
></DT
><dd class="listitem"><p class="para">The indentation for subsequent lines of a paragraph (for hanging
indents).</P
></DD
><dt class="term"><code class="literal">-offset =&gt;</CODE
> <code class="replaceable"><i>amount</I
></CODE
></DT
><dd class="listitem"><p class="para">The amount the text is raised or lowered from the baseline (for
subscripts and superscripts).</P
></DD
><dt class="term"><code class="literal">-overstrike =&gt;</CODE
> <code class="replaceable"><i>boolean</I
></CODE
></DT
><dd class="listitem"><p class="para">Draws the text with a line through it.</P
></DD
><dt class="term"><code class="literal">-relief =&gt;</CODE
> <code class="replaceable"><i>type</I
></CODE
></DT
><dd class="listitem"><p class="para">The type of edges drawn around the text.  Values for
<code class="replaceable"><i>type</I
></CODE
> can
be <code class="literal">'flat'</CODE
>, <code class="literal">'groove'</CODE
>, <code class="literal">'raised'</CODE
>, <code class="literal">'ridge'</CODE
>, and <code class="literal">'sunken'</CODE
>.  Default is <code class="literal">'flat'</CODE
>.</P
></DD
><dt class="term"><code class="literal">-rmargin =&gt;</CODE
> <code class="replaceable"><i>amount</I
></CODE
></DT
><dd class="listitem"><p class="para">The right margin.</P
></DD
><dt class="term"><code class="literal">-spacing1 =&gt;</CODE
> <code class="replaceable"><i>amount</I
></CODE
></DT
><dd class="listitem"><p class="para">The amount of space left on the top of a line of text
that starts on its own line.  </P
></DD
><dt class="term"><code class="literal">-spacing2 =&gt;</CODE
> <code class="replaceable"><i>amount</I
></CODE
></DT
><dd class="listitem"><p class="para">The amount of space left on the top of a line of text
after it has been automatically wrapped by the text widget.  </P
></DD
><dt class="term"><code class="literal">-spacing3 =&gt;</CODE
> <code class="replaceable"><i>amount</I
></CODE
></DT
><dd class="listitem"><p class="para">The amount of space left after a line of text
that has been ended by &quot;\n&quot;.  </P
></DD
><dt class="term"><code class="literal">-tabs =&gt;</CODE
> <code class="replaceable"><i>list</I
></CODE
></DT
><dd class="listitem"><p class="para">A list of tab stops to use in the text widget.  </P
></DD
><dt class="term"><code class="literal">-underline =&gt;</CODE
> <code class="replaceable"><i>boolean</I
></CODE
></DT
><dd class="listitem"><p class="para">Whether to underline the text.</P
></DD
><dt class="term"><code class="literal">-wrap =&gt;</CODE
> <code class="replaceable"><i>mode</I
></CODE
></DT
><dd class="listitem"><p class="para">Sets the mode for determining automatic line wrapping.  Values 
are <code class="literal">&quot;none&quot;</CODE
> (no wrapping), <code class="literal">&quot;char&quot;</CODE
> (wrap at any character), or <code class="literal">&quot;word&quot;</CODE
>
(wrap at a word boundary).  </P
></DD
></DL
>&#13;</P
></DD
><dt class="term"><code class="literal">tagCget</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38592"></A
>Returns configuration settings for a tag.</P
></DD
><dt class="term"><code class="literal">tagDelete</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38599"></A
>Deletes the specified tag(s).</P
></DD
><dt class="term"><code class="literal">tagRemove</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38606"></A
>Removes the tags from the text in the specified index range.  
(The tag itself remains defined, but is no longer applied 
to that text.)</P
></DD
><dt class="term"><code class="literal">tagRaise</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38613"></A
>Increases priority for a specified tag.  With only one argument, 
the tag takes highest priority over all others; with a second
argument of another tag, the tag's priority is just higher than
the second tag.  For example:


<blockquote class="screen"><pre class="screen">$text-&gt;tagRaise('bold','italic');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">tagLower</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38621"></A
>Decreases priority for a specified tag.  With only one argument, 
the tag takes lowest priority to all others; with a second
argument of another tag, the tag's priority is just lower than
the second tag.  For example:


<blockquote class="screen"><pre class="screen">$text-&gt;tagLower('italic','bold');</PRE
></BLOCKQUOTE
>


(The outcome of this code is effectively identical to that of the previous example.)</P
></DD
><dt class="term"><code class="literal">tagNames</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38629"></A
>Returns the names of all tags applying to the specified index.
With no index specified, returns all tags defined for the text widget,
regardless of whether they have been applied.


<blockquote class="screen"><pre class="screen">@defined_tags = $text-&gt;tagNames;</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">tagRanges</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38637"></A
>Returns a list of index ranges to which the specified tag is defined.
The returned list contains pairs of starting and ending indexes
for the ranges.  


<blockquote class="screen"><pre class="screen">@bold_indexes = $text-&gt;tagRanges('bold');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">tagNextrange</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38645"></A
>Given a tag name and an index, returns the next index range 
to which the specified tag is defined.


<blockquote class="screen"><pre class="screen">@next_bold = $text-&gt;tagRanges('bold', 'insert');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
></DL
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="PNUT-CH-18-SECT-11.4">18.11.4 Marks</A
></H3
><p class="para"><a class="indexterm" name="AUTOID-38651"></A
>A <em class="emphasis">mark</EM
> refers to a particular position in between characters in
a text widget.  
Once you create a mark, you can use it as an index.  The gravity of the mark
affects which side the text is inserted. <code class="literal">&quot;Right&quot;</CODE
> gravity is the
default, in which case the text is inserted to the right of the mark.</P
><p class="para">The two marks that are automatically set are <code class="literal">&quot;insert&quot;</CODE
> and <code class="literal">&quot;current&quot;</CODE
>.
The <code class="literal">&quot;insert&quot;</CODE
> mark refers to the position
of the insert cursor.  The <code class="literal">&quot;current&quot;</CODE
> mark is the position closest to
the mouse cursor.</P
><p class="para">The following methods are defined for marking:</P
><dl class="variablelist"><dt class="term"><code class="literal">markGravity</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38667"></A
>Sets the gravity of a mark.  For example:


<blockquote class="screen"><pre class="screen">$text-&gt;markGravity('insert', 'left');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">markNames</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38675"></A
>Returns a list of all marks defined for the text widget.  </P
></DD
><dt class="term"><code class="literal">markSet</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38682"></A
>Creates a mark at a specified index.


<blockquote class="screen"><pre class="screen">$text-&gt;markSet('saved', 'insert');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">markUnset</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-38690"></A
>Deletes mark(s) from the text widget.


<blockquote class="screen"><pre class="screen">$text-&gt;markUnset('saved');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
></DL
><p class="para">Note that you cannot delete the <code class="literal">&quot;insert&quot;</CODE
> or <code class="literal">&quot;current&quot;</CODE
> marks.</P
><a class="indexterm" name="AUTOID-38696"></A
><a class="indexterm" name="AUTOID-38697"></A
><a class="indexterm" name="AUTOID-38698"></A
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch18_10.htm#PNUT-CH-18-SECT-10.2" title="18.10 The Listbox Widget"><img src="../gifs/txtpreva.gif" alt="Previous: 18.10 The Listbox Widget" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Perl in a Nutshell"><img src="../gifs/txthome.gif" alt="Perl in a Nutshell" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch18_12.htm" title="18.12 The Canvas Widget"><img src="../gifs/txtnexta.gif" alt="Next: 18.12 The Canvas Widget" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">18.10 The Listbox Widget</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">18.12 The Canvas Widget</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.html" title="The Perl CD Bookshelf">Library Home</A
> | <a href="index.htm" title="Perl in a Nutshell">Perl in a Nutshell</A
> | <a href="../learn/index.htm" title="Learning Perl">Learning Perl</A
> | <a href="../learn32/index.htm" title="Learning Perl on Win32 Systems">Learning Perl on Win32</A
> | <a href="../prog/index.htm" title="Programming Perl">Programming Perl</A
> | <a href="../advprog/index.htm" title="Advanced Perl Programming">Advanced Perl Programming</A
> | <a href="../cookbook/index.htm" title="Perl Cookbook">Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
