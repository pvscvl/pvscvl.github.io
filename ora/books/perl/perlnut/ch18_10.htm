<html><head>
<title>[Chapter 18] 18.10 The Listbox Widget</TITLE>
<meta name="DC.title" content="Perl in a Nutshell"><meta name="DC.creator" content="Ellen Siever, Stephen Spainhour &amp; Nathan Patwardhan"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-07-02T01:58:54Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-286-7" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch18_01.htm" title="18. Perl/Tk"><link rel="prev" href="ch18_09.htm" title="18.9 The Scrollbar Widget"><link rel="next" href="ch18_11.htm#PNUT-CH-18-SECT-11.2" title="18.11 The Text Widget"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Perl in a Nutshell" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,71" href="index.htm" alt="Perl in a Nutshell"><area shape="RECT" coords="467,0,514,18" href="../search/nsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch18_09.htm" title="18.9 The Scrollbar Widget"><img src="../gifs/txtpreva.gif" alt="Previous: 18.9 The Scrollbar Widget" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch18_01.htm" title="18. Perl/Tk">Chapter 18<br>Perl/Tk</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch18_11.htm#PNUT-CH-18-SECT-11.2" title="18.11 The Text Widget"><img src="../gifs/txtnexta.gif" alt="Next: 18.11 The Text Widget" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="SECT1"><h2 class="sect1"><a class="title" name="PNUT-CH-18-SECT-10">18.10 The Listbox Widget</A
></H2
><p class="para"><a class="indexterm" name="AUTOID-37662"></A
><a class="indexterm" name="AUTOID-37664"></A
><a class="indexterm" name="AUTOID-37668"></A
>Create a listbox with the <code class="literal">Listbox</CODE
> method.  
You can then insert items into the listbox
using the <code class="literal">insert</CODE
> method.  


<blockquote class="screen"><pre class="screen">$parentwidget-&gt;Listbox (<em class="emphasis">options</EM
>)</PRE
></BLOCKQUOTE
>


The standard configuration options that apply to <code class="literal">Listbox</CODE
> are:
<code class="literal">-background</CODE
>,
<code class="literal">-bg</CODE
>,
<code class="literal">-borderwidth</CODE
>,
<code class="literal">-bd</CODE
>,
<code class="literal">-cursor</CODE
>,
<code class="literal">-exportselection</CODE
>,
<code class="literal">-font</CODE
>,
<code class="literal">-foreground</CODE
>,
<code class="literal">-fg</CODE
>,
<code class="literal">-height</CODE
>,
<code class="literal">-highlightbackground</CODE
>,
<code class="literal">-highlightcolor</CODE
>,
<code class="literal">-highlightthickness</CODE
>,
<code class="literal">-relief</CODE
>,
<code class="literal">-selectbackground</CODE
>,
<code class="literal">-selectborderwidth</CODE
>,
<code class="literal">-selectforeground</CODE
>,
<code class="literal">-takefocus</CODE
>,
<code class="literal">-width</CODE
>,
<code class="literal">-xscrollcommand</CODE
>,
and
<code class="literal">-yscrollcommand</CODE
>.</P
><p class="para">Other options are:</P
><dl class="variablelist"><dt class="term"><code class="literal">-selectmode =&gt;</CODE
> <code class="replaceable"><i>mode</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37706"></A
>Determines how many items can be selected at once, as well
as key/mouse bindings.  <code class="replaceable"><i>mode</I
></CODE
> can be any of:

<dl class="variablelist"><dt class="term"><code class="literal">'single'</CODE
></DT
><dd class="listitem"><p class="para">Only one item can be selected at a time.</P
></DD
><dt class="term"><code class="literal">'browse'</CODE
></DT
><dd class="listitem"><p class="para">Only one item can be selected at a time.
(Default).</P
></DD
><dt class="term"><code class="literal">'multiple'</CODE
></DT
><dd class="listitem"><p class="para">Multiple items can be selected at a time.</P
></DD
><dt class="term"><code class="literal">'extended'</CODE
></DT
><dd class="listitem"><p class="para">Multiple items can be selected at a time.</P
></DD
></DL
>&#13;</P
></DD
><dt class="term"><code class="literal">-setgrid =&gt;</CODE
> <code class="replaceable"><i>boolean</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37736"></A
>Turns on gridding for the listbox.  If the widget is resized,
only complete lines and characters are displayed.  Default is 0 (off).</P
></DD
></DL
><div class="sect2"><h3 class="sect2"><a class="title" name="PNUT-CH-18-SECT-10.1">18.10.1 Listbox Indexes</A
></H3
><p class="para">In a Listbox widget, several indexes are defined to identify 
positions in the listbox, for use by the 
methods used for retrieving or manipulating listbox entries.  
These indexes are:</P
><p class="para"></P
><dl class="variablelist"><dt class="term"><code class="replaceable"><i>n</I
></CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37749"></A
>An integer representing a position in the list, with 0 as the first item.</P
></DD
><dt class="term"><code class="literal">active</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37757"></A
>The item with the keyboard focus.</P
></DD
><dt class="term"><code class="literal">anchor</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37765"></A
>The anchored position.</P
></DD
><dt class="term"><code class="literal">end</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37773"></A
>The last element in the listbox.</P
></DD
><dt class="term"><code class="literal">@</CODE
><code class="replaceable"><i>x,y</I
></CODE
></DT
><dd class="listitem"><p class="para">The listbox item containing the specified x,y coordinate.</P
></DD
></DL
></DIV
><div class="sect2"><h3 class="sect2"><a class="title" name="PNUT-CH-18-SECT-10.2">18.10.2 Listbox Methods</A
></H3
><p class="para">In addition to <code class="literal">configure</CODE
> and <code class="literal">cget</CODE
>, the following methods
are supported by Listbox:</P
><dl class="variablelist"><dt class="term"><code class="literal">insert</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37793"></A
>Adds items to a listbox at the specified index.  For example, to
insert items at the end of a list:


<blockquote class="screen"><pre class="screen">$listbox-&gt;insert('end', &quot;Puerto Rico&quot;, &quot;Virgin Islands&quot;, &quot;Guam&quot;);</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">delete</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37802"></A
>Deletes items from a listbox.  To delete all items:


<blockquote class="screen"><pre class="screen">$listbox-&gt;delete(0,'end');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">get</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37811"></A
>Returns a list of elements within the specified range of indexes.
For a list of all elements:


<blockquote class="screen"><pre class="screen">@items = $listbox-&gt;get(0,'end');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><dt class="term"><code class="literal">curselection</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37820"></A
>Returns a list of all currently selected elements in the listbox.</P
></DD
><dt class="term"><code class="literal">activate</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37827"></A
>Sets the specified item to be the active element.</P
></DD
><dt class="term"><code class="literal">bbox</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37835"></A
>Returns the location and dimensions of the bounding box surrounding
the specified listbox element.
The returned list contains four numbers representing 
(respectively) the x coordinate of the upper-left corner,
the y coordinate of the upper-left corner, the width of the
text in pixels, and the height of the text in pixels.</P
></DD
><dt class="term"><code class="literal">index</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37843"></A
>Converts a named index into a numeric one.  </P
></DD
><dt class="term"><code class="literal">nearest</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37851"></A
>Gets the index of the listbox item nearest to a given y coordinate.</P
></DD
><dt class="term"><code class="literal">see</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37858"></A
>Pages the listbox up or down to display the specified item.</P
></DD
><dt class="term"><code class="literal">selection</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37866"></A
>Manipulates the selected block of list items.  
The first argument can be any of:

<dl class="variablelist"><dt class="term"><code class="literal">anchor</CODE
></DT
><dd class="listitem"><p class="para">Sets the anchor index to the specified index.  </P
></DD
><dt class="term"><code class="literal">clear</CODE
></DT
><dd class="listitem"><p class="para">Clears any selected list items in the specified range.  For
example, to clear all selections:


<blockquote class="screen"><pre class="screen">$listbox-&gt;selection('clear', 0, 'end');</PRE
></BLOCKQUOTE
></P
></DD
><dt class="term"><code class="literal">includes</CODE
></DT
><dd class="listitem"><p class="para">Returns <code class="literal">0</CODE
> or <code class="literal">1</CODE
> depending on whether the specified item is
already selected.

<blockquote class="screen"><pre class="screen">$listbox-&gt;selection('includes', 'end');</PRE
></BLOCKQUOTE
></P
></DD
><dt class="term"><code class="literal">set</CODE
></DT
><dd class="listitem"><p class="para">Selects a range of items in the listbox.


<blockquote class="screen"><pre class="screen">$listbox-&gt;selection('set', 0, 'end');</PRE
></BLOCKQUOTE
></P
></DD
></DL
>
&#13;</P
></DD
><dt class="term"><code class="literal">size</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37900"></A
>Returns the total number of items in the listbox.</P
></DD
><dt class="term"><code class="literal">xview</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37908"></A
>Manipulates the text in view.  With no arguments, returns a
list of two numbers between 0 and 1, defining what portion of the
list text is currently hidden on the left and right sides,
respectively.  With arguments, the function of <code class="literal">xview</CODE
>
changes:

<dl class="variablelist"><dt class="term"><code class="replaceable"><i>index</I
></CODE
></DT
><dd class="listitem"><p class="para">If the first argument is an index, that position becomes 
the leftmost position in view.  </P
></DD
><dt class="term"><code class="literal">moveto</CODE
></DT
><dd class="listitem"><p class="para">Moves the specified fraction of the listbox to the left
of the visible portion.  </P
></DD
><dt class="term"><code class="literal">scroll</CODE
></DT
><dd class="listitem"><p class="para">Scrolls the text left or right by the specified number of
units (characters, in this context) or pages.  
Used primarily as a callback to a scrollbar; pressing on
an arrow would move by units (characters), and pressing on the
trough would move by pages.
The number is either 1 or -1, to move forwards or backwards,
respectively.</P
></DD
></DL
>&#13;</P
></DD
><dt class="term"><code class="literal">yview</CODE
></DT
><dd class="listitem"><p class="para"><a class="indexterm" name="AUTOID-37933"></A
>Manipulates the text in view.  With no arguments, returns a
list of two numbers between 0 and 1, defining what portion of the
list text is currently hidden 
on the top and bottom,
respectively.  With arguments, the function of <code class="literal">yview</CODE
>
changes:

<dl class="variablelist"><dt class="term"><code class="replaceable"><i>index</I
></CODE
></DT
><dd class="listitem"><p class="para">If the first argument is an index, that position becomes 
the topmost position in view.  </P
></DD
><dt class="term"><code class="literal">moveto</CODE
></DT
><dd class="listitem"><p class="para">Moves the specified fraction of the listbox to the top
of the visible portion.  </P
></DD
><dt class="term"><code class="literal">scroll</CODE
></DT
><dd class="listitem"><p class="para">Scrolls the text up or down by the specified number of
units (lines, in this context) or pages.  
Used primarily as a callback to a scrollbar; pressing on
an arrow would move by units (lines), and pressing on the
trough would move by pages.
The number is either 1 or -1, to move forwards or backwards,
respectively.</P
></DD
></DL
>&#13;</P
></DD
></DL
></DIV
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="SECT1" href="ch18_09.htm" title="18.9 The Scrollbar Widget"><img src="../gifs/txtpreva.gif" alt="Previous: 18.9 The Scrollbar Widget" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Perl in a Nutshell"><img src="../gifs/txthome.gif" alt="Perl in a Nutshell" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="SECT1" href="ch18_11.htm#PNUT-CH-18-SECT-11.2" title="18.11 The Text Widget"><img src="../gifs/txtnexta.gif" alt="Next: 18.11 The Text Widget" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">18.9 The Scrollbar Widget</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">18.11 The Text Widget</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.html" title="The Perl CD Bookshelf">Library Home</A
> | <a href="index.htm" title="Perl in a Nutshell">Perl in a Nutshell</A
> | <a href="../learn/index.htm" title="Learning Perl">Learning Perl</A
> | <a href="../learn32/index.htm" title="Learning Perl on Win32 Systems">Learning Perl on Win32</A
> | <a href="../prog/index.htm" title="Programming Perl">Programming Perl</A
> | <a href="../advprog/index.htm" title="Advanced Perl Programming">Advanced Perl Programming</A
> | <a href="../cookbook/index.htm" title="Perl Cookbook">Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
