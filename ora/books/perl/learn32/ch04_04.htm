<html><head>
<title>[Chapter 4] 4.4 The do {} while/until Statement</TITLE>
<meta name="DC.title" content="Learning Perl on Win32 Systems"><meta name="DC.creator" content="Randal L. Schwartz, Erik Olson &amp; Tom Christiansen"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-07-02T01:33:06Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-324-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch04_01.htm" title="4. Control Structures"><link rel="prev" href="ch04_03.htm" title="4.3 The while/until Statement"><link rel="next" href="ch04_05.htm" title="4.5 The for Statement"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Learning Perl on Win32 Systems" usemap="#srchmap" border="0"></H1
><map name="srcindex.htmlhmap"><area shape="RECT" coords="0,0,466,54" href="index.htm" alt="Learning Perl on Win32 Systems"><area shape="RECT" coords="467,0,514,18" href="../search/wsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="sect1" href="ch04_03.htm" title="4.3 The while/until Statement"><img src="../gifs/txtpreva.gif" alt="Previous: 4.3 The while/until Statement" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch04_01.htm" title="4. Control Structures">Chapter 4<br>Control Structures</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="sect1" href="ch04_05.htm" title="4.5 The for Statement"><img src="../gifs/txtnexta.gif" alt="Next: 4.5 The for Statement" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="sect1"><h2 class="sect1"><a class="title" name="ch04-34686">4.4 The do {} while/until Statement</A
></H2
><p class="para">The <code class="literal">while/until</CODE
> statement you saw in the previous section tests its condition at the top of every loop, before the loop is entered. If the condition was already false to begin with, the loop won't be executed at all.</P
><p class="para">But sometimes you don't want to test the condition at the top of the loop. Instead, you want to test it at the bottom. To fill this need, Perl provides the <code class="literal">do</CODE
> <code class="literal">{}</CODE
> <code class="literal">while</CODE
> statement, which is just like the regular <code class="literal">while</CODE
>[<a class="footnote" href="#ch04-pgfId-569">3</A
>] statement except that it doesn't test the expression until after executing the loop once. For example:</P
><blockquote class="footnote"><div class="footnote"><p class="para"><a class="footnote" name="ch04-pgfId-569">[3]</A
>  Well, this statement is not quite true; the loop control directives explained in <a class="xref" href="ch09_01.htm" title="Miscellaneous Control Structures">Chapter 9, <cite class="chapter">Miscellaneous Control Structures</CITE
></A
>, don't work for the bottom-testing form.</P
></DIV
></BLOCKQUOTE
><pre class="programlisting">do {
    statement_1;
    statement_2;
    statement_3;
} while (some_expression);</PRE
><p class="para">Perl executes the statements in the <code class="literal">do</CODE
> block. When it reaches the end, it evaluates the expression for truth. If the expression is false, the loop is done. If it's true, then the whole block is executed one more time before the expression is once again checked.</P
><p class="para">As with a normal <code class="literal">while</CODE
> loop, you can invert the sense of the test by changing <code class="literal">do</CODE
> <code class="literal">{}</CODE
> <code class="literal">while</CODE
> to <code class="literal">do</CODE
> <code class="literal">{}</CODE
> <code class="literal">until</CODE
>. The expression is still tested at the bottom, but its sense is reversed. For some cases, especially compound ones, this is the more natural way to write the test:</P
><pre class="programlisting">$stops = 0;
do {
    $stops++;
    print &quot;Next stop? &quot;;
    chomp($location = &lt;STDIN&gt;);
} until $stops &gt; 5 || $location eq 'home';</PRE
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="sect1" href="ch04_03.htm" title="4.3 The while/until Statement"><img src="../gifs/txtpreva.gif" alt="Previous: 4.3 The while/until Statement" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Learning Perl on Win32 Systems"><img src="../gifs/txthome.gif" alt="Learning Perl on Win32 Systems" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="sect1" href="ch04_05.htm" title="4.5 The for Statement"><img src="../gifs/txtnexta.gif" alt="Next: 4.5 The for Statement" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">4.3 The while/until Statement</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">4.5 The for Statement</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.html" title="The Perl CD Bookshelf">Library Home</A
> | <a href="../perlnut/index.htm" title="Perl in a Nutshell">Perl in a Nutshell</A
> | <a href="../learn/index.htm" title="Learning Perl">Learning Perl</A
> | <a href="index.htm" title="Learning Perl on Win32 Systems">Learning Perl on Win32</A
> | <a href="../prog/index.htm" title="Programming Perl">Programming Perl</A
> | <a href="../advprog/index.htm" title="Advanced Perl Programming">Advanced Perl Programming</A
> | <a href="../cookbook/index.htm" title="Perl Cookbook">Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
