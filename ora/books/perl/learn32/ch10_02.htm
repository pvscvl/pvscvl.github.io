<html><head>
<title>[Chapter 10] 10.2 Opening and Closing a Filehandle</TITLE>
<meta name="DC.title" content="Learning Perl on Win32 Systems"><meta name="DC.creator" content="Randal L. Schwartz, Erik Olson &amp; Tom Christiansen"><meta name="DC.publisher" content="O'Reilly &amp; Associates, Inc."><meta name="DC.date" content="1999-07-02T01:34:23Z"><meta name="DC.type" content="Text.Monograph"><meta name="DC.format" content="text/html" scheme="MIME"><meta name="DC.source" content="1-56592-324-3" scheme="ISBN"><meta name="DC.language" content="en-US"><meta name="generator" content="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><link rev="made" href="mailto:online-books@oreilly.com" title="Online Books Comments"><link rel="up" href="ch10_01.htm" title="10. Filehandles and File Tests"><link rel="prev" href="ch10_01.htm" title="10.1 What Is a Filehandle?"><link rel="next" href="ch10_03.htm" title="10.3 Using Pathnames and Filenames"></HEAD
><body bgcolor="#FFFFFF" text="#000000"><div class="htmlnav"><h1><img src="gifs/smbanner.gif" alt="Learning Perl on Win32 Systems" usemap="#srchmap" border="0"></H1
><map name=index.html"srchmap"><area shape="RECT" coords="0,0,466,54" href="index.htm" alt="Learning Perl on Win32 Systems"><area shape="RECT" coords="467,0,514,18" href="../search/wsrch.htm" alt="Search this book"></MAP
><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="sect1" href="ch10_01.htm" title="10.1 What Is a Filehandle?"><img src="../gifs/txtpreva.gif" alt="Previous: 10.1 What Is a Filehandle?" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1"><a class="chapter" rel="up" href="ch10_01.htm" title="10. Filehandles and File Tests">Chapter 10<br>Filehandles and File Tests</A
></FONT
></B
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="sect1" href="ch10_03.htm" title="10.3 Using Pathnames and Filenames"><img src="../gifs/txtnexta.gif" alt="Next: 10.3 Using Pathnames and Filenames" border="0"></A
></TD
></TR
></TABLE
>&nbsp;<hr align="LEFT" width="515" title="footer"></DIV
><div class="sect1"><h2 class="sect1"><a class="title" name="ch10-18175">10.2 Opening and Closing a Filehandle</A
></H2
><p class="para">Perl provides three filehandles&nbsp;- <code class="literal">STDIN</CODE
>, <code class="literal">STDOUT</CODE
>, and <code class="literal">STDERR</CODE
>&nbsp;- which are automatically open to files or devices established by the program's parent process (probably a command console). You use the <a class="indexterm" name="ch10-idx-367877-0"></A
><code class="literal">open</CODE
> function to <a class="indexterm" name="ch10-idx-367878-0"></A
><a class="indexterm" name="ch10-idx-367878-1"></A
>open additional filehandles. The syntax looks like this:</P
><pre class="programlisting">open(<code class="replaceable"><i>FILEHANDLE</I
></CODE
>,&quot;<code class="replaceable"><i>somename</I
></CODE
>&quot;);</PRE
><p class="para">where <code class="replaceable"><i>FILEHANDLE</I
></CODE
> is the new filehandle and <code class="replaceable"><i>somename</I
></CODE
> is the external filename (such as a file or a device) that will be associated with the new filehandle. This invocation opens the filehandle for reading. To open a file for writing, use the same <code class="literal">open</CODE
> function, but prefix the filename with a greater-than sign (as with redirection in <em class="emphasis">cmd.exe</EM
> or <em class="emphasis">command.com</EM
>):</P
><pre class="programlisting">open(<code class="replaceable"><i>OUT</I
></CODE
>, &quot;&gt;<code class="replaceable"><i>outfile</I
></CODE
>&quot;);</PRE
><p class="para">We'll see in a later section, <a class="xref" href="ch10_05.htm" title="Using Filehandles">"Using Filehandles</A
>," how to use this filehandle. Also, as at the command prompt, you can open a file for <a class="indexterm" name="ch10-idx-779926-0"></A
><a class="indexterm" name="ch10-idx-779926-1"></A
>appending by using two greater-than signs for a prefix, as shown:</P
><pre class="programlisting">open(<code class="replaceable"><i>LOGFILE</I
></CODE
>, &quot;&gt;&gt;<code class="replaceable"><i>mylogfile</I
></CODE
>&quot;);</PRE
><p class="para">All forms of <code class="literal">open</CODE
> return true for success and false for failure. (Opening a file for input fails, for example, if the file is not there or cannot be accessed because of permissions; opening a file for output fails if the file is write protected, or if the directory is not writable or accessible.)</P
><p class="para">When you are finished with a filehandle, you can close it with the <a class="indexterm" name="ch10-idx-367880-0"></A
><code class="literal">close</CODE
> operator, like so:</P
><pre class="programlisting">close(LOGFILE);</PRE
><p class="para">Reopening a filehandle also closes the previously opened file automatically, as does exiting the program. Because of this feature, many Perl programs don't bother with <code class="literal">close</CODE
>. But the function is there if you want to be tidy or make sure that all of the data is flushed out before program termination. A <code class="literal">close</CODE
> call could also fail if the disk filled up, the remote server that held the file became inaccessible, or any of various other esoteric problems occurred. You should always check the return values of all system calls.</P
></DIV
><div class="htmlnav"><p></P
><hr align="LEFT" width="515" title="footer"><table width="515" border="0" cellspacing="0" cellpadding="0"><tr><td align="LEFT" valign="TOP" width="172"><a class="sect1" href="ch10_01.htm" title="10.1 What Is a Filehandle?"><img src="../gifs/txtpreva.gif" alt="Previous: 10.1 What Is a Filehandle?" border="0"></A
></TD
><td align="CENTER" valign="TOP" width="171"><a class="book" href="index.htm" title="Learning Perl on Win32 Systems"><img src="../gifs/txthome.gif" alt="Learning Perl on Win32 Systems" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172"><a class="sect1" href="ch10_03.htm" title="10.3 Using Pathnames and Filenames"><img src="../gifs/txtnexta.gif" alt="Next: 10.3 Using Pathnames and Filenames" border="0"></A
></TD
></TR
><tr><td align="LEFT" valign="TOP" width="172">10.1 What Is a Filehandle?</TD
><td align="CENTER" valign="TOP" width="171"><a class="index" href="index/idx_0.htm" title="Book Index"><img src="../gifs/index.gif" alt="Book Index" border="0"></A
></TD
><td align="RIGHT" valign="TOP" width="172">10.3 Using Pathnames and Filenames</TD
></TR
></TABLE
><hr align="LEFT" width="515" title="footer"><p class="nav"><font size="-1">[ <a href="../index.html" title="The Perl CD Bookshelf">Library Home</A
> | <a href="../perlnut/index.htm" title="Perl in a Nutshell">Perl in a Nutshell</A
> | <a href="../learn/index.htm" title="Learning Perl">Learning Perl</A
> | <a href="index.htm" title="Learning Perl on Win32 Systems">Learning Perl on Win32</A
> | <a href="../prog/index.htm" title="Programming Perl">Programming Perl</A
> | <a href="../advprog/index.htm" title="Advanced Perl Programming">Advanced Perl Programming</A
> | <a href="../cookbook/index.htm" title="Perl Cookbook">Perl Cookbook</A
> ]</FONT
></P
></DIV
></BODY
></HTML
>
