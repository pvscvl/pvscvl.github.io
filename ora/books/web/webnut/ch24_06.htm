<!doctype html public "-//ORA//DTD CD HTML 3.2//EN">
<html>
<head>
<title>[Chapter 24] 24.6 Directory Indexing</TITLE>
<meta name="author" content="Stephen Spainhour and Valerie Quercia">
<meta name="date" content="Mon Mar 17 14:42:54 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="Webmaster in a Nutshell">
<meta name="title" content="Webmaster in a Nutshell">
<!-- JavaScript: pathcont.js -->

</HEAD>
<body bgcolor="#FFFFFF">

<div class=htmlnav>
<h1><img src="gifs/smbanner.gif" alt="Webmaster in a Nutshell"></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch24_05.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b>Chapter 24</b></td>
<td width=172 align=right valign=top><a href="ch24_07.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>
<!-- JavaScript: prev.js -->
&nbsp;
<!-- JavaScript: next.js -->
<hr align=left width=515>
</DIV>
<div class=sect1>
<h2 class=sect1><a class="TITLE" name="WEB-CH-24-SECT-6">24.6 Directory Indexing</A></h2>

<p class=para>
This section discusses the
directives used to determine exactly how the server will respond when 
a user makes a directory request.

<div class=sect2>
<h3 class=sect2>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.1">AddBlankIcon</A></h4>

<p class=para>
<tt class=literal>AddBlankIcon</tt> <i class=emphasis>icon_path</I>  

<p class=para>
Specifies an icon that is the 
same size as the other directory index icons, but is 
entirely transparent, i.e., a blank icon. 
This is used to properly align the column headings with 
the columns of information in the file listing. 

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.2">AddDirIcon</A></h4>

<p class=para>
<tt class=literal>AddDirIcon</tt> <i class=emphasis>icon_path alt_text</I> 

<p class=para>
Specifies an icon to be used 
for subdirectories in a file listing. The second argument specifies
alternate text for the icon.
For example:

<p class=para>
<div class=screen>
<p>
<pre>
AddDirIcon /icons/directory.xbm   DIR
</PRE>
</DIV>

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.3">AddIcon</A></h4>

<p class=para>
<tt class=literal>AddIcon</tt> <i class=emphasis>icon_path alt_text mime_type</I>

<p class=para>
Specifies an icon and alternate
text to be associated with a given MIME type or encoding of a file in
a directory listing. 
For example, to use the icon <i class=emphasis>/icons/compass.gif</I> 
and the alt text "MAP" for Netcarta webmaps (MIME type 
<i class=emphasis>application/webmap</I>), 
use the following setting:

<p class=para>
<div class=screen>
<p>
<pre>
AddIcon /icons/compass.gif MAP application
/webmap
</PRE>
</DIV>

<p class=para>
The CERN server does have some default icon mappings 
(and includes the icons with the server distribution), but 
these are all wiped out if you use <tt class=literal>AddIcon</tt> directives to add 
mappings of your own.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.4">AddIconToStd</A></h4>

<p class=para>
<tt class=literal>AddIconToStd</tt> <i class=emphasis>icon_path alt_text mime_type</I>

<p class=para>
The <tt class=literal>AddIconToStd</tt> directive acts just like <tt class=literal>AddIcon</tt>, 
except that your icons augment the mapping list rather than 
replace it.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.5">AddParentIcon</A></h4>

<p class=para>
<tt class=literal>AddParentIcon</tt> <i class=emphasis>icon_path alt_text</I> 

<p class=para>
The <tt class=literal>AddParentIcon</tt> directive specifies an icon and alt text for the parent 
directory ("..") in a directory listing. For example:

<p class=para>
<div class=screen>
<p>
<pre>
AddParentIcon /icons/back.xbm UP
</PRE>
</DIV>

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.6">AddUnknownIcon</A></h4>

<p class=para>
<tt class=literal>AddUnknownIcon</tt> <i class=emphasis>icon_path</I>  

<p class=para>
The <tt class=literal>AddUnknownIcon</tt> directive specifies an icon
to be used for files of unknown type or encoding. 

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.7">AlwaysWelcome</A></h4>

<p class=para>
<tt class=literal>AlwaysWelcome</tt> On|Off  

<p class=para>
Specifies whether requesting a directory without its trailing slash
returns a directory listing or a "welcome" document (see the
<tt class=literal>Welcome</tt> directive). The default is <tt class=literal>On</tt>, in which
case the "welcome" document is returned whether or not the trailing
slash is included. 

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.8">DirAccess</A></h4>

<p class=para>
<tt class=literal>DirAccess</tt> On|Off|Selective  

<p class=para>
Specifies whether, and under what conditions,
the server should generate its own directory indices. 
Options are:

<p>
<dl class=variablelist>
<dt class=varlistentry><tt class=literal>On</tt><dd>

<p class=para>
The server may build an index for any requested directory. 
(Default)

<p>
<dt class=varlistentry><tt class=literal>Off</tt><dd>

<p class=para>
The server 
may never build a directory index. 

<p>
<dt class=varlistentry><tt class=literal>Selective</tt><dd>

<p class=para>
Allows you to pick and choose which directory the server may 
index and which it will not. 
The server will first look in the directory for a file named <i class=emphasis>www_browsable</I>. If this file exists, regardless of size or 
contents, the server is allowed to generate an index for the 
directory. If the file is not present, the server 
generates a <tt class=literal>403</tt> (<tt class=literal>Access Denied</tt>) error. There is no
provision for changing the name of this file.</DL>
</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.9">DirAddHref</A></h4>

<p class=para>
<tt class=literal>DirAddHref</tt> <i class=emphasis>filename suffix</I> 

<p class=para>
Links a resource to
the icon of specified file types in a file listing. For example,
you could have an icon reference a CGI script on your server
that could unpack the contents of a listed tar file and return
a listing of the archive:

<p class=para>
<div class=screen>
<p>
<pre>
DirAddHref /cgi-bin/untar .tar
</PRE>
</DIV>

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.10">DirReadme</A></h4>

<p class=para>
<tt class=literal>DirReadme</tt> Top|Bottom|None  

<p class=para>
When a directory index is generated, the server looks in 
the directory being indexed for a file named <i class=emphasis>README</I>. If 
this file exists, its contents are included in the directory 
index as an explanation of the contents of the 
directory. The <tt class=literal>DirReadMe</tt> directive specifies if and 
where this file should be included. Values are:
<p>
<dl class=variablelist>
<dt class=varlistentry><tt class=literal>top</tt><dd>

<p class=para>
Include the file before the file listing  

<p>
<dt class=varlistentry><tt class=literal>Bottom</tt><dd>

<p class=para>
Include the file after the file listing

<p>
<dt class=varlistentry><tt class=literal>None    </tt><dd>

<p class=para>
Don't include the file at all</DL>
</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.11">DirShowBrackets</A></h4>

<p class=para>
<tt class=literal>DirShowBrackets</tt> On|Off  

<p class=para>
Specifies whether alternate text of MIME type
descriptions will have square brackets around them. The default setting is:

<p class=para>
<div class=screen>
<p>
<pre>
DirShowBrackets On
</PRE>
</DIV>

<p class=para>
which means the descriptions will be placed within brackets. 
If icons are not included, this directive has no effect.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.12">DirShowBytes</A></h4>

<p class=para>
<tt class=literal>DirShowBytes</tt> On|Off  

<p class=para>
Specifies whether file size should 
be shown in a file listing when sizes are turned on with <tt class=literal>DirShowSize</tt>.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.13">DirShowCase</A></h4>

<p class=para>
<tt class=literal>DirShowCase</tt> On|Off  

<p class=para>
Determines whether the server notices 
case when ordering the files for the listing. If case is noticed, 
then all files with uppercase names will be listed before their 
lowercase neighbors (i.e., normal <i class=emphasis>ls</I> order). If case is not 
noticed, upper- and lowercase names will be interleaved. 
The default setting is <tt class=literal>Off</tt>.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.14">DirShowDate</A></h4>

<p class=para>
<tt class=literal>DirShowDate</tt> On|Off  

<p class=para>
Specifies whether the 
last-modified time should be included for each file. 

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.15">DirShowDescription</A></h4>

<p class=para>
<tt class=literal>DirShowDescription</tt> should  

<p class=para>
Specifies whether a
description of the file should be shown in a directory listing. 
The server looks for
a file named <i class=emphasis>.www_descript</I> in the directory to act as a
description database. The format of this database is one
entry per line, where an entry consists of the word
"DESCRIBE," the filename or template, and the description, with
whitespace acting as the delimiter. 
Here are some example entries:

<p class=para>
<div class=screen>
<p>
<pre>
DESCRIBE    techspecs.html technical docs
DESCRIBE    adcopy.html    advertising copy
</PRE>
</DIV>

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.16">DirShowGroup</A></h4>

<p class=para>
<tt class=literal>DirShowGroup</tt> On|Off  

<p class=para>
Specifies whether the group 
of the file should be included. 
The group name is used if it is available; 
otherwise, the group id is used. 
The default is <tt class=literal>Off</tt>.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.17">DirShowHidden</A></h4>

<p class=para>
<tt class=literal>DirShowHidden</tt> On|Off  

<p class=para>
Specifies whether hidden 
files (i.e., those whose names begin with ".") should be 
included in the file listing. The default is <tt class=literal>Off</tt>.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.18">DirShowIcons</A></h4>

<p class=para>
<tt class=literal>DirShowIcons</tt> On|Off  

<p class=para>
Specifies whether icons 
indicating the MIME types of the files should be included on 
each line. The default is <tt class=literal>On</tt>.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.19">DirShowMaxDes...</A></h4>

<p class=para>
<tt class=literal>DirShowMaxDescrLength</tt> <i class=emphasis>length</I> 

<p class=para>
If descriptions of the files in a listing are shown, the 
length of the description is determined by the number of characters
specified with the <tt class=literal>DirShowMaxDescrLength</tt> directive. 
The default is 25.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.20">DirShowMaxLength</A></h4>

<p class=para>
<tt class=literal>DirShowMaxLength</tt> <i class=emphasis>length</I>  

<p class=para>
Specifies the maximum number of 
characters used for filenames in a listing. The file listing will 
always use at least the minimum number of characters (from 
<tt class=literal>DirShowMinLength</tt>), but 
will never show more than the maximum, truncating filenames that 
are too long. The default is 25.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.21">DirShowMinLength</A></h4>

<p class=para>
<i class=emphasis>length</I> The 

<p class=para>
Specifies the minimum number of 
characters used for filenames in a listing. 
The default is 15.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.22">DirShowMode</A></h4>

<p class=para>
<tt class=literal>DirShowMode</tt> On|Off  

<p class=para>
Specifies whether
permissions of the file should be included. 
The mode is written in mnemonic form, such as "<tt class=literal>rw-rw-rw-</tt>", rather 
than numeric form, such as "<tt class=literal>666</tt>". The default is
<tt class=literal>Off</tt>.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.23">DirShowOwner</A></h4>

<p class=para>
<tt class=literal>DirShowOwner</tt> On|Off  

<p class=para>
Specifies whether the owner 
of the file should be included in the directory listing. 
The user name is used if it is available; 
otherwise, the user id is used. The default is <tt class=literal>Off</tt>.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.24">DirShowSize</A></h4>

<p class=para>
<tt class=literal>DirShowSize</tt> On|Off  

<p class=para>
Specifies whether the size should 
be included for each file in a listing. The default is
<tt class=literal>On</tt>.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.25">IconPath</A></h4>

<p class=para>
<tt class=literal>IconPath</tt> <i class=emphasis>prefix</I>  

<p class=para>
Specifies a server path prefix 
to be attached to all icon paths. For example, for the <tt class=literal>Add*Icon</tt> 
directives, the <i class=emphasis>/icons/</I> part of the filenames could have been
left off the icon path by adding the following line before them in the configuration file:

<p class=para>
<div class=screen>
<p>
<pre>
IconPath /icons/
</PRE>
</DIV>

<p class=para>
Remember that this will be prefixed to every path, so only use it 
if you are sure that you will put all of 
your icons within a single directory or tree.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="WEB-CH-24-SECT-6.26">Welcome</A></h4>

<p class=para>
<tt class=literal>Welcome</tt> <i class=emphasis>filename</I>  

<p class=para>
Specifies the name of the file in a directory to use when a directory
is requested rather than a specific document. If multiple
<tt class=literal>Welcome</tt> directives are specified, they are searched for in
order, and the first one located is returned. By default, the files
are <i class=emphasis>Welcome.html</I>, <i class=emphasis>welcome.html</I>, and <i class=emphasis>index.html</I>. 

</DIV>

</DIV>

</DIV>


<div class=htmlnav>

<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch24_05.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.htm"><img src="gifs/txthome.gif" alt="Home" border=0></a></td>
<td width=172 align=right valign=top><a href="ch24_07.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>Script Configuration</td>
<td width=171 align=center valign=top><a href="index/idx_0.htm">Book Index</a></td>
<td width=172 align=right valign=top>Access Control Configuration</td>
</tr>
</table>

<!-- JavaScript: prev.js -->
&nbsp;
<!-- JavaScript: next.js -->
</DIV>

</BODY>
</HTML>
