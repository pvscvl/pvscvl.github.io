<!doctype html public "-//ORA//DTD CD HTML 3.2//EN">
<html>
<head>
<title>[Chapter 26] 26.4 Virtual Servers</TITLE>
<meta name="author" content="Stephen Spainhour and Valerie Quercia">
<meta name="date" content="Mon Mar 17 14:44:39 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="Webmaster in a Nutshell">
<meta name="title" content="Webmaster in a Nutshell">
<!-- JavaScript: pathcont.js -->

</HEAD>
<body bgcolor="#FFFFFF">

<div class=htmlnav>
<h1><img src="gifs/smbanner.gif" alt="Webmaster in a Nutshell"></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch26_03.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b>Chapter 26</b></td>
<td width=172 align=right valign=top><a href="ch26_05.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>
<!-- JavaScript: prev.js -->
&nbsp;
<!-- JavaScript: next.js -->
<hr align=left width=515>
</DIV>
<div class=sect1>
<h2 class=sect1><a class="TITLE" name="WEB-CH-26-SECT-4">26.4 Virtual Servers</A></h2>

<p class=para>
The Identity page of Server Admin (shown in 
is used for multi-homed or virtual servers'
settings for WebSite. Setting up differently named and addressed sites on
the same computer and server is a complex issue and is not discussed in
detail in this book. However, the Windows platforms are quite capable of supporting multiple IP addresses on the same machine. Windows NT supports
multiple IP addresses using a single or multiple adapters. Windows 95 supports
multiple IP addresses only with multiple adapters--one IP address per
adapter. The WebSite server can support an unlimited number of IP addresses,
or as many as the operating system can.

<div class=figure>
<h4 class=figure>


<p>
<img align=middle src="figs/wm_2403.gif" alt="[Graphic: Figure 26-3]" width=324 height=339>

</DIV>

<p class=para>
WebSite handles multiple virtual servers in a rather elegant way by
using unique "nicknames" for each address. When WebSite receives a request
for a specific IP address, it prefixes the URL with that address's nickname.
Document and CGI mapping are critically important under this scheme, and
URLs for each virtual server must be mapped using the nickname.
The use of the nickname is of no concern to your users. They simply
request URLs using whatever IP address or hostname they require.

<p class=para>
WebSite gives you an easy way and a hard way to set up virtual servers.
Both paths begin on the Identity page of Server Admin. When you click
the Multiple Identities box, an alert box pops up to tell you that
IP addresses have been added to the server's configuration. Press
OK and the page changes to show all the IP addresses on the system
in the pulldown list box. The first address shown is always 127.0.0.1,
<i class=emphasis>localhost</I>. You must configure this address just like any other
virtual server that you set up. To set up a new IP address, select
it from the list and press the Wizard button. The Identity Wizard
will then appear and ask you to supply information about the new
address. The Identity Wizard automates the setup of nicknames and
documents and CGI mapping for you. It will also create new directories
if you wish to use them for the new web. Using the Wizard is the
easy way.

<p class=para>
The hard way is the path you take if you do not
press the Wizard button after selecting the new address to be configured.
You must then provide the fully qualified domain name for the new
address, the URL prefix you wish to use (it must begin with a slash /),
and the name of an access log file, if you don't wish to use the 
main access file. You must supply <i class=emphasis>.log</I> with the access log
filename; WebSite will not add it automatically.

<p class=para>
Once you have filled in all of the fields, press the Update button.
Follow the same steps to configure any other new addresses you
may have. When all new addresses are set up, press Apply.

<p class=para>
Filling in the Identity page is only part of manually setting up
a new IP address. You now have to go to the Mapping page and
create mappings for the new address by using its nickname.
Make sure you use the address' nickname in front of every URL
path you map. For example, a new virtual server has been set up
on the Identity page with the server name <i class=emphasis>webs.provider.com</I> and
the nickname <i class=emphasis>/webs</I>. 
shows the Document URL mappings
from the Mapping page with the document root directory set for
<i class=emphasis>/webs</I>. 

<div class=figure>
<h4 class=figure>


<p>
<img align=middle src="figs/wm_2404.gif" alt="[Graphic: Figure 26-4]" width=331 height=96>

</DIV>

<p class=para>
All mapped URLs for that server must begin with
<i class=emphasis>/webs/</I>. CGI mappings also must be mapped using the nicknames.
Keep in mind that URLs mapped by nicknames for different virtual servers
can use the same physical directory. This will probably be the case
for some of your CGI programs.

</DIV>


<div class=htmlnav>

<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch26_03.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.htm"><img src="gifs/txthome.gif" alt="Home" border=0></a></td>
<td width=172 align=right valign=top><a href="ch26_05.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>Mapping</td>
<td width=171 align=center valign=top><a href="index/idx_0.htm">Book Index</a></td>
<td width=172 align=right valign=top>Directory Listings</td>
</tr>
</table>

<!-- JavaScript: prev.js -->
&nbsp;
<!-- JavaScript: next.js -->
</DIV>

</BODY>
</HTML>
