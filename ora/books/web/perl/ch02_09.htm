<!doctype html public "-//ORA//DTD CD HTML 3.2//EN">
<html>
<head>
<title>[Chapter 2] 2.9 Special Variables</TITLE>
<meta name="author" content="Larry Wall, Tom Christiansen, and Randal Schwartz">
<meta name="date" content="Mon Mar 17 13:03:52 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="Perl">
<meta name="title" content="Programming Perl, Second Edition">
<!-- JavaScript: pathcont.js -->

</HEAD>
<body bgcolor="#FFFFFF">

<div class=htmlnav>
<h1><img src="gifs/smbanner.gif" alt="Programming Perl, Second Edition"></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch02_08.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b>Chapter 2</b></td>
<td width=172 align=right valign=top><a href="ch03_01.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>
<!-- JavaScript: prev.js -->
&nbsp;
<!-- JavaScript: next.js -->
<hr align=left width=515>
</DIV>
<div class=sect1>
<h2 class=sect1><a class="TITLE" name="PERL2-CH-2-SECT-9">2.9 Special Variables</A></h2>

<p class=para>
<a name="CH02.SPECIAL1"></A><a name="CH02.SPECIAL2"></A>The following names have special meaning to Perl.  Most of the
punctuational names have reasonable mnemonics, or analogs in one of
the shells.  Nevertheless, if you wish to use the long variable names,
just say:

<p class=para>
<div class=programlisting>
<p>
<pre>
use English;
</PRE>
</DIV>

<p class=para>
at the top of your program.  This will alias all the short names to the long names in the current package.  Some of them even have medium names,
generally borrowed from <i class=emphasis>awk</I> (1).

<p class=para>
A few of these variables are considered read-only.  This means that if
you try to assign to this variable, either directly, or indirectly through
a reference, you'll raise a run-time exception.

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="PERL2-CH-2-SECT-9.1">Regular Expression Special Variables</A></h3>

<p class=para>
There are several variables that are associated with regular expressions
and pattern matching.  Except for <b>$*</B> they are always local to the
current block, so you never need to mention them in a <a href="ch03_02.htm">local</A>.  (And
<b>$*</B> is deprecated, so you never need to mention it at all.)

<p>
<dl class=variablelist>
<dt class=varlistentry><tt class=literal>$</tt><tt class=replaceable><i>digit</i></tt><dd>

<p class=para>
Contains the text matched by the corresponding set of parentheses in
the last pattern matched, not counting patterns matched in nested
blocks that have been exited already.  (Mnemonic: like <tt class=literal>\</tt><tt class=replaceable><i>digit</i></tt>.)
These variables are all read-only.

<p>
<dt class=varlistentry><tt class=literal>$&amp;</tt> <tt class=literal>$MATCH</tt><dd>

<p class=para>
The string matched by the last successful pattern match, not counting any
matches hidden within a block or <a href="ch03_02.htm">eval</A> enclosed by the
current block.  (Mnemonic: like <tt class=literal>&amp;</tt> in some editors.)  This
variable is read-only. 

<p>
<dt class=varlistentry><tt class=literal>$`</tt> <tt class=literal>$PREMATCH</tt><dd>

<p class=para>
The string preceding whatever was matched by the last successful pattern
match not counting any matches hidden within a block or <a href="ch03_02.htm">eval</A>
enclosed by the current block.  (Mnemonic: <tt class=literal>`</tt> often precedes a
quoted string.)  This variable is read-only. 

<p>
<dt class=varlistentry><tt class=literal>$'</tt> <tt class=literal>$POSTMATCH</tt><dd>

<p class=para>
The string following whatever was matched by the last successful pattern
match not counting any matches hidden within a block or <a href="ch03_02.htm">eval</A>
enclosed by the current block.
(Mnemonic: <tt class=literal>'</tt> often follows a quoted
string.)  Example:

<p class=para>
<div class=programlisting>
<p>
<pre>
$_ = 'abcdefghi';
/def/;
print "$`:$&amp;:$'\n";         # prints abc:def:ghi
</PRE>
</DIV>

<p class=para>
This variable is read-only.

<dt class=varlistentry><tt class=literal>$+</tt> <tt class=literal>$LAST_PAREN_MATCH</tt><dd>

<p class=para>
The last bracket matched by the last search pattern.  This is useful if you
don't know which of a set of alternative patterns matched.  For example:

<p class=para>
<div class=programlisting>
<p>
<pre>
/Version: (.*)|Revision: (.*)/ &amp;&amp; ($rev = $+);
</PRE>
</DIV>

<p class=para>
(Mnemonic: be positive and forward looking.)  This variable is read-only.

<p>
<dt class=varlistentry><tt class=literal>$*</tt> <tt class=literal>$MULTILINE_MATCHING</tt><dd>

<p class=para>
Use of <b>$*</B> is now deprecated, and is allowed only for maintaining backwards
compatibility with older versions of Perl.  Use <b>/m</B> (and maybe <b>/s</B>)
in the regular expression match instead.

<p class=para>
Set to 1 to do multi-line matching within a string, 0 to tell Perl that it
can assume that strings contain a single line for the purpose of
optimizing pattern matches.  Pattern matches on strings containing multiple
newlines can produce confusing results when <b>$*</B> is 0.  Default is 0.
(Mnemonic: <tt class=literal>*</tt> matches multiple things.) Note that this variable only
influences the interpretation of <tt class=literal>^</tt> and <tt class=literal>$</tt>.  A literal
newline can be searched for even when <tt class=literal>$* == 0</tt>.</DL>
</DIV>

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="PERL2-CH-2-SECT-9.2">Per-Filehandle Special Variables</A></h3>

<p class=para>
These variables never need to be mentioned in a <a href="ch03_02.htm">local</A> 
because they always refer to some value
pertaining to the currently selected output filehandle--each
filehandle keeps its own set of values.  When you <b>select</B> another filehandle, the old filehandle
keeps whatever values it had in effect, and the variables now reflect
the values of the new filehandle.

<p class=para>
To go a step further and avoid <b>select</B>
entirely, these variables that depend on the currently selected
filehandle may instead be set by calling an object method on the
FileHandle object.  (Summary lines below for this contain the word
<tt class=replaceable><i>HANDLE</i></tt>.)  First you must say:

<p class=para>
<div class=programlisting>
<p>
<pre>
use FileHandle;
</PRE>
</DIV>

<p class=para>
after which you may use either:

<p class=para>
<div class=programlisting>
<p>
<pre>
<tt class=replaceable><i>method</i></tt> <tt class=replaceable><i>HANDLE</i></tt> <tt class=replaceable><i>EXPR</i></tt>
</PRE>
</DIV>

<p class=para>
or:

<p class=para>
<div class=programlisting>
<p>
<pre>
<tt class=replaceable><i>HANDLE</i></tt>-&gt;<tt class=replaceable><i>method</i></tt>(<tt class=replaceable><i>EXPR</i></tt>)
</PRE>
</DIV>

<p class=para>
Each of the methods returns the old value of the FileHandle attribute.
The methods each take an optional <tt class=replaceable><i>EXPR</i></tt>, which if supplied specifies the
new value for the FileHandle attribute in question.  If not supplied,
most of the methods do nothing to the current value, except for
<tt class=literal>autoflush</tt>, which will assume a <tt class=literal>1</tt> for you, just to be different.

<p>
<dl class=variablelist>
<dt class=varlistentry><tt class=literal>$|</tt> <tt class=literal>$OUTPUT_AUTOFLUSH</tt> <tt class=literal>autoflush</tt> <tt class=replaceable><i>HANDLE EXPR</i></tt><dd>

<p class=para>
If set to nonzero, forces an <i class=emphasis>fflush</I> (3) after every <b>write</B> or
<b>print</B> on the currently selected output channel.  (This is called
"command buffering".  Contrary to popular belief, setting this variable
does not turn off buffering.)  Default is 0, which on many systems
means that <tt class=literal>STDOUT</tt> will default to being line buffered if output is to
the terminal, and block buffered otherwise.  Setting this variable is
useful primarily when you are outputting to a pipe, such as when you are
running a Perl script under <i class=emphasis>rsh</I> and want to see the output as it's
happening.  This has no effect on input buffering.  If you have a need to
flush a buffer immediately after setting <b>$|</B>,
you may simply <tt class=literal>print "";</tt> rather than waiting for the
next <b>print</B> to flush it.  (Mnemonic: when you
want your pipes to be piping hot.)

<p>
<dt class=varlistentry><tt class=literal>$%</tt> <tt class=literal>$FORMAT_PAGE_NUMBER</tt> <tt class=literal>format_page_number</tt> <tt class=replaceable><i>HANDLE EXPR</i></tt><dd>

<p class=para>
The current page number of the currently selected output channel.
(Mnemonic: <tt class=literal>%</tt> is page number in <i class=emphasis>nroff</I>.) 

<p>
<dt class=varlistentry><tt class=literal>$=</tt> <tt class=literal>$FORMAT_LINES_PER_PAGE</tt> <tt class=literal>format_lines_per_page</tt> <tt class=replaceable><i>HANDLE EXPR</i></tt><dd>

<p class=para>
The current page length (printable lines) of the currently selected output
channel.  Default is 60.  (Mnemonic: <tt class=literal>=</tt> has horizontal lines.) 

<p>
<dt class=varlistentry><tt class=literal>$-</tt> <tt class=literal>$FORMAT_LINES_LEFT</tt> <tt class=literal>format_lines_left</tt> <tt class=replaceable><i>HANDLE EXPR</i></tt><dd>

<p class=para>
The number of lines left on the page of the currently selected output
channel.  (Mnemonic: <tt class=literal>lines_on_page - lines_printed</tt>.) 

<p>
<dt class=varlistentry><tt class=literal>$~</tt> <tt class=literal>$FORMAT_NAME</tt> <tt class=literal>format_name</tt> <tt class=replaceable><i>HANDLE EXPR</i></tt><dd>

<p class=para>
The name of the current report format for the currently selected output
channel.  Default is name of the filehandle.  (Mnemonic: takes a turn after
<b>$^</B>.) 

<p>
<dt class=varlistentry><tt class=literal>$^</tt> <tt class=literal>$FORMAT_TOP_NAME</tt> <tt class=literal>format_top_name</tt> <tt class=replaceable><i>HANDLE EXPR</i></tt><dd>

<p class=para>
The name of the current top-of-page format for the currently selected
output channel.  Default is name of the filehandle with <tt class=literal>_TOP</tt> appended.
(Mnemonic: points to top of page.)</DL>
</DIV>

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="PERL2-CH-2-SECT-9.3">Global Special Variables</A></h3>

<p class=para>
<a name="CH02.GLOBAL1"></A><a name="CH02.GLOBAL2"></A>There are quite a few variables that are global in the fullest
sense--they mean the same thing in every package.  If you want a
private copy of one of these, you must localize it in the current
block.

<p>
<dl class=variablelist>
<dt class=varlistentry><tt class=literal>$_</tt> <tt class=literal>$ARG</tt><dd>

<p class=para>
The default input and pattern-searching space. These pairs are
equivalent:

<p class=para>
<div class=programlisting>
<p>
<pre>
while (&lt;&gt;) {...}    # only equivalent in while!
while (defined($_ = &lt;&gt;)) {...}
/^Subject:/
$_ =~ /^Subject:/
tr/a-z/A-Z/
$_ =~ tr/a-z/A-Z/
chop
chop($_)
</PRE>
</DIV>

<p class=para>
Here are the places where Perl will assume <b>$_</B> even if you don't use
it: 

<p>
<ul class=itemizedlist>
<li class=listitem>Various unary functions, including functions like <a href="ch03_02.htm">ord</A> and
<a href="ch03_02.htm">int</A>, as well as the all file tests (<tt class=literal>-f</tt>, <tt class=literal>-d</tt>) except for
<tt class=literal>-t</tt>, which defaults to <tt class=literal>STDIN</tt>.

<p>
<li class=listitem>Various list functions like <a href="ch03_02.htm">print</A> and <a href="ch03_02.htm">unlink</A>.

<p>
<li class=listitem>The pattern-matching operations <tt class=literal>m//</tt>, <tt class=literal>s///</tt>, and <tt class=literal>tr///</tt>
when used without an <tt class=literal>=~</tt> operator.

<p>
<li class=listitem>The default iterator variable in a <b>foreach</B> loop if no other
variable is supplied. 

<p>
<li class=listitem>The implicit iterator variable in the <a href="ch03_02.htm">grep</A> and <a href="ch03_02.htm">map</A>
functions.

<p>
<li class=listitem>The default place to put an input record when a <tt class=literal>&lt;FH&gt;</tt> operation's
result is tested by itself as the sole criterion of a <b>while</B> test.
Note that outside of a <b>while</B> test, this
will not happen. 

<p>
</UL>
<p class=para>
Mnemonic: underline is the underlying operand in certain operations.

<p>
<dt class=varlistentry><tt class=literal>$.</tt> <tt class=literal>$INPUT_LINE_NUMBER</tt> <tt class=literal>$NR</tt><dd>

<p class=para>
The current input line number of the last filehandle that was read.  An
explicit close on the filehandle resets the line number.  Since <tt class=literal>&lt;&gt;</tt>
never does an explicit close, line numbers increase across
<b>ARGV</B> files (but see examples under <a href="ch03_02.htm">eof</A> in <a href="ch03_01.htm">Chapter 3, <i>Functions</i></A>).  Localizing
<b>$.</B> has the effect of also localizing Perl's notion of the last read
filehandle.  (Mnemonic: many programs use "." to mean the current line
number.)

<p>
<dt class=varlistentry><tt class=literal>$/</tt> <tt class=literal>$INPUT_RECORD_SEPARATOR</tt> <tt class=literal>$RS</tt><dd>

<p class=para>
The input record separator, newline by default.  It works like <i class=emphasis>awk</I>&nbsp;'s
<tt class=literal>RS</tt> variable, and, if set to the null string, treats blank lines as
delimiters.  You may set it to a multi-character string to match a
multi-character delimiter.  Note that setting it to <tt class=literal>"\n\n"</tt> means
something slightly different than setting it to <tt class=literal>""</tt>, if the file
contains consecutive blank lines.  Setting it to <tt class=literal>""</tt> will treat two or
more consecutive blank lines as a single blank line.  Setting it to
<tt class=literal>"\n\n"</tt> means Perl will blindly assume that the next input character belongs to
the next paragraph, even if it's a third newline.  (Mnemonic: <tt class=literal>/</tt> is used to
delimit line boundaries when quoting poetry.)

<p class=para>
<div class=programlisting>
<p>
<pre>
undef $/;
$_ = &lt;FH&gt;;          # whole file now here
s/\n[ \t]+/ /g;
</PRE>
</DIV>

<p>
<dt class=varlistentry><tt class=literal>$,</tt> <tt class=literal>$OUTPUT_FIELD_SEPARATOR</tt> <tt class=literal>$OFS</tt><dd>

<p class=para>
The output field separator for the <b>print</B> operator.  Ordinarily the <b>print</B>
operator simply prints out the comma separated fields you specify.  In
order to get behavior more like <i class=emphasis>awk</I>, set this variable as you would
set <i class=emphasis>awk</I>&nbsp;'s <tt class=literal>OFS</tt> variable to specify what is printed between
fields.  (Mnemonic: what is printed when there is a "<tt class=literal>,</tt>" in your <b>print</B>
statement.)

<p>
<dt class=varlistentry><tt class=literal>$\</tt> <tt class=literal>$OUTPUT_RECORD_SEPARATOR</tt> <tt class=literal>$ORS</tt><dd>

<p class=para>
The output record separator for the <b>print</B> operator.  Ordinarily the
<b>print</B> operator simply prints out the comma-separated fields you
specify, with no trailing newline or record separator assumed.  In
order to get behavior more like <i class=emphasis>awk</I>, set this variable as you would
set <i class=emphasis>awk</I>&nbsp;'s <tt class=literal>ORS</tt> variable to specify what is printed at the end
of the <b>print</B>.  (Mnemonic: you set <b>$\</B> instead of adding <tt class=literal>"\n"</tt> at the
end of the print.  Also, it's just like <tt class=literal>/</tt>, but it's what you get "back"
from Perl.)

<p>
<dt class=varlistentry><tt class=literal>$`</tt> <tt class=literal>$LIST_SEPARATOR</tt><dd>

<p class=para>
This is like <tt class=literal>$,</tt> above except that it applies to list values interpolated
into a double-quoted string (or similar interpreted string).  Default
is a space.  (Mnemonic: obvious, I think.)

<p>
<dt class=varlistentry><tt class=literal>$;</tt> <tt class=literal>$SUBSCRIPT_SEPARATOR</tt> <tt class=literal>$SUBSEP</tt><dd>

<p class=para>
The subscript separator for multi-dimensional array emulation.  If you
refer to a hash element as:

<p class=para>
<div class=programlisting>
<p>
<pre>
$foo{$a,$b,$c}
</PRE>
</DIV>

<p class=para>
it really means:

<p class=para>
<div class=programlisting>
<p>
<pre>
$foo{join($;, $a, $b, $c)}
</PRE>
</DIV>

<p class=para>
But don't put:

<p class=para>
<div class=programlisting>
<p>
<pre>
@foo{$a,$b,$c}      # a slice--note the @
</PRE>
</DIV>

<p class=para>
which means:

<p class=para>
<div class=programlisting>
<p>
<pre>
($foo{$a},$foo{$b},$foo{$c})
</PRE>
</DIV>

<p class=para>
Default is <tt class=literal>"\034"</tt>, the same as SUBSEP in <i class=emphasis>awk</I>.  Note that if your
keys contain binary data there might not be any safe value for <tt class=literal>$;</tt>.
(Mnemonic: comma--the syntactic subscript separator--is a
semi-semicolon.  Yeah, I know, it's pretty lame, but <tt class=literal>$,</tt> is already
taken for something more important.)

<p class=para>
This variable is for maintaining backward compatibility, so consider using
"real" multi-dimensional arrays now.

<p>
<dt class=varlistentry><tt class=literal>$^L</tt> <tt class=literal>$FORMAT_FORMFEED</tt> <tt class=literal>format_formfeed</tt> <tt class=replaceable><i>HANDLE EXPR</i></tt><dd>

<p class=para>
What a format outputs to perform a formfeed.  Default is <tt class=literal>`\f`</tt>.

<p>
<dt class=varlistentry><tt class=literal>$:</tt> <tt class=literal>$FORMAT_LINE_BREAK_CHARACTERS</tt> <tt class=literal>format_line_break_characters HANDLE EXPR</tt><dd>

<p class=para>
The current set of characters after which a string may be broken to fill
continuation fields (starting with <tt class=literal>^</tt>) in a format.  Default is <tt class=literal>` \n-`</tt>, to break on whitespace or hyphens.  (Mnemonic:
a colon in poetry is a part of a line.)

<p>
<dt class=varlistentry><tt class=literal>$^A</tt> <tt class=literal>$ACCUMULATOR</tt><dd>

<p class=para>
The current value of the <a href="ch03_02.htm">write</A>
accumulator for <a href="ch03_02.htm">format</A> lines.  A format
contains <a href="ch03_02.htm">formline</A> commands that put
their result into <b>$^A</B>.  After calling
its format, <a href="ch03_02.htm">write</A> prints out the
contents of <b>$^A</B> and empties.  So you
never actually see the contents of <b>$^A</B>
unless you call <a href="ch03_02.htm">formline</A> yourself and
then look at it.  

<p>
<dt class=varlistentry><tt class=literal>$#</tt> <tt class=literal>$OFMT</tt><dd>

<p class=para>
Use of <b>$#</B> is now deprecated and is allowed only for maintaining backwards
compatibility with older versions of Perl.  You should use <a href="ch03_02.htm">printf</A> instead. <b>$#</B> contains the output format for printed numbers.  This variable is a half-hearted
attempt to emulate <i class=emphasis>awk</I>&nbsp;'s <tt class=literal>OFMT</tt> variable.  There are times, however,
when <i class=emphasis>awk</I> and Perl have differing notions of what is in fact numeric.
Also, the initial value is approximately <tt class=literal>%.14g</tt> rather than <tt class=literal>%.6g</tt>, so you
need to set <b>$#</B> explicitly to get <i class=emphasis>awk</I>&nbsp;'s value.  (Mnemonic: <tt class=literal>#</tt> is the
number sign.  Better yet, just forget it.)

<p>
<dt class=varlistentry><tt class=literal>$?</tt> <tt class=literal>$CHILD_ERROR</tt><dd>

<p class=para>
The status returned by the last pipe close, backtick (<tt class=literal>``</tt>) command,
or <a href="ch03_02.htm">system</A> operator.  Note that this is the status word returned by
the <i class=emphasis>wait</I>&nbsp;(2) system call, so the exit value of the subprocess is actually
<tt class=literal>($? &gt;&gt; 8)</tt>.  Thus on many systems, <tt class=literal>($? &amp; 255)</tt> gives which signal,
if any, the process died from, and whether there was a core dump.
(Mnemonic: similar to <i class=emphasis>sh</I> and <i class=emphasis>ksh</I>.)

<p>
<dt class=varlistentry><tt class=literal>$!</tt> <tt class=literal>$OS_ERROR</tt> <tt class=literal>$ERRNO</tt><dd>

<p class=para>
If used in a numeric context, yields the current value of the
<tt class=literal>errno</tt> variable (identifying the last system call error) in the
currently executing <i class=emphasis>perl</I>, with
all the usual caveats.  (This means that you shouldn't depend on the value
of <b>$!</B> to be anything in particular unless you've gotten a specific
error return indicating a system error.)  If used in a string context,
yields the corresponding system error string.  You can assign to <b>$!</B>
in order to set <tt class=literal>errno</tt>, if, for instance, you want <b>$!</B> to return
the string for error <i class=emphasis>n</I>, or you want to set the exit value for the
<a href="ch03_02.htm">die</A> operator.  (Mnemonic: What just went bang?)

<p>
<dt class=varlistentry><tt class=literal>$@</tt> <tt class=literal>$EVAL_ERROR</tt><dd>

<p class=para>
The Perl syntax error message from the last <a href="ch03_02.htm">eval</A> command.  If null,
the last <a href="ch03_02.htm">eval</A> was parsed and executed correctly (although the operations
you invoked may have failed in the normal fashion).  (Mnemonic: Where was
the syntax error "at"?)

<p class=para>
Note that warning messages are not collected in this variable.  You can, 
however, set up a routine to process warnings by setting
<tt class=literal>$SIG{_ _WARN_ _}</tt> below. 

<p>
<dt class=varlistentry><tt class=literal>$$</tt> <tt class=literal>$PROCESS_ID</tt> <tt class=literal>$PID</tt><dd>

<p class=para>
The process number of the Perl running this script.  (Mnemonic: same
as shells.)

<p>
<dt class=varlistentry><tt class=literal>$&lt;</tt> <tt class=literal>$REAL_USER_ID</tt> <tt class=literal>$UID</tt><dd>

<p class=para>
The real user ID (uid) of this process.  (Mnemonic: it's the uid you came
<i class=emphasis>from</I>, if you're running setuid.)

<p>
<dt class=varlistentry><tt class=literal>$&gt;</tt> <tt class=literal>$EFFECTIVE_USER_ID</tt> <tt class=literal>$EUID</tt><dd>

<p class=para>
The effective uid of this process.  Example:

<p class=para>
<div class=programlisting>
<p>
<pre>
$&lt; = $&gt;;            # set real to effective uid
($&lt;,$&gt;) = ($&gt;,$&lt;);  # swap real and effective uid
</PRE>
</DIV>

<p class=para>
(Mnemonic: it's the uid you went <i class=emphasis>to</I>, if you're running
setuid.)  Note: <b>$&lt;</B> and <b>$&gt;</B> can only be swapped on machines
supporting <i class=emphasis>setreuid</I>&nbsp;(2).  And sometimes not even then.

<p>
<dt class=varlistentry><tt class=literal>$(</tt> <tt class=literal>$REAL_GROUP_ID</tt> <tt class=literal>$GID</tt><dd>

<p class=para>
The real group ID (gid) of this process.  If you are on a machine that supports
membership in multiple groups simultaneously, gives a space-separated
list of groups you are in.  The first number is the one returned by
<i class=emphasis>getgid</I> (1), and the subsequent ones by <i class=emphasis>getgroups</I>(2), one of which
may be the same as the first number.  (Mnemonic: parentheses are used to
<i class=emphasis>group</I> things.  The real gid is the group you
<i class=emphasis>left</I>, if you're running setgid.) 

<p>
<dt class=varlistentry><tt class=literal>$)</tt> <tt class=literal>$EFFECTIVE_GROUP_ID</tt> <tt class=literal>$EGID</tt><dd>

<p class=para>
The effective gid of this process.  If you are on a machine that
supports membership in multiple groups simultaneously, <b>$)</B> gives a
space-separated list of groups you are in.  The first number is the
one returned by <i class=emphasis>getegid</I>&nbsp;(2), and the subsequent
ones by <i class=emphasis>getgroups</I>&nbsp;(2), one of which may be the
same as the first number.  (Mnemonic: parentheses are used to
<i class=emphasis>group</I> things.  The effective gid is the group
that's <i class=emphasis>right</I> for you, if you're running setgid.)

<p class=para>
Note: <b>$&lt;</B>, <b>$&gt;</B>, <b>$(</B>, and
<b>$)</B> can only be set on machines that
support the corresponding system set-id routine.  <b>$(</B> and <b>$)</B> can only
be swapped on machines supporting <i class=emphasis>setregid</I>(2).
Because Perl doesn't currently use <i class=emphasis>initgroups</I>(2),
you can't set your group vector to multiple groups.

<p>
<dt class=varlistentry><tt class=literal>$0</tt> <tt class=literal>$PROGRAM_NAME</tt><dd>

<p class=para>
Contains the name of the file containing the Perl script being executed.
Assigning to <b>$0</B> attempts to modify the argument area that the
<i class=emphasis>ps</I> (1) program sees.  This is more useful as a way of indicating the
current program state than it is for hiding the program you're running.
But it doesn't work on all systems.  (Mnemonic: same as <i class=emphasis>sh</I> and
<i class=emphasis>ksh</I>.)

<p>
<dt class=varlistentry><tt class=literal>$[</tt><dd>

<p class=para>
The index of the first element in an array, and of the first character in
a substring.  Default is 0, but you could set it to 1 to make Perl
behave more like <i class=emphasis>awk</I> (or FORTRAN) when
subscripting and when evaluating the <a href="ch03_02.htm">index</A> and <a href="ch03_02.htm">substr</A>
functions.  (Mnemonic: [ begins subscripts.)

<p class=para>
Assignment to <b>$[</B> is now treated as a compiler directive, and cannot
influence the behavior of any other file.  Its use is discouraged.

<p>
<dt class=varlistentry><tt class=literal>$]</tt> <tt class=literal>$PERL_VERSION</tt><dd>

<p class=para>
Returns the version + patchlevel / 1000.  It can be used to determine at
the beginning of a script whether the Perl interpreter executing the script
is in the right range of versions.  Example:

<p class=para>
<div class=programlisting>
<p>
<pre>
warn "No checksumming!\n" if $] &lt; 3.019;
die "Must have prototyping available\n" if $] &lt; 5.003;
</PRE>
</DIV>

<p class=para>
(Mnemonic: Is this version of Perl in the right bracket?)

<p>
<dt class=varlistentry><tt class=literal>$^D</tt> <tt class=literal>$DEBUGGING</tt><dd>

<p class=para>
The current value of the debugging flags.  (Mnemonic: value of <b>-D</B>
switch.)

<p>
<dt class=varlistentry><tt class=literal>$^F</tt> <tt class=literal>$SYSTEM_FD_MAX</tt><dd>

<p class=para>
The maximum system file descriptor, ordinarily 2.  System file
descriptors are passed to <i class=emphasis>exec</I> ed
processes, while higher file descriptors are not.  Also, during an
<a href="ch03_02.htm">open</A>, system file descriptors are
preserved even if the <a href="ch03_02.htm">open</A> fails.
(Ordinary file descriptors are closed before the <a href="ch03_02.htm">open</A> is attempted, and stay closed if the
<a href="ch03_02.htm">open</A> fails.)  Note that the
close-on-exec status of a file descriptor will be decided according to
the value of <b>$^F</B> at the time of the
<b>open</B>, not the time of the <i class=emphasis>exec</I>.  

<p>
<dt class=varlistentry><tt class=literal>$^H</tt><dd>

<p class=para>
This variable contains internal compiler hints enabled by certain 
pragmatic modules.  Hint: ignore this and use the pragmata.

<p>
<dt class=varlistentry><tt class=literal>$^I</tt> <tt class=literal>$INPLACE_EDIT</tt><dd>

<p class=para>
The current value of the inplace-edit extension.  Use <a href="ch03_02.htm">undef</A> to disable
inplace editing.  (Mnemonic: value of <b>-i</B> switch.)

<p>
<dt class=varlistentry><tt class=literal>$^O</tt> <tt class=literal>$OSNAME</tt><dd>

<p class=para>
This variable contains the name of the operating system the current
Perl binary was compiled for.  It's intended as a cheap alternative
to pulling it out of the Config module.

<p>
<dt class=varlistentry><tt class=literal>$^P</tt> <tt class=literal>$PERLDB</tt><dd>

<p class=para>
The internal flag that the debugger clears so that it doesn't debug
itself.  You could conceivably disable debugging yourself by clearing
it.

<p>
<dt class=varlistentry><tt class=literal>$^T</tt> <tt class=literal>$BASETIME</tt><dd>

<p class=para>
The time at which the script began running, in seconds since the epoch
(the beginning of 1970, for UNIX systems).  The values returned by the
<tt class=literal>-M</tt>, <tt class=literal>-A</tt>, and <tt class=literal>-C</tt> filetests are based on this value.

<p>
<dt class=varlistentry><tt class=literal>$^W</tt> <tt class=literal>$WARNING</tt><dd>

<p class=para>
The current value of the warning switch, either true or
false.  (Mnemonic: the value is related to the <b>-w</B> switch.)

<p>
<dt class=varlistentry><tt class=literal>$^X</tt> <tt class=literal>$EXECUTABLE_NAME</tt><dd>

<p class=para>
The name that the Perl binary itself was executed as, from C's <tt class=literal>argv[0]</tt>.

<p>
<dt class=varlistentry><tt class=literal>$ARGV</tt><dd>

<p class=para>
Contains the name of the current file when reading from <tt class=literal>&lt;ARGV&gt;</tt>.</DL>
</DIV>

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="PERL2-CH-2-SECT-9.4">Global Special Arrays</A></h3>

<p class=para>
<a name="CH02.GAH1"></A><a name="CH02.GAH2"></A><a name="CH02.GAH3"></A>The following arrays and hashes are global.  Just like the special global
scalar variables, they refer to package main no matter when they are
referenced.  The following two statements are exactly the same:

<p class=para>
<div class=programlisting>
<p>
<pre>
print "@INC\n";
print "@main::INC\n";
</PRE>
</DIV>

<p>
<dl class=variablelist>
<dt class=varlistentry><tt class=literal>@ARGV</tt><dd>

<p class=para>
The array containing the command-line arguments intended for the
script.  Note that <tt class=literal>$#ARGV</tt> is generally the number of arguments minus
one, since <tt class=literal>$ARGV[0]</tt> is the first argument, not the
command name.  See <b>$0</B> for the command name.

<p>
<dt class=varlistentry><tt class=literal>@INC</tt><dd>

<p class=para>
The array containing the list of places to look for Perl scripts
to be evaluated by the <tt class=literal>do EXPR</tt>, <a href="ch03_02.htm">require</A>, or <a href="ch03_02.htm">use</A>
constructs.  It initially consists of the arguments to any <b>-I</B>
command-line switches, followed by the default Perl libraries, such as:

<p class=para>
<div class=programlisting>
<p>
<pre>
/usr/local/lib/perl5/$ARCH/$VERSION
/usr/local/lib/perl5
/usr/local/lib/perl5/site_perl
/usr/local/lib/perl5/site_perl/$ARCH
</PRE>
</DIV>

<p class=para>
followed by ".", to represent the
current directory.  If you need to modify this list at run-time, you should use
the lib module in order to also get the machine-dependent library
properly loaded:

<p class=para>
<div class=programlisting>
<p>
<pre>
use lib '/mypath/libdir/';
use SomeMod;
</PRE>
</DIV>

<p>
<dt class=varlistentry><tt class=literal>@F</tt><dd>

<p class=para>
The array into which the input lines are split when the <b>-a</B>
command-line switch is given.  If the <b>-a</B> option is not used, this
array has no special meaning.  (This array is actually only <tt class=literal>@main::F</tt>, and not
in all packages at once.)

<p>
<dt class=varlistentry><tt class=literal>%INC</tt><dd>

<p class=para>
The hash containing entries for the filename of each file that has been
included via <a href="ch03_02.htm">do</A> or <a href="ch03_02.htm">require</A>.  The key is the filename you
specified, and the value is the location of the file actually found.  The
<a href="ch03_02.htm">require</A> command uses this array to determine whether a given file has
already been included.

<p>
<dt class=varlistentry><tt class=literal>%ENV</tt><dd>

<p class=para>
The hash containing your current environment.  Setting a value in <b>%ENV</B>
changes the environment for child processes:

<p class=para>
<div class=programlisting>
<p>
<pre>
$ENV{PATH} = "/bin:/usr/bin";
</PRE>
</DIV>

<p class=para>
To remove something from your environment, make sure
to use <a href="ch03_02.htm">delete</A> instead of <a href="ch03_02.htm">undef</A>.

<p class=para>
Note that processes running as a <i class=emphasis>crontab</I> entry
inherit a particularly impoverished set of environment variables.
Also note that you should set <tt class=literal>$ENV{PATH}</tt>,
<tt class=literal>$ENV{SHELL}</tt>, and <tt class=literal>$ENV{IFS}</tt> if
you are running as a setuid script.  See <a href="ch08_01.htm">Chapter 8, <i>Other Oddments</i></A>,
for more on security and setuid issues.

<p>
<dt class=varlistentry><tt class=literal>%SIG</tt><dd>

<p class=para>
The hash used to set signal handlers for various signals.  Example:

<p class=para>
<div class=programlisting>
<p>
<pre>
sub handler {       # 1st argument is signal name
    local($sig) = @_;
    print "Caught a SIG$sig--shutting down\n";
    close(LOG);
    exit(0);
}
$SIG{INT} = 'handler';
$SIG{QUIT} = 'handler';
...
$SIG{INT} = 'DEFAULT';    # restore default action
$SIG{QUIT} = 'IGNORE';    # ignore SIGQUIT
</PRE>
</DIV>

<p class=para>
The <b>%SIG</B> array only contains values for the signals actually set
within the Perl script.  Here are some other examples:

<p class=para>
<div class=programlisting>
<p>
<pre>
$SIG{PIPE} = Plumber;     # SCARY!!
$SIG{PIPE} = "Plumber";   # just fine, assumes main::Plumber
$SIG{PIPE} = \&amp;Plumber;   # just fine; assume current Plumber
$SIG{PIPE} = Plumber();   # oops, what did Plumber() return??
</PRE>
</DIV>

<p class=para>
The example marked <tt class=literal>SCARY!!</tt> is problematic because it's a bareword, which means
sometimes it's a string representing the function, and sometimes it's 
going to call the subroutine right then and there!  Best to be sure
and quote it or take a reference to it.
Certain internal hooks can also be set using the <b>%SIG</B> hash.  The
routine indicated by <tt class=literal>$SIG{_ _WARN_ _}</tt> is called when a warning message
is about to be printed.  The warning message is passed as the first
argument.  The presence of a <tt class=literal>_ _WARN_ _</tt> hook causes the ordinary
printing of warnings to <tt class=literal>STDERR</tt> to be suppressed.  You can use this
to save warnings in a variable, or turn warnings into fatal errors, like
this:

<p class=para>
<div class=programlisting>
<p>
<pre>
local $SIG{_ _WARN_ _} = sub { die $_[0] };
eval $proggie;
</PRE>
</DIV>

<p class=para>
The routine indicated by <tt class=literal>$SIG{_ _DIE_ _}</tt> is called
when a fatal exception is about to be thrown.  The error message is
passed as the first argument.  When a <tt class=literal>_ _DIE_ _</tt> hook
routine returns, the exception processing continues as it would have
in the absence of the hook, unless the hook routine itself exits via a
<a href="ch03_02.htm">goto</A>, a loop exit, or a <a href="ch03_02.htm">die</A>.  The <tt class=literal>_ _DIE_ _</tt> handler is
explicitly disabled during the call, so that you yourself can then
call the real <a href="ch03_02.htm">die</A> from a
<tt class=literal>_ _DIE_ _</tt> handler.  (If it weren't disabled, the
handler would call itself recursively forever.)  The case is similar for
<tt class=literal>_ _WARN_ _</tt>.</DL>
</DIV>

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="PERL2-CH-2-SECT-9.5">Global Special Filehandles</A></h3>

<p class=para>
The following filehandles (except for <tt class=literal>DATA</tt>) always refer to
<tt class=literal>main::FILEHANDLE</tt>.

<p>
<dl class=variablelist>
<dt class=varlistentry><tt class=literal>ARGV</tt><dd>

<p class=para>
The special filehandle that iterates over command line filenames in
<b>@ARGV</B>.  Usually written as the null filehandle in <tt class=literal>&lt;&gt;</tt>.

<p>
<dt class=varlistentry><tt class=literal>STDERR</tt><dd>

<p class=para>
The special filehandle for standard error in any package. 

<p>
<dt class=varlistentry><tt class=literal>STDIN</tt><dd>

<p class=para>
The special filehandle for standard input in any package.

<p>
<dt class=varlistentry><tt class=literal>STDOUT</tt><dd>

<p class=para>
The special filehandle for standard output in any package.

<p>
<dt class=varlistentry><tt class=literal>DATA</tt><dd>

<p class=para>
The special filehandle that refers to anything following the
<tt class=literal>_ _END_ _</tt> token in the file
containing the script.  Or, the special filehandle for anything
following the <tt class=literal>_ _DATA_ _</tt> token in a required file, as long as
you're reading data in the same package that the <tt class=literal>_ _DATA_ _</tt> was
found in.

<p>
<dt class=varlistentry><tt class=literal>_</tt> (underline)<dd>

<p class=para>
The special filehandle used to cache the information from the last <a href="ch03_02.htm">stat</A>,
<a href="ch03_02.htm">lstat</A>, or <b>file</B> test operator.</DL>
</DIV>

</DIV>


<div class=htmlnav>
<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch02_08.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.htm"><img src="gifs/txthome.gif" alt="Home" border=0></a></td>
<td width=172 align=right valign=top><a href="ch03_01.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>Formats</td>
<td width=171 align=center valign=top><a href="index/idx_0.htm">Book Index</a></td>
<td width=172 align=right valign=top>Functions</td>
</tr>
</table>

<!-- JavaScript: prev.js -->
&nbsp;
<!-- JavaScript: next.js -->
</DIV>
</BODY>
</HTML>
