<!doctype html public "-//ORA//DTD CD HTML 3.2//EN">
<html>
<head>
<title>[Chapter 15] 15.3 Storing Cookies</TITLE>
<meta name="author" content="David Flanagan">
<meta name="date" content="Thu Apr 24 13:36:41 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="JavaScript">
<meta name="title" content="JavaScript: The Definitive Guide">
<!-- JavaScript: pathcont.js -->
</HEAD>
<body bgcolor="#FFFFFF">

<div class=htmlnav>
<h1><img src="gifs/smbanner.gif" alt="Javascript: The Definitive Guide"></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch15_02.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b>Chapter 15</b></td>
<td width=172 align=right valign=top><a href="ch15_04.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>
<!-- JavaScript: prev.js -->
&nbsp;
<!-- JavaScript: next.js -->
<hr align=left width=515>
</DIV>
<div class=sect1>
<h2 class=sect1><a class="TITLE" name="ch15-SECT1-AUTOID.3">15.3 Storing Cookies</A></h2>

<p class=para>
      To associate a temporary cookie value with the current document,
      simply set the <tt class=literal>cookie</tt> property to a string of
      the form:
      

<div class=programlisting>
<p>
<pre>
<tt class=replaceable><i>name</i></tt>=<tt class=replaceable><i>value</i></tt>
</PRE>
</DIV>


      The next time you read the <tt class=literal>cookie</tt> property,
      the name/value pair you stored will be included in the list of
      cookies for the document. As noted above, the cookie value may
      not include semicolons, commas or whitespace. For this reason,
      you may want to use the JavaScript
      <tt class=literal>escape()</tt> function to encode the value
      before storing it in the cookie.
    

<p class=para>
      A cookie written as described above will last for the current
      web browsing session, but will be lost when the user exits the
      browser. To create a cookie that can last across browser
      sessions, include an expiration date. You can do this by setting
      the <tt class=literal>cookie</tt> property to
      a string of the form:
      

<div class=programlisting>
<p>
<pre>
<tt class=replaceable><i>name</i></tt>=<tt class=replaceable><i>value</i></tt>; expires=<tt class=replaceable><i>date</i></tt>
</PRE>
</DIV>


      When setting an expiration date like this,
      <tt class=replaceable><i>date</i></tt> should be a date specification
      in the format written by
      <tt class=literal>Date.toGMTString()</tt>.
    

<p class=para>
      Similarly, you can set the path, domain, and secure fields of a
      cookie by appending strings of the following form to the cookie
      value before that value is written to the
      <tt class=replaceable><i>document</i></tt><tt class=literal>.cookie</tt>
      property:
      

<div class=programlisting>
<p>
<pre>
; path=<tt class=replaceable><i>path</i></tt>
; domain=<tt class=replaceable><i>domain</i></tt>
; secure
</PRE>
</DIV>


    

<p class=para>
      To change the value of a cookie, set its value again, using the
      same name (and the same path and domain, if any) and the new
      value. To delete a cookie, set it again using the same name, an
      arbitrary value, and an expiration date that has already
      passed. Note that the browser is not required to immediately
      delete expired cookies. In practice, with Netscape, cookie
      deletion seems to work more effectively if the expiration date
      is in the relatively distant (several hours or more) past.
    

</DIV>


<div class=htmlnav>

<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch15_02.htm"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.htm"><img src="gifs/txthome.gif" alt="Home" border=0></a></td>
<td width=172 align=right valign=top><a href="ch15_04.htm"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>Reading Cookies</td>
<td width=171 align=center valign=top><a href="index/idx_0.htm">Book Index</a></td>
<td width=172 align=right valign=top>Cookie Limitations</td>
</tr>
</table>

<!-- JavaScript: prev.js -->
&nbsp;
<!-- JavaScript: next.js -->
</DIV>

</BODY>
</HTML>
