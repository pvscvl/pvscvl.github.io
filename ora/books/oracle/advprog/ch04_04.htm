<HTML
><HEAD
><TITLE
>[Chapter 4] 4.4 Installing Online Help for PL/Vision</TITLE
><META
NAME="DC.Creator"
CONTENT="Steven Feuerstein"><META
NAME="DC.Date"
CONTENT="2000-04-29T18:23:45Z"><META
NAME="DC.Format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.Identifier"
CONTENT="O'Reilly and Associates-1-56592-238-7E"><META
NAME="DC.Language"
CONTENT="en-US"><META
NAME="DC.Publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.Source"
CONTENT="1-56592-238-7E"
SCHEME="ISBN"><META
NAME="DC.Subject.Keyword"
CONTENT="PL/SQL SQL Oracle Packages"><META
NAME="DC.Title"
CONTENT="Advanced Oracle PL/SQL Programming with Packages"><META
NAME="DC.Type"
CONTENT="Text.Monograph"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REL="stylesheet"
TYPE="text/css"
HREF="../style/style1.css"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch04_01.htm"
TITLE="4. Getting Started with PL/Vision"><LINK
REL="prev"
HREF="ch04_03.htm#ch04-SECT-3.2"
TITLE="4.3 Installation Instructions"><LINK
REL="next"
HREF="ch04_05.htm"
TITLE="4.5 Using Online Help"></HEAD>
<BODY><DIV CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="Advanced Oracle PL/SQL Programming with Packages"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,65"
HREF="index.htm"
ALT="Advanced Oracle PL/SQL Programming with Packages"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="jobjects/fsearch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch04_03.htm#ch04-SECT-3.2"
TITLE="4.3 Installation Instructions"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 4.3 Installation Instructions"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><SPAN
CLASS="NAVTITLE"
><A
CLASS="chapter"
REL="up"
HREF="ch04_01.htm"
TITLE="4. Getting Started with PL/Vision"
>Chapter 4<BR>Getting Started with PL/Vision</A
></SPAN
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch04_05.htm"
TITLE="4.5 Using Online Help"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 4.5 Using Online Help"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="sect1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="ch04-SECT-4"
>4.4 Installing<A
CLASS="indexterm"
NAME="ch04-idx-998927-0"
></A
> Online Help<A
CLASS="indexterm"
NAME="ch04-idx-998926-0"
></A
> for PL/Vision</A
></H2
><P
CLASS="para"
>PL/Vision takes <A
CLASS="indexterm"
NAME="ch04-idx-998928-0"
></A
>advantage of the online help architecture of PLVhl<A
CLASS="indexterm"
NAME="ch04-idx-998929-0"
></A
>p. If you choose to install the set of parallel help packages for PL/Vision, users will be able to request help during their SQL*Plus sessions on any of the PL/Vision packages.</P
><P
CLASS="para"
>To install the PL/Vision help packages, follow these steps:</P
><OL
CLASS="orderedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>Set the default directory in SQL*Plus to the directory containing the PL/Vision software. Connect through SQL*Plus to the PLV account. </P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Run the PL/Vision help installation as follows:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>SQL&gt; @plvinsth</PRE
></BLOCKQUOTE
></LI
></OL
><P
CLASS="para"
>You will then have created a help package for each PL/Vision package. The naming convention for these packages is <KBD
CLASS="command"
>pkg</KBD
><KBD
CLASS="command"
>_hlp</KBD
>, where <EM
CLASS="emphasis"
>pkg</EM
> is the PL/Vision package name. For example, the help text for the PLVio package is contained in the <KBD
CLASS="command"
>PLVio_hlp </KBD
>package. The help packages consist only of help text in the form of <SPAN
CLASS="acronym"
>PL/SQL</SPAN
> comment blocks; these packages do not have bodies.</P
><P
CLASS="para"
>See <A
CLASS="xref"
HREF="ch04_05.htm"
>Section 4.5, "Using <A
CLASS="indexterm"
NAME="ch04-idx-998939-0"
></A
>Online Help"</A
> for more information about how to access the PL/Vision online help text.</P
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch04-SECT-4.1"
>4.4.1 Special Handling for <A
CLASS="indexterm"
NAME="ch04-idx-998930-0"
></A
>PLVdyn</A
></H3
><P
CLASS="para"
>As I explain in <A
CLASS="xref"
HREF="ch19_01.htm"
>Chapter 19, <CITE
CLASS="chapter"
>PLVdyn and PLVfk: Dynamic SQL and PL/SQL</CITE
></A
>, you may want to install a copy of PLVdyn in the account of each developer who will be using this functionality. This step will avoid many potential headaches. If you are going to do this, you should take the following steps <EM
CLASS="emphasis"
>after</EM
> installing PL/Vision and creating all synonyms:</P
><OL
CLASS="orderedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>Connect to the account in which you wish to install a private copy of PLVdyn. Let's call it the DEV account<A
CLASS="indexterm"
NAME="ch04-idx-998931-0"
></A
>.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Drop the private synonym for PLVdyn in your user account with the following command.</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>SQL&gt; drop synonym plvdyn;</PRE
></BLOCKQUOTE
><P
CLASS="para"
>If you have created public synonyms, you can skip this step.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Install the PLVdyn package in the DEV account. Run these two scripts:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>SQL&gt; @plvdyn.sps
SQL&gt; @plvdyn.spb</PRE
></BLOCKQUOTE
></LI
></OL
><P
CLASS="para"
>PLVdyn is now installed in and owned by the DEV account. You can also follow these same steps to move the PLVdyn1 package to a local account.</P
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch04-SECT-4.2"
>4.4.2 A PL/Vision Initialization<A
CLASS="indexterm"
NAME="ch04-idx-998932-0"
></A
><A
CLASS="indexterm"
NAME="ch04-idx-998932-1"
></A
> Script for SQL*Plus</A
></H3
><P
CLASS="para"
>If you plan to use PL/Vision from within SQL*Plus, you will want to consider creating a <A
CLASS="indexterm"
NAME="ch04-idx-998933-0"
></A
><I
CLASS="function"
>login.sql</I
> (or modifying your current file) that sets up your session from a PL/Vision perspective. PL/Vision provides two different scripts for your use: the <I
CLASS="function"
>login.sql</I
> and <I
CLASS="function"
>login23.sql</I
> files. Use the <KBD
CLASS="command"
>login.sql</KBD
> script if you're using <SPAN
CLASS="acronym"
>PL/SQL</SPAN
> Release 2.2 or earlier. Use the <I
CLASS="function"
>login23.sql</I
> script if you're using <SPAN
CLASS="acronym"
>PL/SQL</SPAN
> Release 2.3 and beyond.</P
><P
CLASS="para"
>Here are the contents of <I
CLASS="function"
>login.sql</I
>:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>set feedback off
exec plvgen.set_author ('Sam I Am');
@ssoo
set feedback on</PRE
></BLOCKQUOTE
><P
CLASS="para"
>where <I
CLASS="function"
>ssoo.sql</I
> is a script that enables output from the DBMS_OUTPUT package. The call to PLV<KBD
CLASS="command"
>gen.set_author</KBD
> defines the default author used in the headers of generated <SPAN
CLASS="acronym"
>PL/SQL</SPAN
> program units. Feel free to change the string passed to <KBD
CLASS="command"
>set_author</KBD
>. </P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="ch04-idx-998934-0"
></A
>The contents of <I
CLASS="function"
>login23.sql</I
> are almost the same:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>set feedback off
exec plvgen.set_author ('Sam I Am');
exec plvfile.set_dir ('c:/plv');
@ssoo
set feedback on</PRE
></BLOCKQUOTE
><P
CLASS="para"
>The PLV<KBD
CLASS="command"
>file.set_dir</KBD
> program sets the default directory for file I/O. You will probably want to change the string passed to <KBD
CLASS="command"
>set_dir</KBD
>, but it is very useful to set some value on startup of your SQL*Plus session.</P
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch04-SECT-4.3"
>4.4.3 Converting Scripts<A
CLASS="indexterm"
NAME="ch04-idx-998935-0"
></A
><A
CLASS="indexterm"
NAME="ch04-idx-998935-1"
></A
> to PL/SQL Programs</A
></H3
><P
CLASS="para"
>Since SQL*Plus is a very common interactive execution platform for <SPAN
CLASS="acronym"
>PL/SQL</SPAN
> code, I make use of it throughout the book and in scripts provided on the disk. If you do not use SQL*Plus, it is generally very easy to convert SQL*Plus scripts to <SPAN
CLASS="acronym"
>PL/SQL</SPAN
> procedures. These procedures can then be executed in your environment to achieve the same effect as the scripts. Consider the following script (found in the file <I
CLASS="function"
>dumpemp.sql</I
> in the <KBD
CLASS="command"
>use </KBD
>subdirectory on the companion disk):</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>BEGIN
   PLVio.settrg (PLV.pstab);
   FOR emp_rec IN 
       (SELECT ename FROM emp WHERE deptno = &amp;1)
   LOOP
      PLVio.put_line (emp_rec.ename);
   END LOOP;
   PLVio.disptrg;
END;
/</PRE
></BLOCKQUOTE
><P
CLASS="para"
>This script uses PLVio to display all of the employee names in the specified department. The <KBD
CLASS="command"
>&amp;1</KBD
> in the fourth line is a substitution parameter in SQL*Plus. To make this script work in <SPAN
CLASS="acronym"
>PL/SQL</SPAN
>, you can transform the <I
CLASS="function"
>&amp;1</I
> into an actual <SPAN
CLASS="acronym"
>PL/SQL</SPAN
> parameter and wrap the script inside a procedure header as follows:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE dumpemp (dept_in IN emp.deptno%TYPE)
IS
BEGIN
   PLVio.settrg (PLV.pstab);
   FOR emp_rec IN 
       (SELECT ename FROM emp WHERE deptno = dept_in)
   LOOP
      PLVio.put_line (emp_rec.ename);
   END LOOP;
   PLVio.disptrg;
END;</PRE
></BLOCKQUOTE
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch04-SECT-4.4"
>4.4.4 A Warning About Partial Installation<A
CLASS="indexterm"
NAME="ch04-idx-998936-0"
></A
><A
CLASS="indexterm"
NAME="ch04-idx-998936-1"
></A
> </A
></H3
><P
CLASS="para"
>Do not attempt to install and use just a portion of PL/Vision. Why might you even consider such a thing? You might, for example, only want to use a single package, such as PLVvu to view your compile errors more effectively. You might balk at having to install all of those PL/Vision packages. However, almost every package in PL/Vision relies on many different PL/Vision packages in order to provide you with the highest possible level of functionality. </P
><P
CLASS="para"
>As a result, you must install all packages, following the directions provided in this chapter, whenever you want to use any portion of the product.</P
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch04-SECT-4.5"
>4.4.5 Uninstalling<A
CLASS="indexterm"
NAME="ch04-idx-998937-0"
></A
> PL/Vision</A
></H3
><P
CLASS="para"
>To uninstall PL/Vision, you need to drop all synonyms, drop PL/Vision tables, and remove the packages. You can use PL/Vision to perform some of these steps.</P
><P
CLASS="para"
>To remove all the PL/Vision tables from an account, connect to that account in SQL*Plus and issue this command:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>SQL&gt; exec PLVdyn.drop_object ('table', 'PLV%');</PRE
></BLOCKQUOTE
><P
CLASS="para"
>All tables beginning with "PLV" will be dropped. This will take care of PL/Vision tables. You should, of course, ensure that there are no other tables that have this same naming pattern before you execute this command. </P
><P
CLASS="para"
>You can also execute the following script to remove all PL/Vision tables:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>SQL&gt; @plvtrem</PRE
></BLOCKQUOTE
><P
CLASS="para"
>To remove all the public synonyms for PL/Vision packages, connect to the PLV account in SQL*Plus (or a different DBA account if PLV is not a DBA account) and issue this command:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>SQL&gt; @plvdpsyn &lt;connect_string&gt;</PRE
></BLOCKQUOTE
><P
CLASS="para"
>The connect string is described in the section called "Installing PL/Vision." </P
><P
CLASS="para"
>To drop private synonyms for each of the PL/Vision packages, execute the <I
CLASS="function"
>plvdsyn.sql</I
> script from the account that has the private synonyms as follows:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>SQL&gt; @plvdsyn </PRE
></BLOCKQUOTE
><P
CLASS="para"
>You are now ready to remove the packages that make up PL/Vision. To do this, connect to the PLV account and issue the following command:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>SQL&gt; @plvprem</PRE
></BLOCKQUOTE
><P
CLASS="para"
>All packages and standalone programs will then be dropped.<A
CLASS="indexterm"
NAME="ch04-idx-998938-0"
></A
><A
CLASS="indexterm"
NAME="ch04-idx-998938-1"
></A
></P
></DIV
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch04_03.htm#ch04-SECT-3.2"
TITLE="4.3 Installation Instructions"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 4.3 Installation Instructions"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="Advanced Oracle PL/SQL Programming with Packages"
><IMG
SRC="../gifs/txthome.gif"
ALT="Advanced Oracle PL/SQL Programming with Packages"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch04_05.htm"
TITLE="4.5 Using Online Help"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 4.5 Using Online Help"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>4.3 Installation Instructions</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>4.5 Using Online Help</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><IMG
SRC="../gifs/smnavbar.gif"
USEMAP="#map"
BORDER="0"
ALT="The Oracle Library Navigation">

<P><font size="-1">
<a href="../copyrght.htm#copy">Copyright (c) 2000</a> O'Reilly & Associates. All rights reserved.
</font></P>

<MAP NAME="map">

<AREA SHAPE="RECT"
COORDS="0,0,35,30"
HREF="../index.htm"
ALT="Library Home">

<AREA SHAPE="RECT"
COORDS="40,0,95,30"
HREF="../prog2/index.htm"
ALT="Oracle PL/SQL Programming, 2nd. Ed.">

<AREA SHAPE="RECT"
COORDS="100,0,200,30"
HREF="../guide8i/index.htm"
ALT="Guide to Oracle 8i Features">

<AREA SHAPE="RECT"
COORDS="205,0,245,30"
HREF="../bipack/index.htm"
ALT="Oracle Built-in Packages">

<AREA SHAPE="RECT"
COORDS="250,0,320,30"
HREF="index.htm"
ALT="Advanced PL/SQL Programming with Packages">

<AREA SHAPE="RECT"
COORDS="325,0,420,30"
HREF="../webapp/index.htm"
ALT="Oracle Web Applications">

<AREA SHAPE="RECT"
COORDS="425,0,490,30"
HREF="../langpkt/index.htm"
ALT="Oracle PL/SQL Language Pocket Reference">

<AREA SHAPE="RECT"
COORDS="495,0,570,30"
HREF="../bipkt/index.htm"
ALT="Oracle PL/SQL Built-ins Pocket Reference">
</MAP>
</BODY
>
<!-- Mirrored from liso.cs.pusan.ac.kr by HTTrack Website Copier/3.x [XR&CO'2001] -->
</HTML
>
