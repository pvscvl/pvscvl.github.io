<HTML
><HEAD
><TITLE
>[Chapter 16] 16.3 Priority Groups with DBMS_REPCAT</TITLE
><META
NAME="DC.Creator"
CONTENT="Steven Feuerstein, Charles Dye &amp; John Beresniewicz"><META
NAME="DC.Date"
CONTENT="2000-04-29T18:03:53Z"><META
NAME="DC.Format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.Identifier"
CONTENT="O'Reilly and Associates-1-56592-375-8E"><META
NAME="DC.Language"
CONTENT="en-US"><META
NAME="DC.Publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.Source"
CONTENT="1-56592-375-8E"
SCHEME="ISBN"><META
NAME="DC.Subject.Keyword"
CONTENT="Oracle Packages"><META
NAME="DC.Title"
CONTENT="Oracle Built-in Packages"><META
NAME="DC.Type"
CONTENT="Text.Monograph"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REL="stylesheet"
TYPE="text/css"
HREF="../style/style1.css"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch16_01.htm"
TITLE="16. Conflict Resolution"><LINK
REL="prev"
HREF="ch16_02.htm#ch16-SECT-2.3.1"
TITLE="16.2 Column Groups with DBMS_REPCAT"><LINK
REL="next"
HREF="ch16_04.htm#ch16-SECT-4.3.1"
TITLE="16.4 Site Priority Groups with DBMS_REPCAT"></HEAD
><BODY
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="Oracle Built-in Packages"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,65"
HREF="index.htm"
ALT="Oracle Built-in Packages"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="jobjects/fsearch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch16_02.htm#ch16-SECT-2.3.1"
TITLE="16.2 Column Groups with DBMS_REPCAT"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 16.2 Column Groups with DBMS_REPCAT"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><SPAN
CLASS="NAVTITLE"
><A
CLASS="chapter"
REL="up"
HREF="ch16_01.htm"
TITLE="16. Conflict Resolution"
>Chapter 16<BR>Conflict Resolution</A
></SPAN
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch16_04.htm#ch16-SECT-4.3.1"
TITLE="16.4 Site Priority Groups with DBMS_REPCAT"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 16.4 Site Priority Groups with DBMS_REPCAT"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="sect1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="ch16-22904"
>16.3 Priority Groups with DBMS_REPCAT</A
></H2
><P
CLASS="para"
><EM
CLASS="emphasis"
>Priority groups</EM
><A
CLASS="indexterm"
NAME="ch16-idx-963145-0"
></A
> allow you to determine the validity of data based on its value. The priority group conflict resolution technique is most effective for data that has a finite range of possible values, and that goes through this range in a specific order. </P
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch16-SECT-3.1"
>16.3.1 About Priority Groups</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="ch16-idx-963147-0"
></A
>Consider the products table:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>SQL&gt;desc products
Name				 	Null?           Type
 ------------------------------- 	-------- 	----
 PRODUCT_ID				NOT NULL 	NUMBER(9)
 PRODUCT_TYPE				NOT NULL 	NUMBER(6)
 CATALOG_ID				NOT NULL 	VARCHAR2(15)
 DESCRIPTION				NOT NULL 	VARCHAR2(30)
 REV_LEVEL				NOT NULL 	VARCHAR2(15)
 PRODUCTION_DATE			NOT NULL 	DATE
 PRODUCTION_STATUS			NOT NULL 	VARCHAR2(12)
 AUDIT_DATE				NOT NULL 	DATE
 AUDIT_USER				NOT NULL 	VARCHAR2(30)
 GLOBAL_NAME				NOT NULL 	VARCHAR2(20)</PRE
></BLOCKQUOTE
><P
CLASS="para"
>The PRODUCTION_STATUS field in this table can only take on certain values: CONCEPT, DEVELOPMENT, BETA, PRODUCTION, and DISCONTINUED. In addition, products must go through this range of values in the order given.</P
><P
CLASS="para"
>This concept of a sequential range of values is known as a <EM
CLASS="emphasis"
>workflow</EM
>, and priority groups are designed to enforce the rules of a workflow in a replicated environment. Unlike column groups, which pertain to fields in a specific table, you can define a priority group for a specific column, which may appear in one or more tables. Once you define and configure a priority group, you can designate it to resolve update conflicts within a column group. The basic idea is that if a conflict arises, the row with the data corresponding to the higher priority in the workflow <A
CLASS="indexterm"
NAME="ch16-idx-963148-0"
></A
>"wins."</P
><P
CLASS="para"
>Use the following programs to create and maintain priority groups:</P
><TABLE
CLASS="simplelist"
BORDER="0"
><TR
><TD
CLASS="member"
>DBMS_REPCAT.ADD_PRIORITY_&lt;datatype&gt;</TD
></TR
><TR
><TD
CLASS="member"
>DBMS_REPCAT.ALTER_PRIORITY</TD
></TR
><TR
><TD
CLASS="member"
>DBMS_REPCAT.ALTER_PRIORITY_&lt;datatype&gt;</TD
></TR
><TR
><TD
CLASS="member"
>DBMS_REPCAT.COMMENT_ON_PRIORITY_GROUPS</TD
></TR
><TR
><TD
CLASS="member"
>DBMS_REPCAT.DEFINE_PRIORITY_GROUPS</TD
></TR
><TR
><TD
CLASS="member"
>DBMS_REPCAT.DROP_PRIORITY</TD
></TR
><TR
><TD
CLASS="member"
>DBMS_REPCAT.DROP_PRIORITY_GROUP</TD
></TR
><TR
><TD
CLASS="member"
>DBMS_REPCAT.DROP_PRIORITY_&lt;datatype&gt;</TD
></TR
></TABLE
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch16-SECT-3.2"
>16.3.2 Creating, Maintaining, and Dropping Priority Groups</A
></H3
><P
CLASS="para"
>DBMS_REPCAT's DEFINE_PRIORITY_GROUP and DROP_PRIORITY_GROUP procedures allow you to create and drop priority groups. You use the COMMENT_ON_PRIORITY_GROUP procedure to maintain the comment on the priority group.</P
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="ch16-SECT-3.2.1"
>16.3.2.1 The DBMS_REPCAT.DEFINE_PRIORITY_GROUP procedure</A
></H4
><P
CLASS="para"
>The <A
CLASS="indexterm"
NAME="ch16-idx-963149-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963149-1"
></A
>DEFINE_PRIORITY_GROUP procedure creates a new priority group. The specifications differ for Oracle7 and Oracle8 as follows.</P
><P
CLASS="para"
>Here is the Oracle7 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.DEFINE_PRIORITY_GROUP
   (gname IN VARCHAR2 := '',
    pgroup IN VARCHAR2,
    datatype IN VARCHAR2,
    fixed_length IN INTEGER := NULL,
    comment IN VARCHAR2 := NULL,
    sname IN VARCHAR2 := '');</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Here is the Oracle8 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.DEFINE_PRIORITY_GROUP
   (gname IN VARCHAR2 := '',
    pgroup IN VARCHAR2,
    datatype IN VARCHAR2,
    fixed_length IN INTEGER := NULL,
    comment IN VARCHAR2 := NULL);</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Parameters are summarized in the following table.</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
> Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>gname</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the replication group containing the priority group.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>pgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the priority group.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>datatype</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Datatype for the value used in the priority group. Supported datatypes:</P
><UL
CLASS="itemizedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>CHAR</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>NCHAR (Oracle8 only)</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>VARCHAR2</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>NUMBER</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>DATE</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>RAW</P
></LI
></UL
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>fixed_length</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Fixed length for values. Used only for datatype CHAR.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>comment</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Comment.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>sname (Oracle7 only)</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Not used.</P
></TD
></TR
></TBODY
></TABLE
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-35909"
>16.3.2.1.1 Exceptions</A
></H4
><P
CLASS="para"
>The DEFINE_PRIORITY_GROUP procedure may raise the following exceptions:</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Number</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>duplicateprioritygroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23335</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority group pgroup already exists</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingschema</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23306</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Schema does not exist</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>nonmasterdef</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23312</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Calling site is not the master definition site</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>typefailure</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23319</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Datatype not supported</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-35954"
>16.3.2.1.2 Restrictions</A
></H4
><P
CLASS="para"
>Note the following restrictions on calling DEFINE_PRIORITY_GROUP:</P
><UL
CLASS="itemizedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>You must call the DEFINE_PRIORITY_GROUP procedure from the master definition site.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>You must call GENERATE_REPLICATION_SUPPORT for <EM
CLASS="emphasis"
>any</EM
> object in the replication group for the new priority group to become active.</P
></LI
></UL
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-35963"
>16.3.2.1.3 Example</A
></H4
><P
CLASS="para"
>Since priority groups are meant to work with a specific range of values, you must specify the datatype of these values when you create the group. Valid datatypes follow:</P
><TABLE
CLASS="simplelist"
BORDER="0"
><TR
><TD
CLASS="member"
>CHAR</TD
></TR
><TR
><TD
CLASS="member"
>NCHAR (Oracle8 only)</TD
></TR
><TR
><TD
CLASS="member"
>VARCHAR2</TD
></TR
><TR
><TD
CLASS="member"
>NUMBER</TD
></TR
><TR
><TD
CLASS="member"
>DATE</TD
></TR
><TR
><TD
CLASS="member"
>RAW</TD
></TR
></TABLE
><P
CLASS="para"
>If the data type is CHAR, then you must also specify the length of the data with the fixed_length parameter. <A
CLASS="indexterm"
NAME="ch16-idx-963153-0"
></A
>After you create a priority group, you must run DBMS_REPCAT.GENERATE_REPLICATION_SUPPORT for any object in the same replication group to propagate the new priority group to other master sites. (Since priority groups are not associated with a specific object, it does not matter what object you use in the call the GENERATE_REPLICATION_SUPPORT.)</P
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-35977"
>16.3.2.1.4 Creating a priority group for datatype CHAR</A
></H4
><P
CLASS="para"
>This call creates a priority group for a CHAR datatype. For the sake of this example, assume that the range of values is GREEN, YELLOW, RED, and the longest string is six characters long.</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>	BEGIN
		DBMS_REPCAT.DEFINE_PRIORITY_GROUP(
				gname		=&gt; 'SPROCKET',
				pgroup		=&gt; 'PG_SIGNAL_COLORS',
				datatype	=&gt; 'CHAR',
				fixed_length	=&gt; 6,
				comment		=&gt; 'PG_SIGNAL_COLORS created '||sysdate);
	END;</PRE
></BLOCKQUOTE
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-35981"
>16.3.2.1.5 Creating a priority group for datatype VARCHAR</A
></H4
><P
CLASS="para"
>For all other datatypes, the use of the fixed_length parameter does not apply. This statement creates a priority group for use with the PRODUCTION_STATUS field in the PRODUCTS <A
CLASS="indexterm"
NAME="ch16-idx-963151-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963151-1"
></A
>table:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>	BEGIN
		DBMS_REPCAT.DEFINE_PRIORITY_GROUP(
			gname		=&gt; 'SPROCKET',
			pgroup		=&gt; 'PG_PRODUCTION_STATUS',
			datatype	=&gt; 'VARCHAR',
			comment		=&gt; 'PG_PRODUCTION_STATUS created '||sysdate);
	END;</PRE
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="ch16-SECT-3.2.2"
>16.3.2.2 The DBMS_REPCAT.DROP_PRIORITY_GROUP procedure</A
></H4
><P
CLASS="para"
>The <A
CLASS="indexterm"
NAME="ch16-idx-963154-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963154-1"
></A
>DROP_PRIORITY_GROUP procedure lets you drop a priority group that you have defined. The specifications differ for Oracle7 and Oracle8 as follows.</P
><P
CLASS="para"
>here is the Oracle7 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.DROP_PRIORITY_GROUP
   (gname IN VARCHAR2 := '',
    pgroup IN VARCHAR2,
    sname IN VARCHAR2 := '');</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Here is the Oracle8 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.DROP_PRIORITY_GROUP
   (gname IN VARCHAR2 := '',
    pgroup IN VARCHAR2);</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Parameters are summarized in the following table.</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>gname</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the replication group containing the priority group</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>pgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the priority group to drop</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>sname (Oracle7 only)</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Not used</P
></TD
></TR
></TBODY
></TABLE
><BLOCKQUOTE
CLASS="warning"
><P
CLASS="para"
><STRONG
>WARNING:</STRONG
> Do not drop a priority group that you have designated as an <A
CLASS="indexterm"
NAME="ch16-idx-963158-0"
></A
>UPDATE conflict resolution method for a column group. You must first use DROP_UPDATE_RESOLUTION for the column group. Records in the data dictionary view DBA_REPRESOLUTION indicate if and where the priority group is used. Attempting to drop a priority group that is in use raises the <EM
CLASS="emphasis"
>referenced</EM
> exception.</P
></BLOCKQUOTE
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36032"
>16.3.2.2.1 Exceptions</A
></H4
><P
CLASS="para"
>The DROP_PRIORITY_GROUP procedure may raise the following exceptions:</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Number</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingrepgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23373</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Replication group gname does not exist</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>nonmasterdef</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23312</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Calling site is not the master definition site</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>referenced</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23332</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority group pgroup is used by existing conflict resolution methods</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36070"
>16.3.2.2.2 Restrictions</A
></H4
><P
CLASS="para"
>You must call DBMS_REPCAT.DROP_PRIORITY_GROUP from the master definition site.</P
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36073"
>16.3.2.2.3 Example</A
></H4
><P
CLASS="para"
>You can use DBMS_REPCAT.DROP_PRIORITY_GROUP as follows to remove a particular priority group from the replication <A
CLASS="indexterm"
NAME="ch16-idx-963156-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963156-1"
></A
>group:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>BEGIN
	DBMS_REPCAT.DROP_PRIORITY_GROUP(
		gname	=&gt;'SPROCKET',
		pgroup	=&gt;'PG_PRODUCTION_STATUS');
END;</PRE
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="ch16-SECT-3.2.3"
>16.3.2.3 The DBMS_REPCAT.COMMENT_ON_PRIORITY_GROUP procedure</A
></H4
><P
CLASS="para"
>The <A
CLASS="indexterm"
NAME="ch16-idx-963177-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963177-1"
></A
>COMMENT_ON_PRIORITY_GROUP procedure allows you to create or replace the comment for a priority group (as seen in the DBA_REPPRIORITY_GROUP data dictionary view). The specifications for Oracle7 and Oracle8 differ as follows.</P
><P
CLASS="para"
>Here is the Oracle7 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.COMMENT_ON_PRIORITY_GROUP
   (gname IN VARCHAR2 := '',
    pgroup IN VARCHAR2,
    comment IN VARCHAR2,
    sname IN VARCHAR2 := '');</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Here is the Oracle8 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.COMMENT_ON_PRIORITY_GROUP
   (gname IN VARCHAR2 := '',
    pgroup IN VARCHAR2,
    comment IN VARCHAR2);</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Parameters are summarized in the following table.</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>gname</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the replication group containing the priority group</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>pgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the priority group</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>comment</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Comment</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>sname (Oracle7 only)</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Not used</P
></TD
></TR
></TBODY
></TABLE
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36123"
>16.3.2.3.1 Exceptions</A
></H4
><P
CLASS="para"
>The COMMENT_ON_PRIORITY_GROUP procedure may raise the following exceptions:</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Number</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingprioritygroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23336</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority group pgroup does not exist</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingrepgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23373</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Replication group gname does not exist</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>nonmasterdef</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23312</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Calling site is not the master definition site</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36161"
>16.3.2.3.2 Restrictions</A
></H4
><P
CLASS="para"
>You must call COMMENT_ON_PRIORITY_GROUP from the master definition site.</P
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36164"
>16.3.2.3.3 Example</A
></H4
><P
CLASS="para"
>The following illustrates how you can replace the comment for the PG_SIGNAL_COLORS priority <A
CLASS="indexterm"
NAME="ch16-idx-963179-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963179-1"
></A
>group:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>	BEGIN
		DBMS_REPCAT.COMMENT_ON_PRIORITY_GROUP(
			gname	=&gt; 'SPROCKET',
		comment =&gt; 'Valid values are GREEN, YELLOW, and RED');
	END;</PRE
></BLOCKQUOTE
></DIV
></DIV
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch16-SECT-3.3"
>16.3.3 Creating and Maintaining Priorities Within a Priority Group</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="ch16-idx-963181-0"
></A
>The next step after creating a priority group is to add priorities to it. This task entails specifying every possible value for the data in the priority group, and assigning a priority to each value.</P
><P
CLASS="para"
>For example, recall the PRODUCTION_STATUS field we described earlier, which has this range of five possible values:</P
><OL
CLASS="orderedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>CONCEPT</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>DEVELOPMENT</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>BETA</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>PRODUCTION</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>DISCONTINUED</P
></LI
></OL
><P
CLASS="para"
>We want to resolve conflicts for this data by accepting the data that is furthest in the production cycle. If a conflict arises in which one update has PRODUCTION_STATUS set to "BETA," and another update has it set to "PRODUCTION," we would take the data from the latter <A
CLASS="indexterm"
NAME="ch16-idx-963183-0"
></A
>update.</P
><P
CLASS="para"
>The examples in the following sections illustrate exactly how to implement this priority group. We will show the following packages:</P
><TABLE
CLASS="simplelist"
BORDER="0"
><TR
><TD
CLASS="member"
>DBMS_REPCAT.ADD_PRIORITY_&lt;datatype&gt;</TD
></TR
><TR
><TD
CLASS="member"
>DBMS_REPCAT.ALTER_PRIORITY</TD
></TR
><TR
><TD
CLASS="member"
>DBMS_REPCAT.ALTER_PRIORITY_&lt;datatype&gt;</TD
></TR
><TR
><TD
CLASS="member"
>DBMS_REPCAT.DROP_PRIORITY</TD
></TR
><TR
><TD
CLASS="member"
>DBMS_REPCAT.DROP_PRIORITY_&lt;datatype&gt;</TD
></TR
></TABLE
><BLOCKQUOTE
CLASS="note"
><P
CLASS="para"
><STRONG
>NOTE:</STRONG
> Each of the procedures containing the &lt;datatype&gt; suffix actually has five different versions in Oracle7, one for each of the datatypes CHAR, VARCHAR2, NUMBER, RAW, and DATE. Oracle8 adds support for two more datatypes: NCHAR and NVARCHAR2. The usage of each of these packages is identical. Most of the examples in the following sections will use the VARCHAR2 version of these packages.</P
></BLOCKQUOTE
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="ch16-SECT-3.3.1"
>16.3.3.1 The DBMS_REPCAT.ADD_PRIORITY_&lt;datatype&gt; procedure</A
></H4
><P
CLASS="para"
>The <A
CLASS="indexterm"
NAME="ch16-idx-963185-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963185-1"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963185-2"
></A
>ADD_PRIORITY_&lt;datatype&gt; procedure adds a member (of the specified datatype) to an existing priority group. The specifications differ for Oracle7 and Oracle8 as follows.</P
><P
CLASS="para"
>Here is the Oracle7 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.ADD_PRIORITY_&lt;datatype&gt;
   (gname IN VARCHAR2 := '',
    pgroup IN VARCHAR2,
    value IN {CHAR|VARCHAR2|NUMBER|DATE|RAW,
    priority IN NUMBER,
    sname IN VARCHAR2 := '');</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Here is the Oracle8 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.ADD_PRIORITY_&lt;datatype&gt;
   (gname IN VARCHAR2 := '',
    pgroup IN VARCHAR2,
    value IN {CHAR|NCHAR|VARCHAR2|NUMBER|DATE|RAW,
    priority IN NUMBER)</PRE
></BLOCKQUOTE
><BLOCKQUOTE
><PRE
CLASS="programlisting"
></PRE
></BLOCKQUOTE
><P
CLASS="para"
>In these specifications, &lt;datatype&gt; can be any of the following, and value can be any of these types:</P
><TABLE
CLASS="simplelist"
BORDER="0"
><TR
><TD
CLASS="member"
>CHAR</TD
></TR
><TR
><TD
CLASS="member"
>VARCHAR2</TD
></TR
><TR
><TD
CLASS="member"
>NUMBER</TD
></TR
><TR
><TD
CLASS="member"
>DATE</TD
></TR
><TR
><TD
CLASS="member"
>RAW</TD
></TR
><TR
><TD
CLASS="member"
>NCHAR (Oracle8 only)</TD
></TR
><TR
><TD
CLASS="member"
>NVARCHAR2 (Oracle8 only)</TD
></TR
></TABLE
><P
CLASS="para"
>Parameters are summarized in the following table.</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>gname</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the replication group to which priority group pgroup belongs</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>pgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority group to which new value and priority are being added</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>value</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Literal value that is being assigned added to pgroup</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>priority</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority designated to value</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>sname (Oracle7 only)</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Not used</P
></TD
></TR
></TBODY
></TABLE
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36261"
>16.3.3.1.1 Exceptions</A
></H4
><P
CLASS="para"
>This procedure may raise the following exceptions:</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Number</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>duplicatepriority</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23335</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Another value is already designated with priority priority</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>duplicatevalue</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23338</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Value is already in the priority group pgroup</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingprioritygroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23336</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority group pgroup does not exist</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingrepgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23373</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Replication group gname does not exist</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>nonmasterdef</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23312</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Calling site is not the master definition site</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>typefailure</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23319</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Datatype of <EM
CLASS="emphasis"
>value</EM
> is not the same as the datatype for priority group pgroup</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36321"
>16.3.3.1.2 Restrictions</A
></H4
><P
CLASS="para"
>Note the following restrictions on calling ADD_PRIORITY_ &lt;datatype&gt;:</P
><UL
CLASS="itemizedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>The new value must be unique within the priority group. </P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>The new priority must be unique within the priority group.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>ADD_PRIORITY_&lt;datatype&gt; must be called from the master definition site.</P
></LI
></UL
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36331"
>16.3.3.1.3 Example</A
></H4
><P
CLASS="para"
>To associate priorities with each of the five possible values of PRODUCTION_STATUS, we must make five calls to ADD_PRIORITY_VARCHAR2. After making these calls and a call to DBMS_REPCAT.GENERATE_REPLICATION_SUPPORT, the column group is completely configured.</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>	BEGIN
		DBMS_REPCAT.ADD_PRIORITY_VARCHAR2(
		    gname	=&gt; 'SPROCKET',
		    pgroup	=&gt; 'PG_PRODUCTION_STATUS',<B
CLASS="emphasis.bold"
>&#13;                    value	=&gt; 'CONCEPT',
		    priority    =&gt; 10);</B
>
		DBMS_REPCAT.ADD_PRIORITY_VARCHAR2(
			gname	=&gt; 'SPROCKET',
			pgroup	=&gt; 'PG_PRODUCTION_STATUS',<B
CLASS="emphasis.bold"
>&#13;			value	=&gt; 'DEVELOPMENT',
			priority=&gt; 20);</B
>
		DBMS_REPCAT.ADD_PRIORITY_VARCHAR2(
			gname	=&gt; 'SPROCKET',
			pgroup	=&gt; 'PG_PRODUCTION_STATUS',<B
CLASS="emphasis.bold"
>&#13;			value	=&gt; 'BETA',
			priority=&gt; 30);</B
>
		DBMS_REPCAT.ADD_PRIORITY_VARCHAR2(
			gname	=&gt; 'SPROCKET',
			pgroup	=&gt; 'PG_PRODUCTION_STATUS',<B
CLASS="emphasis.bold"
>&#13;			value	=&gt; 'PRODUCTION',
			priority=&gt; 40);</B
>
		DBMS_REPCAT.ADD_PRIORITY_VARCHAR2(
			gname	=&gt; 'SPROCKET',
			pgroup	=&gt; 'PG_PRODUCTION_STATUS',<B
CLASS="emphasis.bold"
>&#13;			value	=&gt; 'DISCONTINUED',
			priority=&gt; 50);
	END;</B
></PRE
></BLOCKQUOTE
><BLOCKQUOTE
CLASS="tip"
><P
CLASS="para"
><STRONG
>TIP:</STRONG
> It is a good idea to number priorities in multiples of 10 or more so that you can easily add new priority values later as requirements <A
CLASS="indexterm"
NAME="ch16-idx-963187-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963187-1"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963187-2"
></A
>change.</P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="ch16-SECT-3.3.2"
>16.3.3.2 The DBMS_REPCAT.ALTER_PRIORITY procedure</A
></H4
><P
CLASS="para"
>The <A
CLASS="indexterm"
NAME="ch16-idx-963189-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963189-1"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963189-2"
></A
>ALTER_PRIORITY procedure lets you change the priority associated with a specific value in a priority group. The specifications differ for Oracle7 and Oracle8 as follows.</P
><P
CLASS="para"
>Here is the Oracle7 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.ALTER_PRIORITY
   (gname IN VARCHAR2 := '',
    pgroup IN VARCHAR2,
    old_priority IN NUMBER,
    new_priority IN NUMBER,
    sname IN VARCHAR2 := '');</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Here is the Oracle8 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.ALTER_PRIORITY
   (gname IN VARCHAR2 := '',
    pgroup IN VARCHAR2,
    old_priority IN NUMBER,
    new_priority IN NUMBER)</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Parameters are summarized in the following table.</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>gname</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the replication group to which priority group pgroup belongs</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>pgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the priority group whose priority is being altered</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>old_priority</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>pgroup's previous priority value</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>new_priority</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>pgroup's new priority value</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>sname</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Not used</P
></TD
></TR
></TBODY
></TABLE
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36397"
>16.3.3.2.1 Exceptions</A
></H4
><P
CLASS="para"
>The ALTER_PRIORITY procedure may raise the following exceptions:</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Number</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>duplicatepriority</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23335</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority new_priority already exists in priority group pgroup</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingprioritygroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23336</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority group pgroup does not exist</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingvalue</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23337</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Value was not registered (with a call to ADD_PRIORITY_&lt;datatype&gt;</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>nonmasterdef</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23312</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Calling site is not the master definition site</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36442"
>16.3.3.2.2 Restrictions</A
></H4
><P
CLASS="para"
>Note the following restrictions on calling ALTER_PRIORITY:</P
><UL
CLASS="itemizedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>You must call the ALTER_PRIORITY procedure from the master definition site.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>The new priority must be unique within the priority group.</P
></LI
></UL
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36450"
>16.3.3.2.3 Examples</A
></H4
><P
CLASS="para"
>Suppose that our requirements change such that we want the PRODUCTION_STATUS value DEVELOPMENT to have higher priority than BETA. We can accomplish this by changing the priority associated with DEVELOPMENT from 30 to 45.</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>	BEGIN
		DBMS_REPCAT.ALTER_PRIORITY(
			gname		=&gt; 'SPROCKET',
			pgroup		=&gt; 'PG_PRODUCTION_STATUS',
			old_priority	=&gt; 30,
			new_priority	=&gt; 45);
	END;</PRE
></BLOCKQUOTE
><P
CLASS="para"
>As with the call to ADD_PRIORITY_&lt;datatype&gt;, this change takes effect after the next call to <A
CLASS="indexterm"
NAME="ch16-idx-963275-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963275-1"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963275-2"
></A
>DBMS_REPCAT.GENERATE_REPLICATION_SUPPORT.</P
></DIV
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="ch16-SECT-3.3.3"
>16.3.3.3 The DBMS_REPCAT.ALTER_PRIORITY_&lt;datatype&gt; procedure</A
></H4
><P
CLASS="para"
>The <A
CLASS="indexterm"
NAME="ch16-idx-963193-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963193-1"
></A
>ALTER_PRIORITY_&lt;datatype&gt; procedures let you alter the data value associated with a specific priority for a priority group. The specifications differ for Oracle7 and Oracle8 as follows.</P
><P
CLASS="para"
>Here is the Oracle7 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.ALTER_PRIORITY_&lt;datatype&gt;
   (gname     IN VARCHAR2 := '',
    pgroup    IN VARCHAR2,
    old_value IN {CHAR|VARCHAR2|NUMBER|DATE|RAW},
    new_value IN {CHAR|VARCHAR2|NUMBER|DATE|RAW},
    sname     IN VARCHAR2 := '');</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Here is the Oracle8 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.ALTER_PRIORITY_&lt;datatype&gt;
   (gname     IN VARCHAR2 := '',
    pgroup    IN VARCHAR2,
    old_value IN {CHAR|NCHAR|VARCHAR2|NUMBER|DATE|RAW},
    new_value IN {CHAR|NCHAR|VARCHAR2|NUMBER|DATE|RAW});</PRE
></BLOCKQUOTE
><P
CLASS="para"
>&lt;datatype&gt; can be one of the following, and value and old_value can be any of these types:</P
><TABLE
CLASS="simplelist"
BORDER="0"
><TR
><TD
CLASS="member"
>CHAR</TD
></TR
><TR
><TD
CLASS="member"
>VARCHAR2</TD
></TR
><TR
><TD
CLASS="member"
>NUMBER</TD
></TR
><TR
><TD
CLASS="member"
>DATE</TD
></TR
><TR
><TD
CLASS="member"
>RAW</TD
></TR
><TR
><TD
CLASS="member"
>NCHAR (Oracle8 only)</TD
></TR
><TR
><TD
CLASS="member"
>NVARCHAR2 (Oracle8 only)</TD
></TR
></TABLE
><P
CLASS="para"
>Parameters are summarized in the following table.</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>gname</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the replication group to which priority group pgroup belongs</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>pgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the priority group whose priority is being altered</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>old_value</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Current value of the priority group member</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>new_value</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>New value of the priority group member</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>sname (Oracle7 only)</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Not used</P
></TD
></TR
></TBODY
></TABLE
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36516"
>16.3.3.3.1 Exceptions</A
></H4
><P
CLASS="para"
>The ALTER_PRIORITY_&lt;datatype&gt; procedure may raise the following exceptions:</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Number</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>duplicatevalue</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23338</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Value new_value is already designated a priority in priority group pgroup</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingprioritygroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23336</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority group pgroup does not exist</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingvalue</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23337</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Value was not registered (with a call to ADD_PRIORITY_&lt;datatype&gt;</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>nonmasterdef</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23312</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Calling site is not the master definition site</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36561"
>16.3.3.3.2 Restrictions</A
></H4
><P
CLASS="para"
>Note the following restrictions on calling ALTER_PRIORITY_&lt;datatype&gt;:</P
><UL
CLASS="itemizedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>You must call the ALTER_PRIORITY_&lt;datatype&gt; procedure from the master definition site.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>The new priority must be unique within the priority group.</P
></LI
></UL
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36569"
>16.3.3.3.3 Example</A
></H4
><P
CLASS="para"
>Suppose that we want to change the data value associated with priority 50 from DISCONTINUED to OBSOLETE. We would make the following call:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>	BEGIN
		DBMS_REPCAT.ALTER_PRIORITY_VARCHAR2(
			gname		=&gt; 'SPROCKET',
			pgroup		=&gt; 'PG_PRODUCTION_STATUS',
			old_value	=&gt; 'DISCONTINUED',
			new_value	=&gt; 'OBSOLETE');
	END;</PRE
></BLOCKQUOTE
><P
CLASS="para"
>This call would take effect after the next call to GENERATE_REPLICATION_SUPPORT for an object in the SPROCKET replication <A
CLASS="indexterm"
NAME="ch16-idx-963195-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963195-1"
></A
>group.</P
></DIV
></DIV
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="ch16-SECT-3.4"
>16.3.4 Dropping Priorities from a Priority Group</A
></H3
><P
CLASS="para"
>The DROP_PRIORITY and DROP_PRIORITY_&lt;datatype&gt; remove values from a priority group. You can specify the value to be removed by priority (with DROP_PRIORITY) or by data value (with DROP_PRIORITY_&lt;datatype&gt;).</P
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="ch16-SECT-3.4.1"
>16.3.4.1 The DBMS_REPCAT.DROP_PRIORITY procedure</A
></H4
><P
CLASS="para"
>The <A
CLASS="indexterm"
NAME="ch16-idx-963197-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963197-1"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963197-2"
></A
>DROP_PRIORITY procedure removes a value from a priority group. In this version of the procedure, you must specify the value by priority. The specifications differ for Oracle7 and Oracle 8 as follows.</P
><P
CLASS="para"
>Here is the Oracle7 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.DROP_PRIORITY
  (gname IN VARCHAR2 := '',
   pgroup IN VARCHAR2,
   priority_num IN NUMBER,
   sname IN VARCHAR2 := '');</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Here is the Oracle8 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.DROP_PRIORITY
  (gname IN VARCHAR2 := '',
   pgroup IN VARCHAR2,
   priority_num IN NUMBER);</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Parameters are summarized in the following table.</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>gname</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the replication group to which priority group pgroup belongs</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>pgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the priority group whose priority is being altered</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>priority_num</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority for the value to be dropped</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>sname</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Not used</P
></TD
></TR
></TBODY
></TABLE
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36626"
>16.3.4.1.1 Exceptions</A
></H4
><P
CLASS="para"
>The DROP_PRIORITY procedure may raise the following exceptions:</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Number</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingprioritygroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23336</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority group pgroup does not exist.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingrepgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23373</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Replication group gname does not exist.</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>nonmasterdef</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23312</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Calling site is not the master definition site.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36664"
>16.3.4.1.2 Restrictions</A
></H4
><P
CLASS="para"
>You must call the DROP_PRIORITY procedure from the master definition site.</P
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36667"
>16.3.4.1.3 Example</A
></H4
><P
CLASS="para"
>In the following example, we drop the member of the PG_PRODUCTION_STATUS priority group whose priority is 50:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>	BEGIN
		DBMS_REPCAT.DROP_PRIORITY(
			gname		=&gt; 'SPROCKET',
			pgroup		=&gt; 'PG_PRODUCTION_STATUS',
			priority	=&gt; 50);
	END;</PRE
></BLOCKQUOTE
><P
CLASS="para"
>This change takes effect the next time we run DBMS_REPCAT.GENERATE_REPLICATION_SUPPORT for an object in the SPROCKET replication <A
CLASS="indexterm"
NAME="ch16-idx-963199-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963199-1"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963199-2"
></A
>group.</P
></DIV
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="ch16-SECT-3.4.2"
>16.3.4.2 The DBMS_REPCAT.DROP_PRIORITY_&lt;datatype&gt; procedure</A
></H4
><P
CLASS="para"
>The <A
CLASS="indexterm"
NAME="ch16-idx-963201-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963201-1"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963201-2"
></A
>DROP_PRIORITY_&lt;datatype&gt; procedure removes a value from a priority group. In this version of the procedure, you can specify the value by data value. The specifications differ for Oracle7 and Oracle 8 as follows.</P
><P
CLASS="para"
>Here is the Oracle7 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.DROP_PRIORITY_&lt;datatype&gt;
	(gname  IN VARCHAR2 := '',
	 pgroup IN VARCHAR2,
	 value  IN {CHAR|VARCHAR2|NUMBER|DATE|RAW},
	 sname  IN VARCHAR2 := '');</PRE
></BLOCKQUOTE
><P
CLASS="para"
>Here is the Oracle8 specification:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>PROCEDURE DBMS_REPCAT.DROP_PRIORITY_&lt;datatype&gt;
	(name   IN VARCHAR2 := '',
	 pgroup IN VARCHAR2,
	 value  IN {CHAR|NCHAR|VARCHAR2|NUMBER|DATE|RAW},
	 sname  IN VARCHAR2 := '');</PRE
></BLOCKQUOTE
><BLOCKQUOTE
><PRE
CLASS="programlisting"
></PRE
></BLOCKQUOTE
><P
CLASS="para"
>&lt;datatype&gt; can be any of the following, and value can be any of these types:</P
><TABLE
CLASS="simplelist"
BORDER="0"
><TR
><TD
CLASS="member"
>CHAR</TD
></TR
><TR
><TD
CLASS="member"
>VARCHAR2</TD
></TR
><TR
><TD
CLASS="member"
>NUMBER</TD
></TR
><TR
><TD
CLASS="member"
>DATE</TD
></TR
><TR
><TD
CLASS="member"
>RAW</TD
></TR
><TR
><TD
CLASS="member"
>NCHAR (Oracle8 only)</TD
></TR
><TR
><TD
CLASS="member"
>NVARCHAR2 (Oracle8 only)</TD
></TR
></TABLE
><P
CLASS="para"
>Parameters are summarized in the following table.</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
> Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>gname</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name of the replication group to which priority group pgroup belongs</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>pgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority group to which new value and priority are being added</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>value</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Literal value that is being assigned added to pgroup</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>sname (Oracle7 only)</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Not used</P
></TD
></TR
></TBODY
></TABLE
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36732"
>16.3.4.2.1 Exceptions</A
></H4
><P
CLASS="para"
>The DROP_PRIORITY_&lt;datatype&gt; procedure may raise the following exceptions:</P
><TABLE
CLASS="informaltable"
BORDER="1"
CELLPADDING="3"
><THEAD
CLASS="thead"
><TR
CLASS="row"
VALIGN="TOP"
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Name</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Number</P
></TH
><TH
CLASS="entry"
ALIGN="LEFT"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Description</P
></TH
></TR
></THEAD
><TBODY
CLASS="tbody"
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingprioritygroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23336</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Priority group pgroup does not exist</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>missingrepgroup</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23373</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Replication group gname does not exist</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>nonmasterdef</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23312</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Calling site is not the master definition site</P
></TD
></TR
><TR
CLASS="row"
VALIGN="TOP"
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>paramtype</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>-23325</P
></TD
><TD
CLASS="entry"
ROWSPAN="1"
COLSPAN="1"
><P
CLASS="para"
>Datatype of value is not the same as the datatype for priority group pgroup</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36777"
>16.3.4.2.2 Restrictions</A
></H4
><P
CLASS="para"
>You must call DROP_PRIORITY_&lt;datatype&gt; from the master definition site.</P
></DIV
><DIV
CLASS="sect4"
><H4
CLASS="sect4"
><A
CLASS="title"
NAME="AUTOID-36780"
>16.3.4.2.3 Example</A
></H4
><P
CLASS="para"
>You can specify the member to be dropped by its data value rather than its priority (as was done with DROP_PRIORITY). In the following example, we drop the member of the PG_PRODUCTION_STATUS priority group whose value is CONCEPT:</P
><BLOCKQUOTE
><PRE
CLASS="programlisting"
>	BEGIN
		DBMS_REPCAT.DROP_PRIORITY_VARCHAR2(
			gname	=&gt; 'SPROCKET',
			pgroup	=&gt; 'PG_PRODUCTION_STATUS',
			value	=&gt; 'CONCEPT');
	END;</PRE
></BLOCKQUOTE
><P
CLASS="para"
>As with DROP_PRIORITY, this change takes effect after DBMS_REPCAT.GENERATE_REPLICATION_SUPPORT has been run for any object in the <A
CLASS="indexterm"
NAME="ch16-idx-963203-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963203-1"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963203-2"
></A
>replication <A
CLASS="indexterm"
NAME="ch16-idx-963146-0"
></A
><A
CLASS="indexterm"
NAME="ch16-idx-963146-1"
></A
>group.</P
></DIV
></DIV
></DIV
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch16_02.htm#ch16-SECT-2.3.1"
TITLE="16.2 Column Groups with DBMS_REPCAT"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 16.2 Column Groups with DBMS_REPCAT"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="Oracle Built-in Packages"
><IMG
SRC="../gifs/txthome.gif"
ALT="Oracle Built-in Packages"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="sect1"
HREF="ch16_04.htm#ch16-SECT-4.3.1"
TITLE="16.4 Site Priority Groups with DBMS_REPCAT"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 16.4 Site Priority Groups with DBMS_REPCAT"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>16.2 Column Groups with DBMS_REPCAT</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>16.4 Site Priority Groups with DBMS_REPCAT</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><IMG SRC="../gifs/smnavbar.gif"
USEMAP="#map"
BORDER="0"
ALT="The Oracle Library Navigation">

<P><font size="-1">
<a href="../copyrght.htm#copy">Copyright (c) 2000</a> O'Reilly &amp; Associates. All rights reserved.
</font></P>

<MAP NAME="map">

<AREA SHAPE="RECT"
COORDS="0,0,35,30"
HREF="../index.htm"
ALT="Library Home">

<AREA SHAPE="RECT"
COORDS="40,0,95,30"
HREF="../prog2/index.htm"
ALT="Oracle PL/SQL Programming, 2nd. Ed.">

<AREA SHAPE="RECT"
COORDS="100,0,200,30"
HREF="../guide8i/index.htm"
ALT="Guide to Oracle 8i Features">

<AREA SHAPE="RECT"
COORDS="205,0,245,30"
HREF="index.htm"
ALT="Oracle Built-in Packages">

<AREA SHAPE="RECT"
COORDS="250,0,320,30"
HREF="../advprog/index.htm"
ALT="Advanced PL/SQL Programming with Packages">

<AREA SHAPE="RECT"
COORDS="325,0,420,30"
HREF="../webapp/index.htm"
ALT="Oracle Web Applications">

<AREA SHAPE="RECT"
COORDS="425,0,490,30"
HREF="../langpkt/index.htm"
ALT="Oracle PL/SQL Language Pocket Reference">

<AREA SHAPE="RECT"
COORDS="495,0,570,30"
HREF="../bipkt/index.htm"
ALT="Oracle PL/SQL Built-ins Pocket Reference">
</MAP>

</BODY
>
<!-- Mirrored from liso.cs.pusan.ac.kr by HTTrack Website Copier/3.x [XR&CO'2001] -->
</HTML
>
