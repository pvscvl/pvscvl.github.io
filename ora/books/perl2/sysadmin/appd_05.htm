<html>
<head>
<title>Relating Tables to Each Other  (Perl for System Administration)</title>

<!-- STYLESHEET -->

<link rel="stylesheet" type="text/css" href="../style/style1.css">

<!-- METADATA -->



<!--Dublin Core Metadata-->

<meta name="DC.Creator" content="David N. Blank-Edelman">
<meta name="DC.Date" content="">
<meta name="DC.Format" content="text/xml" scheme="MIME">
<meta name="DC.Generator" content="XSLT stylesheet, xt by James Clark">
<meta name="DC.Identifier" content="">
<meta name="DC.Language" content="en-US">
<meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="DC.Source" content="1565926099L" scheme="ISBN">
<meta name="DC.Subject.Keyword" content="">
<meta name="DC.Title" content="Relating Tables to Each Other">
<meta name="DC.Type" content="Text.Monograph">

</head>

<body>

<!-- START OF BODY -->



<!-- TOP BANNER -->

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home">
<map name="banner-map"><AREA SHAPE="RECT" COORDS="0,0,466,71" HREF="index.htm" ALT="Perl for System Administration"><AREA SHAPE="RECT" COORDS="467,0,514,18" HREF="jobjects/fsearch.htm" ALT="Search this book">
</map>

<!-- TOP NAV BAR -->

<div class="navbar">
<table width="515" border="0">
<tr>
<td align="left" valign="top" width="172"><a href="appd_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0"></a></td><td align="center" valign="top" width="171"><a href="appd_01.htm">Appendix D: The Fifteen-Minute SQL Tutorial</a></td><td align="right" valign="top" width="172"><a href="appd_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0"></a></td>
</tr>
</table>
</div>
<hr width="515" align="left">

<!-- SECTION BODY -->
<h2 class="sect1">D.5. Relating Tables to Each Other</h2>




<p>
<a name="INDEX-1148"></a><a name="INDEX-1149"></a>Relational
databases offer many ways to forge connections between the data in
two or more tables. This process is known as "joining"
the tables. Joins can get complex quickly, given the number of query
possibilities involved and the fine control the programmer has over
the data that is returned. If you are interested in this level of
detail, your best bet is to seek out a book devoted to SQL.</p>




<p>Here is one example of a join in action. For this example we'll
use another table called <em class="filename">contracts,</em> which
contains information on the maintenance contracts for each of our
machines. That table is shown in <a href="appd_05.htm">Table D-3</a>.</p>




<a name="appd-96834"></a>
<h4 class="objtitle">Table D-3. Our Contracts Table</h4>
<table border="1">





<tr>
<th>
<p>name</p>
</th>
<th>
<p>servicevendor</p>
</th>
<th>
<p>startdate</p>
</th>
<th>
<p>enddate</p>
</th>
</tr>








<tr>
<td>
<p>bendir</p>
</td>
<td>
<p>Dec</p>
</td>
<td>
<p>09-09-1995</p>
</td>
<td>
<p>06-01-1998</p>
</td>
</tr>



<tr>
<td>
<p>sander</p>
</td>
<td>
<p>Intergraph</p>
</td>
<td>
<p>03-14-1998</p>
</td>
<td>
<p>03-14-1999</p>
</td>
</tr>



<tr>
<td>
<p>shimmer</p>
</td>
<td>
<p>Sun</p>
</td>
<td>
<p>12-12-1998</p>
</td>
<td>
<p>12-12-2000</p>
</td>
</tr>



<tr>
<td>
<p>sulawesi</p>
</td>
<td>
<p>Apple</p>
</td>
<td>
<p>11-01-1995</p>
</td>
<td>
<p>11-01-1998</p>
</td>
</tr>




</table>




<p>Here's one way to relate our hosts table to the contracts table
using a join:</p>




<blockquote>
<pre class="programlisting">USE sysadm
SELECT name,servicevendor,enddate
  FROM contracts, hosts 
  WHERE contracts.name = hosts.name</pre>
</blockquote>




<p>The easiest way to understand this code is to read it from the middle
out. <tt class="literal">FROM</tt><tt class="literal">contracts, hosts</tt>
tells the server that we wish to relate the
<em class="filename">contracts</em> and <em class="filename">hosts</em> tables.
<tt class="literal">ON contracts.name = hosts.name</tt> says we will match
a row in <em class="emphasis">contracts</em> to a row in
<em class="emphasis">hosts</em> based on the contents of the
<tt class="literal">name</tt> field in each table. Finally, the
<tt class="literal">SELECT</tt>... line specifies the columns we wish to
appear in our output.</p>


<!-- BOTTOM NAV BAR -->

<hr width="515" align="left">
<div class="navbar">
<table width="515" border="0">
<tr>
<td align="left" valign="top" width="172"><a href="appd_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0"></a></td><td align="center" valign="top" width="171"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0"></a></td><td align="right" valign="top" width="172"><a href="appd_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0"></a></td>
</tr>
<tr>
<td align="left" valign="top" width="172">D.4. Changing Table Information</td><td align="center" valign="top" width="171"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0"></a></td><td align="right" valign="top" width="172">D.6. SQL Stragglers</td>
</tr>
</table>
</div>
<hr width="515" align="left">

<!-- LIBRARY NAV BAR -->

<img src="../gifs/smnavbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links"><p>
<font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font>
</p>
<map name="library-map"> <area shape="rect" coords="2,-1,79,99" href="../index.htm"><area shape="rect" coords="84,1,157,108" href="../perlnut/index.htm"><area shape="rect" coords="162,2,248,125" href="../prog/index.htm"><area shape="rect" coords="253,2,326,130" href="../advprog/index.htm"><area shape="rect" coords="332,1,407,112" href="../cookbook/index.htm"><area shape="rect" coords="414,2,523,103" href="index.htm">
</map>

<!-- END OF BODY -->

</body>
</html>
