<html>
<head>
<title>Log Files  (Perl for System Administration)</title>

<!-- STYLESHEET -->

<link rel="stylesheet" type="text/css" href="../style/style1.css">

<!-- METADATA -->



<!--Dublin Core Metadata-->

<meta name="DC.Creator" content="David N. Blank-Edelman">
<meta name="DC.Date" content="">
<meta name="DC.Format" content="text/xml" scheme="MIME">
<meta name="DC.Generator" content="XSLT stylesheet, xt by James Clark">
<meta name="DC.Identifier" content="">
<meta name="DC.Language" content="en-US">
<meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="DC.Source" content="1565926099L" scheme="ISBN">
<meta name="DC.Subject.Keyword" content="">
<meta name="DC.Title" content="Log Files">
<meta name="DC.Type" content="Text.Monograph">

</head>

<body>

<!-- START OF BODY -->



<!-- TOP BANNER -->

<img src="gifs/smbanner.gif" usemap="#banner-map" border="0" alt="Book Home">
<map name="banner-map"><AREA SHAPE="RECT" COORDS="0,0,466,71" HREF="index.htm" ALT="Perl for System Administration"><AREA SHAPE="RECT" COORDS="467,0,514,18" HREF="jobjects/fsearch.htm" ALT="Search this book">
</map>

<!-- TOP NAV BAR -->

<div class="navbar">
<table width="515" border="0">
<tr>
<td align="left" valign="top" width="172"><a href="ch08_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0"></a></td><td align="center" valign="top" width="171"><a href="index.htm">Perl for System Administration</a></td><td align="right" valign="top" width="172"><a href="ch09_02.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0"></a></td>
</tr>
</table>
</div>
<hr width="515" align="left">

<!-- SECTION BODY -->

<h1 class="chapter">Chapter 9.  Log Files</h1>
<div class="htmltoc">
<h4 class="tochead">Contents:</h4>
<p>
<a href="ch09_01.htm">Text Logs</a>
<br>
<a href="ch09_02.htm">Binary Log Files</a>
<br>
<a href="ch09_03.htm">Stateful and Stateless Data</a>
<br>
<a href="ch09_04.htm">Disk Space Problems</a>
<br>
<a href="ch09_05.htm">Log Analysis</a>
<br>
<a href="ch09_06.htm">Module Information for This Chapter</a>
<br>
<a href="ch09_07.htm">References for More Information</a>
<br>
</p>
</div>










<p>
<a name="INDEX-888"></a><a name="INDEX-889"></a><a name="INDEX-890"></a>If this weren't a book on system
administration, an entire chapter on log files would seem peculiar.
But system administrators have a very special relationship with log
files. Like Doctor Doolittle, who could talk to the animals, system
administrators are expected to be able to communicate with a large
menagerie of software and hardware. Much of this communication takes
place through log files, so we become log file linguists. Perl can be
a big help in this process.</p>





<p>It is impossible to touch on all of the different kinds of processing
and analysis you can do with logs. Entire books have been devoted to
just statistical analysis of this sort of data. However, this chapter
should give you some general approaches to the topic and Perl tools
to whet your appetite for more.</p>




































<h2 class="sect1">9.1. Text Logs</h2>





<p>
<a name="INDEX-891"></a><a name="INDEX-892"></a>Logs come
in different flavors, so we need several approaches for dealing with
them. The most common type of log file is one composed entirely of
lines of text. Popular server packages like Apache (web), INN (Usenet
news), and Sendmail (email) spew log text in voluminous quantities.
Most logs on Unix machines look similar because they are created by a
centralized logging facility known as <tt class="command">syslog</tt>. For
our purposes, we can treat files created by <tt class="command">syslog</tt>
like any other text file.</p>





<p>Here's a simple Perl program to scan for the word
"error" in a text-based log file:</p>





<blockquote>
<pre class="programlisting">open(LOG,"logfile") or die "Unable to open logfile:$!\n";
while(&lt;LOG&gt;){
	print if /\berror\b/i;
}
close(LOG);</pre>
</blockquote>





<p>Perl-savvy readers are probably itching to turn it into a one-liner.
For those folks:</p>





<blockquote>
<pre class="programlisting">perl -ne 'print if /\berror\b/i' logfile</pre>
</blockquote>















































































































































































































<!-- BOTTOM NAV BAR -->

<hr width="515" align="left">
<div class="navbar">
<table width="515" border="0">
<tr>
<td align="left" valign="top" width="172"><a href="ch08_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0"></a></td><td align="center" valign="top" width="171"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0"></a></td><td align="right" valign="top" width="172"><a href="ch09_02.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0"></a></td>
</tr>
<tr>
<td align="left" valign="top" width="172">8.5. References for More Information</td><td align="center" valign="top" width="171"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0"></a></td><td align="right" valign="top" width="172">9.2. Binary Log Files</td>
</tr>
</table>
</div>
<hr width="515" align="left">

<!-- LIBRARY NAV BAR -->

<img src="../gifs/smnavbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links"><p>
<font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font>
</p>
<map name="library-map"> <area shape="rect" coords="2,-1,79,99" href="../index.htm"><area shape="rect" coords="84,1,157,108" href="../perlnut/index.htm"><area shape="rect" coords="162,2,248,125" href="../prog/index.htm"><area shape="rect" coords="253,2,326,130" href="../advprog/index.htm"><area shape="rect" coords="332,1,407,112" href="../cookbook/index.htm"><area shape="rect" coords="414,2,523,103" href="index.htm">
</map>

<!-- END OF BODY -->

</body>
</html>
