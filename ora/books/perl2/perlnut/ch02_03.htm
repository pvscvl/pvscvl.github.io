<HTML
><HEAD
>
<TITLE>2.3 Installing Perl (Perl in a Nutshell)</TITLE>
<META
NAME="DC.title"
CONTENT="Perl in a Nutshell"><META
NAME="DC.creator"
CONTENT="Ellen Siever, Stephen Spainhour &amp; Nathan Patwardhan"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1999-07-02T01:28:33Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-286-7"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch02_01.htm"
TITLE="2. Installing Perl"><LINK
REL="prev"
HREF="ch02_02.htm"
TITLE="2.2 How Is CPAN Organized?"><LINK
REL="next"
HREF="ch02_04.htm"
TITLE="2.4 Getting and Installing Modules"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="Perl in a Nutshell"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,71"
HREF="index.htm"
ALT="Perl in a Nutshell"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="jobjects/fsearch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch02_02.htm"
TITLE="2.2 How Is CPAN Organized?"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 2.2 How Is CPAN Organized?"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
><A
CLASS="chapter"
REL="up"
HREF="ch02_01.htm"
TITLE="2. Installing Perl"
>Chapter 2<BR>Installing Perl</A
></FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch02_04.htm"
TITLE="2.4 Getting and Installing Modules"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 2.4 Getting and Installing Modules"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="PNUT-CH-2-SECT-3"
>2.3 Installing Perl</A
></H2
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-463"
></A
><A
CLASS="indexterm"
NAME="PNUT-CH-2-IX-PERL-LANGUAGE-INSTALLING-SOURCE-CODE"
></A
><A
CLASS="indexterm"
NAME="PNUT-CH-2-IX-INSTALLING-PERL-SOURCE-CODE"
></A
>Most likely your system administrator is responsible for installing and
upgrading Perl. But if you are the system administrator, or you want to
install Perl on your own system, sooner or later you will find yourself
installing a new version of Perl.</P
><BLOCKQUOTE
CLASS="note"
><P
CLASS="para"
><STRONG
>NOTE:</STRONG
> If you have been running Perl, and you are now going to install Perl
5.005, you need to be aware that it is not binary-compatible with
older versions.  This means that you must rebuild and reinstall any
dynamically loaded extensions that you built under earlier versions.</P
></BLOCKQUOTE
><P
CLASS="para"
>Specific installation instructions come in
the <EM
CLASS="emphasis"
>README</EM
> and <EM
CLASS="emphasis"
>INSTALL</EM
> files of the Perl distribution kit. If
you don't already
have the Perl distribution, you can download it from CPAN&nbsp;- the latest
Unix distribution is in <EM
CLASS="emphasis"
>latest.tar.gz</EM
>. The information in this section
is an overview of the installation process. The gory details are in the
<EM
CLASS="emphasis"
>INSTALL</EM
> file, which you should look at before starting, especially
if you haven't done an installation before. Note that 
operating systems other than
Unix may have special instructions; if so, follow those instructions
instead of what's in this section or in <EM
CLASS="emphasis"
>INSTALL</EM
>. Look for 
a file named <EM
CLASS="emphasis"
>README.xxx</EM
>, where <EM
CLASS="emphasis"
>xxx</EM
> is your OS name. </P
><P
CLASS="para"
>In addition to Perl itself, the standard distribution includes a set of core
modules that are automatically installed with Perl.  See <A
CLASS="xref"
HREF="ch02_04.htm"
TITLE="Getting and Installing Modules"
>Section 2.4</A
>&quot; later in this chapter 
for how to install modules that are not bundled with
Perl; <A
CLASS="xref"
HREF="ch08_01.htm"
TITLE="Standard Modules"
>Chapter 8, <CITE
CLASS="chapter"
>Standard Modules</CITE
></A
>, describes the standard modules in some detail.</P
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="PNUT-CH-2-SECT-3.1"
>2.3.1 Installing on Unix</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-489"
></A
>Typically, you'll get the Perl kit packed as either a <EM
CLASS="emphasis"
>tar</EM
> file or as
a set of <EM
CLASS="emphasis"
>shar</EM
> (shell archive) scripts; in either case, the file will
be in a compressed format. If you got your version of Perl directly from
CPAN, it is probably in &quot;tar-gzipped&quot; format; <EM
CLASS="emphasis"
>tar</EM
> and <EM
CLASS="emphasis"
>gzip</EM
> are
popular Unix data-archiving formats. In any case,<A
CLASS="indexterm"
NAME="AUTOID-496"
></A
><A
CLASS="indexterm"
NAME="AUTOID-498"
></A
><A
CLASS="indexterm"
NAME="AUTOID-500"
></A
>
once you've downloaded the distribution, you need to uncompress and unpack
it. The filename 
indicates what kind of compression was used. A <EM
CLASS="emphasis"
>.Z</EM
> extension
indicates you need to <EM
CLASS="emphasis"
>uncompress</EM
> the file first, while
a <EM
CLASS="emphasis"
>.gz</EM
> extension indicates you need to
<EM
CLASS="emphasis"
>gunzip</EM
> the file. You then unpack the file
as appropriate, read the <EM
CLASS="emphasis"
>README</EM
> and <EM
CLASS="emphasis"
>INSTALL</EM
> files, and run a
massive shell script called <EM
CLASS="emphasis"
>Configure</EM
>, which tries to
figure out everything about your system and creates the file <EM
CLASS="emphasis"
>Config.pm</EM
> 
to store the information.  After this is done, you do a
series of &quot;makes&quot; to find header file dependencies, to compile
Perl (and <EM
CLASS="emphasis"
>a2p</EM
>, which translates <EM
CLASS="emphasis"
>awk</EM
> scripts to Perl), to 
run regression tests, and to install Perl in your system directories.</P
><P
CLASS="para"
>One common problem is not making sure that Perl is linked against all
the libraries it needs to build correctly.  Also, you should say &quot;yes&quot;
when <EM
CLASS="emphasis"
>Configure</EM
> asks if you want dynamic loading, if your system 
supports it.
Otherwise, you won't be able to install modules that use XS, which
provides an interface between Perl and C.</P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-515"
></A
>If you are running Linux, some Linux distributions might not include
a complete MakeMaker, which you need for installing modules. To be safe,
you should make sure everything is there; one way to do that is to check the
<EM
CLASS="emphasis"
>Config.pm</EM
> file.  If MakeMaker is not correctly installed, you might need
to build Perl yourself.</P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-519"
></A
>It's possible you'll get a compiled (binary) copy of Perl, rather than the
source. In that case, make sure you get <EM
CLASS="emphasis"
>suidperl</EM
>,
<EM
CLASS="emphasis"
>a2p</EM
>, <EM
CLASS="emphasis"
>s2p</EM
>, and the Perl library routines. Install
these files in the directories that your version was compiled for.
Note that binary distributions of Perl are made available because they're
handy, not because you are restricted from getting the source and
compiling it yourself. The people who give you the binary
distribution ought to provide you with some form of access to the
source, if only a pointer to where <EM
CLASS="emphasis"
>they</EM
> got the
source.  See the <EM
CLASS="emphasis"
>Copying</EM
> file in the
distribution for more information.  </P
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="PNUT-CH-2-SECT-3.1.1"
>2.3.1.1 Perl examples</A
></H4
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-529"
></A
><A
CLASS="indexterm"
NAME="AUTOID-532"
></A
><A
CLASS="indexterm"
NAME="AUTOID-535"
></A
>The Perl source distribution comes with some sample scripts in the
<EM
CLASS="emphasis"
>eg/</EM
> subdirectory.  Feel free to browse among them and use them.  They
are not installed automatically, however, so you need to copy them to
the appropriate directory and possibly fix the <CODE
CLASS="literal"
>#!</CODE
> line to point to
the right interpreter.</P
><P
CLASS="para"
>The files in the <EM
CLASS="emphasis"
>t/</EM
> and <EM
CLASS="emphasis"
>lib/</EM
> subdirectories, although
arcane in spots, can also serve as examples.</P
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="PNUT-CH-2-SECT-3.1.2"
>2.3.1.2 Patches</A
></H4
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-545"
></A
>Since Perl is constantly being honed and improved, patches are sometimes
made available through CPAN.  Your distribution is likely to have had most of
the patches applied already&nbsp;- run <CODE
CLASS="literal"
>perl</CODE
> <CODE
CLASS="literal"
>-v</CODE
> to check
the patch level of your distribution.
Patches are sent out with complete instructions on how to apply them
using <EM
CLASS="emphasis"
>patch</EM
>, which is
available from the GNU project.</P
></DIV
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="PNUT-CH-2-SECT-3.2"
>2.3.2 Installing on Win32</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-553"
></A
>You need to obtain and install a copy of Perl yourself, unless you have 
had the good fortune of 
having a system administrator install Perl on your system.</P
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-557"
></A
>For Perl 5.004, there are two different distributions for
Win32 systems. The first is Perl for Win32, <A
CLASS="indexterm"
NAME="AUTOID-560"
></A
>
which was developed by ActiveState Tool Corporation.  The second is
actually the standard Perl distribution&nbsp;- Perl 5.004 added support for
Win32 systems to the standard Perl distribution. In Perl 5.004, the
two versions are
largely compatible, with some of the Perl 5.004 code being based on
the ActiveState port. However, there are also some differences: using either
the ISAPI version of Perl or PerlScript with 5.004 requires the
ActiveState distribution. On the other hand, the Win32 ports of
<EM
CLASS="emphasis"
>mod_perl</EM
> or Perl/Tk require the &quot;native&quot; (or standard) version of 5.004.</P
><P
CLASS="para"
>With Perl 5.005, this scenario has changed, and the two versions have been 
merged. If you look on CPAN, you'll see that there still seem to be
two versions&nbsp;- the ActiveState distribution, now known as ActivePerl, and the 
standard distribution.  The difference is that they are now based on the
same source code.  Get ActivePerl if you want to install from a binary
distribution or get the standard distribution to build Perl from the
source code.</P
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="PNUT-CH-2-SECT-3.2.1"
>2.3.2.1 ActivePerl</A
></H4
><P
CLASS="para"
>The canonical source for the ActivePerl distribution
at the time of this writing is at <A
CLASS="systemitem.sitename"
HREF="../../../../../../../www.activestate.com/"
>http://www.activestate.com/</A
>.
Included in the distribution are:</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><EM
CLASS="emphasis"
>Perl for Win32</EM
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Binary for the core Perl distribution</P
></DD
><DT
CLASS="term"
><EM
CLASS="emphasis"
>Perl for ISAPI</EM
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>IIS plug-in for use with ISAPI-compliant web servers</P
></DD
><DT
CLASS="term"
><EM
CLASS="emphasis"
>PerlScript</EM
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>ActiveX scripting engine</P
></DD
><DT
CLASS="term"
><EM
CLASS="emphasis"
>Perl Package Manager</EM
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Manager for Perl modules and extensions</P
></DD
></DL
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-590"
></A
>The ActivePerl binary comes as a self-extracting executable that
uses the standard Win32 InstallShield setup wizard to guide you through
the installation process. By default, Perl
is installed into the directory <EM
CLASS="emphasis"
>C:\Perl\version</EM
>, where <EM
CLASS="emphasis"
>version</EM
>
is the current version number (e.g., 5.005).  Unless you choose to
customize your setup, the default installation
does not modify your registry other than to add an entry so you can
uninstall Perl.  For information on customizing your installation, see
the Win32 FAQ on the ActiveState web site. The installation also associates
the file extension <EM
CLASS="emphasis"
>.pl</EM
> with Perl and adds the directory into which
you installed Perl to your PATH environment variable.</P
></DIV
><DIV
CLASS="sect3"
><H4
CLASS="sect3"
><A
CLASS="title"
NAME="PNUT-CH-2-SECT-3.2.2"
>2.3.2.2 Standard Perl distribution</A
></H4
><P
CLASS="para"
>The standard Perl distribution is available from
CPAN, where you'll find binary and source distributions for Perl 5.004 for
both Windows NT and Windows 95, and the source distribution for Perl 5.005.
You can get the binary for Perl 5.004 as either a <EM
CLASS="emphasis"
>.tar.gz</EM
> file or
a <EM
CLASS="emphasis"
>.zip</EM
> file. The source<A
CLASS="indexterm"
NAME="AUTOID-600"
></A
><A
CLASS="indexterm"
NAME="AUTOID-602"
></A
><A
CLASS="indexterm"
NAME="AUTOID-604"
></A
>
distributions come as <EM
CLASS="emphasis"
>.tar.gz</EM
> files, which you can extract 
using a utility that supports <EM
CLASS="emphasis"
>gzip</EM
> files, <EM
CLASS="emphasis"
>tar</EM
>
files, and long filenames. Ports of both GNU <EM
CLASS="emphasis"
>gzip</EM
> and
<EM
CLASS="emphasis"
>tar</EM
> are available for the various Win32 platforms, or
you can use a graphical <EM
CLASS="emphasis"
>zip</EM
> archive program such as WinZip.
Make sure you
preserve the directory structure when you unpack the distribution.</P
><P
CLASS="para"
>To install from the source, you need the Microsoft
Visual C++ compiler, the Borland C++ compiler, or Mingw32 with either
EGCS or GCC.  You also need a <EM
CLASS="emphasis"
>make</EM
> utility. Microsoft Visual C++
comes with <EM
CLASS="emphasis"
>nmake</EM
>, or you can use <EM
CLASS="emphasis"
>dmake</EM
>.[<A
CLASS="footnote"
HREF="#AUTOID-616"
>1</A
>]
Once you have the distribution, start by reading the file
<EM
CLASS="emphasis"
>README.win32</EM
>. Next, edit the file <EM
CLASS="emphasis"
>Makefile</EM
> in 
the <EM
CLASS="emphasis"
>win32</EM
> subdirectory of the
distribution and make sure that you're happy with the values for the
install drive and directory.</P
><BLOCKQUOTE
CLASS="footnote"
><DIV
CLASS="footnote"
><P
CLASS="para"
><A
CLASS="footnote"
NAME="AUTOID-616"
>[1]</A
> See the file <EM
CLASS="emphasis"
>README.win32</EM
> for
information on obtaining Mingw32 and a Win32 <EM
CLASS="emphasis"
>dmake</EM
> port.</P
></DIV
></BLOCKQUOTE
><P
CLASS="para"
>Then execute the following commands from the <EM
CLASS="emphasis"
>win32</EM
> subdirectory of
the distribution to build, test, and install the distribution. This example
assumes that you have the proper environment variables (LIB, INCLUDE,
etc.) set up for your compiler and that <EM
CLASS="emphasis"
>nmake</EM
> is your make
program. </P
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>&gt; nmake         <I
CLASS="lineannotation"
>Build all of Perl</I
>
&gt; nmake test    <I
CLASS="lineannotation"
>Test your distribution</I
>
&gt; nmake install <I
CLASS="lineannotation"
>Install to target directory, as specified in the Makefile</I
></PRE
></BLOCKQUOTE
><P
CLASS="para"
>Assuming everything is now built correctly, you just need to add the <EM
CLASS="emphasis"
>bin</EM
>
subdirectory of the installation target directory to your path. For
example, if you installed the Perl distribution to <EM
CLASS="emphasis"
>C:\Perl</EM
>, you'll
want to add <EM
CLASS="emphasis"
>C:\Perl\bin</EM
> to your path.</P
><P
CLASS="para"
>Finally, restart your machine so the environment changes
take effect, and you're ready to go. </P
><P
CLASS="para"
>If you want to install the Perl 5.004 binary, you can do so 
either from the command line or from
Windows. To install from the command line, <EM
CLASS="emphasis"
>cd</EM
> to the top level of
the directory into which you unpacked Perl and type:</P
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>% install</PRE
></BLOCKQUOTE
><P
CLASS="para"
>From a window, click on the <EM
CLASS="emphasis"
>install.bat</EM
> icon. That should initiate
the installation, but if it doesn't, it will put you into the command
shell in the correct directory. At that point, type:</P
><BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>&gt; perl\bin\rl install.bat</PRE
></BLOCKQUOTE
><P
CLASS="para"
>The setup script then asks you a few questions such as where you want to
install Perl and whether you want to install HTML versions of the
documentation. It then confirms your responses and does the installation. When
it's done, it gives you some information about setting environment
variables and then terminates. At that point, you can start running
Perl scripts.</P
><P
CLASS="para"
>A word of warning: Windows 95 users can
expect significantly different functionality from their Perl
distribution than Windows NT users. For various reasons, some of the
Win32 modules don't work on Windows 95. The functionality required to
implement them may be missing on Windows 95, or bugs in Windows 95 may
prevent them from working correctly.<A
CLASS="indexterm"
NAME="AUTOID-643"
></A
><A
CLASS="indexterm"
NAME="AUTOID-644"
></A
></P
></DIV
></DIV
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch02_02.htm"
TITLE="2.2 How Is CPAN Organized?"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 2.2 How Is CPAN Organized?"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="Perl in a Nutshell"
><IMG
SRC="../gifs/txthome.gif"
ALT="Perl in a Nutshell"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch02_04.htm"
TITLE="2.4 Getting and Installing Modules"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 2.4 Getting and Installing Modules"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>2.2 How Is CPAN Organized?</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>2.4 Getting and Installing Modules</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><P
CLASS="nav"
><FONT
SIZE="-1"
></P
></DIV
<p><!-- LIBRARY NAV BAR --> <img src="../gifs/smnavbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links"><p> <a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font> </p> <map name="library-map"> <area shape="rect" coords="2,-1,79,99" href="../index.htm"><area shape="rect" coords="84,1,157,108" href="index.htm"><area shape="rect" coords="162,2,248,125" href="../prog/index.htm"><area shape="rect" coords="253,2,326,130" href="../advprog/index.htm"><area shape="rect" coords="332,1,407,112" href="../cookbook/index.htm"><area shape="rect" coords="414,2,523,103" href="../sysadmin/index.htm"></map> </BODY
></HTML
>
