<HTML
><HEAD
>
<TITLE>18.11 The Text Widget (Perl in a Nutshell)</TITLE>
<META
NAME="DC.title"
CONTENT="Perl in a Nutshell"><META
NAME="DC.creator"
CONTENT="Ellen Siever, Stephen Spainhour &amp; Nathan Patwardhan"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1999-07-02T01:58:56Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-286-7"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch18_01.htm"
TITLE="18. Perl/Tk"><LINK
REL="prev"
HREF="ch18_10.htm"
TITLE="18.10 The Listbox Widget"><LINK
REL="next"
HREF="ch18_12.htm"
TITLE="18.12 The Canvas Widget"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="Perl in a Nutshell"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,71"
HREF="index.htm"
ALT="Perl in a Nutshell"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="jobjects/fsearch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch18_10.htm"
TITLE="18.10 The Listbox Widget"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 18.10 The Listbox Widget"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
><A
CLASS="chapter"
REL="up"
HREF="ch18_01.htm"
TITLE="18. Perl/Tk"
>Chapter 18<BR>Perl/Tk</A
></FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch18_12.htm"
TITLE="18.12 The Canvas Widget"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 18.12 The Canvas Widget"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="PNUT-CH-18-SECT-11"
>18.11 The Text Widget</A
></H2
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="PNUT-CH-18-IX-TEXT-WIDGET-PERL-TK"
></A
><A
CLASS="indexterm"
NAME="PNUT-CH-18-IX-TK-EXTENSION-TO-PERL-WIDGETS-TEXT-WIDGET"
></A
><A
CLASS="indexterm"
NAME="PNUT-CH-18-IX-PERL-TK-WIDGETS-TEXT-WIDGET"
></A
>Create a text widget with the <CODE
CLASS="literal"
>Text</CODE
> method:  


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$parentwidget-&gt;Text ( <EM
CLASS="emphasis"
>options</EM
>)</PRE
></BLOCKQUOTE
>


The standard configuration options that apply to <CODE
CLASS="literal"
>Text</CODE
> are:
<CODE
CLASS="literal"
>-background</CODE
>,
<CODE
CLASS="literal"
>-bg</CODE
>,
<CODE
CLASS="literal"
>-borderwidth</CODE
>,
<CODE
CLASS="literal"
>-bd</CODE
>,
<CODE
CLASS="literal"
>-cursor</CODE
>,
<CODE
CLASS="literal"
>-exportselection</CODE
>,
<CODE
CLASS="literal"
>-font</CODE
>,
<CODE
CLASS="literal"
>-foreground</CODE
>,
<CODE
CLASS="literal"
>-fg</CODE
>,
<CODE
CLASS="literal"
>-height</CODE
>,
<CODE
CLASS="literal"
>-highlightbackground</CODE
>,
<CODE
CLASS="literal"
>-highlightcolor</CODE
>,
<CODE
CLASS="literal"
>-highlightthickness</CODE
>,
<CODE
CLASS="literal"
>-insertbackground</CODE
>,
<CODE
CLASS="literal"
>-insertborderwidth</CODE
>,
<CODE
CLASS="literal"
>-insertofftime</CODE
>,
<CODE
CLASS="literal"
>-insertontime</CODE
>,
<CODE
CLASS="literal"
>-insertwidth</CODE
>,
<CODE
CLASS="literal"
>-padx</CODE
>,
<CODE
CLASS="literal"
>-pady</CODE
>,
<CODE
CLASS="literal"
>-relief</CODE
>,
<CODE
CLASS="literal"
>-selectbackground</CODE
>,
<CODE
CLASS="literal"
>-selectborderwidth</CODE
>,
<CODE
CLASS="literal"
>-selectforeground</CODE
>,
<CODE
CLASS="literal"
>-state</CODE
>,
<CODE
CLASS="literal"
>-takefocus</CODE
>,
<CODE
CLASS="literal"
>-width</CODE
>,
<CODE
CLASS="literal"
>-xscrollcommand</CODE
>,
and
<CODE
CLASS="literal"
>-yscrollcommand</CODE
>.</P
><P
CLASS="para"
>Other options are:</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>-setgrid =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>boolean</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38007"
></A
>Turns on gridding for the text widget.  Default is 0 (off).</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-spacing1 =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>amount</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38016"
></A
>Defines the amount of space left on the top of a line of text
that starts on its own line.  Default is 0.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-spacing2 =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>amount</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Defines the amount of space left on the top of a line of text
after it has been automatically wrapped by the text widget.  
Default is 0.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-spacing3 =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>amount</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Defines the amount of space left after a line of text
that has been ended by &quot;<CODE
CLASS="literal"
>\n</CODE
>&quot;.  Default is 0.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-tabs =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>list</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38037"
></A
>Specifies a list of tab stops to use in the text widget.  
Default is undefined (no tab stops).  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-wrap =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>mode</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38045"
></A
>Sets the mode for determining automatic line wrapping.  Values 
are <CODE
CLASS="literal"
>&quot;none&quot;</CODE
> (no wrapping), <CODE
CLASS="literal"
>&quot;char&quot;</CODE
> (wrap at any character), or <CODE
CLASS="literal"
>&quot;word&quot;</CODE
>
(wrap at a word boundary).  Default is <CODE
CLASS="literal"
>&quot;char&quot;</CODE
>.</P
></DD
></DL
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="PNUT-CH-18-SECT-11.1"
>18.11.1 Text Indexes and Modifiers</A
></H3
><P
CLASS="para"
>In a Text widget, several indexes are defined to identify 
positions in the text widget, for use by the 
methods used for retrieving or manipulating text.  
These indexes are:</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="replaceable"
><I
>n</I
></CODE
>.<CODE
CLASS="replaceable"
><I
>m</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38061"
></A
>Numbers representing character <CODE
CLASS="replaceable"
><I
>m</I
></CODE
> on line <CODE
CLASS="replaceable"
><I
>n</I
></CODE
>.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>@</CODE
><CODE
CLASS="replaceable"
><I
>x,y</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The character closest to the <CODE
CLASS="replaceable"
><I
>x,y</I
></CODE
> coordinate.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>end</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38078"
></A
>The end of the text.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>insert</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38086"
></A
>The character after the insert cursor.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>current</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38094"
></A
>The position closest to the mouse cursor.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="replaceable"
><I
>mark</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Other marks defined for the widget (see discussion of text marks
later in this section).</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>sel.first</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38106"
></A
>The first selected character.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>sel.last</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The character just after the last selected character.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="replaceable"
><I
>tag</I
></CODE
>.<CODE
CLASS="literal"
>first</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The first character in the widget of the specified tag type.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="replaceable"
><I
>tag</I
></CODE
>.<CODE
CLASS="literal"
>last</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The character just after the last character of the specified tag
type.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="replaceable"
><I
>widget</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The location of an embedded widget.</P
></DD
></DL
><P
CLASS="para"
>There are also several modifiers to use with text indexes.
They are:</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>+</CODE
> <CODE
CLASS="replaceable"
><I
>n</I
></CODE
> lines</DT
><DT
CLASS="term"
><CODE
CLASS="literal"
>-</CODE
> <CODE
CLASS="replaceable"
><I
>n</I
></CODE
> lines</DT
><DD
CLASS="listitem"
><P
CLASS="para"
><CODE
CLASS="replaceable"
><I
>n</I
></CODE
> lines before or after the index.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>+</CODE
> <CODE
CLASS="replaceable"
><I
>n</I
></CODE
> chars</DT
><DT
CLASS="term"
><CODE
CLASS="literal"
>-</CODE
> <CODE
CLASS="replaceable"
><I
>n</I
></CODE
> chars</DT
><DD
CLASS="listitem"
><P
CLASS="para"
><CODE
CLASS="replaceable"
><I
>n</I
></CODE
> characters before or after the index.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>linestart</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38158"
></A
>The first character on the line.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>lineend</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The last character on the line (often a newline).</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>wordstart</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38170"
></A
>The first character in the word.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>wordend</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The character after the last character in the word.</P
></DD
></DL
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="PNUT-CH-18-SECT-11.2"
>18.11.2 Text Methods</A
></H3
><P
CLASS="para"
>In addition to <CODE
CLASS="literal"
>configure</CODE
> and <CODE
CLASS="literal"
>cget</CODE
>, the following methods
are defined for the Text widget.</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>bbox</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38188"
></A
>Returns the location and dimensions of the bounding box surrounding
the character at the specified index.
The returned list contains four numbers representing 
(respectively) the x coordinate of the upper-left corner,
the y coordinate of the upper-left corner, the width of the
text in pixels, and the height of the text in pixels.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>compare</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38196"
></A
>Performs a comparison on two indexes.  For example:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>if ($text-&gt;compare('insert', '==', 'end') { 
	# we're at the end of the text
}</PRE
></BLOCKQUOTE
>


The valid operators are <CODE
CLASS="literal"
>&lt;</CODE
>, <CODE
CLASS="literal"
>&lt;=</CODE
>, <CODE
CLASS="literal"
>==</CODE
>, <CODE
CLASS="literal"
>&gt;=</CODE
>, and <CODE
CLASS="literal"
>!=</CODE
>.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>debug</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38209"
></A
>Given a boolean, turns debugging on or off.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>delete</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38217"
></A
>Deletes text from the text widget.  
To delete everything:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;delete(0, 'end');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>dlineinfo</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38226"
></A
>Returns the location and dimensions of the bounding box surrounding
the line at the specified index.
The returned list contains five numbers representing 
(respectively) the x coordinate of the upper-left corner,
the y coordinate of the upper-left corner, the width of the
text in pixels, the height of the text in pixels, and the
baseline position of the line.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>get</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38233"
></A
>Returns the text located in the given index range.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>index</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38241"
></A
>Given a named index, returns its numeric equivalent in the
format <CODE
CLASS="replaceable"
><I
>line.char</I
></CODE
>.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>insert</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38250"
></A
>Inserts text into the widget at the specified location.
The second argument is the text to insert and the third
argument is either a single tag or a list reference containing 
the names of multiple tags to apply to the text.  Subsequent
arguments alternate between text and tags.  For example:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;insert('end', 'You want to do ', 'normal', 
                     'what?!', ['bold','red']);</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>search</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38259"
></A
>Returns the index containing a particular string in the text widget.  
For example, to search backwards for a case-insensitive hostname 
starting from the end of the text:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$hostindex = $text-&gt;search(-nocase, -backwards, $hostname, 'end');</PRE
></BLOCKQUOTE
>


The <CODE
CLASS="literal"
>search</CODE
> method takes several switches to modify the search,
each starting with &quot;-&quot;.
The first argument that does not start with &quot;-&quot; is taken to be
the search string.  
The switches are:

<DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>-forwards</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Search forwards starting at the specified index.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-backwards</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Search backwards starting at the specified index.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-exact</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Match the string exactly (default).</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-regexp</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Treat the pattern as a regular expression.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-nocase</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Ignore case.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-count =&gt;</CODE
> \<EM
CLASS="emphasis"
>$variable</EM
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Store the number of matches into the specified variable.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>--</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Interpret the next argument as the pattern.  (Useful when
the pattern starts with a &quot;-&quot;.)</P
></DD
></DL
>&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>see</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38305"
></A
>Scrolls the text so that the portion of the text containing the 
specified index is visible.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>window</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38313"
></A
>Embeds widgets within the Text widget.  The first argument
can be any of: <CODE
CLASS="literal"
>'create'</CODE
>, <CODE
CLASS="literal"
>'names'</CODE
>, <CODE
CLASS="literal"
>'cget'</CODE
>, and <CODE
CLASS="literal"
>'configure'</CODE
>.  
<DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>create</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Inserts an embedded widget at a specified index.  Each 
widget occupies one character in the text widget.
The widget must have already been created as a child of
the text widget.  
For example:

<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$button = $text-&gt;Label(-text =&gt; &quot;How ya doing?&quot;);
$text-&gt;window('create','end', -window =&gt; $button);</PRE
></BLOCKQUOTE
>

Here, the <CODE
CLASS="literal"
>-window</CODE
> option is used to identify the widget to
embed.

The list of options to <CODE
CLASS="literal"
>window ('create')</CODE
> is:

<DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>-align</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Determines the positioning within the line of text.  Values are <CODE
CLASS="literal"
>'baseline'</CODE
>, <CODE
CLASS="literal"
>'bottom'</CODE
>, <CODE
CLASS="literal"
>'top'</CODE
>, or <CODE
CLASS="literal"
>'center'</CODE
> (default).</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-padx</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Adds padding in the <CODE
CLASS="literal"
>x</CODE
> direction.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-pady</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Adds padding in the <CODE
CLASS="literal"
>y</CODE
> direction.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-window</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Identifies the widget to embed.</P
></DD
></DL
>&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>names</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Returns a list of widget types embedded into the text widget.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>cget</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Returns information on the widget at the specified index.

<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;window('cget',0);</PRE
></BLOCKQUOTE
>&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>configure</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Configures widget at the specified index.

<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;window('configure',0,-background =&gt; &quot;green&quot;);</PRE
></BLOCKQUOTE
>&#13;</P
></DD
></DL
>&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>xview</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38377"
></A
>Manipulates the text in view.  With no arguments, returns a
list of two numbers between 0 and 1, defining what portion of the
text is currently hidden on the left and right sides,
respectively.  With arguments, the function of <CODE
CLASS="literal"
>xview</CODE
>
changes:

<DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="replaceable"
><I
>index</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>If the first argument is an index, that position becomes 
the leftmost position in view.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>moveto</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Moves the specified fraction of the text to the left
of the visible portion.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>scroll</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Scrolls the text left or right by the specified number of
units (characters, in this context) or pages.  
Used primarily as a callback to a scrollbar; pressing on
an arrow would move by units (characters), and pressing on the
trough would move by pages.
The number is either 1 or -1, to move forwards or backwards,
respectively.</P
></DD
></DL
>&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>yview</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38402"
></A
>Manipulates the text in view.  With no arguments, returns a
list of two numbers between 0 and 1, defining what portion of the
text is currently hidden on the top and bottom,
respectively.  With arguments, the function of <CODE
CLASS="literal"
>yview</CODE
>
changes:

<DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="replaceable"
><I
>index</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>If the first argument is an index, that position becomes 
the topmost position in view.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>moveto</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Moves the specified fraction of the text to the top
of the visible portion.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>scroll</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Scrolls the text up or down by the specified number of
units (lines, in this context) or pages.  
Used primarily as a callback to a scrollbar; 
pressing on an arrow would move by units (lines), 
and pressing on the trough would move by pages.
The number is either 1 or -1, to move forwards or backwards,
respectively.</P
></DD
></DL
>&#13;</P
></DD
></DL
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="PNUT-CH-18-SECT-11.3"
>18.11.3 Tags</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38425"
></A
>You can associate a distinct set of format properties to a 
portion of the text using <EM
CLASS="emphasis"
>tags</EM
>.
A tag is defined with the <CODE
CLASS="literal"
>tagConfigure</CODE
> 
method, and text is associated with a tag via an option to 
the <CODE
CLASS="literal"
>insert</CODE
> or <CODE
CLASS="literal"
>tagAdd</CODE
> method.  For example:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;Text-&gt;pack;
$text-&gt;tagConfigure('bold', -font =&gt;
     '-*-Courier-Medium-B-Normal-*-120-*-*-*-*-*-*&quot;);
$text-&gt;insert('end', &quot;Normal text\n&quot;);
$text-&gt;insert('end', &quot;Bold text\n&quot;, 'bold');</PRE
></BLOCKQUOTE
>


There are several methods defined for manipulating text tags.
They are:</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>tagAdd</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38438"
></A
>Adds a tag to the text within the specified index range.  For
example, to assign the &quot;bold&quot; tag defined above to the current
selection:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;tagAdd('bold','sel.first','sel.last');</PRE
></BLOCKQUOTE
>


You can supply multiple ranges as arguments to <CODE
CLASS="literal"
>tagAdd</CODE
>.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>tagBind</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38447"
></A
>Executes a callback when a specified event happens on the tagged
text.  For example:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;tagBind('goto_end', &quot;&lt;Button-1&gt;&quot;, sub {shift-&gt;see('end');} );</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>tagConfigure</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38455"
></A
>Creates or changes settings for a text tag, for example:  


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;tagConfigure('link', -foreground =&gt; 'red');</PRE
></BLOCKQUOTE
>


Options for configuring text tags are:

<DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>-background =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>color</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The color to use behind the text.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-bgstipple =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>bitmap</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>A pattern to draw behind the text.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-borderwidth =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>amount</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The width of the edge drawn around the text. </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-fgstipple =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>bitmap</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>A pattern used to draw the text.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-font =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>fontname</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The font used for the text.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-foreground =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>color</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The color of the text.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-justify =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>position</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The justification of the text (any of <CODE
CLASS="literal"
>'left'</CODE
>, <CODE
CLASS="literal"
>'right'</CODE
>, and <CODE
CLASS="literal"
>'center'</CODE
>).  The default is <CODE
CLASS="literal"
>'left'</CODE
>.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-lmargin1 =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>amount</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The indentation for the first line of a paragraph.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-lmargin2 =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>amount</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The indentation for subsequent lines of a paragraph (for hanging
indents).</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-offset =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>amount</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The amount the text is raised or lowered from the baseline (for
subscripts and superscripts).</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-overstrike =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>boolean</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Draws the text with a line through it.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-relief =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>type</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The type of edges drawn around the text.  Values for
<CODE
CLASS="replaceable"
><I
>type</I
></CODE
> can
be <CODE
CLASS="literal"
>'flat'</CODE
>, <CODE
CLASS="literal"
>'groove'</CODE
>, <CODE
CLASS="literal"
>'raised'</CODE
>, <CODE
CLASS="literal"
>'ridge'</CODE
>, and <CODE
CLASS="literal"
>'sunken'</CODE
>.  Default is <CODE
CLASS="literal"
>'flat'</CODE
>.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-rmargin =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>amount</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The right margin.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-spacing1 =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>amount</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The amount of space left on the top of a line of text
that starts on its own line.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-spacing2 =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>amount</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The amount of space left on the top of a line of text
after it has been automatically wrapped by the text widget.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-spacing3 =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>amount</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>The amount of space left after a line of text
that has been ended by &quot;\n&quot;.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-tabs =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>list</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>A list of tab stops to use in the text widget.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-underline =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>boolean</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Whether to underline the text.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-wrap =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>mode</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Sets the mode for determining automatic line wrapping.  Values 
are <CODE
CLASS="literal"
>&quot;none&quot;</CODE
> (no wrapping), <CODE
CLASS="literal"
>&quot;char&quot;</CODE
> (wrap at any character), or <CODE
CLASS="literal"
>&quot;word&quot;</CODE
>
(wrap at a word boundary).  </P
></DD
></DL
>&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>tagCget</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38592"
></A
>Returns configuration settings for a tag.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>tagDelete</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38599"
></A
>Deletes the specified tag(s).</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>tagRemove</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38606"
></A
>Removes the tags from the text in the specified index range.  
(The tag itself remains defined, but is no longer applied 
to that text.)</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>tagRaise</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38613"
></A
>Increases priority for a specified tag.  With only one argument, 
the tag takes highest priority over all others; with a second
argument of another tag, the tag's priority is just higher than
the second tag.  For example:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;tagRaise('bold','italic');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>tagLower</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38621"
></A
>Decreases priority for a specified tag.  With only one argument, 
the tag takes lowest priority to all others; with a second
argument of another tag, the tag's priority is just lower than
the second tag.  For example:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;tagLower('italic','bold');</PRE
></BLOCKQUOTE
>


(The outcome of this code is effectively identical to that of the previous example.)</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>tagNames</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38629"
></A
>Returns the names of all tags applying to the specified index.
With no index specified, returns all tags defined for the text widget,
regardless of whether they have been applied.


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>@defined_tags = $text-&gt;tagNames;</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>tagRanges</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38637"
></A
>Returns a list of index ranges to which the specified tag is defined.
The returned list contains pairs of starting and ending indexes
for the ranges.  


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>@bold_indexes = $text-&gt;tagRanges('bold');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>tagNextrange</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38645"
></A
>Given a tag name and an index, returns the next index range 
to which the specified tag is defined.


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>@next_bold = $text-&gt;tagRanges('bold', 'insert');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
></DL
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="PNUT-CH-18-SECT-11.4"
>18.11.4 Marks</A
></H3
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38651"
></A
>A <EM
CLASS="emphasis"
>mark</EM
> refers to a particular position in between characters in
a text widget.  
Once you create a mark, you can use it as an index.  The gravity of the mark
affects which side the text is inserted. <CODE
CLASS="literal"
>&quot;Right&quot;</CODE
> gravity is the
default, in which case the text is inserted to the right of the mark.</P
><P
CLASS="para"
>The two marks that are automatically set are <CODE
CLASS="literal"
>&quot;insert&quot;</CODE
> and <CODE
CLASS="literal"
>&quot;current&quot;</CODE
>.
The <CODE
CLASS="literal"
>&quot;insert&quot;</CODE
> mark refers to the position
of the insert cursor.  The <CODE
CLASS="literal"
>&quot;current&quot;</CODE
> mark is the position closest to
the mouse cursor.</P
><P
CLASS="para"
>The following methods are defined for marking:</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>markGravity</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38667"
></A
>Sets the gravity of a mark.  For example:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;markGravity('insert', 'left');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>markNames</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38675"
></A
>Returns a list of all marks defined for the text widget.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>markSet</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38682"
></A
>Creates a mark at a specified index.


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;markSet('saved', 'insert');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>markUnset</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-38690"
></A
>Deletes mark(s) from the text widget.


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$text-&gt;markUnset('saved');</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
></DL
><P
CLASS="para"
>Note that you cannot delete the <CODE
CLASS="literal"
>&quot;insert&quot;</CODE
> or <CODE
CLASS="literal"
>&quot;current&quot;</CODE
> marks.</P
><A
CLASS="indexterm"
NAME="AUTOID-38696"
></A
><A
CLASS="indexterm"
NAME="AUTOID-38697"
></A
><A
CLASS="indexterm"
NAME="AUTOID-38698"
></A
></DIV
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch18_10.htm"
TITLE="18.10 The Listbox Widget"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 18.10 The Listbox Widget"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="Perl in a Nutshell"
><IMG
SRC="../gifs/txthome.gif"
ALT="Perl in a Nutshell"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch18_12.htm"
TITLE="18.12 The Canvas Widget"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 18.12 The Canvas Widget"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>18.10 The Listbox Widget</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>18.12 The Canvas Widget</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><P
CLASS="nav"
><FONT
SIZE="-1"
></P
></DIV
<p><!-- LIBRARY NAV BAR --> <img src="../gifs/smnavbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links"><p> <a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font> </p> <map name="library-map"> <area shape="rect" coords="2,-1,79,99" href="../index.htm"><area shape="rect" coords="84,1,157,108" href="index.htm"><area shape="rect" coords="162,2,248,125" href="../prog/index.htm"><area shape="rect" coords="253,2,326,130" href="../advprog/index.htm"><area shape="rect" coords="332,1,407,112" href="../cookbook/index.htm"><area shape="rect" coords="414,2,523,103" href="../sysadmin/index.htm"></map> </BODY
></HTML
>
