<HTML
><HEAD
>
<TITLE>18.14 The Menubutton Widget (Perl in a Nutshell)</TITLE>
<META
NAME="DC.title"
CONTENT="Perl in a Nutshell"><META
NAME="DC.creator"
CONTENT="Ellen Siever, Stephen Spainhour &amp; Nathan Patwardhan"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1999-07-02T01:59:03Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-286-7"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="ch18_01.htm"
TITLE="18. Perl/Tk"><LINK
REL="prev"
HREF="ch18_13.htm"
TITLE="18.13 The Scale Widget"><LINK
REL="next"
HREF="ch18_15.htm"
TITLE="18.15 The Menu Widget"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="Perl in a Nutshell"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,71"
HREF="index.htm"
ALT="Perl in a Nutshell"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="jobjects/fsearch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch18_13.htm"
TITLE="18.13 The Scale Widget"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 18.13 The Scale Widget"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
><A
CLASS="chapter"
REL="up"
HREF="ch18_01.htm"
TITLE="18. Perl/Tk"
>Chapter 18<BR>Perl/Tk</A
></FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch18_15.htm"
TITLE="18.15 The Menu Widget"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 18.15 The Menu Widget"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="PNUT-CH-18-SECT-14"
>18.14 The Menubutton Widget</A
></H2
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-39871"
></A
><A
CLASS="indexterm"
NAME="AUTOID-39873"
></A
><A
CLASS="indexterm"
NAME="AUTOID-39877"
></A
>Create a menubutton with the <CODE
CLASS="literal"
>Menubutton</CODE
> method.
For example:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$mainwindow-&gt;Menubutton(-text =&gt; &quot;File&quot;, 
	-menuitems =&gt; [ [ 'command' =&gt; &quot;New&quot;,
			  &quot;-command&quot; =&gt; \&amp;newfile,
			  &quot;-underline&quot; =&gt; 0 ],
			[ 'command' =&gt; &quot;Open&quot;,
			  &quot;-command&quot; =&gt; \&amp;openfile,
			  &quot;-underline&quot; =&gt; 0 ],
			&quot;-&quot;,
			[ 'command' =&gt; &quot;Save&quot;,
			  &quot;-command&quot; =&gt; \&amp;savefile,
			  &quot;-underline&quot; =&gt; 0 ],
			[ 'command' =&gt; &quot;SaveAs&quot;,
			  &quot;-command&quot; =&gt; \&amp;saveasfile,
			  &quot;-underline&quot; =&gt; 4 ] ] );</PRE
></BLOCKQUOTE
>

<A
CLASS="indexterm"
NAME="AUTOID-39883"
></A
>
The <CODE
CLASS="literal"
>-menuitems</CODE
> option takes a list of lists describing 
the menu items.  For each menu item, an embedded anonymous list 
describes the type of menu item, the label to use, and the
action to take when it is selected along with any other options
desired to configure the menu item.  In this example, each
of the menu items is the <CODE
CLASS="literal"
>'command'</CODE
> type, and we use the <CODE
CLASS="literal"
>-command</CODE
>
option for each item to point to the callback to execute when the
menu item is selected.  We also use the <CODE
CLASS="literal"
>-underline</CODE
> option to
enable the user to select a menu item using keystrokes.
(The <CODE
CLASS="literal"
>\[<CODE
CLASS="replaceable"
><I
>quotedbl</I
></CODE
>]-&quot;</CODE
> represents a separator
between menu items.)</P
><P
CLASS="para"
>In addition to <CODE
CLASS="literal"
>'command'</CODE
>, other types of menus are:</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>'cascade'</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Embeds a cascade menu.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>'checkbutton'</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Treats the menu item as a checkbutton.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>'command'</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Executes a callback.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>'radiobutton'</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
>Treats the menu item as a radiobutton.</P
></DD
></DL
><P
CLASS="para"
>You can configure both the menu itself and the individual menu
items.  The configuration options that apply to <CODE
CLASS="literal"
>Menubutton</CODE
> are:
<CODE
CLASS="literal"
>-activebackground</CODE
>,
<CODE
CLASS="literal"
>-activeforeground</CODE
>,
<CODE
CLASS="literal"
>-anchor</CODE
>,
<CODE
CLASS="literal"
>-background</CODE
>,
<CODE
CLASS="literal"
>-bg</CODE
>,
<CODE
CLASS="literal"
>-bitmap</CODE
>,
<CODE
CLASS="literal"
>-borderwidth</CODE
>,
<CODE
CLASS="literal"
>-bw</CODE
>,
<CODE
CLASS="literal"
>-cursor</CODE
>,
<CODE
CLASS="literal"
>-disabledforeground</CODE
>,
<CODE
CLASS="literal"
>-font</CODE
>,
<CODE
CLASS="literal"
>-foreground</CODE
>,
<CODE
CLASS="literal"
>-fg</CODE
>,
<CODE
CLASS="literal"
>-height</CODE
>,
<CODE
CLASS="literal"
>-highlightbackground</CODE
>,
<CODE
CLASS="literal"
>-highlightcolor</CODE
>,
<CODE
CLASS="literal"
>-highlightthickness</CODE
>,
<CODE
CLASS="literal"
>-image</CODE
>,
<CODE
CLASS="literal"
>-justify</CODE
>,
<CODE
CLASS="literal"
>-padx</CODE
>,
<CODE
CLASS="literal"
>-pady</CODE
>,
<CODE
CLASS="literal"
>-relief</CODE
>,
<CODE
CLASS="literal"
>-state</CODE
>,
<CODE
CLASS="literal"
>-takefocus</CODE
>,
<CODE
CLASS="literal"
>-underline</CODE
>,
<CODE
CLASS="literal"
>-width</CODE
>,
and
<CODE
CLASS="literal"
>-wraplength</CODE
>.</P
><P
CLASS="para"
>Other <CODE
CLASS="literal"
>Menubutton</CODE
> options are:</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>-indicatoron =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>boolean</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-39953"
></A
>Determines whether or not to display an indicator.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-menu =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>$menu</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-39962"
></A
>Display the menu associated with <CODE
CLASS="replaceable"
><I
>$menu</I
></CODE
>.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-menuitems =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>list</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-39972"
></A
>Specifies items to create in the menu as a list
of lists.  See the description at the beginning of this section.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-tearoff =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>boolean</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-39981"
></A
>Whether or not to allow the menu to be &quot;torn off.&quot; Default is 1.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-text =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>string</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-39990"
></A
>Specifies the text to display as a label for the button.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-textvariable =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>\$variable</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-39999"
></A
>Points to the variable containing text to be displayed in the menubutton. Button text will change as <CODE
CLASS="replaceable"
><I
>$variable</I
></CODE
> does.</P
></DD
></DL
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="PNUT-CH-18-SECT-14.1"
>18.14.1 Menu Item Options</A
></H3
><P
CLASS="para"
>In addition to the menu itself, each individual menu item 
can be configured.  The widget configuration options that
apply to menu items are:
<CODE
CLASS="literal"
>-activebackground</CODE
>,
<CODE
CLASS="literal"
>-background</CODE
>,
<CODE
CLASS="literal"
>-bg</CODE
>,
<CODE
CLASS="literal"
>-bitmap</CODE
>,
<CODE
CLASS="literal"
>-font</CODE
>,
<CODE
CLASS="literal"
>-foreground</CODE
>,
<CODE
CLASS="literal"
>-fg</CODE
>,
<CODE
CLASS="literal"
>-image</CODE
>,
<CODE
CLASS="literal"
>-state</CODE
>,
and 
<CODE
CLASS="literal"
>-underline</CODE
>.
Other options are:</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>-accelerator</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40022"
></A
>Displays an accelerator key sequence for the menu item.  The key 
sequence must be independently defined with a <CODE
CLASS="literal"
>bind</CODE
>.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-command =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>callback</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40031"
></A
>Pointer to a function that will be called when the menu item is
selected.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-indicatoron =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>boolean</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40040"
></A
>Determines whether or not to display an indicator.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-label =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>string</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40049"
></A
>The string to use as a label for the menu item.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-menu =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>$submenu</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40058"
></A
>For a cascade menu, points to the menu to embed.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-offvalue =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>newvalue</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40067"
></A
>For a checkbutton,
specifies the value used when the checkbutton is &quot;off.&quot; </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-onvalue =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>newvalue</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40076"
></A
>For a checkbutton,
specifies the value used when the checkbutton is &quot;on.&quot; </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-selectcolor =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>color</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40085"
></A
>For a checkbutton or radiobutton,
color of the indicator when &quot;on.&quot;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-selectimage =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>imgptr</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40094"
></A
>For a checkbutton or radiobutton,
defines the image to be displayed instead of text when 
the radiobutton is &quot;on&quot;.  Ignored if <CODE
CLASS="literal"
>-image</CODE
> is not used.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-value =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>value</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40104"
></A
>For a radiobutton, 
sets <CODE
CLASS="replaceable"
><I
>$variable</I
></CODE
> to the specified value when the radiobutton is selected
(default is 1).</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>-variable =&gt;</CODE
> <CODE
CLASS="replaceable"
><I
>\$variable</I
></CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40114"
></A
>Associates the value of the menu item to the specified variable.</P
></DD
></DL
></DIV
><DIV
CLASS="sect2"
><H3
CLASS="sect2"
><A
CLASS="title"
NAME="PNUT-CH-18-SECT-14.2"
>18.14.2 Menubutton Methods</A
></H3
><P
CLASS="para"
>In addition to <CODE
CLASS="literal"
>configure</CODE
> and <CODE
CLASS="literal"
>cget</CODE
>, the following
methods are defined for Menubutton widgets:</P
><DL
CLASS="variablelist"
><DT
CLASS="term"
><CODE
CLASS="literal"
>AddItems</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40128"
></A
>Adds menu items to the end of the menu.  The arguments to <CODE
CLASS="literal"
>AddItems</CODE
>
are lists configuring each menu item, similar to the lists defined
with the <CODE
CLASS="literal"
>-menuitem</CODE
> option.  


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$menubutton-&gt;AddItems([&quot;command&quot; =&gt; &quot;Print&quot;,
		       &quot;-command&quot; =&gt; \&amp;printscreen ],
		      [&quot;command&quot; =&gt; &quot;Exit&quot;,
		       &quot;-command&quot; =&gt; \&amp;exitclean ]);</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>command</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40138"
></A
>Adds a command item to the end of the menu.  The above example
could have read:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$menubutton-&gt;command(-label =&gt; &quot;Print&quot;, -command =&gt; \&amp;printscreen);
$menubutton-&gt;command(-label =&gt; &quot;Exit&quot;, -command =&gt; \&amp;exitclean);</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>checkbutton</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40147"
></A
>Adds a checkbutton item to the end of the menu.  


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$menubutton-&gt;checkbutton(-label =&gt; &quot;Show Toolbar&quot;, 
           [-variable =&gt; \$toolbar&quot;);</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>radiobutton</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40155"
></A
>Adds a radiobutton item to the end of the menu.  


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>$menubutton-&gt;radiobutton(-label =&gt; &quot;Red&quot;, -variable =&gt; \$color&quot;);
$menubutton-&gt;radiobutton(-label =&gt; &quot;Blue&quot;, -variable =&gt; \$color&quot;);</PRE
></BLOCKQUOTE
>
&#13;</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>separator</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40163"
></A
>Adds a separator line to the end of a menu.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>cascade</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40170"
></A
>Adds a cascade item to the end of the menu.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>menu</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40177"
></A
>Returns a reference to the menu.  </P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>entrycget</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40184"
></A
>Gets information on a menu entry given an index and option to
query.</P
></DD
><DT
CLASS="term"
><CODE
CLASS="literal"
>entryconfigure</CODE
></DT
><DD
CLASS="listitem"
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="AUTOID-40192"
></A
>Changes information on a specific menu item given an index.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch18_13.htm"
TITLE="18.13 The Scale Widget"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 18.13 The Scale Widget"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="Perl in a Nutshell"
><IMG
SRC="../gifs/txthome.gif"
ALT="Perl in a Nutshell"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch18_15.htm"
TITLE="18.15 The Menu Widget"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 18.15 The Menu Widget"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>18.13 The Scale Widget</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>18.15 The Menu Widget</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><P
CLASS="nav"
><FONT
SIZE="-1"
></P
></DIV
<p><!-- LIBRARY NAV BAR --> <img src="../gifs/smnavbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links"><p> <a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font> </p> <map name="library-map"> <area shape="rect" coords="2,-1,79,99" href="../index.htm"><area shape="rect" coords="84,1,157,108" href="index.htm"><area shape="rect" coords="162,2,248,125" href="../prog/index.htm"><area shape="rect" coords="253,2,326,130" href="../advprog/index.htm"><area shape="rect" coords="332,1,407,112" href="../cookbook/index.htm"><area shape="rect" coords="414,2,523,103" href="../sysadmin/index.htm"></map> </BODY
></HTML
>
