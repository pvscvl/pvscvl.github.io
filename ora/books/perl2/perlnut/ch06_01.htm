<HTML
><HEAD
>
<TITLE>Debugging (Perl in a Nutshell)</TITLE>
<META
NAME="DC.title"
CONTENT="Perl in a Nutshell"><META
NAME="DC.creator"
CONTENT="Ellen Siever, Stephen Spainhour &amp; Nathan Patwardhan"><META
NAME="DC.publisher"
CONTENT="O'Reilly &amp; Associates, Inc."><META
NAME="DC.date"
CONTENT="1999-07-02T01:40:01Z"><META
NAME="DC.type"
CONTENT="Text.Monograph"><META
NAME="DC.format"
CONTENT="text/html"
SCHEME="MIME"><META
NAME="DC.source"
CONTENT="1-56592-286-7"
SCHEME="ISBN"><META
NAME="DC.language"
CONTENT="en-US"><META
NAME="generator"
CONTENT="Jade 1.1/O'Reilly DocBook 3.0 to HTML 4.0"><LINK
REV="made"
HREF="mailto:online-books@oreilly.com"
TITLE="Online Books Comments"><LINK
REL="up"
HREF="part02.htm"
TITLE="II. Language Basics"><LINK
REL="prev"
HREF="ch05_02.htm"
TITLE="5.2 Perl Functions in Alphabetical Order"><LINK
REL="next"
HREF="ch06_02.htm"
TITLE="6.2 Debugger Commands"></HEAD
><BODY
BGCOLOR="#FFFFFF"
TEXT="#000000"
><DIV
CLASS="htmlnav"
><H1
><IMG
SRC="gifs/smbanner.gif"
ALT="Perl in a Nutshell"
USEMAP="#srchmap"
BORDER="0"></H1
><MAP
NAME="srchmap"
><AREA
SHAPE="RECT"
COORDS="0,0,466,71"
HREF="index.htm"
ALT="Perl in a Nutshell"><AREA
SHAPE="RECT"
COORDS="467,0,514,18"
HREF="jobjects/fsearch.htm"
ALT="Search this book"></MAP
><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch05_02.htm"
TITLE="5.2 Perl Functions in Alphabetical Order"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 5.2 Perl Functions in Alphabetical Order"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><B
><FONT
FACE="ARIEL,HELVETICA,HELV,SANSERIF"
SIZE="-1"
>Chapter 6</FONT
></B
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch06_02.htm"
TITLE="6.2 Debugger Commands"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 6.2 Debugger Commands"
BORDER="0"></A
></TD
></TR
></TABLE
>&nbsp;<HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"></DIV
><DIV
CLASS="CHAPTER"
><H1
CLASS="chapter"
><A
CLASS="title"
NAME="PNUT-CH-6"
>6. Debugging</A
></H1
><DIV
CLASS="htmltoc"
><P
><B
>Contents:</B
><BR><A
CLASS="SECT1"
HREF="#PNUT-CH-6-SECT-1"
TITLE="6.1 The Perl Debugger"
>The Perl Debugger</A
><BR><A
CLASS="SECT1"
HREF="ch06_02.htm"
TITLE="6.2 Debugger Commands"
>Debugger Commands</A
><BR><A
CLASS="SECT1"
HREF="ch06_03.htm"
TITLE="6.3 Using the Debugger"
>Using the Debugger</A
><BR><A
CLASS="SECT1"
HREF="ch06_04.htm"
TITLE="6.4 Customizing the Debugger"
>Customizing the Debugger</A
><BR><A
CLASS="SECT1"
HREF="ch06_05.htm"
TITLE="6.5 The Perl Profiler"
>The Perl Profiler</A
><BR><A
CLASS="SECT1"
HREF="ch06_06.htm"
TITLE="6.6 The perlbug Program"
>The perlbug Program</A
></P
><P
></P
></DIV
><P
CLASS="para"
></P
><P
CLASS="para"
>Of course everyone writes perfect code on the first try, but on those
rare occasions when something goes wrong and you're having trouble with your
Perl script, there are several things you can try:<A
CLASS="indexterm"
NAME="PNUT-CH-6-IX-DEBUGGING"
></A
></P
><UL
CLASS="itemizedlist"
><LI
CLASS="listitem"
><P
CLASS="para"
>Run the script with the <EM
CLASS="emphasis"
>-w</EM
> switch, which
prints warnings about possible problems in your code.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Use the Perl debugger.</P
></LI
><LI
CLASS="listitem"
><P
CLASS="para"
>Use another debugger, or a profiler such as the Devel::DProf module.</P
></LI
></UL
><P
CLASS="para"
>The major focus of this chapter is the Perl debugger, which provides
an interactive Perl environment. The chapter also describes the use of
the DProf module and the <EM
CLASS="emphasis"
>dprofpp</EM
> program that comes with it; together they 
can provide you with a profile of
your Perl script.  If you've ever used any debugger, and you understand
concepts such as breakpoints and backtraces, you'll have no trouble
learning to use the Perl 
debugger.  Even if you haven't used another debugger,
the command descriptions and some experimenting should get you going.</P
><DIV
CLASS="sect1"
><H2
CLASS="sect1"
><A
CLASS="title"
NAME="PNUT-CH-6-SECT-1"
>6.1 The Perl Debugger</A
></H2
><P
CLASS="para"
><A
CLASS="indexterm"
NAME="PNUT-CH-6-IX-DEBUGGING-PERL-DEBUGGER"
></A
><A
CLASS="indexterm"
NAME="PNUT-CH-6-IX-PERL-DEBUGGER"
></A
><A
CLASS="indexterm"
NAME="AUTOID-11087"
></A
>To run your script under the Perl source debugger, invoke Perl with 
the <EM
CLASS="emphasis"
>-d</EM
> switch:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>perl -d myprogram</PRE
></BLOCKQUOTE
>


This works like an
interactive Perl environment, prompting for debugger
commands that let you examine source code, set breakpoints,
get stack backtraces, change the values of variables, etc.
If your program takes any switches or arguments, you must include them
in the command:


<BLOCKQUOTE
CLASS="screen"
><PRE
CLASS="screen"
>perl -d myprogram myinput</PRE
></BLOCKQUOTE
>


In Perl, the debugger is not a separate program as it
is in the typical compiled environment.  Instead,
the <EM
CLASS="emphasis"
>-d</EM
> flag tells the compiler to insert source information
into the parse trees it's about to hand off to the
interpreter.  That means your code must first compile
correctly for the debugger to work on it&nbsp;- the debugger won't run
until you have fixed all compiler errors.</P
><P
CLASS="para"
>After your code has compiled, and the debugger has started up, the
program halts right before the first runtime executable statement (but
see <A
CLASS="xref"
HREF="ch06_03.htm"
TITLE="Using the Debugger"
>Section 6.3, "Using the Debugger</A
>&quot; below regarding compile
time statements) and waits for you to enter a debugger command.
Whenever the debugger halts and shows you a line of code, it always
displays the line it's about to execute, rather than the one it
has just executed.</P
><P
CLASS="para"
>Any command not recognized by the debugger is directly
executed as Perl code in the current package.
In order to be recognized by the debugger, the command must start
at the beginning of the line, otherwise the debugger assumes it's
for Perl.</P
></DIV
></DIV
><DIV
CLASS="htmlnav"
><P
></P
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><TABLE
WIDTH="515"
BORDER="0"
CELLSPACING="0"
CELLPADDING="0"
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch05_02.htm"
TITLE="5.2 Perl Functions in Alphabetical Order"
><IMG
SRC="../gifs/txtpreva.gif"
ALT="Previous: 5.2 Perl Functions in Alphabetical Order"
BORDER="0"></A
></TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="book"
HREF="index.htm"
TITLE="Perl in a Nutshell"
><IMG
SRC="../gifs/txthome.gif"
ALT="Perl in a Nutshell"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
><A
CLASS="SECT1"
HREF="ch06_02.htm"
TITLE="6.2 Debugger Commands"
><IMG
SRC="../gifs/txtnexta.gif"
ALT="Next: 6.2 Debugger Commands"
BORDER="0"></A
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="172"
>5.2 Perl Functions in Alphabetical Order</TD
><TD
ALIGN="CENTER"
VALIGN="TOP"
WIDTH="171"
><A
CLASS="index"
HREF="index/idx_0.htm"
TITLE="Book Index"
><IMG
SRC="../gifs/index.gif"
ALT="Book Index"
BORDER="0"></A
></TD
><TD
ALIGN="RIGHT"
VALIGN="TOP"
WIDTH="172"
>6.2 Debugger Commands</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="515"
TITLE="footer"><P
CLASS="nav"
><FONT
SIZE="-1"
></P
></DIV
<p><!-- LIBRARY NAV BAR --> <img src="../gifs/smnavbar.gif" usemap="#library-map" border="0" alt="Library Navigation Links"><p> <a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font> </p> <map name="library-map"> <area shape="rect" coords="2,-1,79,99" href="../index.htm"><area shape="rect" coords="84,1,157,108" href="index.htm"><area shape="rect" coords="162,2,248,125" href="../prog/index.htm"><area shape="rect" coords="253,2,326,130" href="../advprog/index.htm"><area shape="rect" coords="332,1,407,112" href="../cookbook/index.htm"><area shape="rect" coords="414,2,523,103" href="../sysadmin/index.htm"></map> </BODY
></HTML
>
