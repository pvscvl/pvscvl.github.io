<?label 14.4. A Guest Book Servlet
?><html><head><title>A Guest Book Servlet
 (MySQL &amp; mSQL)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Randy Jay Yarger, George Reese and Tim King" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="1565924347L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="MySQL &amp; mSQL" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="MySQL and mSQL" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch14_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">MySQL &amp; mSQL</a></td><td width="172" valign="top" align="right"><a href="part3.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<a name="INDEX-890" /><a name="INDEX-891" /><h2 class="sect1">14.4. A Guest Book Servlet
</h2>





<p>You have probably heard quite a bit of talk about Java applets. We
discussed in <a href="ch08_01.htm">Chapter 8, "Database Application Architectures"</a>, however, how doing
database access in the client is a really bad idea. We have packaged
with the examples in this book an example that contains a real
application that uses the JDBC knowledge we have discussed in this
chapter to create a server-side Java class known as a servlet. While
servlets are not in themselves part of the three-tier solution we
discussed in <a href="ch08_01.htm">Chapter 8, "Database Application Architectures"</a>, this example should
provide a useful example of how JDBC can be used. The servlet in
question is a web page that lets people visiting your site enter
comments about it. Others can then view these comments. For this
example, all you need to know about servlets is that the
<tt class="literal">doPost()</tt>
<a name="INDEX-892" /> method handles HTTP
<tt class="literal">POST</tt> events and <tt class="literal">doGet()</tt> handles
HTTP <tt class="literal">GET</tt> events.</p>





<p>There are two pieces to this servlet: the get and the post. In both
pieces, a call is made to
<tt class="literal">printComments()</tt>
<a name="INDEX-893" /> to show the comments in the guest
book. In this method, we encounter something we have not yet seen in
the previous simple examples, a call to
<tt class="literal">wasNull()</tt>
<a name="INDEX-894" /> after each column value is retrieved. As
its name implies, <tt class="literal">wasNull()</tt> returns
<tt class="literal">true</tt> if the last value fetched was SQL
<tt class="literal">NULL</tt>. For calls returning a Java object, the value
will generally be <tt class="literal">NULL</tt> when a SQL
<tt class="literal">NULL</tt> is read from the database. In these
instances, <tt class="literal">wasNull()</tt> may appear somewhat
redundant. For primitive datatypes, however, a valid value may be
returned on a fetch. The <tt class="literal">wasNull()</tt> method gives
you a way to see if that value was <tt class="literal">NULL</tt> in the
database. For example, a <tt class="literal">NULL</tt> for an integer
column will return
when you call <tt class="literal">getInt()</tt>. In order to know whether
or not the column held
or <tt class="literal">NULL</tt>, you must call
<tt class="literal">wasNull()</tt>.</p>


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch14_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="part3.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">14.3. Dynamic Database Access
</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">III. Reference</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="../lnut/index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>