<?label 4.3. Running MySQL?><html><head><title>Running MySQL (MySQL &amp; mSQL)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Randy Jay Yarger, George Reese and Tim King" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="1565924347L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="MySQL &amp; mSQL" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="MySQL and mSQL" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch04_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">MySQL &amp; mSQL</a></td><td width="172" valign="top" align="right"><a href="ch04_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">4.3. Running MySQL</h2>





<p>
<a name="INDEX-112" />Most
people run their database servers all of the time. After all, it
makes no sense to have a database if you cannot get to the data. TcX
created MySQL with this in mind and thus MySQL runs as a daemon
process under Unix or as a service under Windows NT. Windows 9x has
only the rough analog of sticking a shortcut to the executable in the
<em class="emphasis">StartUp</em> folder. One important issue to note
under Windows 95 specifically is that <a name="INDEX-113" />Windows 95 leaks
about 200 bytes of main memory for each thread creation. You
therefore do not want to leave MySQL running under Windows 95 for
extended periods of time. This problem does not apply to Windows 98
or Windows NT.</p>





<p>You run MySQL using the
<em class="filename" </></em>

<em class="emphasis">/usr/local/bin/safe_mysqld</em> by default. This
script is a <a name="INDEX-115" />Bourne script you can edit in order
to change any of the default values. Any options that you supply to
<em class="emphasis">safe_mysqld</em> will be passed on to the MySQL
daemon itself.</p>





<p>MySQL is a <a name="INDEX-116" />forking daemon. As soon as you launch it,
the program creates a copy of itself (forks itself) and runs as a
background process. You thus do not need to do anything special to
get MySQL to run in the background. If you use the wrapper
<em class="filename">safe_mysqld</em> to start MySQL, then you do need to
put it in the background:</p>





<blockquote><pre class="code">/usr/local/mysql/bin/safe_mysqld &amp;</pre></blockquote>





<p>The reason you need to run <em class="filename">safe_mysqld</em> in the
background -- and the reason you should run it instead of directly
running <em class="filename">mysqld</em> -- is that the
<em class="emphasis">safe_mysqld</em> script starts
<em class="emphasis">mysqld</em> and then continuously verifies that
<em class="emphasis">mysqld</em> stays running. If MySQL dies
unexpectedly, <em class="emphasis">safe_mysqld</em> will restart it.</p>





<p>Now that you know how to start
<a name="INDEX-117" />MySQL, you need to get MySQL to
start up and shut down with the computer on which it runs. Under
Windows NT, of course, installing MySQL as a service is sufficient
for the task. Under Windows 9x, you have to stick a shortcut to the
MySQL startup script in the <em class="emphasis">StartUp</em> folder. As
with just about everything else in the Unix world, getting MySQL to
run at system startup and shut down at system shutdown is more
complicated. Unix systems generally look for
<a name="INDEX-118" />startup
scripts somewhere under the
<em class="emphasis">/etc</em>
<a name="INDEX-119" /> directory -- some
under <em class="emphasis">/etc/rc.d</em> or
<em class="emphasis">/etc/init.d</em>. You should check with your system
administrator or system documentation for the exact details of where
your startup/shutdown script should go. The MySQL distribution comes
with a file in the <em class="emphasis">support_files</em> directory
called <em class="emphasis">mysql.server</em>. This Unix shell script will
serve as your startup/shutdown script.</p>


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch04_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch04_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">4.2. Installing MySQL</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">4.4. Database Administration</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="../lnut/index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>
