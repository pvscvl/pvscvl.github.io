<?label 7.3. Syntax?><html><head><title>Syntax (Linux in a Nutshell, 3rd Edition)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Ellen Siever, Stephen Spainhour, Stephen Figgins and Jessica P. Hekman" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="0596000251L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Linux in a Nutshell, 3rd Edition" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Linux in a Nutshell" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch07_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">Linux in a Nutshell, 3rd Edition</a></td><td width="172" valign="top" align="right"><a href="ch07_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">7.3. Syntax</h2>


<p>This subsection describes the many symbols peculiar to
<b class="emphasis-bold">bash</b>. The topics are arranged as follows:</p>


<ul><li><p>Special files</p></li><li><p>Filename metacharacters</p></li><li><p>Command-line editing</p></li><li><p>Quoting</p></li><li><p>Command forms</p></li><li><p>Redirection forms</p></li><li><p>Coprocesses</p></li></ul><a name="ln.ch04.div.5" /><div class="sect2">
<h3 class="sect2">7.3.1. Special Files</h3>


<a name="INDEX-1346" /><a name="ln.ch04.tbl.1" /><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">File</b></th>
<th><b class="emphasis-bold">Purpose</b></th>
</tr>






<tr>
<td><em class="emphasis">/etc/profile</em></td>
<td>Executed automatically at login</td>
</tr>


<tr>
<td><em class="emphasis">$HOME/.bash_profile</em></td>
<td>Executed automatically at login</td>
</tr>


<tr>
<td><em class="emphasis">$HOME/.bashrc</em></td>
<td>Executed automatically at shell startup</td>
</tr>


<tr>
<td><em class="emphasis">$HOME/.bash_logout</em></td>
<td>Executed automatically at logout</td>
</tr>


<tr>
<td><em class="emphasis">$HOME/.bash_history</em></td>
<td>Record of last session's commands</td>
</tr>


<tr>
<td><em class="emphasis">/etc/passwd</em></td>
<td>Source of home directories for <b class="emphasis-bold">~</b><em class="emphasis">name</em> abbreviations</td>
</tr>



</table>
</div>








<a name="ln.ch04.div.6" /><div class="sect2">
<h3 class="sect2">7.3.2. Filename Metacharacters</h3>


<a name="INDEX-1347" /><a name="INDEX-1348" /><a name="INDEX-1349" /><a name="INDEX-1350" /><a name="INDEX-1351" /><a name="INDEX-1352" /><a name="INDEX-1353" /><a name="INDEX-1354" /><a name="INDEX-1355" /><a name="ln.ch04.tbl.2" /><table cellpadding="4" border="1">

<tr>
<th><b class="emphasis-bold">Characters</b></th>
<th><b class="emphasis-bold">Meaning</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">*</b></td>
<td><p>Match any string of zero or more characters.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">?</b></td>
<td><p>Match any single character.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">[</b><em class="replaceable">abc</em><b class="emphasis-bold">...]</b></td>
<td><p>Match any one of the enclosed characters; a hyphen can be used to
specify a range (e.g., a-z, A-Z, 0-9).</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">[!</b><em class="replaceable">abc</em><b class="emphasis-bold">...]</b></td>
<td><p>Match any character <em class="emphasis">not</em> among the enclosed characters.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">{</b><em class="replaceable">str1</em><b class="emphasis-bold">,...}</b></td>
<td><p>Brace expansion: match any of the enclosed strings.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">~</b><em class="replaceable">name</em></td>
<td><p>HOME directory of user <em class="emphasis">name</em>.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">~+</b></td>
<td><p>Current working directory (PWD).</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">~-</b></td>
<td><p>Previous working directory from directory stack (OLDPWD, see
also the <b class="emphasis-bold">pushd</b> built-in
command).</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">~+</b><em class="emphasis">n</em></td>
<td><p>The <em class="emphasis">n</em>th entry in the directory
stack, counting from the start of the list with the first entry being
0.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">~-</b><em class="emphasis">n</em></td>
<td><p>The <em class="emphasis">n</em>th entry in the directory
stack, counting from the end of the list with the last entry being
0.</p></td>
</tr>



</table><p>Patterns can be a sequence of patterns separated by <b class="emphasis-bold">|</b>;
if any of the subpatterns match, the entire sequence is considered
matching. This extended syntax resembles that available to
<b class="emphasis-bold">egrep</b> and <b class="emphasis-bold">awk</b>.</p>


<a name="ln.ch04.div.7" /><div class="sect3">
<h3 class="sect3">7.3.2.1. Examples</h3>


<blockquote><pre class="code">$ <tt class="userinput"><b>ls new*</b></tt>          List <em class="emphasis">new</em> and <em class="emphasis">new.1</em>
$ <tt class="userinput"><b>cat ch?</b></tt>          Match <em class="emphasis">ch9</em> but not <em class="emphasis">ch10</em>
$ <tt class="userinput"><b>vi [D-R]*</b></tt>        Match files that begin with uppercase D through R</pre></blockquote>
</div>
</div>








<a name="ln.ch04.div.8" /><div class="sect2">
<h3 class="sect2">7.3.3. Command-line Editing</h3>


<p><a name="INDEX-1356" /><a name="INDEX-1357" /></p>


<p>Command lines can be edited like lines in either Emacs or <b class="emphasis-bold">vi</b>. Emacs is
the default. See <a href="ch07_06.htm">Section 7.6.1, "Line-Edit Mode"</a> later in this
chapter for more information.</p>


<p><b class="emphasis-bold">vi</b> mode has two submodes, insert mode and command mode. The
default mode is insert; you can go to command mode by pressing Esc. In
command mode, typing <b class="emphasis-bold">a</b> (append) or <b class="emphasis-bold">i</b> (insert) will return
you to insert mode.</p>


<a name="INDEX-1358" /><a name="INDEX-1359" /><a name="INDEX-1360" /><p>Some users discover that the Del or Backspace key on the
terminal does not delete the character before the cursor, as it
should. Sometimes the problem can be solved by issuing one of the
following commands (or placing it in your <em class="emphasis">.bashrc</em>
file):</p>


<blockquote><pre class="code">stty erase ^?
stty erase ^H</pre></blockquote>


<p>See the <b class="emphasis-bold">stty</b> command in <a href="ch03_01.htm">Chapter 3, "Linux Commands"</a> for more information. On the X Window System, an alternative
solution is to use the <b class="emphasis-bold">xmodmap</b>
command, but this cannot be described easily here because it requires
you to do some research about your
<?troff \p?>terminal.</p>


<p><a href="ch07_03.htm">Table 7-1</a>  through <a href="ch07_03.htm">Table 7-14</a>  show various Emacs and <b class="emphasis-bold">vi</b> commands.</p>


<a name="ln.ch04.tbl.3" /><h4 class="objtitle">Table 7-1. Basic Emacs-Mode Commands</h4><table cellpadding="4" border="1">

<tr>
<td><b class="emphasis-bold">Command</b></td>
<td><b class="emphasis-bold">Description

</b></td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-B</b></td>
<td>Move backward one character (without deleting).</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-F</b></td>
<td>Move forward one character.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Del</b></td>
<td>Delete one character backward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-D</b></td>
<td>Delete one character forward.</td>
</tr>




</table>


<a name="ln.ch04.tbl.4" /><h4 class="objtitle">Table 7-2. Emacs-Mode Word Commands</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">Esc b</b></td>
<td>Move one word backward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc f</b></td>
<td>Move one word forward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc Del</b></td>
<td>Kill one word backward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc d</b></td>
<td>Kill one word forward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-Y</b></td>
<td>Retrieve (<b class="emphasis-bold">yank</b>) last item killed.</td>
</tr>




</table>


<a name="ln.ch04.tbl.5" /><h4 class="objtitle">Table 7-3. Emacs-Mode Line Commands</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">Ctrl-A</b></td>
<td>Move to beginning of line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-E</b></td>
<td>Move to end of line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-K</b></td>
<td>Kill forward to end of line.</td>
</tr>




</table>



<a name="INDEX-1361" /><a name="ln.ch04.tbl.6" /><h4 class="objtitle">Table 7-4. Emacs-Mode Commands for Moving Through the History File</h4><table cellpadding="4" border="1">




<tr>
<td><b class="emphasis-bold">Command</b></td>
<td><b class="emphasis-bold">Description

</b></td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-P</b></td>
<td>Move to previous line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-N</b></td>
<td>Move to next line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-R</b></td>
<td>Search backward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc &lt;</b></td>
<td>Move to first line of history file.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc &gt;</b></td>
<td>Move to last line of history file.</td>
</tr>




</table>


<a name="INDEX-1362" /><a name="INDEX-1363" /><a name="ln.ch04.tbl.7" /><h4 class="objtitle">Table 7-5. Completion Commands</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">Tab</b></td>
<td>Attempt to perform general completion of the text.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc ?</b></td>
<td>List the possible completions.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc /</b></td>
<td>Attempt filename completion.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-X /</b></td>
<td>List the possible filename completions.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc ~</b></td>
<td>Attempt username completion.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-X ~</b></td>
<td>List the possible username completions.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc $</b></td>
<td>Attempt variable completion.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-X $</b></td>
<td>List the possible variable completions.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc @</b></td>
<td>Attempt hostname completion.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-X @</b></td>
<td>List the possible hostname completions.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc !</b></td>
<td>Attempt command completion.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-X !</b></td>
<td>List the possible command completions.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc Tab</b></td>
<td>Attempt completion from previous commands in the history list.</td>
</tr>




</table>


<a name="ln.ch04.tbl.8" /><h4 class="objtitle">Table 7-6. Emacs-Mode Miscellaneous Commands</h4><table cellpadding="4" border="1">




<tr>
<td><b class="emphasis-bold">Command</b></td>
<td><b class="emphasis-bold">Description

</b></td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-J</b></td>
<td>Same as Return.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-L</b></td>
<td><p>Clear the screen, placing the current line at the top of the screen.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-M</b></td>
<td>Same as Return.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-O</b></td>
<td>Same as Return, then display next line in command history.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-T</b></td>
<td><p>Transpose character left of and under the cursor.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-U</b></td>
<td>Kill the line from the beginning to point.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-V</b></td>
<td>Insert keypress instead of interpreting it as a command.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-[</b></td>
<td>Same as Esc (most keyboards).</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc c</b></td>
<td>Capitalize word under or after cursor.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc u</b></td>
<td>Change word under or after cursor to all capital letters.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc l</b></td>
<td>Change word under or after cursor to all lowercase letters.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc .</b></td>
<td>Insert last word in previous command line after point.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc _</b></td>
<td>Same as Esc.</td>
</tr>




</table>


<p><a name="INDEX-1364" /><a name="INDEX-1365" /></p>


<a name="ln.ch04.tbl.9" /><h4 class="objtitle">Table 7-7. Editing Commands in vi Input Mode</h4><table cellpadding="4" border="1">




<tr>
<td><b class="emphasis-bold">Command</b></td>
<td><b class="emphasis-bold">Description

</b></td>
</tr>


<tr>
<td><b class="emphasis-bold">Del</b></td>
<td>Delete previous character.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-W</b></td>
<td>Erase previous word (i.e., erase until a blank).</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-V</b></td>
<td>Insert keypress instead of interpreting it as a command.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc</b></td>
<td>Enter control mode (see <a href="ch07_03.htm">Table 7-8</a>).</td>
</tr>




</table>


<a name="ln.ch04.tbl.10" /><h4 class="objtitle">Table 7-8. Basic vi Control Mode Commands</h4><table cellpadding="4" border="1">




<tr>
<td><b class="emphasis-bold">Command</b></td>
<td><b class="emphasis-bold">Description

</b></td>
</tr>


<tr>
<td><b class="emphasis-bold">h</b></td>
<td>Move left one character.</td>
</tr>


<tr>
<td><b class="emphasis-bold">l</b></td>
<td>Move right one character.</td>
</tr>


<tr>
<td><b class="emphasis-bold">b</b></td>
<td>Move left one word.</td>
</tr>


<tr>
<td><b class="emphasis-bold">w</b></td>
<td>Move right one word.</td>
</tr>


<tr>
<td><b class="emphasis-bold">B</b></td>
<td>Move to beginning of preceding nonblank word.</td>
</tr>


<tr>
<td><b class="emphasis-bold">W</b></td>
<td>Move to beginning of next nonblank word.</td>
</tr>


<tr>
<td><b class="emphasis-bold">e</b></td>
<td>Move to end of current word.</td>
</tr>


<tr>
<td><b class="emphasis-bold">E</b></td>
<td>Move to end of current nonblank word.</td>
</tr>


<tr>
<td><b class="emphasis-bold">0</b></td>
<td>Move to beginning of line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">^</b></td>
<td>Move to first nonblank character in line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">$</b></td>
<td>Move to end of line.</td>
</tr>




</table>



<a name="ln.ch04.tbl.11" /><h4 class="objtitle">Table 7-9. Commands for Entering vi Input Mode</h4><table cellpadding="4" border="1">




<tr>
<td><b class="emphasis-bold">Command</b></td>
<td><b class="emphasis-bold">Description

</b></td>
</tr>


<tr>
<td><b class="emphasis-bold">i</b></td>
<td>Insert text before current character (insert).</td>
</tr>


<tr>
<td><b class="emphasis-bold">a</b></td>
<td>Insert text after current character (append).</td>
</tr>


<tr>
<td><b class="emphasis-bold">I</b></td>
<td>Insert text at beginning of line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">A</b></td>
<td>Insert text at end of line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">r</b></td>
<td>Replace current character with this text.</td>
</tr>


<tr>
<td><b class="emphasis-bold">R</b></td>
<td>Overwrite existing text.</td>
</tr>




</table>



<a name="ln.ch04.tbl.12" /><h4 class="objtitle">Table 7-10. Some vi-Mode Deletion Commands</h4><table cellpadding="4" border="1">




<tr>
<td><b class="emphasis-bold">Command</b></td>
<td><b class="emphasis-bold">Description

</b></td>
</tr>


<tr>
<td><b class="emphasis-bold">dh</b></td>
<td>Delete one character backward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">dl</b></td>
<td>Delete one character forward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">db</b></td>
<td>Delete one word backward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">dw</b></td>
<td>Delete one word forward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">dB</b></td>
<td>Delete one nonblank word backward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">dW</b></td>
<td>Delete one nonblank word forward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">d$</b></td>
<td>Delete to end-of-line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">d0</b></td>
<td>Delete to beginning of line.</td>
</tr>




</table>


<a name="ln.ch04.tbl.13" /><h4 class="objtitle">Table 7-11. Abbreviations for vi-Mode Delete Commands</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">D</b></td>
<td>Delete to end of line (equivalent to <b class="emphasis-bold">d$</b>).</td>
</tr>


<tr>
<td><b class="emphasis-bold">dd</b></td>
<td>Delete entire line (equivalent to <b class="emphasis-bold">0d$</b>).</td>
</tr>


<tr>
<td><b class="emphasis-bold">C</b></td>
<td>Delete to end of line; enter input mode (equivalent to <b class="emphasis-bold">c$</b>).</td>
</tr>


<tr>
<td><b class="emphasis-bold">cc</b></td>
<td>Delete entire line; enter input mode (equivalent to <b class="emphasis-bold">0c$</b>).</td>
</tr>


<tr>
<td><b class="emphasis-bold">X</b></td>
<td>Delete character backward (equivalent to <b class="emphasis-bold">dl</b>).</td>
</tr>


<tr>
<td><b class="emphasis-bold">x</b></td>
<td>Delete character forward (equivalent to <b class="emphasis-bold">dh</b>).</td>
</tr>




</table>


<a name="INDEX-1366" /><a name="ln.ch04.tbl.14" /><h4 class="objtitle">Table 7-12. vi Control Mode Commands for Searching the Command History</h4><table cellpadding="4" border="1">




<tr>
<td><b class="emphasis-bold">Command</b></td>
<td><b class="emphasis-bold">Description

</b></td>
</tr>


<tr>
<td><b class="emphasis-bold">k</b> or <b class="emphasis-bold">-</b></td>
<td>Move backward one line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">j</b> or <b class="emphasis-bold">+</b></td>
<td>Move forward one line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">G</b></td>
<td>Move to line given by repeat count.</td>
</tr>


<tr>
<td><b class="emphasis-bold">/</b><em class="emphasis">string</em></td>
<td>Search backward for <em class="emphasis">string</em>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">?</b><em class="emphasis">string</em></td>
<td>Search forward for <em class="emphasis">string</em>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">n</b></td>
<td>Repeat search in same direction as previous.</td>
</tr>


<tr>
<td><b class="emphasis-bold">N</b></td>
<td>Repeat search in opposite direction of previous.</td>
</tr>




</table>


<a name="ln.ch04.tbl.15" /><h4 class="objtitle">Table 7-13. vi-Mode Character-Finding Commands</h4><table cellpadding="4" border="1">




<tr>
<td><b class="emphasis-bold">Command</b></td>
<td><b class="emphasis-bold">Description 

</b></td>
</tr>


<tr>
<td><b class="emphasis-bold">f</b><em class="emphasis">x</em></td>
<td>Move right to next occurrence of <em class="emphasis">x</em>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">F</b><em class="emphasis">x</em></td>
<td>Move left to previous occurrence of <em class="emphasis">x</em>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">t</b><em class="emphasis">x</em></td>
<td>Move right to next occurrence of <em class="emphasis">x</em>, then back one space.</td>
</tr>


<tr>
<td><b class="emphasis-bold">T</b><em class="emphasis">x</em></td>
<td>Move left to previous occurrence of <em class="emphasis">x</em>, then forward one space.</td>
</tr>


<?troff .ND 10?><tr>
<td>;</td>
<td>Redo last character-finding command.</td>
</tr>


<tr>
<td>,</td>
<td>Redo last character-finding command in opposite direction.</td>
</tr>




</table>


<a name="ln.ch04.tbl.16" /><h4 class="objtitle">Table 7-14. Miscellaneous vi-Mode Commands</h4><table cellpadding="4" border="1">




<tr>
<td><b class="emphasis-bold">Command</b></td>
<td><b class="emphasis-bold">Description

</b></td>
</tr>


<tr>
<td><tt class="userinput"><b>~</b></tt></td>
<td>Invert (toggle) case of current character(s).</td>
</tr>


<tr>
<td><b class="emphasis-bold">

</b><tt class="userinput"><b>-</b></tt>
</td>
<td><p>Append last word of previous command; enter input mode.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-L</b></td>
<td><p>Clear the screen and redraw the current line on it;
good for when your screen becomes garbled.</p></td>
</tr>


<tr>
<td><tt class="userinput"><b>#</b></tt></td>
<td><p>Prepend <b class="emphasis-bold">#</b> (comment
character) to the line and send it to the history file; useful for
saving a command to be executed later, without having to retype
it.</p></td>
</tr>



</table>


<p><a name="INDEX-1367" /><a name="INDEX-1368" /></p>
</div>








<a name="ln.ch04.div.9" /><div class="sect2">
<h3 class="sect2">7.3.4. Quoting</h3>


<a name="INDEX-1369" /><a name="INDEX-1370" /><p>Quoting disables a character's special meaning and
allows it to be used literally, as itself.
The following characters have special meaning to <b class="emphasis-bold">bash</b>:</p>


<a name="ln.ch04.tbl.17" /><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Character</b></th>
<th><b class="emphasis-bold">Meaning</b></th>
</tr>






<tr>
<td><tt class="userinput"><b>;</b></tt></td>
<td>Command separator</td>
</tr>


<tr>
<td><tt class="userinput"><b>&amp;</b></tt></td>
<td>Background execution</td>
</tr>


<tr>
<td><tt class="userinput"><b>( )</b></tt></td>
<td>Command grouping (enter a subshell)</td>
</tr>


<tr>
<td><tt class="userinput"><b>{ }</b></tt></td>
<td>Command block</td>
</tr>


<tr>
<td><tt class="userinput"><b>|</b></tt></td>
<td>Pipe</td>
</tr>


<tr>
<td><tt class="userinput"><b>&gt; &lt; &amp;</b></tt></td>
<td>Redirection symbols</td>
</tr>


<tr>
<td><tt class="userinput"><b>* ? [ ] ~ !</b></tt></td>
<td>Filename metacharacters</td>
</tr>


<tr>
<td><tt class="userinput"><b>" ' \</b></tt></td>
<td>Used in quoting other characters</td>
</tr>


<tr>
<td><tt class="userinput"><b>`</b></tt></td>
<td>Command substitution</td>
</tr>


<tr>
<td><tt class="userinput"><b>$</b></tt></td>
<td>Variable substitution (or command substitution)</td>
</tr>


<tr>
<td><p><tt class="userinput"><b>newline
space
tab</b></tt></p></td>
<td>Word separators</td>
</tr>


<tr>
<td><tt class="userinput"><b>#</b></tt></td>
<td>Comment</td>
</tr>




</table><p>The following characters can be used for quoting:</p>


<a name="ln.ch04.tbl.18" /><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Character</b></th>
<th><b class="emphasis-bold">Action</b></th>
</tr>






<tr>
<td><tt class="userinput"><b>" "</b></tt></td>
<td><p>Everything between <tt class="userinput"><b>"</b></tt> and <tt class="userinput"><b>"</b></tt> is taken literally, except for the following characters that keep their special meaning:</p>


<dl>
<dt><b><tt class="userinput"><b>$</b></tt></b></dt>
<dd><p>Variable substitution will occur.</p></dd>



<dt><b><tt class="userinput"><b><literal>`</literal></b></tt></b></dt>
<dd><p>Command substitution will occur.</p></dd>



<dt><b><tt class="userinput"><b>"</b></tt></b></dt>
<dd><p>This marks the end of the double quote.</p></dd>

</dl></td>
</tr>


<?troff .ND 10?><tr>
<td><tt class="userinput"><b>' '</b></tt></td>
<td><p>Everything between <tt class="literal">'</tt> and <tt class="literal">'</tt> is taken literally, except for another <tt class="literal">'</tt>.</p></td>
</tr>


<tr>
<td><tt class="userinput"><b>\</b></tt></td>
<td><p>The character following a <tt class="userinput"><b>\</b></tt> is taken literally. Use within <tt class="userinput"><b>"</b></tt> <tt class="userinput"><b>"</b></tt> to escape <tt class="userinput"><b>"</b></tt>, <tt class="userinput"><b>$</b></tt>, and <tt class="userinput"><b><literal>`</literal></b></tt>. Often used to escape itself, spaces, or newlines.</p></td>
</tr>



</table><a name="ln.ch04.div.10" /><div class="sect3">
<h3 class="sect3">7.3.4.1. Examples</h3>


<blockquote><pre class="code">$ <tt class="userinput"><b>echo 'Single quotes "protect" double quotes'</b></tt>
Single quotes "protect" double quotes

$ <tt class="userinput"><b>echo "Well, isn't that \"special\"?"</b></tt>
Well, isn't that "special"?

$ <tt class="userinput"><b>echo "You have <literal>`</literal>ls|wc -l` files in `pwd`"</b></tt>
You have  43 files in /home/bob

$ <tt class="userinput"><b>echo "The value of \$x is $x"</b></tt>
The value of $x is 100</pre></blockquote>
</div>
</div>








<a name="ln.ch04.div.11" /><div class="sect2">
<h3 class="sect2">7.3.5. Command Forms</h3>


<p><a name="INDEX-1371" /></p>


<a name="ln.ch04.tbl.19" /><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Syntax</b></th>
<th><b class="emphasis-bold">Effect</b></th>
</tr>






<tr>
<td>

<em class="replaceable">cmd</em> <tt class="userinput"><b>&amp;</b></tt></td>
<td>Execute <em class="replaceable">cmd</em> in background.
</td>
</tr>


<tr>
<td>

<em class="replaceable">cmd1</em> <tt class="userinput"><b>;</b></tt> <em class="replaceable">cmd2</em></td>
<td> Command sequence; execute multiple <em class="replaceable">cmd</em>s on the same line.
</td>
</tr>


<tr>
<td>

<tt class="userinput"><b>(</b></tt><em class="replaceable">cmd1</em> <tt class="userinput"><b>;</b></tt> <em class="replaceable">cmd2</em><tt class="userinput"><b>)</b></tt></td>
<td>Subshell; treat <em class="replaceable">cmd1</em> and <em class="replaceable">cmd2</em> as a command group.
</td>
</tr>


<tr>
<td>

<em class="replaceable">cmd1</em> <tt class="userinput"><b>|</b></tt> <em class="replaceable">cmd2</em></td>
<td>Pipe; use output from <em class="replaceable">cmd1</em> as input to <em class="replaceable">cmd2</em>.
</td>
</tr>


<tr>
<td>

<em class="replaceable">cmd1</em> <tt class="userinput"><b><literal>`</literal></b></tt><em class="replaceable">cmd2</em><tt class="userinput"><b>`</b></tt></td>
<td>Command substitution; use <em class="replaceable">cmd2</em> output as arguments to <em class="replaceable">cmd1</em>.
</td>
</tr>


<tr>
<td>

<em class="replaceable">cmd1</em> <tt class="userinput"><b>$(</b></tt><em class="replaceable">cmd2</em><tt class="userinput"><b>)</b></tt></td>
<td>Command substitution; nesting is allowed.
</td>
</tr>


<tr>
<td>

<em class="replaceable">cmd1</em> <tt class="userinput"><b>&amp;&amp;</b></tt> <em class="replaceable">cmd2</em></td>
<td>AND; execute <em class="replaceable">cmd2</em> only if <em class="replaceable">cmd1</em> succeeds.
</td>
</tr>


<tr>
<td>

<em class="replaceable">cmd1</em> <tt class="userinput"><b>||</b></tt> <em class="replaceable">cmd2</em></td>
<td>OR; execute <em class="replaceable">cmd2</em> only if <em class="replaceable">cmd1</em> fails.
</td>
</tr>


<tr>
<td>

<tt class="userinput"><b>{ </b></tt><em class="replaceable">cmd1</em> <tt class="userinput"><b>;</b></tt> <em class="replaceable">cmd2</em> <tt class="userinput"><b>}</b></tt></td>
<td>Execute commands in the current shell.</td>
</tr>



</table><a name="ln.ch04.div.12" /><div class="sect3">
<h3 class="sect3">7.3.5.1. Examples</h3>


<blockquote><pre class="code">$ <tt class="userinput"><b>nroff file &amp;</b></tt>                         Format in the background
$ <tt class="userinput"><b>cd; ls</b></tt>                               Execute sequentially
$ <tt class="userinput"><b>(date; who; pwd) &gt; logfile</b></tt>           All output is redirected
$ <tt class="userinput"><b>sort file | pr -3 | lp</b></tt>               Sort file, page output, then print
$ <tt class="userinput"><b>vi <literal>`</literal>grep -l ifdef *.c`</b></tt>               Edit files found by grep
$ <tt class="userinput"><b>egrep '(yes|no)' <literal>`</literal>cat list`</b></tt>          Specify a list of files to search
$ <tt class="userinput"><b>egrep '(yes|no)' $(cat list)</b></tt>         Same as previous using bash command substitution
$ <tt class="userinput"><b>egrep '(yes|no)' $(&lt;list)</b></tt>            Same, but faster
$ <tt class="userinput"><b>grep XX file &amp;&amp; lp file</b></tt>              Print file if it contains the pattern
$ <tt class="userinput"><b>grep XX file || echo "XX not found"</b></tt>  Echo an error message if the pattern is not found</pre></blockquote>


<p><a name="INDEX-1372" /></p>
</div>
</div>








<?troff .Nd 10?><a name="ln.ch04.div.13" /><div class="sect2">
<h3 class="sect2">7.3.6. Redirection Forms</h3>


<p><a name="INDEX-1373" /><a name="INDEX-1374" /><a name="INDEX-1375" />
</p>


<a name="ln.ch04.tbl.20" /><table cellpadding="4" border="1">








<tr>
<td><b class="emphasis-bold">File Descriptor</b></td>
<td><b class="emphasis-bold">Name</b></td>
<td><b class="emphasis-bold">Common Abbreviation</b></td>
<td><b class="emphasis-bold">Typical Default

</b></td>
</tr>


<tr>
<td>0</td>
<td>Standard input</td>
<td>stdin</td>
<td>Keyboard</td>
</tr>


<tr>
<td>1</td>
<td>Standard output</td>
<td>stdout</td>
<td>Screen</td>
</tr>


<tr>
<td>2</td>
<td>Standard error</td>
<td>stderr</td>
<td>Screen</td>
</tr>



</table>

<p>The usual input source or output destination can
be changed as shown in
<?troff \p?><a href="ch07_03.htm">Table 7-15</a>.</p>


<a name="ln.ch04.tbl.21" /><h4 class="objtitle">Table 7-15. I/O Redirectors</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Redirector</b></th>
<th><b class="emphasis-bold">Function

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">&gt;</b> <em class="emphasis">file</em></td>
<td>Direct standard output to <em class="emphasis">file</em>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">&lt;</b> <em class="emphasis">file</em></td>
<td>Take standard input from <em class="emphasis">file</em>.</td>
</tr>


<tr>
<td><em class="emphasis">cmd1</em><b class="emphasis-bold"> |</b> <em class="emphasis">cmd2</em></td>
<td><p>Pipe; take standard output of <em class="emphasis">cmd1</em> as standard input to
<em class="emphasis">cmd2</em>.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">&gt;&gt;</b> <em class="emphasis">file</em></td>
<td><p>Direct standard output to <em class="emphasis">file</em>; append to <em class="emphasis">file</em> if it
already exists.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">&gt;|</b> <em class="emphasis">file</em></td>
<td>Force standard output to <em class="emphasis">file</em> even if <b class="emphasis-bold">noclobber</b> is set.</td>
</tr>


<tr>
<td><em class="emphasis">n</em><b class="emphasis-bold">&gt;|</b> <em class="emphasis">file</em></td>
<td><p>Force output from the file descriptor <em class="emphasis">n</em> to <em class="emphasis">file</em> even if
<b class="emphasis-bold">noclobber</b> is set.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">&lt;&gt;</b> <em class="emphasis">file</em></td>
<td>Use <em class="emphasis">file</em> as both standard input and standard output.</td>
</tr>


<tr>
<td><b class="emphasis-bold">&lt;&lt;</b> <em class="emphasis">text</em></td>
<td><p>Read standard input up to a line identical to <em class="emphasis">text</em>
(<em class="emphasis">text</em> can be stored in a shell variable). Input is usually typed on the screen or in the shell program. Commands that typically use this syntax
include <b class="emphasis-bold">cat</b>, <b class="emphasis-bold">echo</b>, <b class="emphasis-bold">ex</b>, and <b class="emphasis-bold">sed</b>. If <em class="emphasis">text</em> is enclosed in quotes, standard input will
not undergo variable substitution, command substitution, etc.</p></td>
</tr>


<tr>
<td><em class="emphasis">n</em><b class="emphasis-bold">&gt;</b> <em class="emphasis">file</em></td>
<td>Direct file descriptor <em class="emphasis">n</em> to <em class="emphasis">file</em>.</td>
</tr>


<tr>
<td><em class="emphasis">n</em><b class="emphasis-bold">&lt;</b> <em class="emphasis">file</em></td>
<td>Set <em class="emphasis">file</em> as file descriptor <em class="emphasis">n</em>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">&gt;&amp;</b><em class="emphasis">n</em></td>
<td>Duplicate standard output to file descriptor <em class="emphasis">n</em>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">&lt;&amp;</b><em class="emphasis">n</em></td>
<td>Duplicate standard input from file descriptor <em class="emphasis">n</em>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">&amp;&gt;</b><em class="emphasis">file</em></td>
<td>Direct standard output and standard error to <em class="emphasis">file</em>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">&lt;&amp;-</b></td>
<td>Close the standard input.</td>
</tr>


<tr>
<td><b class="emphasis-bold">&gt;&amp;-</b></td>
<td>Close the standard output.</td>
</tr>


<tr>
<td><em class="emphasis">n</em><b class="emphasis-bold">&gt;&amp;-</b></td>
<td>Close the output from file descriptor <em class="emphasis">n</em>.</td>
</tr>


<tr>
<td><em class="emphasis">n</em><b class="emphasis-bold">&lt;&amp;-</b></td>
<td>Close the input from file descriptor <em class="emphasis">n</em>.</td>
</tr>




</table>


<a name="ln.ch04.div.14" /><div class="sect3">
<h3 class="sect3">7.3.6.1. Examples</h3>


<blockquote><pre class="code">$ <tt class="userinput"><b>cat part1 &gt; book</b></tt>
$ <tt class="userinput"><b>cat part2 part3 &gt;&gt; book</b></tt>
$ <tt class="userinput"><b>mail tim &lt; report</b></tt>
$ <tt class="userinput"><b>grep Chapter part* 2&gt; error_file</b></tt>

$ <tt class="userinput"><b>sed 's/^/XX /' &lt;&lt; END_ARCHIVE</b></tt>
&gt; <tt class="userinput"><b>This is often how a shell archive is "wrapped",</b></tt>
&gt; <tt class="userinput"><b>bundling text for distribution. You would normally</b></tt>
&gt; <tt class="userinput"><b>run sed from a shell program, not from the command line.</b></tt>
&gt; <tt class="userinput"><b>END_ARCHIVE</b></tt>
XX This is often how a shell archive is "wrapped",
XX bundling text for distribution. You would normally
XX run sed from a shell program, not from the command line.</pre></blockquote>


<p>To redirect standard output to standard error:</p>


<blockquote><pre class="code">$ <tt class="userinput"><b>echo "Usage error:  see administrator" 1&gt;&amp;2</b></tt></pre></blockquote>


<p>The following command sends output (files found) to <em class="emphasis">filelist</em> and sends error
messages (inaccessible files) to file <em class="emphasis">no_access</em>:</p>


<blockquote><pre class="code">$ <tt class="userinput"><b>find / -print &gt; filelist 2&gt;no_access</b></tt></pre></blockquote>


<p><a name="INDEX-1376" /></p>
</div>
</div>








<a name="ln.ch04.div.15" /><div class="sect2">
<h3 class="sect2">7.3.7. Coprocesses</h3>


<a name="INDEX-1377" /><a name="INDEX-1378" /><p>Coprocesses are a feature of
<b class="emphasis-bold">bash</b> and do not appear in other shells.</p>


<a name="ln.ch04.tbl.22" /><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Syntax</b></th>
<th><b class="emphasis-bold">Effect</b></th>
</tr>






<tr>
<td>

<em class="replaceable">cmd1</em> <tt class="userinput"><b>|</b></tt> <em class="replaceable">cmd2</em> <tt class="userinput"><b>|&amp;</b></tt></td>
<td><p>Coprocess; execute the pipeline in the background.
The shell sets up a two-way pipe, allowing redirection of
both standard input and standard output.
</p></td>
</tr>


<tr>
<td>

<tt class="userinput"><b>read -p </b></tt><em class="replaceable">var</em></td>
<td><p>Read coprocess input into variable <em class="emphasis">var</em>.</p>


</td>
</tr>


<tr>
<td>

<tt class="userinput"><b>print -p </b></tt><em class="replaceable">string</em></td>
<td>Write <em class="emphasis">string</em> to the coprocess.
</td>
</tr>


<tr>
<td>

<em class="replaceable">cmd</em> <tt class="userinput"><b>&lt;&amp;</b></tt><em class="replaceable">p</em></td>
<td><p>Take input for <em class="emphasis">cmd</em> from the coprocess.
</p></td>
</tr>


<tr>
<td>

<em class="replaceable">cmd</em> <tt class="userinput"><b>&gt;&amp;</b></tt><em class="replaceable">p</em></td>
<td><p>Send output of <em class="emphasis">cmd</em> to the coprocess.</p></td>
</tr>



</table><a name="ln.ch04.div.16" /><div class="sect3">
<h3 class="sect3">7.3.7.1. Examples</h3>


<blockquote><pre class="code"><tt class="userinput"><b>cat memo</b></tt>                     Print contents of file
Sufficient unto the day is 
A word to the wise.
<tt class="userinput"><b>ed - memo |&amp;</b></tt>                 Start coprocess
<tt class="userinput"><b>print -p /word/</b></tt>              Send <b class="emphasis-bold">ed</b> command to coprocess
<tt class="userinput"><b>read -p search</b></tt>               Read output of <b class="emphasis-bold">ed</b> command into variable search
<tt class="userinput"><b>print "$search"</b></tt>              Show the line on standard output
A word to the wise.</pre></blockquote>
</div>
</div>


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch07_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch07_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">7.2. Invoking the Shell</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">7.4. Variables</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>