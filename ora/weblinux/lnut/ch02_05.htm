<?label 2.5. Overview of NFS?><html><head><title>Overview of NFS (Linux in a Nutshell, 3rd Edition)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Ellen Siever, Stephen Spainhour, Stephen Figgins and Jessica P. Hekman" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="0596000251L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Linux in a Nutshell, 3rd Edition" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Linux in a Nutshell" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch02_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">Linux in a Nutshell, 3rd Edition</a></td><td width="172" valign="top" align="right"><a href="ch02_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">2.5. Overview of NFS</h2>


<p><a name="INDEX-146" /><a name="INDEX-147" /><a name="INDEX-148" />The
Network File System (NFS) is a distributed filesystem that allows
users to mount remote filesystems as if they were local. NFS uses a
client-server model, in which a server exports directories to be
shared, and clients mount the directories to access the files in
them. NFS eliminates the need to keep copies of files on several
machines by letting the clients all share a single copy of a file on
the server.  NFS is an RPC-based application-level protocol.  For more
information on the architecture of network protocols, see <a href="ch02_03.htm">Section 2.3, "Overview of TCP/IP"</a> earlier in this
chapter.</p>


<a name="ln.ch15.div.39" /><div class="sect2">
<h3 class="sect2">2.5.1. Administering NFS</h3>


<p>Setting up NFS clients and servers involves starting the NFS daemons,
exporting filesystems from the NFS servers, and mounting them on the 
clients. The <em class="emphasis">/etc/exports</em> file is the NFS server configuration file;
it controls which files 
and directories are exported and what kinds of
access are allowed. Names and addresses for clients receiving
services are kept in the <em class="emphasis">/etc/hosts</em> file.</p>
</div>








<a name="ln.ch15.div.40" /><div class="sect2">
<h3 class="sect2">2.5.2. Daemons</h3>


<a name="INDEX-149" /><p>NFS server daemons, called <em class="emphasis">nfsd daemons</em>, run on the server and
accept RPC calls from clients. NFS servers also run the <b class="emphasis-bold">mountd</b>
daemon to handle mount requests. On the client, caching and buffering
are handled by <b class="emphasis-bold">biod</b>, the block I/O daemon. The <b class="emphasis-bold">portmap</b>
daemon maps RPC program numbers to the appropriate TCP/IP port numbers.</p>
</div>








<a name="ln.ch15.div.41" /><div class="sect2">
<h3 class="sect2">2.5.3. Exporting Filesystems</h3>


<a name="INDEX-150" /><p>To set up an NFS server, first check that all the hosts
that will mount your filesystem can reach your host.
Next, edit the <em class="emphasis">/etc/exports</em> file to include the
mount-point pathname of the filesystem to be exported. If you are
running <b class="emphasis-bold">mountd</b>, the files will be exported as
the permissions in <em class="emphasis">/etc/exports</em> allow.</p>
</div>








<a name="ln.ch15.div.42" /><div class="sect2">
<h3 class="sect2">2.5.4. Mounting Filesystems</h3>


<a name="INDEX-151" /><p>To enable an NFS client, mount a remote filesystem after NFS is
started, either by using the <b class="emphasis-bold">mount</b> command or by specifying default
remote filesystems in <em class="emphasis">/etc/fstab</em>. A <b class="emphasis-bold">mount</b>
request calls the server's <b class="emphasis-bold">mountd</b> daemon, which checks the access permissions of the
client and returns a pointer to a filesystem. Once a directory is
mounted, it remains attached to the local filesystem until it is
dismounted with the <b class="emphasis-bold">umount</b> command or until the local system is
rebooted.</p>


<p>Usually, only a privileged user can mount
filesystems with NFS. However, you can enable users to mount and
unmount selected filesystems using the <b class="emphasis-bold">mount</b> and <b class="emphasis-bold">umount</b> commands
if the <b class="emphasis-bold">user</b> option is set in <em class="emphasis">/etc/fstab</em>.
This can reduce traffic by having filesystems mounted only when needed.
To enable user mounting, create an entry in <em class="emphasis">/etc/fstab</em>
for each filesystem to be mounted.</p>
</div>


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch02_04.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch02_06.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">2.4. Overview of Firewalls and Masquerading</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">2.6. Overview of NIS</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>