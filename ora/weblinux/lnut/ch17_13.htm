<?label 17.13. Adding Keyboard Shortcuts ?><html><head><title>Adding Keyboard Shortcuts  (Linux in a Nutshell, 3rd Edition)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Ellen Siever, Stephen Spainhour, Stephen Figgins and Jessica P. Hekman" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="0596000251L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Linux in a Nutshell, 3rd Edition" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Linux in a Nutshell" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch17_12.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">Linux in a Nutshell, 3rd Edition</a></td><td width="172" valign="top" align="right"><a href="ch17_14.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">17.13. Adding Keyboard Shortcuts </h2>


<p><a name="INDEX-2597" /><a name="INDEX-2598" /><a name="INDEX-2599" /><a name="INDEX-2600" /><a name="INDEX-2601" />The bare-bones <em class="emphasis">system.fvwmrc</em> file that we started
with offers little in the way of keyboard shortcuts, or accelerators,
for window management functions. But if you're one of those users who
prefers to keep her hands on the keyboard and off the mouse as much as
possible, within your <em class="emphasis">.fvwm2rc</em> file you can
easily define keys to perform a variety of functions.</p>


<a name="ch17-18-fm2xml" /><div class="sect2">
<h3 class="sect2">17.13.1. Keyboard Shortcuts to Navigate the Desktop</h3>


<p>The Pager is a great tool for getting around one or more desktops.
But many people hate using the mouse. You can configure a bunch of
keys to let you move around in various ways.</p>


<p>Add the following lines to your <em class="emphasis">.fvwm2rc</em> file to
set up key combinations to scroll one page in any direction on the
desktop using Ctrl plus an arrow key. The view scrolls in the
direction of the arrow.</p>


<p>Each definition uses the Key variable followed by:</p>


<ol><li><p>The name of the key</p></li><li><p>The context (location) in which it must be typed</p></li><li><p>Any modifying keys (that must also be held down)</p></li><li><p>The action initiated by the key or key combination</p></li></ol><p>Thus, in the following example, the first definition line says that
pressing the left arrow key in any "A" context, while also holding
down the Ctrl "C" key will scroll the screen one page to the left on
the current desktop:

<blockquote><pre class="code"># Press arrow + Control in any context
# to scroll by one page in the direction of the arrow
Key Left            A	    C	    Scroll -100 0
Key Right           A	    C	    Scroll +100 +0
Key Up              A	    C	    Scroll +0   -100
Key Down            A	    C	    Scroll +0   +100</pre></blockquote></p>


<?troff .Nd 10?><p>Table 17-1 summarizes the functionality.</p>


<a name="ch17-19-fm2xml" /><h4 class="objtitle">Table 17-1. Key Combinations to Change the Page </h4><table cellpadding="4" border="1">

<tr>
<th><p>Key Combination</p></th>
<th><p>Moves View</p></th>
</tr>






<tr>
<td><p>Control, right arrow key</p></td>
<td><p>One page to the right</p></td>
</tr>


<tr>
<td><p>Control, left arrow key</p></td>
<td><p>One page to the left</p></td>
</tr>


<tr>
<td><p>Control, up arrow key</p></td>
<td><p>One page up</p></td>
</tr>


<tr>
<td><p>Control, down arrow key</p></td>
<td><p>One page down</p></td>
</tr>



</table>


<p><a name="INDEX-2602" /><a name="INDEX-2603" />The Scroll variable takes the same parameters as EdgeScroll, which are
explained in <a href="ch17_12.htm">Section 17.12, "If It's Too Hard (or Easy) to Move
 the Pointer Between Pages"</a>, earlier in
this chapter. See the <b class="emphasis-bold">fvwm2</b> manpage for
more information. Note that the key combinations we've defined let you
get around a single desktop but won't let you advance to another
desktop.  We'll deal with that contingency later.</p>


<p>Here's another possible key binding. This one advances the view to
every page in the desktop in order and finally wraps back to the first
page. You use the Tab key while holding down Control, again in any
context. The definition line looks like this:</p>


<blockquote><pre class="code"># Press Tab + Control in any context to scroll 
# by one page with wrap scrolling
Key Tab         A       C       Scroll 100000 0</pre></blockquote>


<p>Table 17-2 summarizes another page-changing combination.</p>


<a name="ch17-20-fm2xml" /><h4 class="objtitle">Table 17-2. Another Key Combination to Change the Page</h4><table cellpadding="4" border="1">

<tr>
<th><p>Key Combination</p></th>
<th><p>Moves View</p></th>
</tr>






<tr>
<td><p>Control, Tab</p></td>
<td>To the next page in the desktop</td>
</tr>



</table>


<p>Since application windows can straddle pages, there may be times when
you want the screen to display a screenful other than a page proper.
(You might also want to look at windows on two different pages at
once.) The following shortcuts scroll the view one-tenth of a page at
a time. Instead of Control, these shortcuts use the so-called Meta
key. This is a symbolic name -- the actual key that serves the Meta
function varies from keyboard to keyboard. In many cases, the key
labeled Alt serves as the Meta key. Here are the configuration file
definition lines:</p>


<blockquote><pre class="code">## Press arrow + meta key in any context
## to scroll by 1/10 of a page in the direction of arrow
Key Left            A	    M	    Scroll -10 +0
Key Right           A	    M	    Scroll +10 +0
Key Up              A	    M	    Scroll +0   -10
Key Down            A	    M	    Scroll +0   +10</pre></blockquote>


<p>These lines establish the following functionality, outlined in Table
17-3.</p>


<a name="ch17-21-fm2xml" /><h4 class="objtitle">Table 17-3. Key Combinations to Scroll the Page by 1/10 </h4><table cellpadding="4" border="1">

<tr>
<th><p>Key Combination</p></th>
<th><p>Moves View</p></th>
</tr>






<tr>
<td><p>Meta, left arrow key</p></td>
<td><p>One-tenth page to the left</p></td>
</tr>


<tr>
<td><p>Meta, right arrow key</p></td>
<td><p>One-tenth page to the left</p></td>
</tr>


<tr>
<td><p>Meta, up arrow key</p></td>
<td><p>One-tenth page up</p></td>
</tr>


<tr>
<td><p>Meta, down arrow key</p></td>
<td><p>One-tenth page down</p></td>
</tr>



</table>


<p>If you have more than one desktop, you can also create shortcuts to
move between those. The following two shortcuts are intended to let
you go back and forth between desktops in a two-desktop environment:</p>


<blockquote><pre class="code">## Press Control + Return in any context 
## to scroll forward by 1 desktop
Key Return         A       C       Desk 1 1 1
## Press Shift + Control + Return in any context 
## to scroll back by 1 desktop
Key Return         A       SC      Desk -1 0 0</pre></blockquote>


<p>Table 17-4 summarizes these shortcuts.</p>


<a name="ch17-22-fm2xml" /><h4 class="objtitle">Table 17-4. Key Combinations to Scroll to the Next Desktop </h4><table cellpadding="4" border="1">

<tr>
<th><p>Key Combination</p></th>
<th><p>Moves View</p></th>
</tr>






<tr>
<td><p>Control + Return</p></td>
<td><p>One desktop ahead</p></td>
</tr>


<tr>
<td><p>Shift + Control + Return</p></td>
<td><p>One desktop back</p></td>
</tr>



</table>


<p><a name="INDEX-2604" /><a name="INDEX-2605" />The second and third parameters to the Desk variable constrain the
paging so that you can't page beyond the first or second
desktops. (Hypothetically, you can page outside the view of the
Pager!) If you have more than two desktops, you will need to edit
these definitions. See the <b class="emphasis-bold">fvwm2</b>
manpage for more about the Desk
<?troff \p?>variable.</p>
</div>








<a name="ch17-23-fm2xml" /><div class="sect2">
<h3 class="sect2">17.13.2. Moving the Pointer with Keystrokes</h3>


<p><a name="INDEX-2606" /><a name="INDEX-2607" /><a name="INDEX-2608" /><a name="INDEX-2609" />The previous section outlines some keyboard shortcuts you can define
to scroll the page view. But you can also define shortcuts to move the
position of the pointer on the screen. Admittedly this is for people
who are downright mouse haters. But if you're someone who prefers to
use the keyboard to the mouse, these shortcuts can come in handy. They
employ the CursorMove variable, also described on the <b class="emphasis-bold">fvwm2</b> manpage.</p>


<p>The keyboard accelerators in the first group move the cursor symbol
one-tenth of a screen at a time. The first definition line says that
pressing the left arrow key in any "A" context, while also holding
down the Shift "S" and Meta "M" keys will move the cursor one-tenth of
a page in the direction of the arrow:</p>


<blockquote><pre class="code">## Press Shift + Meta + arrow in any context
## to move the pointer by 1/10 of a page in direction of arrow
Key Left            A	    SM	    CursorMove -10  +0
Key Right           A	    SM	    CursorMove +10  +0
Key Up              A	    SM	    CursorMove +0   -10
Key Down            A	    SM	    CursorMove +0   +10</pre></blockquote>


<p>Table 17-5 summarizes the commands.</p>


<a name="ch17-24-fm2xml" /><h4 class="objtitle">Table 17-5. Key Combinations to Move the Pointer by 1/10 of the Page</h4><table cellpadding="4" border="1">

<tr>
<th><p>Key Combination</p></th>
<th><p>Moves Pointer</p></th>
</tr>






<tr>
<td><p>Meta, Shift, left arrow key</p></td>
<td>One-tenth of a page to the left</td>
</tr>


<tr>
<td><p>Meta, Shift, right arrow key</p></td>
<td>One-tenth of a page to the right</td>
</tr>


<tr>
<td><p>Meta, Shift, up arrow key</p></td>
<td><p>One-tenth of a page up</p></td>
</tr>


<tr>
<td>Meta, Shift, down arrow key</td>
<td><p>One-tenth of a page down</p></td>
</tr>



</table>


<p>If you want to have just about as much control moving the pointer with
keystrokes as you do moving it by hand, you can specify shortcuts to
move it a mere one percent of a page at a time:</p>


<blockquote><pre class="code">## Press Shift + Control + arrow in any context 
## to move the pointer by 1% of a page in direction of arrow
Key Left            A	    SC	    CursorMove -1 0
Key Right           A	    SC	    CursorMove +1 +0
Key Up              A	    SC	    CursorMove +0   -1
Key Down            A	    SC	    CursorMove +0   +1</pre></blockquote>


<p>Table 17-6 summarizes the commands.</p>


<a name="ch17-25-fm2xml" /><h4 class="objtitle">Table 17-6. Key Combinations to Move the Pointer by 1 Percent of the Page</h4><table cellpadding="4" border="1">

<tr>
<th><p>Key Combination</p></th>
<th><p>Moves Pointer</p></th>
</tr>






<tr>
<td>Shift, Control, left arrow key</td>
<td>One percent of a page to the left</td>
</tr>


<tr>
<td>Shift, Control, right arrow key</td>
<td>One percent of a page to the right</td>
</tr>


<tr>
<td>Shift, Control, up arrow key</td>
<td>One percent of a page up</td>
</tr>


<tr>
<td>Shift, Control, down arrow key</td>
<td>One percent of a page down</td>
</tr>



</table>
</div>








<a name="ch17-26-fm2xml" /><div class="sect2">
<h3 class="sect2">17.13.3. Keyboard Shortcuts for Menu
 and Window Manipulation </h3>


<p>So far we've limited our keyboard shortcuts to scrolling the view and
moving the pointer. But you can create keyboard bindings for any
window manager function.</p>


<p>Here are some sample bindings to perform simple window operations and
to display a few menus:</p>


<blockquote><pre class="code"># Keyboard accelerators
Key F1          A       M       Iconify
Key F2          A       M       Move
Key F3          A       M       Resize
Key F4          A       M       Popup "RootMenu"
Key F5          A       M       Popup "Misc-Ops"
Key F6          A       M       Popup "Utilities"
Key F7          A       M       Popup "Module-Popup"
<?troff .ne 10?>Key F10         A       M       Restart fvwm2
Key F12         A       SM      Close</pre></blockquote>


<p>These are just sample bindings; you may want to set up your own
keyboard shortcuts to do entirely different things. But these bindings
will let us look at some of the possibilities, as well as potential
problems.</p>


<p>In our sample definition lines, the first binding specifies that if
you press the F1 function key while holding down the Meta "M" key,
with the pointer in any "A" context, the focus window will be
iconified (or deiconified). Meta+F2 lets you initiate moving the focus
window, while Meta+F3 starts a resize operation. (The Meta key is
described in the section "Keyboard Shortcuts to Navigate the Desktop,"
earlier in this chapter.)</p>


<p>Note that if you've adopted the keyboard bindings to move the pointer
(as described in the previous section), you can perform the move and
resize operations entirely with keystrokes. For example, use Meta+F2
to begin a move, then drag the window outline by moving the pointer
symbol using the appropriate keyboard shortcuts, then press the Return
key to complete the operation.</p>


<p>In addition, we've set up function keys to pop-up four different
menus, the contents of which are also defined in the
<em class="emphasis">.fvwm2rc</em> file. Once a menu is popped up, you can
use the up and down arrow keys to highlight items on the menu, right
and left keys to move down and up through submenus (cascading menus),
the Return key to select an item, and Esc to pop down the menu without
making a selection.</p>


<p>Because we do a lot of tinkering with <b class="emphasis-bold">fvwm2</b> customization, we have set up Meta+F10 to
restart the window manager.  This is much faster than bringing up
menus.</p>


<p>We've also created a key combination to close the focus window:
Shift+Meta+F12. Certainly it's handy to be able to get rid of a window
with a keyboard shortcut, but you don't want it to be too easy or you
may do it by mistake. Having an extra modifying key (Shift) and using
the very last function key (F12) require you to act deliberately in
closing a window using this method.</p>
</div>








<a name="INDEX-2610" /><a name="INDEX-2611" /><a name="INDEX-2612" />


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch17_12.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch17_14.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">17.12. If It's Too Hard (or Easy) to Move
 the Pointer Between Pages</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">17.14. Customizing Menus</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>