<?label 11.14. vi Configuration?><html><head><title>vi Configuration (Linux in a Nutshell, 3rd Edition)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Ellen Siever, Stephen Spainhour, Stephen Figgins and Jessica P. Hekman" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="0596000251L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Linux in a Nutshell, 3rd Edition" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Linux in a Nutshell" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch11_13.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">Linux in a Nutshell, 3rd Edition</a></td><td width="172" valign="top" align="right"><a href="ch12_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">11.14. vi Configuration</h2>


<p><a name="INDEX-1848" />This section describes the following:</p>


<ul><li><p>The <b class="emphasis-bold">:set</b> command</p></li><li><p>Options available with <b class="emphasis-bold">:set</b></p></li><li><p>Sample <em class="emphasis">~/.exrc</em> file</p></li></ul><a name="ln.ch08.div.28" /><div class="sect2">
<h3 class="sect2">11.14.1. The :set Command</h3>


<p><a name="INDEX-1849" />The <b class="emphasis-bold">:set</b> command lets you specify
options that change characteristics of your editing
environment. Options may be put in the <em class="emphasis">~/.exrc</em>
file or set during a <b class="emphasis-bold">vi</b> session.</p>


<p>The colon should not be typed if the command is put in <em class="emphasis">~/.exrc</em>.</p>


<a name="ln.ch08.tbl.17" /><table cellpadding="4" border="1">




<tr>
<th>Command</th>
<th>Action</th>
</tr>






<tr>
<td>

<tt class="userinput"><b>:set </b></tt><em class="replaceable">x</em></td>
<td>

Enable option <em class="replaceable">x</em>.</td>
</tr>


<tr>
<td>

<tt class="userinput"><b>:set no</b></tt><em class="replaceable">x</em></td>
<td>

Disable option <em class="replaceable">x</em>.</td>
</tr>


<tr>
<td>

<tt class="userinput"><b>:set </b></tt><em class="replaceable">x</em>=<em class="replaceable">val</em></td>
<td>

Give <em class="replaceable">value</em> to option <em class="replaceable">x</em>.</td>
</tr>


<tr>
<td>

<tt class="userinput"><b>:set</b></tt></td>
<td>

Show changed options.</td>
</tr>


<tr>
<td>

<tt class="userinput"><b>:set all</b></tt></td>
<td>

Show all options.</td>
</tr>


<tr>
<td>

<tt class="userinput"><b>:set </b></tt><em class="replaceable">x</em>?</td>
<td>

Show value of option <em class="replaceable">x</em>.</td>
</tr>



</table>
</div>








<a name="ln.ch08.div.29" /><div class="sect2">
<h3 class="sect2">11.14.2. Options Used by :set</h3>


<p>The following table describes the options to <b class="emphasis-bold">:set</b>.  The first column includes the optional
abbreviation, if there is one, and uses an equals sign to show that
the option takes a value.  The second column gives the default, and
the third column describes the behavior of the enabled option.</p>


<a name="ln.ch08.tbl.18" /><table cellpadding="4" border="1">






<tr>
<th><b class="emphasis-bold">Option</b></th>
<th><b class="emphasis-bold">Default</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><p><b class="emphasis-bold">autoindent</b></p>

<p><b class="emphasis-bold">(ai)</b></p></td>
<td><b class="emphasis-bold">noai</b></td>
<td><p>In insert mode, indent each line to the same level as the line above
or below. Use with <b class="emphasis-bold">shiftwidth</b> option.</p></td>
</tr>




<tr>
<td><p><b class="emphasis-bold">autoprint</b></p>

<p><b class="emphasis-bold">(ap)</b></p></td>
<td><b class="emphasis-bold">ap</b></td>
<td><p>Display changes after each editor command.
(For global replacement, display last replacement.)</p></td>
</tr>





<tr>
<td><p><b class="emphasis-bold">autowrite</b></p>

<p>(aw)</p></td>
<td><b class="emphasis-bold">noaw</b></td>
<td><p>Automatically write (save) file if changed,
before opening another file with <b class="emphasis-bold">:n</b> or before giving Linux
command with <b class="emphasis-bold">:!</b>.</p></td>
</tr>





<tr>
<td><p><b class="emphasis-bold">beautify</b></p>

<p><b class="emphasis-bold">(bf)</b></p></td>
<td><b class="emphasis-bold">nobf</b></td>
<td><p>Ignore all control characters during input (except tab, newline, or formfeed).</p></td>
</tr>





<tr>
<td><p><b class="emphasis-bold">directory=</b></p>

<p><b class="emphasis-bold">(dir)</b></p></td>
<td><b class="emphasis-bold">/tmp</b></td>
<td><p>Name the directory in which <b class="emphasis-bold">ex</b> stores buffer files.
(Directory must be writable.)</p></td>
</tr>





<tr>
<td><b class="emphasis-bold">edcompatible</b></td>
<td><p><b class="emphasis-bold">noed-compatible</b></p></td>
<td><p>Use <b class="emphasis-bold">ed</b>-like features on substitute commands.


</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">errorbells</b></p>

<p><b class="emphasis-bold">(eb)</b></p></td>
<td><b class="emphasis-bold">errorbells</b></td>
<td>Sound bell when an error occurs.</td>
</tr>





<tr>
<td><p><b class="emphasis-bold">exrc</b></p>

<p><b class="emphasis-bold">(ex)</b></p></td>
<td><b class="emphasis-bold">noexrc</b></td>
<td><p>Allow the execution of <em class="emphasis">~/.exrc</em> files that
reside outside the user's home directory.</p></td>
</tr>





<tr>
<td><p><b class="emphasis-bold">hardtabs=</b></p>

<p><b class="emphasis-bold">(ht)</b></p></td>
<td><b class="emphasis-bold">8</b></td>
<td><p>Define boundaries for terminal hardware tabs.
</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">ignorecase</b></p>

<p><b class="emphasis-bold">(ic)</b></p></td>
<td><b class="emphasis-bold">noic</b></td>
<td><p>Disregard case during a search.
</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">lisp</b></td>
<td><b class="emphasis-bold">nolisp</b></td>
<td><p>Insert indents in appropriate LISP format.
(), { }, [[, and ]] are modified to have meaning for LISP.
</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">list</b></td>
<td><b class="emphasis-bold">nolist</b></td>
<td><p>Print tabs as ^I; mark ends of lines with $.
(Use <b class="emphasis-bold">list</b> to tell if end character is a tab or a space.)
</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">magic</b></td>
<td><b class="emphasis-bold">magic</b></td>
<td><p>Wildcard characters
<b class="emphasis-bold">.</b> (dot), <b class="emphasis-bold">*</b> (asterisk), and [ ] (brackets) have
special meaning in patterns.


</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">mesg</b></td>
<td><b class="emphasis-bold">mesg</b></td>
<td><p>Permit system messages to display on terminal while editing in <b class="emphasis-bold">vi</b>.


</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">number</b></p>

<p><b class="emphasis-bold">(nu)</b></p></td>
<td><b class="emphasis-bold">nonu</b></td>
<td><p>Display line numbers on left of screen during editing session.
</p></td>
</tr>





<tr>
<td><p><b class="emphasis-bold">redraw</b></p>

<p><b class="emphasis-bold">(re)</b></p></td>
<td><b class="emphasis-bold">noredraw</b></td>
<td><p>Terminal redraws screen whenever edits are made (in other words, insert mode
pushes over existing characters, and deleted lines immediately close up).
Default depends on line speed and terminal type. <b class="emphasis-bold">noredraw</b> is useful
at slow speeds on a dumb terminal:  deleted lines show up as @, and
inserted text appears to overwrite existing text until you press Esc.</p></td>
</tr>





<tr>
<td><b class="emphasis-bold">remap</b></td>
<td><b class="emphasis-bold">remap</b></td>
<td><p>Allow nested map sequences.
</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">report=</b></td>
<td><b class="emphasis-bold">5</b></td>
<td><p>Display a message on the prompt line whenever you make an edit that
affects at least a certain number of lines.
For example,
<b class="emphasis-bold">6dd</b>
reports the message "6 lines deleted."
</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">scroll=</b></td>
<td><b class="emphasis-bold">&lt;1/2 window&gt;</b></td>
<td><p>Amount of screen to scroll.
</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">sections=</b></p>

<p><b class="emphasis-bold">(sect)</b></p></td>
<td><b class="emphasis-bold">SHNHH HU</b></td>
<td><p>Define section delimiters for [[ ]] movement.
The
pairs of characters in the value are the names of <b class="emphasis-bold">nroff/troff</b>
macros that begin sections.</p></td>
</tr>





<tr>
<td><p><b class="emphasis-bold">shell=</b></p>

<p><b class="emphasis-bold">(sh)</b></p></td>
<td><b class="emphasis-bold">/bin/sh</b></td>
<td><p>Pathname of shell used for shell escape (<b class="emphasis-bold">:!</b>) and shell
command (<b class="emphasis-bold">:sh</b>).
Default value is derived from SHELL variable.</p></td>
</tr>





<tr>
<td><p><b class="emphasis-bold">shiftwidth=</b></p>

<p><b class="emphasis-bold">(sw)</b></p></td>
<td><b class="emphasis-bold">8</b></td>
<td><p>Define number of spaces used by the indent commands (<b class="emphasis-bold">^T</b>,
<b class="emphasis-bold">^D</b>, <b class="emphasis-bold">&gt;&gt;</b>, and <b class="emphasis-bold">&lt;&lt;</b>).</p></td>
</tr>





<tr>
<td><p><b class="emphasis-bold">showmatch</b></p>

<p><b class="emphasis-bold">(sm)</b></p></td>
<td><b class="emphasis-bold">nosm</b></td>
<td><p>In <b class="emphasis-bold">vi</b>, when ) or } is entered, cursor moves
briefly to matching ( or {.
(If the match is not on the screen, rings the error message bell.)
Very useful for programming.</p></td>
</tr>





<tr>
<td><b class="emphasis-bold">showmode</b></td>
<td><b class="emphasis-bold">noshowmode</b></td>
<td><p>In insert mode, displays a message on the prompt line indicating the
type of insert you are making, such as "Open Mode" or "Append
Mode."
</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">slowopen</b></p>



<p><b class="emphasis-bold">(slow)</b></p></td>
<td />
<td><p>Hold off display during insert.
Default depends on line speed and terminal type.
</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">tabstop=</b></p>



<p><b class="emphasis-bold">(ts)</b></p></td>
<td><b class="emphasis-bold">8</b></td>
<td><p>Define number of spaces that a tab
indents during editing session.
(Printer still uses system tab of 8.)
</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">taglength=</b></p>



<p><b class="emphasis-bold">(tl)</b></p></td>
<td><b class="emphasis-bold">0</b></td>
<td><p>Define number of characters that are significant for tags.
Default (0) means that all characters are significant.
</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">tags=</b></td>
<td><p><b class="emphasis-bold">tags


/usr/lib/tags</b></p></td>
<td><p>Define pathname of files containing tags (see the
<b class="emphasis-bold">ctags</b> command in <a href="ch03_01.htm">Chapter 3, "Linux Commands"</a>).
By default, the system looks for files <b class="emphasis-bold">tags</b>
(in the current directory) and <em class="emphasis">/usr/lib/tags</em>.
</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">term=</b></td>
<td />
<td>Set terminal type.</td>
</tr>



<tr>
<td><b class="emphasis-bold">terse</b></td>
<td><b class="emphasis-bold">noterse</b></td>
<td><p>Display shorter error messages.
</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">timeout</b></p>



<p><b class="emphasis-bold">(to)</b></p></td>
<td><b class="emphasis-bold">timeout</b></td>
<td><p>Keyboard maps timeout after 1second.
</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">ttytype=</b></td>
<td />
<td><p>Set terminal type. Default is inherited from TERM environment variable.
</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">warn</b></td>
<td><b class="emphasis-bold">warn</b></td>
<td><p>Display the message, "No write since last change."
</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">window=</b></p>



<p><b class="emphasis-bold">(w)</b></p></td>
<td />
<td><p>Show a certain number of lines of the file on the screen.
Default depends on line speed and terminal type.
</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">wrapmargin=</b></p>



<p><b class="emphasis-bold">(wm)</b></p></td>
<td><b class="emphasis-bold">0</b></td>
<td><p>Define right margin.
If greater than 0, automatically insert carriage returns to break lines.
</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">wrapscan</b></p>



<p><b class="emphasis-bold">(ws)</b></p></td>
<td><b class="emphasis-bold">ws</b></td>
<td><p>Searches wrap around either end of file.
</p></td>
</tr>


<tr>
<td><p><b class="emphasis-bold">writeany</b></p>



<p><b class="emphasis-bold">(wa)</b></p></td>
<td><b class="emphasis-bold">nowa</b></td>
<td>Allow saving to any file.</td>
</tr>



</table><p><a name="INDEX-1850" /></p>
</div>








<a name="ln.ch08.div.30" /><div class="sect2">
<h3 class="sect2">11.14.3. Sample ~/.exrc File</h3>


<p>The following lines of code are an example of
a customized <em class="filename">.exrc</em> file:</p>


<blockquote><pre class="code">set nowrapscan wrapmargin=7
set sections=SeAhBhChDh nomesg
map q :w^M:n^M
map v dwElp
ab ORA O'Reilly &amp; Associates, Inc.</pre></blockquote>


<p><a name="INDEX-1851" /><a name="INDEX-1852" /></p>
</div>


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch11_13.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch12_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">11.13. Alphabetical Summary of ex Commands</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">12. The sed Editor</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>