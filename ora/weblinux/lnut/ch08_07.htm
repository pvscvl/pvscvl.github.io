<?label 8.7. Command-Line Manipulation?><html><head><title>Command-Line Manipulation (Linux in a Nutshell, 3rd Edition)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Ellen Siever, Stephen Spainhour, Stephen Figgins and Jessica P. Hekman" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="0596000251L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Linux in a Nutshell, 3rd Edition" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Linux in a Nutshell" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch08_06.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">Linux in a Nutshell, 3rd Edition</a></td><td width="172" valign="top" align="right"><a href="ch08_08.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">8.7. Command-Line Manipulation</h2>


<p><b class="emphasis-bold">csh</b> and <b class="emphasis-bold">tcsh</b>
offer a certain amount of functionality in manipulating the command
line. Both shells offer word or command completion, and
<b class="emphasis-bold">tcsh</b> allows you to edit
a  command line.</p>


<a name="ln.ch05.div.44" /><div class="sect2">
<h3 class="sect2">8.7.1. Completion</h3>


<a name="INDEX-1574" /><p>Both <b class="emphasis-bold">tcsh</b> and 
<b class="emphasis-bold">csh</b> provide word completion. 
<b class="emphasis-bold">tcsh</b>
automatically completes words and commands when the Tab key is
hit; <b class="emphasis-bold">csh</b> does so only when the
<em class="emphasis">filec</em> variable is set, after the Esc key is hit. If the
completion is ambiguous (i.e.,
more than one file matches the provided string), the shell
completes as much as possible and beeps to notify you that the
completion is not finished. You may request a list of possible
completions with Ctrl-D.
<b class="emphasis-bold">tcsh</b> also notifies you when a
completion is finished by appending a space to complete filenames or
commands and a <b class="emphasis-bold">/</b> to complete directories.</p>


<p>Both <b class="emphasis-bold">csh</b> and 
<b class="emphasis-bold">tcsh</b> recognize 
<b class="emphasis-bold">~</b> notation for home directories. The shells 
assume that words at the beginning of a line and subsequent to 
<b class="emphasis-bold">|</b>, <b class="emphasis-bold">&amp;</b>,
<b class="emphasis-bold">;</b>,
<b class="emphasis-bold">||</b>, or
<b class="emphasis-bold">&amp;&amp;</b> are commands and modify 
their search paths appropriately. Completion can be done midword; only 
the letters to the left of the prompt are checked for completion.</p>
</div>








<div class="sect2">
<h3 class="sect2">8.7.2. Related Shell Variables</h3>


<ul><li><p><b class="emphasis-bold">autolist</b></p></li><li><p><b class="emphasis-bold">fignore</b></p></li><li><p><b class="emphasis-bold">listmax</b></p></li><li><p><b class="emphasis-bold">listmaxrows</b></p></li></ul>

</div>








<div class="sect2">
<h3 class="sect2">8.7.3. Related Command-Line Editor Commands</h3>


<ul><li><p><b class="emphasis-bold">complete-word-back</b></p></li><li><p><b class="emphasis-bold">complete-word-forward</b></p></li><li><p><b class="emphasis-bold">expand-glob</b></p></li><li><p><b class="emphasis-bold">list-glob</b></p></li></ul>
</div>








<div class="sect2">
<h3 class="sect2">8.7.4. Related Shell Built-ins</h3>


<ul><li><p><b class="emphasis-bold">complete</b></p></li><li><p><b class="emphasis-bold">uncomplete</b></p></li></ul>
</div>








<a name="ln.ch05.div.45" /><div class="sect2">
<h3 class="sect2">8.7.5. Command-Line Editing with tcsh</h3>


<p><a name="INDEX-1575" /><a name="INDEX-1576" /><b class="emphasis-bold">tcsh</b>
lets you move your cursor around in the command line, editing the line as
you type. There are two main modes for editing the command line,
based on the two most common text editors: Emacs and <b class="emphasis-bold">vi</b>. Emacs mode is the default; you can switch
between the modes with:</p>


<blockquote><pre class="code">bindkey -e     Select Emacs bindings
bindkey -v     Select vi bindings</pre></blockquote>


<p>The main difference between the Emacs and 
<b class="emphasis-bold">vi</b> bindings
is that the Emacs bindings are modeless (i.e., they
always work). With the <b class="emphasis-bold">vi</b> bindings,
you must switch between insert and command modes; different commands
are useful in each mode. Additionally:</p>


<ul><li><p>Emacs mode is simpler; <b class="emphasis-bold">vi</b> mode allows
finer control.</p></li><li><p>Emacs mode allows you to yank cut text and set a mark;
<b class="emphasis-bold">vi</b> mode does not.</p></li><li><p>The command-history-searching capabilities differ.</p></li></ul><a name="ln.ch05.div.46" /><div class="sect3">
<h3 class="sect3">8.7.5.1. Emacs mode</h3>


<a name="INDEX-1577" /><p><a href="ch08_07.htm">Table 8-1</a> through <a href="ch08_07.htm">Table 8-3</a> describe the various editing keystrokes available
in Emacs mode.</p>


<a name="ln.ch05.tbl.27" /><h4 class="objtitle">Table 8-1. Cursor Positioning Commands (Emacs Mode)</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">Ctrl-B</b></td>
<td>Move cursor back (left) one character.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-F</b></td>
<td>Move cursor forward (right) one character.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc b</b></td>
<td>Move cursor back one word.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc f</b></td>
<td>Move cursor forward one word.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-A</b></td>
<td>Move cursor to beginning of line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-E</b></td>
<td>Move cursor to end of line.</td>
</tr>




</table>


<a name="ln.ch05.tbl.28" /><h4 class="objtitle">Table 8-2. Text Deletion Commands (Emacs Mode)</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">Del</b> or <b class="emphasis-bold">Ctrl-H</b></td>
<td>Delete character to left of cursor.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-D</b></td>
<td>Delete character under cursor.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc d</b></td>
<td>Delete word.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc Del</b> or <b class="emphasis-bold">Esc Ctrl-H</b></td>
<td>Delete word backward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-K</b></td>
<td>Delete from cursor to end-of-line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-U</b></td>
<td>Delete entire line.</td>
</tr>




</table>


<a name="ln.ch05.tbl.29" /><h4 class="objtitle">Table 8-3. Command Control (Emacs Mode)</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">Ctrl-P</b></td>
<td>Previous command.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-N</b></td>
<td>Next command.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Up arrow</b></td>
<td>Previous command.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Down arrow</b></td>
<td>Next command.</td>
</tr>


<tr>
<td><em class="emphasis">cmd-fragment</em> <b class="emphasis-bold">Esc p</b></td>
<td><p>Search history for <em class="emphasis">cmd-fragment</em>, which must be the beginning of
a command.</p></td>
</tr>


<tr>
<td><em class="emphasis">cmd-fragment</em> <b class="emphasis-bold">Esc n</b></td>
<td>Like <b class="emphasis-bold">Esc p</b>, but search forward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc</b> <em class="emphasis">num</em></td>
<td>Repeat next command <em class="emphasis">num</em> times.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-Y</b></td>
<td>Yank previously deleted string.</td>
</tr>




</table>
</div>




<a name="ln.ch05.div.47" /><div class="sect3">
<h3 class="sect3">8.7.5.2. vi mode</h3>


<a name="INDEX-1578" /><p><b class="emphasis-bold">vi</b> mode has two submodes, insert mode and command mode. The default mode
is insert. You can toggle modes by pressing Esc; alternatively, in command mode,
typing <b class="emphasis-bold">a</b> (append) or <b class="emphasis-bold">i</b> (insert) will return you to insert mode.</p>


<p>Tables 8-4 through 8-10 describe the editing keystrokes available in
vi mode.</p>


<a name="ln.ch05.tbl.30" /><h4 class="objtitle">Table 8-4. Commands Available (vi's Insert and Command Mode)</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">Ctrl-P</b></td>
<td>Previous command</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-N</b></td>
<td>Next command</td>
</tr>


<tr>
<td><b class="emphasis-bold">Up arrow</b></td>
<td>Previous command</td>
</tr>


<tr>
<td><b class="emphasis-bold">Down arrow</b></td>
<td>Next command</td>
</tr>


<tr>
<td><b class="emphasis-bold">Esc</b></td>
<td>Toggle mode</td>
</tr>




</table>


<a name="ln.ch05.tbl.31" /><h4 class="objtitle">Table 8-5. Editing Commands (vi Insert Mode)</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">Ctrl-B</b></td>
<td>Move cursor back (left) one character.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-F</b></td>
<td>Move cursor forward (right) one character.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-A</b></td>
<td>Move cursor to beginning of line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-E</b></td>
<td>Move cursor to end-of-line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">DEL</b> or <b class="emphasis-bold">Ctrl-H</b></td>
<td>Delete character to left of cursor.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-W</b></td>
<td>Delete word backward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-U</b></td>
<td>Delete from beginning of line to cursor.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-K</b></td>
<td>Delete from cursor to end-of-line.</td>
</tr>




</table>


<a name="ln.ch05.tbl.32" /><h4 class="objtitle">Table 8-6. Cursor Positioning Commands (vi Command Mode)</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">h</b> or <b class="emphasis-bold">Ctrl-H</b></td>
<td>Move cursor back (left) one character.</td>
</tr>


<tr>
<td><b class="emphasis-bold">l</b> or <b class="emphasis-bold">SPACE</b></td>
<td>Move cursor forward (right) one character.</td>
</tr>


<tr>
<td><b class="emphasis-bold">w</b></td>
<td>Move cursor forward (right) one word.</td>
</tr>


<tr>
<td><b class="emphasis-bold">b</b></td>
<td>Move cursor back (left) one word.</td>
</tr>


<tr>
<td><b class="emphasis-bold">e</b></td>
<td>Move cursor to next word ending.</td>
</tr>


<tr>
<td><p><b class="emphasis-bold">W</b>, <b class="emphasis-bold">B</b>, 
<b class="emphasis-bold">E</b></p></td>
<td><p>Like <b class="emphasis-bold">w</b>, <b class="emphasis-bold">b</b>, and <b class="emphasis-bold">e</b>, but treat just whitespace as word
separator instead of any non-alphanumeric character.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">^</b> or <b class="emphasis-bold">Ctrl-A</b></td>
<td><p>Move cursor to beginning of line (first nonwhitespace character).</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">0</b></td>
<td>Move cursor to beginning of line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">$</b> or <b class="emphasis-bold">Ctrl-E</b></td>
<td>Move cursor to end-of-line.</td>
</tr>




</table>




<?troff .Nd 10?><a name="ln.ch05.tbl.33" /><h4 class="objtitle">Table 8-7. Text Insertion Commands (vi Command Mode)</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">a</b></td>
<td>Append new text after cursor until <b class="emphasis-bold">Esc</b>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">i</b></td>
<td>Insert new text before cursor until <b class="emphasis-bold">Esc</b>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">A</b></td>
<td>Append new text after end of line until <b class="emphasis-bold">Esc</b>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">I</b></td>
<td>Insert new text before beginning of line until <b class="emphasis-bold">Esc</b>.</td>
</tr>




</table>


<a name="ln.ch05.tbl.34" /><h4 class="objtitle">Table 8-8. Text Deletion Commands (vi Command Mode)</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">x</b></td>
<td>Delete character under cursor.</td>
</tr>


<tr>
<td><b class="emphasis-bold">X</b> or <b class="emphasis-bold">Del</b></td>
<td>Delete character to left of cursor.</td>
</tr>


<tr>
<td><b class="emphasis-bold">d</b><em class="emphasis">m</em></td>
<td>Delete from cursor to end of motion command <em class="emphasis">m</em>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">D</b></td>
<td>Same as <b class="emphasis-bold">d$</b>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-W</b></td>
<td>Delete word backward.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-U</b></td>
<td>Delete from beginning of line to cursor.</td>
</tr>


<tr>
<td><b class="emphasis-bold">Ctrl-K</b></td>
<td>Delete from cursor to end of line.</td>
</tr>




</table>


<a name="ln.ch05.tbl.35" /><h4 class="objtitle">Table 8-9. Text Replacement Commands (vi Command Mode)</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">c</b><em class="emphasis">m</em></td>
<td><p>Change characters from cursor to end of motion command <em class="emphasis">m</em> until <b class="emphasis-bold">Esc</b>.</p></td>
</tr>


<tr>
<td><b class="emphasis-bold">C</b></td>
<td>Same as <b class="emphasis-bold">c$</b>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">r</b><em class="emphasis">c</em></td>
<td>Replace character under cursor with character <em class="emphasis">c</em>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">R</b></td>
<td>Replace multiple characters until <b class="emphasis-bold">Esc</b>.</td>
</tr>


<tr>
<td><b class="emphasis-bold">s</b></td>
<td><p>Substitute character under cursor with characters typed until <b class="emphasis-bold">Esc</b>.
</p></td>
</tr>



</table>


<a name="ln.ch05.tbl.36" /><h4 class="objtitle">Table 8-10. Character-Seeking Motion Commands (vi Command Mode)</h4><table cellpadding="4" border="1">




<tr>
<th><b class="emphasis-bold">Command</b></th>
<th><b class="emphasis-bold">Description

</b></th>
</tr>






<tr>
<td><b class="emphasis-bold">f</b><em class="emphasis">c</em></td>
<td>Move cursor to next instance of <em class="emphasis">c</em> in line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">F</b><em class="emphasis">c</em></td>
<td>Move cursor to previous instance of <em class="emphasis">c</em> in line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">t</b><em class="emphasis">c</em></td>
<td>Move cursor just before next instance of <em class="emphasis">c</em> in line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">T</b><em class="emphasis">c</em></td>
<td>Move cursor just after previous instance of <em class="emphasis">c</em> in line.</td>
</tr>


<tr>
<td><b class="emphasis-bold">;</b></td>
<td>Repeat previous <b class="emphasis-bold">f</b> or <b class="emphasis-bold">F</b> command.</td>
</tr>


<tr>
<td><b class="emphasis-bold">,</b></td>
<td>Repeat previous <b class="emphasis-bold">f</b> or <b class="emphasis-bold">F</b> command in opposite direction.</td>
</tr>




</table>


<p><a name="INDEX-1579" /><a name="INDEX-1580" /></p>
</div>
</div>


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch08_06.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch08_08.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">8.6. Command History</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">8.8. Job Control</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>