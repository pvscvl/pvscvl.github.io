<?label 14.9. Alphabetical Summary of RCS Commands?><html><head><title>Alphabetical Summary of RCS Commands (Linux in a Nutshell, 3rd Edition)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Ellen Siever, Stephen Spainhour, Stephen Figgins and Jessica P. Hekman" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="0596000251L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Linux in a Nutshell, 3rd Edition" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Linux in a Nutshell" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch14_08.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">Linux in a Nutshell, 3rd Edition</a></td><td width="172" valign="top" align="right"><a href="ch15_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">14.9. Alphabetical Summary of RCS Commands</h2>


<p>For details on the syntax of keywords, revision numbers,
dates, states, and standard options, refer to the previous discussions.</p>


<table cellpadding="5" border="1"><tr><td valign="top">ci</td><td><p><b class="emphasis-bold">ci</b> [<em class="emphasis">options</em>] <em class="emphasis">files</em></p><a name="INDEX-2210" /><p>Check in revisions.  <b class="emphasis-bold">ci</b> stores the contents of the specified working
<em class="emphasis">files</em> into their corresponding RCS files.
Normally, <b class="emphasis-bold">ci</b> deletes the working file after storing it.
If no RCS file exists, then the working file is an initial revision.
In this case, the RCS file is created and you are
prompted to enter a description of the file.
If an RCS file exists, <b class="emphasis-bold">ci</b> increments the revision number
and prompts you to enter a message that logs the changes made.
Starting with RCS Version 5.6, if a working file is checked in without changes,
the file reverts to the previous revision.  In older RCS versions,
you may end up having to check in a new revision that contains no changes.</p>


<p>The mutually exclusive options <b class="emphasis-bold">-u</b>, <b class="emphasis-bold">-l</b>, and <b class="emphasis-bold">-r</b>
are the most common.
Use <b class="emphasis-bold">-u</b> to keep a read-only copy of the working file 
(for example, so that the file can be compiled or searched).
Use <b class="emphasis-bold">-l</b> to update a revision and then immediately check it out
again with a lock.  This allows you to save intermediate
changes but continue editing (for example, during a 
long editing session).  Use <b class="emphasis-bold">-r</b> to check in a file with a different
release number.
<b class="emphasis-bold">ci</b> accepts the standard options
<b class="emphasis-bold">-q</b>,
<b class="emphasis-bold">-V</b>,
<b class="emphasis-bold">-x</b>,
<?troff \p?>and
<b class="emphasis-bold">-z</b>.</p>


<h4 class="refsect2">Options</h4>


<dl>
<dt><b><b class="emphasis-bold">-d</b>[<em class="emphasis">date</em>]</b></dt><dd><p>Check the file in with a timestamp of <em class="emphasis">date</em> or, if no date is specified,
with the time of last modification.</p></dd>



<dt><b><b class="emphasis-bold">-f</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Force a checkin even if there are no differences.</p></dd>



<dt><b><b class="emphasis-bold">-I</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Interactive mode; prompt user even when standard input is
not a terminal (e.g., when <b class="emphasis-bold">ci</b> is part of a command pipeline).
<b class="emphasis-bold">-I</b> was new in RCS Version 5.</p></dd>



<dt><b><b class="emphasis-bold">-i</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Create (initialize) an RCS file and check it in. A warning
is reported if the RCS file already exists.</p></dd>



<dt><b><b class="emphasis-bold">-j</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Check in a file without initializing. Will report an error
if file does not already exist.</p></dd>



<dt><b><b class="emphasis-bold">-k</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Assign a revision number, creation date, state, and author
from keyword values that were placed in the working file, instead of
computing the revision information from the local environment.  
<b class="emphasis-bold">-k</b> is useful for software distribution:  the preset keywords 
serve as a timestamp shared by all distribution sites.</p></dd>



<dt><b><b class="emphasis-bold">-l</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Do a <b class="emphasis-bold">co  -l</b> after checking in.  This leaves a locked copy
of the next revision.</p></dd>



<dt><b><b class="emphasis-bold">-m</b><em class="emphasis">msg</em></b></dt><dd><p>Use the <em class="emphasis">msg</em> string as the log message for all files checked in.
When checking in multiple files, <b class="emphasis-bold">ci</b> normally prompts
whether to reuse the log message of the previous file. <b class="emphasis-bold">-m</b> bypasses this prompting.</p></dd>



<dt><b><b class="emphasis-bold">-M</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Set the working file's modification time to that of the
retrieved version. Use of <b class="emphasis-bold">-M</b> can confuse <b class="emphasis-bold">make</b> and should be used with care. (This was new in RCS Version 5.6.)</p></dd>



<dt><b><b class="emphasis-bold">-n</b><em class="emphasis">name</em></b></dt><dd><p>Associate a text <em class="emphasis">name</em> with the new revision number.</p></dd>



<dt><b><b class="emphasis-bold">-N</b><em class="emphasis">name</em></b></dt><dd><p>Same as <b class="emphasis-bold">-n</b>, but override a previous <em class="emphasis">name</em>.</p></dd>



<dt><b><b class="emphasis-bold">-r</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Check the file in as revision <em class="emphasis">R</em>.</p></dd>



<dt><b><b class="emphasis-bold">-r</b></b></dt><dd><p>By itself, reverts to default behavior when releasing a lock and
removing the working file. This option overrides any <b class="emphasis-bold">-l</b> or
<b class="emphasis-bold">-u</b> options that have been initialized by shell aliases or scripts. This behavior for <b class="emphasis-bold">-r</b> is specific to <b class="emphasis-bold">ci</b>.</p></dd>



<dt><b><b class="emphasis-bold">-s</b><em class="emphasis">state</em></b></dt><dd><p>Set the <em class="emphasis">state</em> of the checked-in revision.</p></dd>



<dt><b><b class="emphasis-bold">-T</b></b></dt><dd><p>Set the RCS file's modification time to the time of the 
latest revision if the RCS file's time precedes the new
revision.</p></dd>



<dt><b><b class="emphasis-bold">-t</b><em class="emphasis">file</em></b></dt><dd><p>Replace RCS file description with contents of <em class="emphasis">file</em>. As of Version 5, this works only for initial checkin.</p></dd>



<dt><b><b class="emphasis-bold">-t-</b><em class="emphasis">string</em></b></dt><dd><p>Replace RCS file description with <em class="emphasis">string</em>. As of Version 5, this works only for initial checkin.</p></dd>



<dt><b><b class="emphasis-bold">-u[<em class="emphasis">R</em>]</b></b></dt><dd><p>Do a <b class="emphasis-bold">co  -u</b> after checking in.  This leaves a read-only copy.</p></dd>



<dt><b><b class="emphasis-bold">-w</b><em class="emphasis">user</em></b></dt><dd><p>Set the author field to <em class="emphasis">user</em> in the checked-in revision.</p></dd>

</dl>


<h4 class="refsect2">Examples</h4>


<p>Check in chapter files using the same log message:</p>


<blockquote><pre class="code"><tt class="userinput"><b>ci -m'First round edits' chap*</b></tt></pre></blockquote>


<p>Check in edits to <b class="emphasis-bold">prog.c</b>, leaving a read-only copy:</p>


<?troff .rm CURRENT?><blockquote><pre class="code"><tt class="userinput"><b>ci -u prog.c</b></tt></pre></blockquote>


<p>Start revision level 2; refer to revision 2.1 as "Prototype":</p>


<blockquote><pre class="code"><tt class="userinput"><b>ci -r2 -nPrototype prog.c</b></tt></pre></blockquote>


</td></tr><tr><td valign="top">co</td><td><p><b class="emphasis-bold">co</b> [<em class="emphasis">options</em>] <em class="emphasis">files</em></p><a name="INDEX-2211" /><p>Retrieve a previously checked-in revision,
and place it in the corresponding working file
(or print to standard output if <b class="emphasis-bold">-p</b> is specified).
If you intend to edit the working file and check it in again,
specify <b class="emphasis-bold">-l</b> to lock the file.
<b class="emphasis-bold">co</b> accepts the standard options <b class="emphasis-bold">-q</b>, <b class="emphasis-bold">-V</b>, and <b class="emphasis-bold">-x</b>.
</p>


<?troff .Nd 10?><h4 class="refsect2">Options</h4>


<dl>
<dt><b><b class="emphasis-bold">-d</b><em class="emphasis">date</em></b></dt><dd><p>Retrieve latest revision whose checkin timestamp is on or before <em class="emphasis">date</em>.</p></dd>



<dt><b><b class="emphasis-bold">-f</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Force the working file to be overwritten.</p></dd>



<dt><b><b class="emphasis-bold">-I</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Interactive mode; prompt user even when standard input is not a terminal.
(New in RCS Version 5.)</p></dd>



<dt><b><b class="emphasis-bold">-j</b><em class="emphasis">R2</em>:<em class="emphasis">R3</em></b></dt><dd><p>This works like <b class="emphasis-bold">rcsmerge</b>.
<em class="emphasis">R2</em> and <em class="emphasis">R3</em> specify two revisions whose changes are merged
into a third file: either the corresponding working file
or a third revision (any <em class="emphasis">R</em> specified by other <b class="emphasis-bold">co</b> options).</p></dd>



<dt><b><b class="emphasis-bold">-k</b><em class="emphasis">c</em></b></dt><dd><p>Expand keyword symbols according to flag <em class="emphasis">c</em>. <em class="emphasis">c</em> can be:</p>


<dl>
<dt><b><b class="emphasis-bold">b</b></b></dt><dd><p>Like <b class="emphasis-bold">o</b>, but performs its operations in binary mode, generating
the previous revision's keywords and values in binary.</p></dd>



<dt><b><b class="emphasis-bold">k</b></b></dt><dd><p>Expand symbols to keywords only (no values).  This is useful
for ignoring trivial differences during file comparison.</p></dd>



<dt><b><b class="emphasis-bold">kv</b></b></dt><dd><p>Expand symbols to keyword and value (the default).
Insert the locker's name only during a <b class="emphasis-bold">ci  -l</b> or <b class="emphasis-bold">co  -l</b>.</p></dd>



<dt><b><b class="emphasis-bold">kvl</b></b></dt><dd><p>Like <b class="emphasis-bold">kv</b>, but always insert the locker's name.</p></dd>



<dt><b><b class="emphasis-bold">o</b></b></dt><dd><p>Expand symbols to keyword and value present in previous revision. This is useful for binary files that don't allow substring changes.</p></dd>



<dt><b><b class="emphasis-bold">v</b></b></dt><dd><p>Expand symbols to values only (no keywords). This prevents further keyword substitution and is not recommended.</p></dd>

</dl></dd>



<dt><b><b class="emphasis-bold">-l</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Same as <b class="emphasis-bold">-r</b>, but also lock the retrieved revision.</p></dd>



<dt><b><b class="emphasis-bold">-M</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Set the working file's modification time to that of the retrieved version. Use of <b class="emphasis-bold">-M</b> can confuse <b class="emphasis-bold">make</b> and should be used with care. (This was new in RCS Version 5.6.)</p></dd>



<dt><b><b class="emphasis-bold">-p</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Send retrieved revision to standard output instead of to a working file. Useful for output redirection or filtering.</p></dd>



<dt><b><b class="emphasis-bold">-r</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Retrieve the latest revision or, if <em class="emphasis">R</em> is given,
retrieve the latest revision that is equal to or lower than <em class="emphasis">R</em>.</p></dd>



<dt><b><b class="emphasis-bold">-s</b><em class="emphasis">state</em></b></dt><dd><p>Retrieve the latest revision having the given <em class="emphasis">state</em>.</p></dd>



<dt><b><b class="emphasis-bold">-T</b></b></dt><dd><p>Preserve the modification time of the RCS file even if a
lock is added or removed.</p></dd>



<dt><b><b class="emphasis-bold">-u</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Same as <b class="emphasis-bold">-r</b>, but also unlock the retrieved revision
if you locked it previously.</p></dd>



<dt><b><b class="emphasis-bold">-w</b>[<em class="emphasis">user</em>]</b></dt><dd><p>Retrieve the latest revision that was checked in either
by the invoking user or by the specified <em class="emphasis">user</em>.</p></dd>

</dl>


<h4 class="refsect2">Examples</h4>


<p>Sort the latest stored version of <em class="emphasis">file</em>:</p>


<blockquote><pre class="code"><tt class="userinput"><b>co -p </b></tt><em class="replaceable">file</em> | sort</pre></blockquote>


<p>Check out (and lock) all uppercase filenames for editing:</p>


<blockquote><pre class="code"><tt class="userinput"><b>co -l [A-Z]*</b></tt></pre></blockquote>


<p>Note that filename expansion
fails unless a working copy resides in the current directory.
Therefore, this example works only if the files were previously
checked in via <b class="emphasis-bold">ci  -u</b>.
Finally, here are some different ways to extract the working files
for a set of RCS files (in the current directory):</p>


<blockquote><pre class="code"><tt class="userinput"><b>co -r3 *,v</b></tt>                  Latest revisions of release 3
<tt class="userinput"><b>co -r3 -wjim *,v</b></tt>            Same, but only if checked in by jim
<tt class="userinput"><b>co -d'May 5, 2 pm LT' *,v</b></tt>   Latest revisions that were modified on or before the date
<tt class="userinput"><b>co -rPrototype *,v</b></tt>          Latest revisions named Prototype</pre></blockquote>


</td></tr><tr><td valign="top">ident</td><td><p><b class="emphasis-bold">ident</b> [<em class="replaceable">option</em>] [<em class="replaceable">files</em>]</p><a name="INDEX-2212" /><p>Extract keyword/value symbols from <em class="emphasis">files</em>.
<em class="emphasis">files</em> can be text files, object files, or dumps.</p>


<h4 class="refsect2">Option</h4>


<dl>
<dt><b><b class="emphasis-bold">-q</b></b></dt><dd><p>Suppress warning message when no keyword patterns are found.</p></dd>

</dl>


<h4 class="refsect2">Examples</h4>


<p>If file <b class="emphasis-bold">prog.c</b> is compiled, and
it contains this line of code:</p>


<blockquote><pre class="code">char rcsID[] = "$Author: ellie $";</pre></blockquote>


<p>then the following output is produced:</p>


<blockquote><pre class="code">% <tt class="userinput"><b>ident prog.c prog.o</b></tt>
prog.c:
     $Author: ellie $
prog.o:
     $Author: ellie $</pre></blockquote>


<p>Show keywords for all RCS files (suppress warnings):</p>


<blockquote><pre class="code"><tt class="userinput"><b>co -p RCS/*,v | ident -q</b></tt></pre></blockquote>


</td></tr><tr><td valign="top">rcs</td><td><p><b class="emphasis-bold">rcs</b> [<em class="emphasis">options</em>] &lt;<em class="emphasis">files</em></p><a name="INDEX-2213" /><p>An administrative command for
setting up or changing the default attributes of RCS files.
Among other things, <b class="emphasis-bold">rcs</b> lets you set strict locking (<b class="emphasis-bold">-L</b>),
delete revisions (<b class="emphasis-bold">-o</b>), and override locks set by <b class="emphasis-bold">co</b>
(<b class="emphasis-bold">-l</b> and <b class="emphasis-bold">-u</b>).
RCS files have an access list (created via <b class="emphasis-bold">-a</b>); anyone whose username
is on the list can run <b class="emphasis-bold">rcs</b>.  The access list is often
empty, meaning that <b class="emphasis-bold">rcs</b> is available to everyone.
In addition, you can always invoke <b class="emphasis-bold">rcs</b> if you
own the file, if you're a privileged user, or if you
run <b class="emphasis-bold">rcs</b> with <b class="emphasis-bold">-i</b>. 
<b class="emphasis-bold">rcs</b> accepts the standard options
<b class="emphasis-bold">-q</b>,
<b class="emphasis-bold">-V</b>,
<b class="emphasis-bold">-x</b>, and
<b class="emphasis-bold">-z</b>.</p>


<h4 class="refsect2">Options</h4>


<dl>
<dt><b><b class="emphasis-bold">-a</b><em class="emphasis">users</em></b></dt><dd><p>Append the comma-separated list of <em class="emphasis">users</em> to the access list.</p></dd>



<dt><b><b class="emphasis-bold">-A</b><em class="emphasis">otherfile</em></b></dt><dd><p>Append <em class="emphasis">otherfile</em>'s access list to the access list of <em class="emphasis">files</em>.</p></dd>



<dt><b><b class="emphasis-bold">-b</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Set the default branch to <em class="emphasis">R</em> or, if <em class="emphasis">R</em> is omitted, to the
highest branch on the trunk.</p></dd>



<dt><b><b class="emphasis-bold">-c</b>`<em class="emphasis">s</em>'</b></dt><dd><p>The comment character for <b class="emphasis-bold">$Log</b> 
keywords is set to string <em class="emphasis">s</em>. By default, <b class="emphasis-bold">co</b> expands embedded <b class="emphasis-bold">$Log</b> keywords
into comments preceded by <b class="emphasis-bold">#</b>. You could, for example, set 
<em class="emphasis">s</em> to <b class="emphasis-bold">.\"</b> for <b class="emphasis-bold">troff</b> files or set <em class="emphasis">s</em> to <b class="emphasis-bold">*</b> for
C programs. (You would need to manually insert an 
enclosing <b class="emphasis-bold">/*</b> and <b class="emphasis-bold">*/</b> before and after <b class="emphasis-bold">$Log</b>.)</p></dd>



<dt><b><b class="emphasis-bold">-e</b>[<em class="emphasis">users</em>]</b></dt><dd><p>Erase everyone (or only the specified <em class="emphasis">users</em>) from the access list.</p></dd>



<dt><b><b class="emphasis-bold">-i</b></b></dt><dd><p>Create (initialize) an RCS file, but don't deposit a revision.</p></dd>



<dt><b><b class="emphasis-bold">-I</b></b></dt><dd><p>Interactive mode; prompt user even when standard input is not a terminal. (New in RCS Version 5.)</p></dd>



<dt><b><b class="emphasis-bold">-k</b><em class="emphasis">c</em></b></dt><dd><p>Use <em class="emphasis">c</em> as the default style for keyword substitution. (See <b class="emphasis-bold">co</b> for values of <em class="emphasis">c</em>.) <b class="emphasis-bold">-kkv</b> restores the default
substitution style; all other styles create incompatibilities with
RCS Version 4 or earlier.</p></dd>



<dt><b><b class="emphasis-bold">-l</b>[<em class="emphasis">R</em></b></dt><dd><p>Lock revision <em class="emphasis">R</em> or the latest revision. <b class="emphasis-bold">-l</b> "retroactively locks" a file and is useful if you checked
out a file incorrectly by typing <b class="emphasis-bold">co</b> instead of <b class="emphasis-bold">co  -l</b>.</p></dd>



<dt><b><b class="emphasis-bold">-L</b></b></dt><dd><p>Turn on strict locking (the default). This means that everyone, including the owner
of the RCS file, must use <b class="emphasis-bold">co -l</b> to edit files.
Strict locking is recommended when files are to be shared.  (See <b class="emphasis-bold">-U</b>.)</p></dd>



<dt><b><b class="emphasis-bold">-m</b><em class="emphasis">R</em><b class="emphasis-bold">:</b><em class="emphasis">msg</em></b></dt><dd><p>Use the <em class="emphasis">msg</em> string to replace the log message of revision <em class="emphasis">R</em>.
(This was new in RCS Version 5.6.)</p></dd>



<dt><b><b class="emphasis-bold">-M</b></b></dt><dd><p>Disable email notification when breaking a lock on a file with <b class="emphasis-bold">rcs -u</b>.
This should only be used when there is another means to warn users
that their files have been unlocked.</p></dd>



<dt><b><b class="emphasis-bold">-n</b><em class="emphasis">flags</em></b></dt><dd><p>Add or delete an association between a revision and a name.
<em class="emphasis">flags</em> can be:</p>


<dl>
<dt><b><em class="emphasis">name</em>:<em class="emphasis">R</em></b></dt><dd><p>Associate <em class="emphasis">name</em> with revision <em class="emphasis">R</em>.</p></dd>



<dt><b><em class="emphasis">name</em>:</b></dt><dd><p>Associate <em class="emphasis">name</em> with latest revision.</p></dd>



<dt><b><em class="emphasis">name</em></b></dt><dd><p>Remove association of <em class="emphasis">name</em>.</p></dd>

</dl></dd>



<dt><b><b class="emphasis-bold">-N<em class="emphasis">flags</em></b></b></dt><dd><p>Same as <b class="emphasis-bold">-n</b>, but overwrite existing <em class="emphasis">names</em>.</p></dd>



<dt><b><b class="emphasis-bold">-o</b><em class="emphasis">R_list</em></b></dt><dd><p>Delete (outdate) revisions listed in <em class="emphasis">R_list</em>.
<em class="emphasis">R_list</em> can be specified as <em class="emphasis">R1</em>, <em class="emphasis">R1</em><b class="emphasis-bold">-</b><em class="emphasis">R2</em>,
<em class="emphasis">R1</em><b class="emphasis-bold">-</b>, or <b class="emphasis-bold">-</b><em class="emphasis">R2</em>. When a branch is given,
<b class="emphasis-bold">-o</b> deletes only the latest revision on it.


RCS Version 5.6 changed the range separator character to <b class="emphasis-bold">:</b>,
although <b class="emphasis-bold">-</b> is still valid.</p></dd>



<dt><b><b class="emphasis-bold">-s</b><em class="emphasis">state</em>[<b class="emphasis-bold">:</b><em class="emphasis">R</em>]</b></dt><dd><p>Set the state of revision <em class="emphasis">R</em> (or the latest revision)
to the word <em class="emphasis">state</em>.</p></dd>



<dt><b><b class="emphasis-bold">-t</b>[<em class="emphasis">file</em>]</b></dt><dd><p>Replace RCS file description with contents of <em class="emphasis">file</em>
or, if no file is given, with standard output.</p></dd>



<dt><b><b class="emphasis-bold">-t-</b><em class="emphasis">string</em></b></dt><dd><p>Replace RCS file description with <em class="emphasis">string</em>.
Preserves the time of modification on an RCS file unless a
revision is removed.</p></dd>



<dt><b><b class="emphasis-bold">-T</b></b></dt><dd><p>Preserve the modification time of the RCS file.</p></dd>



<dt><b><b class="emphasis-bold">-u</b>[<em class="emphasis">R</em>]</b></dt><dd><p>The complement of <b class="emphasis-bold">-l</b>:  unlock a revision that was previously
checked out via <b class="emphasis-bold">co  -l</b>.  If someone else did the checkout,
you are prompted to state the reason for breaking the lock. This message is mailed to the original locker.</p></dd>



<dt><b><b class="emphasis-bold">-U</b></b></dt><dd><p>Turn on nonstrict locking.  Everyone except the file owner must
use <b class="emphasis-bold">co  -l</b> to edit files.  (See <b class="emphasis-bold">-L</b>.)</p></dd>



<dt><b><b class="emphasis-bold">-V</b></b></dt><dd><p>Print the RCS version number.</p></dd>



<dt><b><b class="emphasis-bold">-z</b><em class="emphasis">zone</em></b></dt><dd><p>Set the default time zone for timestamp options performed
by the <b class="emphasis-bold">ci</b> and <b class="emphasis-bold">co</b> commands.</p></dd>

</dl>


<h4 class="refsect2">Examples</h4>


<p>Associate the label <b class="emphasis-bold">To_customer</b> with the latest revision of all
RCS files:</p>


<blockquote><pre class="code"><tt class="userinput"><b>rcs -nTo_customer: RCS/*</b></tt></pre></blockquote>


<p>Add three users to the access list of file <b class="emphasis-bold">beatle_deals</b>:</p>


<blockquote><pre class="code"><tt class="userinput"><b>rcs -ageorge,paul,ringo beatle_deals</b></tt></pre></blockquote>


<p>Delete revisions 1.2 through 1.5:</p>


<blockquote><pre class="code"><tt class="userinput"><b>rcs -o1.2-1.5 doc</b></tt></pre></blockquote>


<p>Replace an RCS file description with the contents of a variable:</p>


<blockquote><pre class="code"><tt class="userinput"><b>echo "$description" | rcs -t </b></tt><em class="replaceable">file</em></pre></blockquote>


</td></tr><tr><td valign="top">rcsclean</td><td><p><b class="emphasis-bold">rcsclean</b> [<em class="emphasis">options</em>] [<em class="emphasis">files</em>]</p><a name="INDEX-2214" /><p>Compare checked-out files against
the corresponding latest revision or revision <em class="emphasis">R</em> (as given by the options).
If no differences are found, the working file is removed.
(Use <b class="emphasis-bold">rcsdiff</b> to find differences.)
<b class="emphasis-bold">rcsclean</b> is useful in makefiles.  For example,
you could specify a "clean-up" target to update your directories.
<b class="emphasis-bold">rcsclean</b> is also useful prior to running <b class="emphasis-bold">rcsfreeze</b>.
<b class="emphasis-bold">rcsclean</b> accepts the standard options
<b class="emphasis-bold">-q</b>,
<b class="emphasis-bold">-V</b>,
<b class="emphasis-bold">-x</b>,
<?troff \p?>and
<b class="emphasis-bold">-z</b>.</p>


<?troff .Nd 10?><h4 class="refsect2">Options</h4>


<dl>
<dt><b><b class="emphasis-bold">-k</b><em class="emphasis">c</em></b></dt><dd><p>When comparing revisions, expand keywords using style <em class="emphasis">c</em>.
(See <b class="emphasis-bold">co</b> for values of <em class="emphasis">c</em>.)</p></dd>



<dt><b><b class="emphasis-bold">-n</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Show what would happen, but don't actually execute.</p></dd>



<dt><b><b class="emphasis-bold">-r</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Compare against revision <em class="emphasis">R</em>.
<em class="emphasis">R</em> can be supplied as arguments to other options,
so <b class="emphasis-bold">-r</b> is redundant.</p></dd>



<dt><b><b class="emphasis-bold">-T</b></b></dt><dd><p>Preserve the modification time of the RCS file even
if a lock is added or removed.</p></dd>



<dt><b><b class="emphasis-bold">-u</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Unlock the revision if it's the same as the working file.</p></dd>

</dl>


<h4 class="refsect2">Examples</h4>


<p>Remove unchanged copies of program and header files:</p>


<blockquote><pre class="code"><tt class="userinput"><b>rcsclean *.c *.h</b></tt></pre></blockquote>


</td></tr><tr><td valign="top">rcsdiff</td><td><p><b class="emphasis-bold">rcsdiff</b> [<em class="emphasis">options</em>] [<em class="emphasis">diff_options</em>] <em class="emphasis">files</em></p><a name="INDEX-2215" /><p>Compare revisions via <b class="emphasis-bold">diff</b>.
Specify revisions using <b class="emphasis-bold">-r</b> as follows:</p>


<?troff .rm CURRENT?><blockquote><pre class="code"><b class="emphasis-bold">     Number of</b>
<b class="emphasis-bold">     Revisions Specified:</b>    <b class="emphasis-bold">Comparison Made:</b>
   None                       Working file against latest revision
   One                         Working file against specified revision
   Two                         One revision against the other</pre></blockquote><p><b class="emphasis-bold">rcsdiff</b> accepts the standard options
<b class="emphasis-bold">-q</b>, <b class="emphasis-bold">-T</b>, <b class="emphasis-bold">-V</b>, <b class="emphasis-bold">-x</b>, and <b class="emphasis-bold">-z</b>, as well as
<em class="emphasis">diff_options</em>, which can be any valid <b class="emphasis-bold">diff</b> option.
<b class="emphasis-bold">rcsdiff</b> exits with a status of 0 (no differences), 1 (some differences),
or 2 (unknown problem).</p>


<h4 class="refsect2">Options</h4>


<dl>
<dt><b><b class="emphasis-bold">-k</b><em class="emphasis">c</em></b></dt><dd><p>When comparing revisions, expand keywords using style <em class="emphasis">c</em>.
(See <b class="emphasis-bold">co</b> for values of <em class="emphasis">c</em>.)</p></dd>



<dt><b><b class="emphasis-bold">-r</b><em class="emphasis">R1</em></b></dt><dd><p>Use revision <em class="emphasis">R1</em> in the comparison.</p></dd>



<dt><b><b class="emphasis-bold">-r</b><em class="emphasis">R2</em></b></dt><dd><p>Use revision <em class="emphasis">R2</em> in the comparison. (<b class="emphasis-bold">-r</b><em class="emphasis">R1</em> must also be
<?troff \p?>specified.)
</p></dd>

</dl>


</td></tr><tr><td valign="top">rcsmerge</td><td><p><b class="emphasis-bold">rcsmerge</b> [<em class="emphasis">options</em>] <em class="emphasis">file</em></p><a name="INDEX-2216" /><p>Perform a three-way merge of file revisions,
taking two differing versions and incorporating the changes
into the working <em class="emphasis">file</em>.  
You must provide either one or two revisions to merge
(typically with <b class="emphasis-bold">-r</b>).
Overlaps are handled the same as with <b class="emphasis-bold">merge</b>,
by placing warnings in the resulting file.
<b class="emphasis-bold">rcsmerge</b> accepts the standard options
<b class="emphasis-bold">-q</b>, <b class="emphasis-bold">-V</b>, <b class="emphasis-bold">-x</b>, and <b class="emphasis-bold">-z</b>.
<b class="emphasis-bold">rcsmerge</b> exits with a status of 0 (no overlaps), 1 (some overlaps),
or 2 (unknown problem).</p>


<h4 class="refsect2">Options</h4>


<dl>
<dt><b><b class="emphasis-bold">-k</b><em class="emphasis">c</em></b></dt><dd><p>When comparing revisions, expand keywords using style <em class="emphasis">c</em>.
(See <b class="emphasis-bold">co</b> for values of <em class="emphasis">c</em>.)</p></dd>



<dt><b><b class="emphasis-bold">-p</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Send merged version to standard output instead of overwriting <em class="emphasis">file</em>.</p></dd>



<dt><b><b class="emphasis-bold">-r</b>[<em class="emphasis">R</em>]</b></dt><dd><p>Merge revision <em class="emphasis">R</em> or, if no <em class="emphasis">R</em> is given, merge the latest revision.</p></dd>




</dl>


<h4 class="refsect2">Examples</h4>


<p>Suppose you need to add updates to an old revision (1.3) of <em class="filename">prog.c</em>,
but the current file is already at revision 1.6.  To incorporate the
changes:</p>


<blockquote><pre class="code"><tt class="userinput"><b>co -l prog.c</b></tt>
(edit latest revision by adding revision 1.3 updates, then:)
<tt class="userinput"><b>rcsmerge -p -r1.3 -r1.6 prog.c &gt; prog.updated.c</b></tt></pre></blockquote>


<p>Undo changes between revisions 3.5 and 3.2, and overwrite the
working file:</p>


<blockquote><pre class="code"><tt class="userinput"><b>rcsmerge -r3.5 -r3.2 chap08</b></tt></pre></blockquote>


</td></tr><tr><td valign="top">rlog</td><td><p><b class="emphasis-bold">rlog</b> [<em class="emphasis">options</em>] <em class="emphasis">files</em></p><a name="INDEX-2217" /><p>Display identification information for RCS <em class="emphasis">files</em>,
including the log message associated with each revision,
the number of lines added or removed, date of last checkin, and so on.  With no options, <b class="emphasis-bold">rlog</b> displays all information.
Use options to display specific items. 
<b class="emphasis-bold">rlog</b> accepts the standard options <b class="emphasis-bold">-T</b>, <b class="emphasis-bold">-V</b>, <b class="emphasis-bold">-x</b>, and <b class="emphasis-bold">-z</b>.</p>


<?troff .Nd 10?><h4 class="refsect2">Options</h4>


<dl>
<dt><b><b class="emphasis-bold">-b</b></b></dt><dd><p>Prune the display; print only about the default branch.</p></dd>



<dt><b><b class="emphasis-bold">-d</b><em class="emphasis">dates</em></b></dt><dd><p>Display information for revisions whose checkin timestamp falls in
the range of <em class="emphasis">dates</em> (a list separated by semicolons). Be sure to use quotes.  Each date can be specified as:</p>


<dl>
<dt><b><em class="emphasis">date1</em>&lt;<em class="emphasis">date2</em></b></dt><dd><p>Select revisions between <em class="emphasis">date1</em> and <em class="emphasis">date2</em>, inclusive.</p></dd>



<dt><b><em class="emphasis">date1</em> &lt;</b></dt><dd><p>Select revisions made on or after <em class="emphasis">date1</em>.</p></dd>



<dt><b><em class="emphasis">date1</em></b></dt><dd><p>Select revisions made on or before <em class="emphasis">date1</em>.</p></dd>

</dl></dd>



<dt><b><b class="emphasis-bold">-h</b></b></dt><dd><p>Display the beginning of the normal <b class="emphasis-bold">rlog</b> listing.</p></dd>



<dt><b><b class="emphasis-bold">-l</b>[<em class="emphasis">users</em>]</b></dt><dd><p>Display information only about locked revisions 
or, if <em class="emphasis">lockers</em> is specified, only revisions locked
by the list of <em class="emphasis">users</em>.</p></dd>



<dt><b><b class="emphasis-bold">-L</b></b></dt><dd><p>Skip files that aren't locked.</p></dd>



<dt><b><b class="emphasis-bold">-N</b></b></dt><dd><p>Don't display symbolic names.</p></dd>



<dt><b><b class="emphasis-bold">-r</b>[<em class="emphasis">list</em>]</b></dt><dd><p>Display information for revisions in the comma-separated
<em class="emphasis">list</em> of revision numbers.  If no <em class="emphasis">list</em> is given,
the latest revision is used.  Items can be specified as:</p>


<dl>
<dt><b><em class="emphasis">R1</em></b></dt><dd><p>Select revision <em class="emphasis">R1</em>.  If <em class="emphasis">R1</em> is a branch, select all revisions
<?troff \p?>on it.</p></dd>



<dt><b><em class="emphasis">R1</em><tt class="literal">.</tt></b></dt><dd><p>If <em class="emphasis">R1</em> is a branch, select its latest revision.</p></dd>



<dt><b><em class="emphasis">R1</em>-<em class="emphasis">R2</em></b></dt><dd><p>Select revisions <em class="emphasis">R1</em> through <em class="emphasis">R2</em>.</p></dd>



<dt><b>-<em class="emphasis">R1</em></b></dt><dd><p>Select revisions from beginning of branch through <em class="emphasis">R1</em>.</p></dd>



<dt><b><em class="emphasis">R1</em>-</b></dt><dd><p>Select revisions from <em class="emphasis">R1</em> through end of branch.</p></dd>

</dl></dd>



<dt></dt><dd><p>RCS Version 5.6 changed the range separator character to <b class="emphasis-bold">:</b>,
although <b class="emphasis-bold">-</b> is still valid.</p></dd>



<dt><b><b class="emphasis-bold">-R</b></b></dt><dd><p>Display only the name of the RCS file.</p></dd>



<dt><b><b class="emphasis-bold">-s</b><em class="emphasis">states</em></b></dt><dd><p>Display information for revisions whose state matches one from the
comma-separated list of <em class="emphasis">states</em>.</p></dd>



<dt><b><b class="emphasis-bold">-t</b></b></dt><dd><p>Same as <b class="emphasis-bold">-h</b>, but also display the file's description.</p></dd>



<dt><b><b class="emphasis-bold">-w</b>[<em class="emphasis">users</em>]</b></dt><dd><p>Display information for revisions checked in by anyone in the comma-separated
list of <em class="emphasis">users</em>.  If no <em class="emphasis">users</em> are supplied, assume the name of the 
invoking user.</p></dd>

</dl>


<h4 class="refsect2">Examples</h4>


<p>Display a file's revision history:</p>


<blockquote><pre class="code"><tt class="userinput"><b>rlog RCS/*,v | more</b></tt></pre></blockquote>


<p>Display names of RCS files that are locked by user <em class="emphasis">daniel</em>:</p>


<blockquote><pre class="code"><tt class="userinput"><b>rlog -R -L -ldaniel RCS/*</b></tt></pre></blockquote>


<p>Display the "title" portion (no revision history) of a working file:</p>


<blockquote><pre class="code"><tt class="userinput"><b>rlog -t calc.c</b></tt></pre></blockquote>


</td></tr></table><p><a name="INDEX-2218" /><a name="INDEX-2219" /><a name="INDEX-2220" /><a name="INDEX-2221" /></p>


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch14_08.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch15_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">14.8. General RCS Specifications</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">15. GNOME</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>