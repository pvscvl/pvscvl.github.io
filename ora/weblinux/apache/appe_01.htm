<?label E. Sample Apache Log?><html><head><title>Sample Apache Log (Apache: The Definitive Guide)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Ben Laurie and Peter Laurie" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="1565925289L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Apache: The Definitive Guide" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Apache: The Definitive Guide" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="appd_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">Apache: The Definitive Guide</a></td><td width="172" valign="top" align="right"><a href="index/index.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />



<h1 class="chapter">Appendix E. Sample Apache Log</h1>





<blockquote><pre class="code"><a name="INDEX-1713" />Apache Server Information
Server Settings, mod_so.c, mod_unique_id.c, mod_setenvif.c, mod_usertrack.c, 
     mod_headers.c, mod_expires.c, mod_digest.c, mod_auth_db.c, mod_auth_anon.c, 
     mod_auth.c, mod_access.c, mod_rewrite.c, mod_alias.c, mod_proxy.c, 
     mod_userdir.c, mod_speling.c, mod_actions.c, mod_imap.c, mod_asis.c, 
     mod_cgi.c, mod_dir.c, mod_autoindex.c, mod_include.c, mod_info.c, 
     mod_status.c, mod_negotiation.c, mod_mime.c, mod_mime_magic.c, 
     mod_log_config.c, mod_env.c,
http_core.c
Server Version: Apache/1.3.0 (Unix)
Server Built: Jul 8 1998 13:31:06
API Version: 19980527
Run Mode: standalone
User/Group: webuser(1001)/1001
Hostname/port: www.butterthlies.com:0
Daemons: start: 5    min idle: 5    max idle: 10    max: 256
Max Requests: per child: 0    keep alive: on    max per connection: 100
Threads: per child: 0    
Excess requests: per child: 0    
Timeouts: connection: 300    keep-alive: 15
Server Root: /usr/www/site.status
Config File: conf/httpd.conf
PID File: logs/httpd.pid
Scoreboard File: logs/apache_runtime_status
Module Name: mod_so.c 
Content handlers: none
Configuration Phase Participation: Create Server Config
Request Phase Participation: none
Module Directives: 
     LoadModule - a module name and the name of a shared object file to load it
         from LoadFile - shared object file or library to load into the server 
         at runtime 
Current Configuration: 
Module Name: mod_unique_id.c 
Content handlers: none
Configuration Phase Participation: Child Init
Request Phase Participation: Post-Read Request
Module Directives: none 
Module Name: mod_setenvif.c 
Content handlers: none
Configuration Phase Participation: Create Server Config, Merge Server Configs
Request Phase Participation: Post-Read Request
Module Directives: 
     SetEnvIf - A header-name, regex and a list of variables. 
     SetEnvIfNoCase - a header-name, regex and a list of variables. 
     BrowserMatch - A browser regex and a list of variables. 
     BrowserMatchNoCase - A browser regex and a list of variables. 
Current Configuration: 
Module Name: mod_usertrack.c 
Content handlers: none
Configuration Phase Participation: Create Directory Config, Create Server Config
Request Phase Participation: Fixups
Module Directives: 
     CookieExpires - an expiry date code 
     CookieTracking - whether or not to enable cookies 
Current Configuration: 
Module Name: mod_headers.c 
Content handlers: none
Configuration Phase Participation: Create Directory Config, Merge Directory
     Configs, Create Server Config, Merge Server Configs
Request Phase Participation: Fixups
Module Directives: 
     Header - an action, header and value 
Current Configuration: 
Module Name: mod_expires.c 
Content handlers: none
Configuration Phase Participation: Create Directory Config, 
     Merge Directory Configs
Request Phase Participation: Fixups
Module Directives: 
     ExpiresActive - Limited to 'on' or 'off' 
     ExpiresBytype - a MIME type followed by an expiry date code 
     ExpiresDefault - an expiry date code 
Current Configuration: 
Module Name: mod_digest.c 
Content handlers: none
Configuration Phase Participation: Create Directory Config
Request Phase Participation: Verify User ID, Verify User Access
Module Directives: 
     AuthDigestFile - 
Current Configuration: 
Module Name: mod_auth_db.c 
Content handlers: none
Configuration Phase Participation: Create Directory Config
Request Phase Participation: Verify User ID, Verify User Access
Module Directives: 
     AuthDBUserFile - 
     AuthDBGroupFile - 
     AuthUserFile - 
     AuthGroupFile - 
     AuthDBAuthoritative - Set to 'no' to allow access control to be passed along
         to lower modules if the userID is not known to this module 
Current Configuration: 
Module Name: mod_auth_anon.c 
Content handlers: none
Configuration Phase Participation: Create Directory Config
Request Phase Participation: Verify User ID, Verify User Access
Module Directives: 
     Anonymous - a space-separated list of user IDs 
     Anonymous_MustGiveEmail - Limited to 'on' or 'off' 
     Anonymous_NoUserId - Limited to 'on' or 'off' 
     Anonymous_VerifyEmail - Limited to 'on' or 'off' 
     Anonymous_LogEmail - Limited to 'on' or 'off' 
     Anonymous_Authoritative - Limited to 'on' or 'off' 
Current Configuration: 
Module Name: mod_auth.c 
Content handlers: none
Configuration Phase Participation: Create Directory Config
Request Phase Participation: Verify User ID, Verify User Access
Module Directives: 
     AuthUserFile - text file containing user IDs and passwords 
     AuthGroupFile - text file containing group names and member user IDs 
     AuthAuthoritative - Set to 'no' to allow access control to be passed along
         to lower modules if the UserID is not known to this module 
Current Configuration: 
Module Name: mod_access.c 
Content handlers: none
Configuration Phase Participation: Create Directory Config
Request Phase Participation: Check Access
Module Directives: 
     order - 'allow,deny', 'deny,allow', or 'mutual-failure' 
     allow - 'from' followed by hostnames or IP-address wildcards 
     deny - 'from' followed by hostnames or IP-address wildcards 
Current Configuration: 
httpd.conf 
     &lt;Location /status&gt; 
       &lt;Limit get&gt; 
         order deny,allow
         allow from 192.168.123.1
         deny from all
       &lt;/Limit&gt; 
     &lt;/Location&gt; 
     &lt;Location /info&gt; 
       &lt;Limit get&gt; 
         order deny,allow
         allow from 192.168.123.1
         deny from all
       &lt;/Limit&gt; 
     &lt;/Location&gt; 
Module Name: mod_rewrite.c 
Content handlers: redirect-handler 
Configuration Phase Participation: Child Init, Create Directory Config, Merge
     Directory Configs, Create Server Config, Merge Server Configs
Request Phase Participation: Translate Path, Check Type, Fixups
Module Directives: 
     RewriteEngine - On or Off to enable or disable (default) the whole rewriting
         engine 
     RewriteOptions - List of option strings to set 
     RewriteBase - the base URL of the per-directory context 
     RewriteCond - a input string and a to be applied regexp-pattern 
     RewriteRule - a URL-applied regexp-pattern and a substitution URL 
     RewriteMap - a mapname and a filename 
     RewriteLock - the filename of a lockfile used for inter-process
         synchronization 
     RewriteLog - the filename of the rewriting logfile 
     RewriteLogLevel - the level of the rewriting logfile verbosity (0=none,
         1=std, .., 9=max) 
Current Configuration: 
Module Name: mod_alias.c 
Content handlers: none
Configuration Phase Participation: Create Directory Config, Merge Directory
     Configs, Create Server Config, Merge Server Configs
Request Phase Participation: Translate Path, Fixups
Module Directives: 
     Alias - a fakename and a realname 
     ScriptAlias - a fakename and a realname 
     Redirect - an optional status, then document to be redirected and
         destination URL 
     AliasMatch - a regular expression and a filename 
     ScriptAliasMatch - a regular expression and a filename 
     RedirectMatch - an optional status, then a regular expression and
         destination URL 
     RedirectTemp - a document to be redirected, then the destination URL 
     RedirectPermanent - a document to be redirected, then the destination URL 
Current Configuration: 
Module Name: mod_proxy.c 
Content handlers: proxy-server 
Configuration Phase Participation: Create Server Config
Request Phase Participation: Post-Read Request, Translate Path, Fixups
Module Directives: 
     ProxyRequests - on if the true proxy requests should be accepted 
     ProxyRemote - a scheme, partial URL or '*' and a proxy server 
     ProxyPass - a virtual path and a URL 
     ProxyPassReverse - a virtual path and a URL for reverse proxy behaviour 
     ProxyBlock - A list of names, hosts or domains to which the proxy will not
         connect 
     ProxyReceiveBufferSize - Receive buffer size for outgoing HTTP and FTP
         connections in bytes 
     NoProxy - A list of domains, hosts, or subnets to which the proxy will
         connect directly 
     ProxyDomain - The default intranet domain name (in absence of a domain in
         the URL) 
     CacheRoot - The directory to store cache files 
     CacheSize - The maximum disk space used by the cache in Kb 
     CacheMaxExpire - The maximum time in hours to cache a document 
     CacheDefaultExpire - The default time in hours to cache a document 
     CacheLastModifiedFactor - The factor used to estimate Expires date from
         LastModified date 
     CacheGcInterval - The interval between garbage collections, in hours 
     CacheDirLevels - The number of levels of subdirectories in the cache 
     CacheDirLength - The number of characters in subdirectory names 
     NoCache - A list of names, hosts or domains for which caching is *not*
         provided 
Current Configuration: 
Module Name: mod_userdir.c 
Content handlers: none
Configuration Phase Participation: Create Server Config
Request Phase Participation: Translate Path
Module Directives: 
     UserDir - the public subdirectory in users' home directories, or 'disabled',
         or 'disabled username username...', or 'enabled username username...' 
Current Configuration: 
Module Name: mod_speling.c 
Content handlers: none
Configuration Phase Participation: Create Server Config
Request Phase Participation: Fixups
Module Directives: 
     CheckSpelling - whether or not to fix miscapitalized/misspelled requests 
Current Configuration: 
Module Name: mod_actions.c 
Content handlers: */* 
Configuration Phase Participation: Create Directory Config, Merge Directory
     Configs
Request Phase Participation: none
Module Directives: 
     Action - a media type followed by a script name 
     Script - a method followed by a script name 
Current Configuration: 
Module Name: mod_imap.c 
Content handlers: application/x-httpd-imap , imap-file 
Configuration Phase Participation: Create Directory Config, Merge Directory
     Configs
Request Phase Participation: none
Module Directives: 
     ImapMenu - the type of menu generated: none, formatted, semiformatted,
         unformatted 
     ImapDefault - the action taken if no match: error, nocontent, referer, menu,
         URL 
     ImapBase - the base for all URL's: map, referer, URL (or start of) 
Current Configuration: 
Module Name: mod_asis.c 
Content handlers: httpd/send-as-is , send-as-is 
Configuration Phase Participation: none
Request Phase Participation: none
Module Directives: none 
Module Name: mod_cgi.c 
Content handlers: application/x-httpd-cgi , cgi-script 
Configuration Phase Participation: Create Server Config, Merge Server Configs
Request Phase Participation: none
Module Directives: 
     ScriptLog - the name of a log for script debugging info 
     ScriptLogLength - the maximum length (in bytes) of the script debug log 
     ScriptLogBuffer - the maximum size (in bytes) to record of a POST request 
Current Configuration: 
Module Name: mod_dir.c 
Content handlers: httpd/unix-directory 
Configuration Phase Participation: Create Directory Config, Merge Directory
    Configs
Request Phase Participation: none
Module Directives: 
     DirectoryIndex - a list of file names 
Current Configuration: 
Module Name: mod_autoindex.c 
Content handlers: httpd/unix-directory 
Configuration Phase Participation: Create Directory Config, Merge Directory
     Configs
Request Phase Participation: none
Module Directives: 
     AddIcon - an icon URL followed by one or more filenames 
     AddIconByType - an icon URL followed by one or more MIME types 
     AddIconByEncoding - an icon URL followed by one or more content encodings 
     AddAlt - alternate descriptive text followed by one or more filenames 
     AddAltByType - alternate descriptive text followed by one or more MIME types 
     AddAltByEncoding - alternate descriptive text followed by one or more
         content encodings 
     IndexOptions - one or more index options 
     IndexIgnore - one or more file extensions 
     AddDescription - Descriptive text followed by one or more filenames 
     HeaderName - a filename 
     ReadmeName - a filename 
     FancyIndexing - Limited to 'on' or 'off' (superseded by IndexOptions
         FancyIndexing) 
     DefaultIcon - an icon URL 
Current Configuration: 
Module Name: mod_include.c 
Content handlers: text/x-server-parsed-html , text/x-server-parsed-html3,
     server-parsed , text/html 
Configuration Phase Participation: Create Directory Config
Request Phase Participation: none
Module Directives: 
     XBitHack - Off, On, or Full 
Current Configuration: 
Module Name: mod_info.c 
Content handlers: server-info 
Configuration Phase Participation: Create Server Config, Merge Server Configs
Request Phase Participation: none
Module Directives: 
     AddModuleInfo - a module name and additional information on that module 
Current Configuration: 
Module Name: mod_status.c 
Content handlers: application/x-httpd-status , server-status 
Configuration Phase Participation: none
Request Phase Participation: none
Module Directives: none 
Module Name: mod_negotiation.c 
Content handlers: application/x-type-map , type-map 
Configuration Phase Participation: Create Directory Config, Merge Directory
     Configs
Request Phase Participation: Check Type, Fixups
Module Directives: 
     CacheNegotiatedDocs - no arguments (either present or absent) 
     LanguagePriority - space-delimited list of MIME language abbreviations 
Current Configuration: 
Module Name: mod_mime.c 
Content handlers: none
Configuration Phase Participation: Create Directory Config, Merge Directory
     Configs
Request Phase Participation: Check Type
Module Directives: 
     AddType - a mime type followed by one or more file extensions 
     AddEncoding - an encoding (e.g., gzip), followed by one or more file
         extensions 
     AddLanguage - a language (e.g., fr), followed by one or more file extensions 
     AddHandler - a handler name followed by one or more file extensions 
     ForceType - a media type 
     SetHandler - a handler name 
     TypesConfig - the MIME types config file 
Current Configuration: 
httpd.conf 
     &lt;Location /status&gt; 
       SetHandler server-status
     &lt;/Location&gt; 
     &lt;Location /info&gt; 
       SetHandler server-info
     &lt;/Location&gt; 
Module Name: mod_mime_magic.c 
Content handlers: none
Configuration Phase Participation: Create Server Config, Merge Server Configs
Request Phase Participation: Check Type
Module Directives: 
     MimeMagicFile - Path to MIME Magic file (in file(1) format) 
Current Configuration: 
Module Name: mod_log_config.c 
Content handlers: none
Configuration Phase Participation: Create Server Config, Merge Server Configs
Request Phase Participation: Logging
Module Directives: 
     CustomLog - a file name and a custom log format string or format name 
     TransferLog - the filename of the access log 
     LogFormat - a log format string (see docs) and an optional format name 
     CookieLog - the filename of the cookie log 
Current Configuration: 
httpd.conf 
     TransferLog logs/access_log
Module Name: mod_env.c 
Content handlers: none
Configuration Phase Participation: Create Server Config, Merge Server Configs
Request Phase Participation: Fixups
Module Directives: 
     PassEnv - a list of environment variables to pass to CGI. 
     SetEnv - an environment variable name and a value to pass to CGI. 
     UnsetEnv - a list of variables to remove from the CGI environment. 
Current Configuration: 
Module Name: http_core.c 
Content handlers: */* 
Configuration Phase Participation: Create Directory Config, Merge Directory
    Configs, Create Server Config, Merge Server Configs
Request Phase Participation: Translate Path, Check Access, Check Type
Module Directives: 
     &lt;Directory - Container for directives affecting resources located in 
         the specified directories 
     &lt;/Directory&gt; - Marks end of 
     &lt;Location - Container for directives affecting resources accessed through
         the specified URL paths 
     &lt;/Location&gt; - Marks end of 
     &lt;VirtualHost - Container to map directives to a particular virtual host,
         takes one or more host addresses 
     &lt;/VirtualHost&gt; - Marks end of 
     &lt;Files - Container for directives affecting files matching specified
         patterns 
     &lt;/Files&gt; - Marks end of 
     &lt;Limit - Container for authentication directives when accessed using
         specified HTTP methods 
     &lt;/Limit&gt; - Marks end of 
     &lt;IfModule - Container for directives based on existence of specified modules 
     &lt;/IfModule&gt; - Marks end of 
     &lt;DirectoryMatch - Container for directives affecting resources located in
         the specified directories 
     &lt;/DirectoryMatch&gt; - Marks end of 
     &lt;LocationMatch - Container for directives affecting resources accessed
         through the specified URL paths 
     &lt;/LocationMatch&gt; - Marks end of 
     &lt;FilesMatch - Container for directives affecting files matching specified
         patterns 
     &lt;/FilesMatch&gt; - Marks end of 
     AuthType - An HTTP authorization type (e.g., "Basic") 
     AuthName - The authentication realm (e.g. "Members Only") 
     Require - Selects which authenticated users or groups may access a protected
         space 
     Satisfy - access policy if both allow and require used ('all' or 'any') 
     AccessFileName - Name(s) of per-directory config files (default: .htaccess) 
     DocumentRoot - Root directory of the document tree 
     ErrorDocument - Change responses for HTTP errors 
     AllowOverride - Controls what groups of directives can be configured by 
         per-directory config files 
     Options - Set a number of attributes for a given directory 
     DefaultType - the default MIME type for untypable files 
     ServerType - 'inetd' or 'standalone' 
     Port - A TCP port number 
     HostnameLookups - "on" to enable, "off" to disable reverse DNS lookups, or
         "double" to enable double-reverse DNS lookups 
     User - Effective user id for this server 
     Group - Effective group id for this server 
     ServerAdmin - The email address of the server administrator 
     ServerName - The hostname of the server 
     ServerSignature - En-/disable server signature (on|off|email) 
     ServerRoot - Common directory of server-related files (logs, confs, etc) 
     ErrorLog - The filename of the error log 
     PidFile - A file for logging the server process ID 
     ScoreBoardFile - A file for Apache to maintain runtime process management
         information 
     LockFile - The lockfile used when Apache needs to lock the accept() call 
     AccessConfig - The filename of the access config file 
     ResourceConfig - The filename of the resource config file 
     ServerAlias - A name or names alternately used to access the server 
     ServerPath - The pathname the server can be reached at 
     Timeout - Timeout duration (sec) 
     KeepAliveTimeout - Keep-Alive timeout duration (sec) 
     MaxKeepAliveRequests - Maximum number of Keep-Alive requests per connection,
         or 0 for infinite 
     KeepAlive - Whether persistent connections should be On or Off 
     IdentityCheck - Enable identd (RFC 1413) user lookups - SLOW 
     ContentDigest - whether or not to send a Content-MD5 header with each
         request 
     UseCanonicalName - whether or not to always use the canonical ServerName :
         Port when constructing URLs 
     StartServers - Number of child processes launched at server startup 
     MinSpareServers - Minimum number of idle children, to handle request spikes 
     MaxSpareServers - Maximum number of idle children 
     MaxServers - Deprecated equivalent to MaxSpareServers 
     ServersSafetyLimit - Deprecated equivalent to MaxClients 
     MaxClients - Maximum number of children alive at the same time 
     MaxRequestsPerChild - Maximum number of requests a particular child serves
         before dying. 
     RLimitCPU - soft/hard limits for max CPU usage in seconds 
     RLimitMEM - soft/hard limits for max memory usage per process 
     RLimitNPROC - soft/hard limits for max number of processes per uid 
     BindAddress - '*', a numeric IP address, or the name of a host with a unique
         IP address 
     Listen - a port number or a numeric IP address and a port number 
     SendBufferSize - send buffer size in bytes 
     AddModule - the name of a module 
     ClearModuleList - 
     ThreadsPerChild - Number of threads a child creates 
     ExcessRequestsPerChild - Maximum number of requests a particular child
         serves after it is ready to die. 
     ListenBacklog - maximum length of the queue of pending connections, as used
         by listen(2) 
     CoreDumpDirectory - The location of the directory Apache changes to before
         dumping core 
     Include - config file to be included 
     LogLevel - set level of verbosity in error logging 
     NameVirtualHost - a numeric ip address:port, or the name of a host 
     ServerTokens - Determine tokens displayed in the Server: header - Min(imal),
         OS or Full 
Current Configuration: 
httpd.conf 
     User webuser
     Group webgroup
     ServerName www.butterthlies.com
     DocumentRoot /usr/www/site.status/htdocs</pre></blockquote>





<p>This is all good, reliable information because it comes from running
modules.<a name="INDEX-1714" /></p>







<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="appd_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="index/index.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">D.3. Final Notes</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">Index</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="../lnut/index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>
