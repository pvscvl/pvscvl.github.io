<?label 5.9. Experiments?><html><head><title>Experiments (Apache: The Definitive Guide)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Ben Laurie and Peter Laurie" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="1565925289L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Apache: The Definitive Guide" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Apache: The Definitive Guide" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch05_08.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">Apache: The Definitive Guide</a></td><td width="172" valign="top" align="right"><a href="ch05_10.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">5.9. Experiments</h2>





<p>Run <tt class="literal">./go</tt>. Exit from your browser on the client
machine and reload it to make sure it does password checking properly
(you will probably need to do this every time you make a change
throughout this exercise). If you access the salespeople's site
again with the user ID <em class="emphasis">guest</em>,
<em class="emphasis">anonymous</em>, or <em class="emphasis">air-head</em>, and
any password you like (<tt class="literal">fff</tt> or
<tt class="literal">23</tt> or <tt class="literal">rubbish</tt>), you will get
access. It seems rather silly, but you must give a password of some
sort.</p>





<p>Set:</p>





<blockquote><pre class="code">Anonymous_NoUserID on</pre></blockquote>





<p>This time you can leave both the ID and password fields empty. If you
enter a valid username (<em class="emphasis">bill,</em>
<em class="emphasis">ben</em>, <em class="emphasis">sonia</em>, or
<em class="emphasis">gloria</em>), you must follow through with a valid
password.</p>





<p>Set:</p>





<blockquote><pre class="code">Anonymous_NoUserID off
Anonymous_VerifyEmail on
Anonymous_LogEmail on</pre></blockquote>





<p>The effect here is that the user ID has to look something like an
email address, with (according to the documentation) at least one
"@" and one ".". However, we found that one
"." or one "@" would do.
Email is logged in the error log, not the access log as you might
expect.</p>





<p>Set:</p>





<blockquote><pre class="code">Anonymous_VerifyEmail off
Anonymous_LogEmail off
Anonymous_Authoritative on</pre></blockquote>





<p>The effect here is that if an access attempt fails, it is not now
passed on to the other methods. Up to now we have always been able to
enter as <em class="emphasis">bill</em>, password
<tt class="literal">theft</tt>, but no more. Change the
<tt class="literal">Anonymous</tt> section to look like this:</p>





<blockquote><pre class="code">Anonymous_Authoritative off
Anonymous_MustGiveEmail on</pre></blockquote>





<p>Finally:</p>





<blockquote><pre class="code">Anonymous guest anonymous air-head
Anonymous_NoUserID off
Anonymous_VerifyEmail off
Anonymous_Authoritative off
Anonymous_LogEmail on
Anonymous_MustGiveEmail on</pre></blockquote>





<p>The documentation says that
<tt class="literal">Anonymous_MustGiveEmail</tt> forces the user to give
some sort of password. In fact, it seems to have the same effect as
<tt class="literal">VerifyEmail</tt>: A "." or "@"
will do.</p>





<a name="ch05-17-fm2xml" /><div class="sect2">
<h3 class="sect2">5.9.1. Access.conf</h3>





<p>In the first edition of this book we said that if you wrote your
<em class="emphasis">httpd.conf </em> file as shown earlier, but also
created <em class="emphasis">.../conf/access.conf
</em>
<a name="INDEX-660" />
containing directives as innocuous as:</p>





<blockquote><pre class="code">&lt;Directory /usr/www/site.anon/htdocs/salesmen&gt;
&lt;/Directory&gt;</pre></blockquote>





<p>security in the salespeople's site would disappear. This bug
seems to have been fixed in Apache v1.3.<a name="INDEX-661" /> <a name="INDEX-662" /> <a name="INDEX-663" /> <a name="INDEX-664" /> <a name="INDEX-665" /> <a name="INDEX-666" /></p>
</div>


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch05_08.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch05_10.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">5.8. Anonymous Access</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">5.10. Automatic User Information</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="../lnut/index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>