<?label 1.9. Apache Under Windows?><html><head><title>Apache Under Windows (Apache: The Definitive Guide)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Ben Laurie and Peter Laurie" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="1565925289L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Apache: The Definitive Guide" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Apache: The Definitive Guide" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch01_08.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">Apache: The Definitive Guide</a></td><td width="172" valign="top" align="right"><a href="ch01_10.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">1.9. Apache Under Windows</h2>








<p>In our view, <a name="INDEX-111" />
<a name="INDEX-112" />Win32 currently
comprises Windows 95, Windows 98, and NT.<a href="#FOOTNOTE-17">[17]</a> As far as we know, these
different versions are the same as far as Apache is concerned, except
that under NT, Apache can also be run as a service. Performance under
Win32 may not be as good as under Unix, but this will probably
improve over coming months.</p><blockquote>







<a name="FOOTNOTE-17" /><p>[17]But note
that neither we nor the Apache Group have done much with Windows 98
at the time of writing.</p>







</blockquote>








<p>Since Win32 is considerably more consistent than the sprawling family
of Unices, and since it loads extra modules as DLLs at runtime,
rather than compiling them at make time, it is practical for the
Apache Group to offer a precompiled binary executable as the standard
distribution. Go to <a href="../../../../../../www.apache.org/dist">http://www.apache.org/dist</a> and click on the version you want, which will be in the
form of a self-installing .<em class="emphasis">exe</em> file (the
<em class="emphasis">.exe</em> extension is how you tell which one is the
Win32 Apache). Download it into, say, <em class="emphasis">c:\temp</em>
and then run it from the Win32 Start menu's Run option.</p>








<p>The executable will create an Apache directory, <em class="emphasis">C:\Program
Files\Apache</em>, by default<em class="emphasis">.</em> Everything
to do with Win32 Apache happens in an MS-DOS window, so get into a
window and type:</p>








<blockquote><pre class="code">&gt; <b class="emphasis-bold">cd c:\&lt;apache directory&gt;</b>&gt; <b class="emphasis-bold">dir</b></pre></blockquote>








<p>and you should see something like this:</p>








<blockquote><pre class="code">Volume in drive C has no label
 Volume Serial Number is 294C-14EE
 Directory of C:\apache
.              &lt;DIR&gt;        21/05/98   7:27 .
..             &lt;DIR&gt;        21/05/98   7:27 ..
DEISL1   ISU        12,818  29/07/98  15:12 DeIsL1.isu
HTDOCS         &lt;DIR&gt;        29/07/98  15:12 htdocs
MODULES        &lt;DIR&gt;        29/07/98  15:12 modules
ICONS          &lt;DIR&gt;        29/07/98  15:12 icons
LOGS           &lt;DIR&gt;        29/07/98  15:12 logs
CONF           &lt;DIR&gt;        29/07/98  15:12 conf
CGI-BIN        &lt;DIR&gt;        29/07/98  15:12 cgi-bin
ABOUT_~1            12,921  15/07/98  13:31 ABOUT_APACHE
ANNOUN~1             3,090  18/07/98  23:50 Announcement
KEYS                22,763  15/07/98  13:31 KEYS
LICENSE              2,907  31/03/98  13:52 LICENSE
APACHE   EXE         3,072  19/07/98  11:47 Apache.exe
APACHE~1 DLL       247,808  19/07/98  12:11 ApacheCore.dll
MAKEFI~1 TMP        21,025  15/07/98  18:03 Makefile.tmpl
README               2,109  01/04/98  13:59 README
README~1 TXT         2,985  30/05/98  13:57 README-NT.TXT
INSTALL  DLL        54,784  19/07/98  11:44 install.dll
_DEISREG ISR           147  29/07/98  15:12 _DEISREG.ISR
_ISREG32 DLL        40,960  23/04/97   1:16 _ISREG32.DLL
        13 file(s)        427,389 bytes
         8 dir(s)     520,835,072 bytes free</pre></blockquote>








<p><em class="emphasis">Apache.exe
</em>
<a name="INDEX-113" />is the
executable, and <em class="emphasis">ApacheCore.dll </em>is the meat of
the thing. The important subdirectories are as follows:</p>








<dl>
<dt><b>conf</b></dt>
<dd><p>Where the Config file lives.</p></dd>








<dt><b>logs</b></dt>
<dd><p>Where the logs are kept.</p></dd>








<dt><b>htdocs </b></dt>
<dd><p>Where you put the material your server is to give clients. The Apache
manual will be found in a subdirectory.</p></dd>








<dt><b>modules </b></dt>
<dd><p>Where the runtime loadable DLLs live.</p></dd>

</dl>








<p>After 1.3b6, leave your original versions of files in these
subdirectories alone, while creating new ones with the added
extension <em class="emphasis">.default</em> -- which you should look
at. We will see what to do with all of this in the next chapter.</p>








<p>See the file <em class="emphasis">README-NT.TXT</em> for current problems.</p>








<a name="ch01-10-fm2xml" /><div class="sect2">
<h3 class="sect2">1.9.1. Compiling Apache Under Win32</h3>








<p>
<a name="INDEX-114" />The advanced user who wants, perhaps, to
write his or her own modules (see <a href="ch15_01.htm">Chapter 15, "Writing Apache Modules"</a>), will
need the source code. This can be installed with the Win32 version by
choosing Custom installation. It can also be downloaded from the
nearest mirror Apache site (start at<em class="emphasis"> http://apache.org/
</em>) as a <em class="emphasis">.tar.gz</em> file containing the
normal Unix distribution and can be unpacked into an appropriate
source directory using, for instance, 32-bit WinZip, which deals with
.<em class="emphasis">tar</em> and .<em class="emphasis">gz </em>format files
as well as .<em class="emphasis">zip.</em> You will also need
Microsoft's Visual C++ Version 5. Once the sources and compiler
are in place, open an MS-DOS window and go to the Apache
<em class="emphasis">src</em> directory. Build a debug version and install
it into <em class="emphasis">\Apache</em> by typing:</p>








<blockquote><pre class="code">&gt; <b class="emphasis-bold">nmake /f Makefile.nt _apached</b>
&gt; <b class="emphasis-bold">nmake /f Makefile.nt installd</b></pre></blockquote>








<p>or build a release version by typing:</p>








<blockquote><pre class="code">&gt; <b class="emphasis-bold">nmake /f Makefile.nt _apacher</b>
&gt; <b class="emphasis-bold">nmake /f Makefile.nt installr</b></pre></blockquote>








<p>This will build and install the following files in and below
<em class="emphasis">\Apache\</em>:</p>








<dl>
<dt><b>Apache.exe</b></dt>
<dd><p>The executable</p></dd>








<dt><b>ApacheCore.dll</b></dt>
<dd><p>The main shared library</p></dd>








<dt><b>Modules\ApacheModule*.dll</b></dt>
<dd><p>Seven optional modules</p></dd>








<dt><b>\conf </b></dt>
<dd><p>Empty config directory</p></dd>








<dt><b>\logs</b></dt>
<dd><p>Empty log directory</p></dd>

</dl>








<p>The directives described in the rest of the book are the same for
both Unix and Win32, except that Win32 Apache can load module DLLs.
They need to be activated in the Config file by the
<tt class="literal">LoadModule</tt> directive. For example, if you want
status information, you need the line:</p>








<blockquote><pre class="code">LoadModule status_module modules/ApacheModuleStatus.dll</pre></blockquote>








<p>Notice that wherever filenames are relevant in the Config file, the
Win32 version uses forward slashes ("/") as in Unix,
rather than backslashes ("\") as in MS-DOS or Windows.
Since almost all the rest of the book applies to both Win32 and Unix
without distinction between then, we will use ("/") in
filenames wherever they occur.</p>








<p>Apache for Win32 can also load Internet Server Applications (ISAPI
extensions).<a name="INDEX-115" /></p>
</div>


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch01_08.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch01_10.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">1.8. Making Apache Under Unix</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">1.10. Apache Under BS2000/OSD and AS/400</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="../lnut/index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>