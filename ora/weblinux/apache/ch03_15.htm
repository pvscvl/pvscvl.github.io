<?label 3.15. Expirations?><html><head><title>Expirations (Apache: The Definitive Guide)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="Ben Laurie and Peter Laurie" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="1565925289L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Apache: The Definitive Guide" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Apache: The Definitive Guide" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch03_14.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm">Apache: The Definitive Guide</a></td><td width="172" valign="top" align="right"><a href="ch04_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">3.15. Expirations</h2>





<p>
<a name="INDEX-404" />
<a name="INDEX-405" />
<a name="INDEX-406" />Apache Version 1.2 brought the
<tt class="literal">expires</tt> module,<em class="filename"> mod_expires</em>,
into the main distribution. The point of this module is to allow the
webmaster to set the returned headers to pass information to
clients' browsers about documents that will need to be reloaded
because they are apt to change, or alternatively, that are not going
to change for a long time and can therefore be cached. There are
three directives.<a name="INDEX-407" /></p>





<a name="ch03-45-fm2xml" /><div class="sect2">
<h3 class="sect2">3.15.1. ExpiresActive</h3>





<blockquote><pre class="code">ExpiresActive [on|off]
Anywhere, .htaccess when AllowOverride Indexes</pre></blockquote>





<p><tt class="literal">ExpiresActive</tt>
<a name="INDEX-408" /> simply switches the expiration
mechanism on and off.</p>
</div>
















<a name="ch03-46-fm2xml" /><div class="sect2">
<h3 class="sect2">3.15.2. ExpiresByType</h3>





<blockquote><pre class="code">ExpiresByType <em class="replaceable">mime-type time</em>
Anywhere, .htaccess when AllowOverride Indexes</pre></blockquote>





<p><tt class="literal">ExpiresByType</tt>
<a name="INDEX-409" /> takes two arguments.
<em class="replaceable">mime-type</em> specifies a MIME type of file;
<em class="replaceable">time</em> specifies how long these files are to
remain active. There are two versions of the syntax. The first is:</p>





<blockquote><pre class="code"><em class="replaceable">code</em> <em class="replaceable">seconds</em></pre></blockquote>





<p>There is no space between <em class="replaceable">code</em> and
<em class="replaceable">seconds</em>. <em class="replaceable">code</em>
is one of the following:</p>




<dl>
<dt><b><tt class="literal">A</tt></b></dt>
<dd><p>Access time (or now, in other words)</p></dd>





<dt><b><tt class="literal">M</tt></b></dt>
<dd><p>Last modification time of the file</p></dd>

</dl>





<p><em class="replaceable">seconds</em> is simply a number. For example:</p>





<blockquote><pre class="code">A565656</pre></blockquote>





<p>specifies 565656 seconds after the access time.</p>





<p>The more readable second format is:</p>





<blockquote><pre class="code"><em class="replaceable">base</em> [plus] <em class="replaceable">number</em> <em class="replaceable">type</em> [<em class="replaceable">number</em> <em class="replaceable">type</em> ...]</pre></blockquote>





<p>where <em class="replaceable">base</em> is one of the following:</p>





<dl>
<dt><b><tt class="literal">access</tt></b></dt>
<dd><p>Access time</p></dd>





<dt><b><tt class="literal">now</tt></b></dt>
<dd><p>Synonym for <tt class="literal">access</tt></p></dd>





<dt><b><tt class="literal">modification</tt></b></dt>
<dd><p>Last modification time of the file</p></dd>

</dl>





<p>The <tt class="literal">plus</tt> keyword is optional,
and <em class="replaceable">type</em> is one of the following:</p>





<ul><li><p><tt class="literal">years</tt></p></li><li><p><tt class="literal">months</tt></p></li><li><p><tt class="literal">weeks</tt></p></li><li><p><tt class="literal">days</tt></p></li><li><p><tt class="literal">hours</tt></p></li><li><p><tt class="literal">minutes</tt></p></li><li><p><tt class="literal">seconds</tt></p></li></ul>
<p>For example:</p>





<blockquote><pre class="code">now plus 1 day 4 hours</pre></blockquote>





<p>does what it says.</p>
</div>
















<a name="ch03-47-fm2xml" /><div class="sect2">
<h3 class="sect2">3.15.3. ExpiresDefault</h3>





<blockquote><pre class="code">ExpiresDefault <em class="replaceable">time</em>
Anywhere, .htaccess when AllowOverride Indexes</pre></blockquote>





<p>
<a name="INDEX-410" />
<a name="INDEX-411" />This directive sets the default
expiration time, which is used when expiration is enabled but the
file type is not matched by an <tt class="literal">ExpireByType
</tt>directive.</p>
</div>


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch03_14.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch04_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">3.14. CERN Metafiles</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">4. Common Gateway Interface (CGI) </td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="../lnut/index.htm" coords="81,0,152,95" shape="rect" /><area href="../run/index.htm" coords="172,2,252,105" shape="rect" /><area href="index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>