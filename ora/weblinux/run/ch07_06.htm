<?label 7.6. Loading Modules Automatically?><html><head><title>Loading Modules Automatically (Running Linux)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Running Linux" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch07_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm" /></td><td width="172" valign="top" align="right"><a href="ch08_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">7.6. Loading Modules Automatically</h2>

<p>The so-called kernel daemon <tt class="command">kerneld</tt> is
<a name="INDEX-1713" />
<a name="INDEX-1714" />
<a name="INDEX-1715" />
	  an especially useful feature. With the help of this daemon, the
	  kernel can load needed device drivers and other modules
	  automatically and without manual intervention from the system
	  administrator. If the modules are not needed after a period
	  of time (60 seconds), they
	  are automatically unloaded as well.</p>

<p>In order to use <tt class="command">kerneld</tt>, you need to
	  turn on support for it during kernel configuration, and you also 
	  need the <tt class="literal">System V IPC</tt>
	  option. <tt class="command">kerneld</tt> must be started from one of
	  the system startup files; newer distributions are doing this
	  automatically.</p>

<p>Modules that need other modules must be correctly listed
	  into
	  <em class="filename">/lib/modules/</em><em class="replaceable">kernelversion</em><em class="filename">/modules.dep</em>, and there must be aliases for the major and minor number in <em class="filename">/etc/conf.modules</em>. See the documentation from the <em class="filename">modules</em> package for further information.</p>

<p>If a module has not been loaded manually with
	  <tt class="command">insmod</tt> or <tt class="command">modprobe</tt>, but
	  loaded automatically from <tt class="command">kerneld</tt>, the module 
      is listed
	  with the addition <tt class="literal">(autoclean)</tt> in the
	  <tt class="command">lsmod</tt> output. This tells you that
	  <tt class="command">kerneld</tt> will remove the module if it has not
	  been used for more than one minute.</p>

<p>One last word about <tt class="command">kerneld</tt>: In the latest
kernels, <tt class="command">kerneld</tt> is obsolete, because there is a
new kernel feature called <tt class="command">kmod</tt> that does the
same (by running a separate kernel thread that loads the modules on
demand). Still, running <tt class="command">kerneld</tt> does not hurt.</p>


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch07_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch08_01.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">7.5. Loadable Device Drivers</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">8. Other
 Administrative
 Tasks</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="../lnut/index.htm" coords="81,0,152,95" shape="rect" /><area href="index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>