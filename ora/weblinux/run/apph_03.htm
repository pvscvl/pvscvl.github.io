<?label H.3. Summary of rz and sz Options?><html><head><title>Summary of rz and sz Options (Running Linux)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Running Linux" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="apph_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm" /></td><td width="172" valign="top" align="right"><a href="apph_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">H.3. Summary of rz and sz Options</h2>

<p>Because of the prevailing poor state of <span class="acronym">RZSZ</span> documentation in the
standard Linux distributions and because <span class="acronym">RZSZ</span> tools don't have
interactive help, we're providing you with summaries of the important
flags for using the Zmodem protocol for file transfer. However, you
should get the manual pages and possibly other documentation you need
from an <span class="acronym">FTP</span> site or a <span class="acronym">BBS</span>; see
the earlier section "<a href="apph_01.htm">Section H.1, "Getting RZSZ"</a>." When you use <span class="acronym">RZSZ</span> on
another system, you should be aware that the utilities may have been
modified to support additional features or to disable standard
features. Check the local documentation.</p>

<p><a name="INDEX-366" /> 
The <tt class="command">rz</tt> utility recognizes the following flags:</p>

<dl>
<dt><b><span class="option">-+</span></b></dt><dd><p>
Appends to any existing file of the same name, rather than
overwrite it. (This can cause a malformed file if 
you are retransmitting an interrupted Zmodem transfer.)</p></dd>


<dt><b><span class="option">-a</span></b></dt><dd><p>
Receives <span class="acronym">ASCII</span> text and converts files to Unix newline conventions,
stripping carriage returns and all characters beginning with 
a Ctrl-Z (the end-of-file character for the <span class="acronym">CP/M OS</span>).</p></dd>


<dt><b><span class="option">-b</span></b></dt><dd><p>
Receives binary and saves the file in exactly the form it was received.</p></dd>


<dt><b><span class="option">-D</span></b></dt><dd><p>
Discards output. It sends data to <em class="filename">/dev/null</em>; this is useful for tests.</p></dd>


<dt><b><span class="option">-e</span></b></dt><dd><p>
Escapes the control characters. By default, <tt class="command">sz</tt>
escapes <span class="acronym">XON</span>, <span class="acronym">XOFF</span>, and (in
older versions) <span class="acronym">DLE</span>. This option
forces the sending Zmodem program to escape others as well.</p></dd>


<dt><b><span class="option">-p</span></b></dt><dd><p>
Protects destination files. This option skips Zmodem transfer if 
a destination file of the same name already exists. (Be aware that this
prevents completion of an interrupted Zmodem transfer.)</p></dd>


<dt><b><span class="option">-q</span></b></dt><dd><p>
Quiet exchange. Suppresses informational messages to standard output.</p></dd>


<dt><b><span class="option">-t</span> <em class="replaceable">n</em></b></dt><dd><p>
Changes timeout to <em class="replaceable">n</em> tenths of seconds.</p></dd>


<dt><b><span class="option">-v</span></b></dt><dd><p>
Turns on verbose. Not like a typical Unix utility "verbose."  This flag 
causes a list of transferred filenames to be appended to a log
file, normally <em class="filename">/tmp/rzlog</em>. If multiple <span class="option">-v</span> flags are
used, additional information is also stored to the log.</p></dd>

</dl>

<p />

<p><a name="INDEX-367" /> 
Now for <tt class="command">sz</tt>.
Most <tt class="command">sz</tt> options are simply passed to the receiving
program that performs the operation. Not all Zmodem receiving
programs can execute the requested options.
If <tt class="command">sz</tt> is invoked with the <tt class="literal">$SHELL</tt> environment variable set
to a restricted shell (e.g., <tt class="command">rsh</tt>),
<tt class="command">sz</tt> restricts pathnames to the current directory and to the
value of the <tt class="literal">$PUBDIR</tt> variable if set (often used with <span class="acronym">UUCP</span>), 
as well as subdirectories of these directories.</p>

<?troff .Nd 10?><p>The meanings of the most common <tt class="command">sz</tt> options are:</p>

<dl>
<dt><b><span class="option">-+</span></b></dt><dd><p>
Has the Zmodem receiver utility append the transmitted 
data to an existing file.</p></dd>


<dt><b><span class="option">-a</span></b></dt><dd><p>
Sends <span class="acronym">ASCII</span> text and converts each newline character
(Unix style) in the transmitted file to a carriage
return/linefeed (<span class="acronym">DOS</span> style).</p></dd>


<dt><b><span class="option">-b</span></b></dt><dd><p>
Transfers the file without any translation and 
tells the receiving Zmodem program not to make any translation. This option is used for binary sites.</p></dd>


<dt><b><span class="option">-d</span></b></dt><dd><p>
Diverts path and compensates for filename and 
pathname incompatibilities between systems. (It's more reliable to rename
files before you send them, though.)
All periods (<tt class="literal">.</tt>) in a filename are changed to path-subpath
separators in the transmitted
pathname. (In Unix, change to <tt class="literal">/</tt>
characters, and in <span class="acronym">DOS</span>,
change to backslashes. A file named <em class="filename">foobar.bazbuzzy</em>, for 
example, is transmitted as <em class="filename">foobar/bazbuzzy</em>.)  If a
stem filename has more than eight characters, a period is inserted
to allow up to 11 characters. For example, a Unix file named 
<em class="filename">foo.barbazbuzzy</em> would be transmitted as <em class="filename">foo/barbazbuzzy</em>,
but when received by the <span class="acronym">DOS</span> Zmodem program would be stored as 
<em class="filename">foo\barbazbu.zzy</em>. (If the file is longer than that, and the 
receiving program cannot handle the length, the file is truncated at 
the limit--depending on the "wisdom" of the
<span class="acronym">DOS</span> Zmodem program.)</p></dd>


<dt><b><span class="option">-e</span></b></dt><dd><p>
Escapes control characters.</p></dd>


<dt><b><span class="option">-f</span></b></dt><dd><p>
Preserves full path. Directory prefixes are usually omitted; this forces
the entire path to be sent in the transmitted filename.</p></dd>


<dt><b><span class="option">-L</span> <em class="replaceable">bytes</em></b></dt><dd><p>
Sets the Zmodem subpacket length in bytes. (These are not the same as
Xmodem, Ymodem, or Kermit packets.)  The
default packet length is 128 below 300 baud, 256 above 300 baud, 
or 1024 above 2400 baud. A larger packet gives slightly higher 
throughput, while a smaller packet speeds error recovery. This isn't worth 
messing with for modern modems that implement an error-correcting
protocol in hardware.</p></dd>


<dt><b><span class="option">-l</span> <em class="replaceable">num</em></b></dt><dd><p>Sets the packet length in bytes. The receiver acknowledges correct data every
<em class="replaceable">num</em> characters, where <em class="replaceable">num</em> is a value between 32 and 1024.
You can use this to avoid overrun when <span class="acronym">XOFF</span> flow control is
lacking between the systems.</p></dd>


<dt><b><span class="option">-n</span></b></dt><dd><p>
Newer file preservation. Send the file if the destination file of the 
same name does not exist, and overwrite the destination file only if
the source file is newer than the destination file.</p></dd>


<dt><b><span class="option">-N</span></b></dt><dd><p>
Newer/longer file preservation. Send the file if the destination 
file of the same name does not exist, and overwrite the destination file 
only if the source file is newer or longer than the destination file.</p></dd>


<dt><b><span class="option">-p</span></b></dt><dd><p>
Protects destination files. Doesn't transfer the file if the destination 
file exists.</p></dd>


<dt><b><span class="option">-q</span></b></dt><dd><p>
Suppresses reporting to the standard error.</p></dd>


<dt><b><span class="option">-r</span></b></dt><dd><p>
Resumes an interrupted file transfer. If the source file
is longer than 
the destination file, the transfer begins at the offset in the 
source file that equals the length of the destination file. (This mode
is automatically assumed in some Zmodem receiving programs.)</p></dd>


<dt><b><span class="option">-t </span><em class="replaceable">num</em></b></dt><dd><p>
Timeout. Set the timeout to <em class="replaceable">num</em>
tenths of seconds.</p></dd>


<dt><b><span class="option">-u</span></b></dt><dd><p>
Breaks file links after successful transmission. Conveniently
implements a way to "collect" files to a directory they can all be sent from.</p></dd>


<dt><b><span class="option">-w</span> <em class="replaceable">bytes</em></b></dt><dd><p>
Limits the transmit window size to the specified number
of bytes to impose flow control and limit buffering.</p></dd>


<dt><b><span class="option">-v</span></b></dt><dd><p>
Turns on verbose. Appends the list of transmitted filenames to
the <em class="filename">/tmp/szlog</em> record. Extra <span class="option">-v</span> options cause 
additional information about the transfer to be added to the record.</p></dd>


<dt><b><span class="option">-y</span></b></dt><dd><p>
Tells the receiving Zmodem program to overwrite any
existing files having the same name.</p></dd>


<dt><b><span class="option">-Y</span></b></dt><dd><p>
Tells the receiving Zmodem program to 
overwrite any existing file with the same name, but skip sending 
source files that have a file with the same pathname
on the destination system.</p></dd>

</dl>

<p />


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="apph_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="apph_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">H.2. Sending and Receiving Files</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">H.4. Some Zmodem Usage Notes</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="../lnut/index.htm" coords="81,0,152,95" shape="rect" /><area href="index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>