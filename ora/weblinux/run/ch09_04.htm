<?label 9.4. Graphics?><html><head><title>Graphics (Running Linux)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Running Linux" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch09_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm" /></td><td width="172" valign="top" align="right"><a href="ch09_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">9.4. Graphics</h2>

<p>Many people are fascinated by computer graphics.
<a name="INDEX-2119" />
<a name="INDEX-2120" />
	  Computers are being used to create photo-realistic images of surreal
	  scenes or fractally generated images of mountain ridges with lakes 
	  and valleys; to change images by bending, polishing, aging them;
	  or to make any other manipulations.</p>

<p>Linux does not need to step shyly aside when it comes to
	  graphics. It can do just about anything that other computing
	  environments can do, and in some areas, like dealing with many
	  graphics files at the same time, it even excels. The X Window
	  System, described in the next chapter, forms a very good base
	  for bitmapped graphics, while hardware support will
	  eventually arrive for 
	  3D graphics conforming to the OpenGL standard.</p>

<p>However, working with graphics on Linux is often different 
	  from what you might be used to from other operating systems; the
	  Unix model of small, interoperating tools is in effect here,
	  too. This philosophy is be illustrated most clearly with the suite of graphics
<a name="INDEX-2121" />
<a name="INDEX-2122" />
	  manipulation programs <tt class="command">ImageMagick</tt> that we
	  will describe here. ImageMagick is a collection of tools that operate on
	  graphics files and are started from the command line or from
	  shell scripts. Imagine that you have two thousand files of one
	  file format that you want to reduce to 256 colors, slant, and
	  convert to another file format. On Linux, this is only a few
	  lines in a shell script. Now imagine doing this on Windows:
	  Click on the File menu, click on the Open menu entry, select a
	  file, select an operation, specify the parameters for the
	  operation in a dialog, click OK, choose save from the menu,
	  select a filename, and then click OK. Now repeat for next 1999 files. Can 
	  you say <span class="acronym">RSI</span>?<a href="#FOOTNOTE-39">[39]</a></p><blockquote>

<a name="FOOTNOTE-39" /><p>[39]Repetitive Strain 
	  Injury--a malady that comes from typing too much. The better-known carpal tunnel syndrome is one form of RSI.</p>

</blockquote>

<p>Graphics can not only be drawn but also programmed. There
	  are tools like the ray-tracer POVRAY presented in this chapter
	 where you specify the graphics to be generated by a suite
	  of commands, often in a full-blown graphics-programming
	  language. While this is perhaps more difficult than drawing the
	  desired graphics with the mouse, it is also infinitely more
	  flexible once you have mastered how to use it.</p>

<p>Now, not everybody wants to work with graphics from the
	  command line. Part of the appeal of working with computer
	  graphics is the immediate feedback when working with graphics
	  programs, and Linux can provide these, too, even though those
	  programs are currently in the minority on Linux (and perhaps
	  will continue to be).</p>

<p>In this section, we will talk about some of the options for
	  using and working with graphics on your Linux system. Most of
	  the programs discussed here require the X Window System,
	  which we'll show you how to install and configure in later
<?troff \p?>
	  chapters.</p>

<p>The programs we are covering here are:</p>

<dl>
<dt><b><em class="filename">ImageMagick</em></b></dt><dd><p>A number of command-line tools for image manipulation</p></dd>


<dt><b><em class="filename">GIMP</em></b></dt><dd><p>A graphical image manipulation program</p></dd>


<dt><b><em class="filename">POVRAY</em></b></dt><dd><p>A famous ray-tracer</p></dd>

</dl>

<p>		There are many more graphics programs available for
	  Linux, including 3D modelers and video players. Scouring
	  some Linux archives will reveal a wealth of good software to
	  you.</p>

<a name="x-100-3-sec-imagemagick" /><div class="sect2">
<h3 class="sect2">9.4.1. ImageMagick</h3>

<p><em class="filename">ImageMagick</em> is a suite of programs that convert and
<a name="INDEX-2123" />
<a name="INDEX-2124" />
		manipulate graphics files from the command line. It
		is also well suited for batch conversions, that is, converting
		many files at once. In addition, ImageMagick includes
		PerlMagick, a binding that lets you invoke the ImageMagick
		utilities from the Perl programming
		language. It comes with most Linux distributions; if 
		yours does not have it, you can get it from ftp://ftp.x.org/contrib/applications/ImageMagick.</p>

<p>ImageMagick consists of a library and a number
		of utilities:</p>

<dl>
<dt><b><tt class="command">display</tt></b></dt><dd><p><tt class="command">display</tt> is a
			  graphical frontend
<a name="INDEX-2125" />
			  to many of the functions provided by ImageMagick. It
			  is very useful if you want to experiment with the
			  effects of a function before you go and batch-convert
			  hundreds of images with these
			  effects. <tt class="command">display</tt> can load
			  many
			  different graphics file formats and display them on the
			  X Window System. You can start
			  <tt class="command">display</tt> and pass it one or more
			  filenames on the command line, or load a file
			  from the menu provided. If you have started
			  <tt class="command">display</tt> and do not see a menu, click
			  the image displayed with the left mouse button. 
<a href="ch09_04.htm">Figure 9-4</a> shows
			  <tt class="command">display</tt> in action. <tt class="command">display</tt> features a huge
			  number of command-line switches. See the manual page for 
			  details.</p>

<a name="x-100-3-fig-imagemagick" /><div class="figure"><img src="figs/rl3_0905.gif" alt="Figure 9-4" /></div>
<h4 class="objtitle">Figure 9-4. ImageMagick in action</h4></dd>


<dt><b><tt class="command">import</tt></b></dt><dd><p><tt class="command">import</tt> is a small program to
<a name="INDEX-2126" />
			  capture either one window or the whole server into a
			  file; that is, it allows you to make screenshots. For
			  example, to make a screenshot of your whole screen and
			  save it as <em class="filename">myscreen.xpm</em> in the
			  graphics file format XPM, you would execute:</p>

<blockquote><pre class="code">tigger$ <tt class="userinput"><b>import -window root myscreen.xpm</b></tt></pre></blockquote>

<p>When you hear the first beep, the screen capture 
			  begins, and when the second one sounds, capturing is finished
			  and the image data is in the process of being saved to
			  the file you specified.</p>

<p>If you want to capture the contents of only one
			  window, the easiest way is to start
			  <tt class="command">import</tt> without the
			  <tt class="command">-window</tt> option:</p>

<blockquote><pre class="code">tigger$ <tt class="userinput"><b>import mywindow.xpm</b></tt></pre></blockquote>

<p>The cursor then turns into a crossbar, which
			  prompts you to click on any window. This window's
			  contents are then captured and saved to the
			  specified file.</p>

<p>Like all ImageMagick programs,
			  <tt class="command">import</tt> has many command-line options;
			  check the manual page.</p></dd>


<dt><b><tt class="command">montage</tt></b></dt><dd><p><tt class="command">montage</tt> is a very useful little 
<a name="INDEX-2127" />
			  tool with a functionality rarely found elsewhere. It
			  takes a number of images and puts them together as one
			  large image in a tiled manner. There are lots of options 
			  for changing how the images are exactly tiled and put
			  together.</p>

<p>In order to tile all your JPEG images in the
			  current directory and create the image all.jpg out of
			  it, you could call:</p>

<blockquote><pre class="code">tigger$ <tt class="userinput"><b>montage *.jpg all.jpg</b></tt></pre></blockquote>

<p>By default, there will be a label with the
			  filename below each image. You can remove this by
			  saying:</p>

<blockquote><pre class="code">tigger$ <tt class="userinput"><b>montage +frame *.jpg all.jpg</b></tt></pre></blockquote></dd>


<dt><b><tt class="command">convert</tt></b></dt><dd><p>In a way, <tt class="command">convert</tt> is the heart
<a name="INDEX-2128" />
			  of the ImageMagick suite. It convert an amazing number
			  of graphics formats. For example, let's assume that you
			  want to port a GUI program from Windows to Linux. You
			  have a large number of toolbar icons in Windows BMP
			  format and want to convert those to XPM. This could be
			  done with:</p>

<blockquote><pre class="code">for i in *.bmp
do
convert $i xpm:'basename $i .bmp'.xpm
done</pre></blockquote>

<p><tt class="command">convert</tt> will happily
<?troff .ne 10?> chug
			  through all the images and convert them. If you want to
			  do other things to the images, just add the necessary
			  switches, e.g., <tt class="literal">-despeckle</tt> for
			  removing speckles from the images.</p></dd>


<dt><b><tt class="command">mogrify</tt></b></dt><dd><p><tt class="command">mogrify</tt> is like
			  <tt class="command">convert</tt>, but it overwrites the original
<a name="INDEX-2129" />
			  images and is meant more for applying filter functions
			  than for converting file formats (even though you can
			  easily change the file format by using the switch
			  <tt class="literal">-format</tt>).</p></dd>


<dt><b><tt class="command">identify</tt></b></dt><dd><p><tt class="command">identify</tt> outputs information
			  about the images passed on the command line. For
<a name="INDEX-2130" />
			  example:</p>

<blockquote><pre class="code">tigger$ <tt class="userinput"><b>identify tux.gif</b></tt>
tux.gif 257x303+0+0 DirectClass 10968b GIF 1s</pre></blockquote>

<p>This tells you, among other things, that
			  <em class="filename">tux.gif</em> is a GIF file 257
			  pixels wide and 303 pixels high. If this is not enough
			  information for you, try the <tt class="command">-verbose</tt> 
			  switch!</p></dd>


<dt><b><tt class="command">combine</tt></b></dt><dd><p>As its name indicates, <tt class="command">combine</tt>
<a name="INDEX-2131" />
			  combines several images into one. You can for example
			  put color-separated images together or put a logo on top 
			  of a larger image.</p></dd>


<dt><b><tt class="command">xtp</tt></b></dt><dd><p>Like the <tt class="command">ftp</tt> program,
<a name="INDEX-2132" />
			  <tt class="command">xtp</tt> downloads files from a remote
			  site or uploads them to a remote site. But unlike
			  <tt class="command">ftp</tt>, it does not need interactive
			  input (in order to get this with <tt class="command">ftp</tt>, 
			  you would have to edit its configuration file). <tt class="command">xtp</tt> can
			  be very favorably combined with the other tools from
			  ImageMagick suite to automatically manipulate images on
			  remote servers.</p></dd>

</dl>

<p>To sum up, the programs from the ImageMagick suite are
		an extremely versatile means to manipulate graphics files. It
		takes some time to familiarize yourself with all the
		command-line options in order to know what is available.</p>

<a name="INDEX-2133" /><a name="INDEX-2134" />
</div>




<div class="sect2">
<h3 class="sect2">9.4.2. The GIMP</h3>

<p><a name="INDEX-2135" />
<a name="INDEX-2136" />
		The GIMP (which expands to either GNU Image Manipulation
		Program or General Image Manipulation Program and is often
		written with the definite article) specializes in
		image-manipulation like the ImageMagick package
<a name="INDEX-2137" />
		described in the last section.
		But while ImageMagick's strength is
		batch processing, GIMP does everything via its GUI. The GIMP is
		often cited as one of the most impressive and
<?troff \p?> successful
		products for Linux (and other Unix
		versions). People who use image-manipulation programs
		professionally have said that while GIMP
		can feel a little bit awkward to use, it is functionally
		comparable to its commercial competitor from the Windows and
		Macintosh world, Adobe Photoshop. Some people even have called
		it "the free
		alternative to Photoshop."</p>

<p>GIMP draws its power from an amazing number of
		plug-ins that are available for it. Thus, in order to be able
		to use a newly written image manipulation filter or file
		format import filter, you only need to install the plug-in,
		restart GIMP, and you are ready to go.</p>

<p>In addition, GIMP uses a clever tiling mechanism
		that allows you to load arbitrarily large images into
		it; GIMP will keep in memory only the part that is
		currently being used or visible. And if these features
		are not enough, GIMP also has its own scripting language called
		<em class="emphasis">script-fu</em>.</p>

<p>GIMP comes with most Linux distributions on the
                market today and can be run simply by entering the
command <tt class="command">gimp</tt> in a shell after starting X. If your
distribution does not have GIMP, you can get
                the source code from www.gimp.org. If you plan to do more
                work with GIMP, you should check this web site anyway,
                because it also contains the documentation and sample images
                that show off what you can do with GIMP. A
screenshot showing the toolbar, dialog boxes, and a work area is shown
in <a href="ch09_04.htm">Figure 9-5</a>.</p>

<a name="x-100-3-figure-gimp" /><div class="figure">
<img src="figs/rl3_0906.gif" alt="Figure 9-5" /></div>
<h4 class="objtitle">Figure 9-5. The Gimp</h4><a name="INDEX-2138" /><a name="INDEX-2139" />
</div>




<div class="sect2">
<h3 class="sect2">9.4.3. POVRAY</h3>

<p>While ImageMagick and GIMP are mainly for
<a name="INDEX-2140" />
<a name="INDEX-2141" />
<a name="INDEX-2142" />
		manipulating existing images, POVRAY (the first three
		letters stand for "Persistence Of Vision") is a
		program for automatically creating new images. It is a so-called 
		ray-tracer; a program that computes a scene from some
		information about which objects should be in the scene, what
		their physical and optical properties are, where the light is
		coming from, and where the spectator is standing. You
		describe this to POVRAY in a programming language of its
		own.</p>

<p>This brief description should already indicate that using POVRAY is not
		something you learn in one afternoon. If you are interested in 
		this program, you can download it from <a href="../../../../../../www.povray.org/">http://www.povray.org</a>, which is also
		the first source for all kind of POVRAY resources like sample 
		files, documentation, and so on. Since we could not give you even a
		crash course into using POVRAY here, we'll refrain from
		attempting this futile task.</p>

<a name="INDEX-2143" /><a name="INDEX-2144" /><a name="INDEX-2145" />
</div>




<a name="INDEX-2146" />


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch09_03.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch09_05.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">9.3. Text and Document Processing</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">9.5. Printing</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="../lnut/index.htm" coords="81,0,152,95" shape="rect" /><area href="index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>