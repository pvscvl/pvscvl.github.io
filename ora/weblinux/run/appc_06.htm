<?label C.6. Installing Linux?><html><head><title>Installing Linux (Running Linux)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Running Linux" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="appc_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm" /></td><td width="172" valign="top" align="right"><a href="appc_07.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">C.6. Installing Linux</h2>

<p><a name="INDEX-132" />
<a name="INDEX-133" />
<a name="INDEX-134" />
Okay, you have collected your hardware manuals and selected the Linux
distribution to install (one that meets your requirements based on the
hardware you have). You should probably have at least a hardware
manual for your system, which will describe hardware configuration and
the use of the firmware consoles for your system, as well as provide
useful error codes and diagnostics if there are difficulties. There
will be an appendix near the end of each of Digital's system or
evaluation board manuals that lists related documents, some of which
are also useful. The document numbers will identify
the files that you want from the Alpha library archive.</p>

<p>There are web sites providing FAQ files and other useful information
for some specific Alpha systems as well.</p>

<p>You should also have the installation documents and addenda for your
CD-ROM installation and information regarding any bugs and fixes for
the distribution you are installing. Where your documentation is
incomplete or describes a generic Linux installation, rather than the
specific Linux Alpha installation, you may want to use the following
sequence as a guide for installation.</p>

<div class="sect2">
<h3 class="sect2">C.6.1. Preparing Software for Installation</h3>

<p><a name="INDEX-135" />
Check the web site of the company that provided your CD-ROM distribution
for bug reports, patches, and later versions of the software version
you are installing.  Also check the AlphaLinux web site for
independent verification of bug fixes and patches.  Check Compaq's
"System and Software and Driver Updates" web page for updated (Windows NT)
software and drivers for your system at <a href="../../../../../../ftp.digital.com/pub/DEC/Alpha/firmware/">http://ftp.digital.com/pub/DEC/Alpha/firmware/</a>.
In particular, if your system uses AlphaBIOS, make sure you have the
latest version, which you can get from the previously listed web page.</p>

<p>Check the AlphaLinux FTP site for updates in firmware that you need.</p>

<p>Create the failsafe recovery diskette, which is a linear-format
block-data disk from an image file using an MS-DOS system and
RAWRITE.EXE.  This is a reserve parachute on
your installation journey.  If your ARC or SRM firmware needs
updating, you can retrieve the files from the same location.</p>

<p>Next, make the three boot diskettes that you need for the Linux
installation.  To determine what diskette you may need for booting,
visit the chart located on the Compaq FTP site at:
<blockquote><pre class="code">ftp://gatekeeper.dec.com/pub/DEC/Linux-Alpha/Kernels/systypes.txt</pre></blockquote></p>

<p>You can make the diskettes on an IBM PC/MS-DOS system by invoking
RAWRITE.EXE to create image file disks or using
<tt class="command">dd</tt> under Unix.</p>
</div>




<div class="sect2">
<h3 class="sect2">C.6.2. Preparing Hardware for Installation</h3>

<p><a name="INDEX-136" />
<a name="INDEX-137" />
The key issues here are disk-drive partitions and filesystems and
supported video adapters.  During disk configuration, we recommend
that you use basic <tt class="command">fdisk</tt> tools for reliability
rather than use a GUI-based utility.</p>

<p>Your hardware manual will assist you in any required troubleshooting, such as providing beep code definitions.  The UDB, for
example, has a diagnostic LED character array that flashes a number or
letter if a necessary firmware program in nonvolatile RAM (NV-RAM) or
system ROM (SROM) error is detected on system boot.</p>

<p>
<img src="figs/bomb.gif">&nbsp;&nbsp;If your system has been idle for some time, make sure that the cooling
fans are working, too.  Overheating your system in the middle of
firmware reconfiguration would be particularly annoying.</p>
</div>




<div class="sect2">
<h3 class="sect2">C.6.3. Booting the Alpha System and Preparing
 to Load Milo</h3>

<p><a name="INDEX-138" />
<a name="INDEX-139" />
<a name="INDEX-140" />
Because we cannot possibly cover all BIOS configurations in this
book, we will give pointers on where to find detailed installation and
configuration information for each type of firmware used with Milo.</p>

<table border="1">

<tr>
<th><p>Firmware</p></th>
<th><p>Location of Information</p></th>
</tr>




<tr>
<td rowspan="0"><p>ARC Console</p></td>
<td rowspan="0"><p><a href="../../../../../../www.alphalinux.org/faq/alphabios-howto.html">http://www.alphalinux.org/faq/alphabios-howto.html</a></p></td>
</tr>

<tr>
<td rowspan="0"><p>AlphaBIOS</p></td>
<td rowspan="0"><p><a href="../../../../../../www.alphalinux.org/faq/alphabios-howto.html">http://www.alphalinux.org/faq/alphabios-howto.html</a></p></td>
</tr>

<tr>
<td rowspan="0"><p>SRM</p></td>
<td rowspan="0"><p><a href="../../../../../../www.alphalinux.org/faq/srm.html">http://www.alphalinux.org/faq/srm.html</a></p></td>
</tr>


</table>
</div>




<div class="sect2">
<h3 class="sect2">C.6.4. Loading Milo and the Linux Boot Kernel</h3>

<p><a name="INDEX-141" />
After you have successfully configured your BIOS to load Milo, you will
see the Milo prompt.  Because Milo is a microkernel, it
has many options you may want to explore before bootstrapping the
Linux kernel.</p>

<p>You should see the following Milo prompt:</p>

<?troff-ps_indent0?><blockquote><pre class="code">MILO&gt;</pre></blockquote>

<p>To see Milo options, enter Milo's help command:</p>

<blockquote><pre class="code">MILO&gt; <tt class="userinput"><b>help</b></tt></pre></blockquote>

<p>To see how Milo has set up, what devices it knows, and the
filesystems that it recognizes, enter the show command:</p>

<blockquote><pre class="code">MILO&gt; <tt class="userinput"><b>show</b></tt></pre></blockquote>

<p>If everything looks fine, you can continue with the installation and
load Linux from the prepared Linux kernel image.</p>

<p>Bootstrapping the kernel is very straightforward--you can do it in
one command:</p>

<ol><li><p>To load the Linux kernel from the first disk drive, type the following:

<blockquote><pre class="code">MILO&gt; <tt class="userinput"><b>boot fd0:vmlinux.gz root=/dev/fd0 load_ramdisk=1</b></tt></pre></blockquote>

Note that this assumes you use the floppy image file that you prepared
from a disk image file; Milo assumes an <em class="emphasis">ext2</em> partition by default
and that <em class="filename">fd0</em> is the correct floppy drive. If you
wanted to boot from an MS-DOS-formatted disk, such as the alternate
disk previously prepared, you could enter:
<blockquote><pre class="code">MILO&gt; <tt class="userinput"><b>boot fd0 -t msdos -fi vmlinux.gz load_ramdisk=1</b></tt></pre></blockquote></p></li><li><p>Insert the ramdisk floppy when prompted.</p></li><li><p>Run your CD-ROM distribution's installation and configuration program.</p></li><li><p>After you finish installation, install Milo on a small disk
partition on your machine to use for reconfiguring.  If you want Milo
to be able to load on booting, this partition must be a primary MS-DOS
partition.  You can create it using MS-DOS's or Window NT's
<tt class="command">fdisk</tt>.</p></li></ol><a name="INDEX-142" />
</div>




<a name="INDEX-143" /><a name="INDEX-144" /><a name="INDEX-145" />


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="appc_05.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="appc_07.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">C.5. Preparing for Installation
 of Linux Alpha</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">C.7. Tuning and Post-Installation Considerations</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="../lnut/index.htm" coords="81,0,152,95" shape="rect" /><area href="index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>