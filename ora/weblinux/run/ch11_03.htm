<?label 11.3. The K Desktop Environment?><html><head><title>The K Desktop Environment (Running Linux)</title><link href="../style/style1.css" type="text/css" rel="stylesheet" />

<meta name="DC.Creator" content="" /><meta scheme="MIME" content="text/xml" name="DC.Format" /><meta content="en-US" name="DC.Language" /><meta content="O'Reilly & Associates, Inc." name="DC.Publisher" /><meta scheme="ISBN" name="DC.Source" content="" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="" /><meta content="Text.Monograph" name="DC.Type" />

</head><body bgcolor="#ffffff">

<img src="gifs/smbanner.gif" alt="Book Home" usemap="#banner-map" border="0" /><map name="banner-map"><area alt="Running Linux" href="index.htm" coords="0,0,466,65" shape="rect" /><area alt="Search this book" href="jobjects/fsearch.htm" coords="467,0,514,18" shape="rect" /></map>

<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch11_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm" /></td><td width="172" valign="top" align="right"><a href="ch11_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr></table></div>
<hr align="left" width="515" />


<h2 class="sect1">11.3. The K Desktop Environment</h2>

<p>The K Desktop Environment is an Open Source software
<a name="INDEX-2320" />
	  project that aims at providing a consistent, user-friendly,
	  contemporary desktop for Unix and hence Linux systems. Since its
	  inception in October 1996, it has made amazing progress. This is
	  partly due to the choice of a very high-quality GUI toolkit, Qt,
	  as well as the consequent choice of using C++ and its
	  object-oriented features for the implementation.</p>

<p>It should be noted up front that KDE is <em class="emphasis">not</em>
a window manager like <tt class="command">fvwm</tt>, but a whole desktop
system that can be used with any other window manager. However, it
also comes with its own window manager called <tt class="command">kwm</tt>,
which will give best results and is therefore what we will cover
here.</p>

<p>In the section about configuring the
	  <tt class="command">fvwm</tt> window manager, you have seen that configuring Linux
	  desktops usually means learning the syntax of configuration
	  files and editing those files, something that long-term Linux
	  users take for granted but that often rebuffs new users. The
	  KDE team has therefore made it one of its goals that everything
	  that is configurable in KDE (and about everything is) should be
	  configurable via GUI dialogs. You can still edit configuration
	  files, if you prefer, but you don't need to, and even the
	  most experienced users usually admit that in order to do simple things
	  like change the background color of the desktop, it's faster
	  to click a few buttons than to read the manual page, find the
	  syntax for specifying the background color, open the
	  configuration file, edit it, and restart the window manager.</p>

<p>Besides easy configuration, KDE sports a few other
	  features that were previously unheard of on Linux. For example,
	  it provides a full Internet integration of the desktop. It comes
	  with a file manager that doubles as a web browser, and browsing
	  files on some <span class="acronym">FTP</span> site is just the same as
	  browsing your local hard disk. You can drag and drop icons that
	  represent Internet locations to your desktop and thus easily
	  find them again later. In addition, almost all KDE application
	  are able to open and save files in remote locations.</p>

<p>Drag-and-drop, commonplace on Windows or the Macintosh, is
<a name="INDEX-2321" />
	  also central to KDE. For example, to open a file in the text
	  editor, you just grab its icon in the file manager window and
	  drop it onto the editor window. This works no matter where the file
	  is located; if it is on a remote server, KDE automatically
	  downloads the file for you before opening it in the text editor
	  or whichever application you choose to open it with.</p>

<p>While manual pages are very well suited to give
	  programmers instant access to terse information about system
	  libraries, they are not really very well suited for end-user
	  documentation. KDE therefore uses standard HTML files and comes
	  with a fast help viewer. The viewer also knows how to display manual page and Info
	  files so that you can access all the documentation on your
	  system from one application. In addition, most KDE applications
	  support context-sensitive help.</p>

<p>For a few releases, the X Window System has supported a
<a name="INDEX-2322" />
	  feature called <em class="firstterm">session management</em>. This
	  is a capability that lets you leave your X environment (for
	  example, because you want to turn off or reboot your computer),
	  and when you return to X, all the applications that you had
	  opened reappear at the same positions and in the same
	  configuration. Unfortunately, this very user-friendly feature
	  was rarely supported by X applications. KDE uses it extensively.
	  KDE provides a session manager that handles session management, and
	  all KDE applications are written to behave properly with that feature.</p>

<p>It should be mentioned that KDE is not just another window
<a name="INDEX-2323" />
<a name="INDEX-2324" />
	  manager. KDE contains a window manager, <tt class="command">kwm</tt>,
	  and a very good one at that, but that is only one part of
	  KDE. Some of the others are the file manager, the web browser, the
	  panel, a pager, the control center for configuring your desktop,
	  and many, many more. If you want to, you can even run KDE with
	  another window manager, but you might lose some of the
	  integration features.</p>

<p>You might be thinking, "Well, this all sounds very nice,
	  but I have a couple of normal X applications that I want to
	  run." In this case, you will be delighted to hear that you can
	  continue to do that. Yes, you can run all X applications on a
	  KDE desktop, and KDE even provides some means to integrate them
	  as far as possible into the overall desktop. For example, if you
	  so desire, KDE can try to reconfigure your other X applications
	  to use the same colors as the overall desktop so that you get a
	  nice consistent environment. Of course, non-KDE applications
	  will not support some of KDE's advanced features like
	  drag-and-drop or session management, but you can continue to
	  use the programs you have grown accustomed to until someone
	  releases KDE applications that address the same needs (or
	  perhaps KDE versions of your favorite programs themselves).</p>

<p>The current development version of KDE, as well as the upcoming KDE office
suite (see <a href="../../../../../../koffice.kde.org/">http://koffice.kde.org</a> ), is heavily based on CORBA, which among
other things enables embedding of office components running on different
machines into each other.</p>

<p>KDE is in continuing development, but every few months the
	  KDE team releases a so-called official release that is considered
	  very stable and suitable for end users. These releases are made
	  available in both source and binary packages in various package
	  formats, often specifically adapted for the most common Linux
	  distributions. If you don't mind fiddling around with KDE and
	  can stand an occasional bug, you can also live on the bleeding
	  edge and download daily snapshots of KDE, but this is not for
	  the faint at heart.</p>

<div class="sect2">
<h3 class="sect2">11.3.1. Installing KDE</h3>

<p>Most Linux distributions come with KDE nowadays, but if
<a name="INDEX-2325" />
<a name="INDEX-2326" />
		yours doesn't, or you want to use a newer version of KDE, you
		can download it from the Internet. <a href="../../../../../../www.kde.org/">http://www.kde.org</a> is your one-stop
		shop for everything KDE related, including documentation,
		screenshots, and	download locations. ftp://ftp.kde.org is the KDE project's
		<span class="acronym">FTP</span> site, but it is often overloaded, so
		you might be better off trying a mirror instead.</p>

<p>KDE consists of a number of packages. These include:</p>

<dl>
<dt><b><em class="emphasis">kdesupport</em></b></dt><dd><p>This package contains third-party libraries that
			  are not part of KDE itself but that are used by KDE. It
<a name="INDEX-2327" />
			  is recommended that you install this package to make sure that
			  you have the correct versions of all the libraries
			  installed.</p></dd>


<dt><b><em class="emphasis">kdelibs</em></b></dt><dd><p>This package contains the KDE libraries. They
<a name="INDEX-2328" />
			  contain the basic application frame, a number of GUI
			  widgets, the configuration system, the HTML display
			  system, and many other things. Without this package,
			  nothing in KDE will run.</p></dd>


<dt><b><em class="emphasis">kdebase</em></b></dt><dd><p>In this package, you will find the basic KDE
<a name="INDEX-2329" />
			  applications that make a desktop a KDE desktop,
			  including the file manager/web browser, the window
			  manager, and the panel. You definitely need this
			  package if you want to use KDE.</p></dd>


<dt><b><em class="emphasis">kdegames</em></b></dt><dd><p>A number of games, including card games, action
<a name="INDEX-2330" />
			  games, and strategy games. Everybody will probably
			  want to install these but only to get
			  acquainted with the system, of course.</p></dd>


<dt><b><em class="emphasis">kdegraphics</em></b></dt><dd><p>A number of graphics-related programs like a dvi
<a name="INDEX-2331" />
			  viewer, a PostScript viewer, and an icon editor.</p></dd>


<dt><b><em class="emphasis">kdeutils</em></b></dt><dd><a name="INDEX-2332" /><p>This package contains some productivity tools like
			  text editors, a calculator, printer
			  managers, and an address-book program.</p></dd>


<dt><b><em class="emphasis">kdemultimedia</em></b></dt><dd><p>As the name implies, this package contains
<a name="INDEX-2333" />
			  multimedia programs, including a CD player, a MIDI
			  player and--of all things--a Karaoke
			  player.</p></dd>


<dt><b><em class="emphasis">kdenetwork</em></b></dt><dd><p>Here, you will find programs for use with the
<a name="INDEX-2334" />
			  Internet, including a mail reader, a news reader, and
			  some network management tools.</p></dd>


<dt><b><em class="emphasis">kdeadmin</em></b></dt><dd><p>This package contains some programs for the system
<a name="INDEX-2335" />
			  administrator, including a user manager, a runlevel
			  editor, and a backup program.</p></dd>


<dt><b><em class="emphasis">korganizer</em></b></dt><dd><p>This package contains only one application: a
			  full-featured personal information manager that even
<a name="INDEX-2336" />
			  supports synchronization with Palm Pilots.</p></dd>

</dl>

<p>In addition to the packages mentioned here, which are
		officially provided by the KDE team, there are
		literally hundreds of other KDE programs available. See
		<a href="../../../../../../www.kde.org/applications.html">http://www.kde.org&hairsp;/applications.html</a>
		for a list of applications that are currently
		available.</p>

<p>Once you have selected which packages to install, you
		can go on and actually install them. How you do that depends
		on which Linux distribution you use and whether you
		install a binary package or compile KDE yourself from the
		source code. If your distribution contains KDE, you will also
		be able to install KDE during your system installation.</p>

<p>Once the software is loaded onto your hard disk, there
		are only a few steps left to do. First, you have to make sure
		that the directory containing the KDE applications is in your
		<tt class="literal">PATH</tt> environment variable. The default
		location of the executable KDE programs is
		<em class="filename">/opt/kde/bin</em>, but if you have chosen to
		install KDE to another location, you will have to insert your
		path here. You can add this directory to your
		<tt class="literal">PATH</tt> variable by issuing:</p>

<blockquote><pre class="code">export PATH=/opt/kde/bin:$PATH</pre></blockquote>

<p>To make this permanent, either add this line to your
		configuration file <em class="filename">.bashrc</em> in your home
		directory or to the system-wide configuration file
		<em class="filename">/etc/profile</em>.</p>

<p>Next, do the same with the directory containing the
		KDE libraries (by default <em class="filename">/opt/kde/lib</em>)
		and the environment variable
		<tt class="literal">LD_LIBRARY_PATH</tt>:</p>

<blockquote><pre class="code">export LD_LIBRARY_PATH=/opt/kde/lib:$LD_LIBRARY_PATH</pre></blockquote>

<p>Now you are almost done, but you still need to tell
		X that you want to run the KDE desktop when X
		starts. This is done in the file
		<em class="filename">.xinitrc</em> in your home
		directory. Make a backup copy first. Then remove everything
		in this file and insert the single line:</p>

<blockquote><pre class="code">startkde</pre></blockquote>

<p><tt class="command">startkde</tt> is a tiny shell script
<a name="INDEX-2337" />
		provided with KDE that simply starts up the KDE window manager
		<tt class="command">kwm</tt> and a number of basic
		applications.</p>

<a name="INDEX-2338" /><a name="INDEX-2339" />
</div>




<div class="sect2">
<h3 class="sect2">11.3.2. Using KDE</h3>

<p>Using KDE is quite easy. Most things are very intuitive,
		so you can often simply guess what to do. We will, however,
		give you some hints for what you can do with KDE here, to
		encourage you to start further explorations into your KDE
		desktop.</p>

<p>When you start KDE for the first time, it looks like
		<a href="ch11_03.htm">Figure 11-3</a>. Along the lower
		border of the screen, you see the so-called
		<em class="emphasis">panel</em>. The panel serves several
		purposes, including fast access to installed
<a name="INDEX-2340" />
		applications. Along the upper border, you can see the
		<em class="emphasis">taskbar</em>. This bar shows all open windows
		and can be used for quickly accessing any window currently on
		the desktop. In addition, KDE opens a file manager window when
		started for the first time.</p>

<a name="x-100-3-fig-kdedefault" /><div class="figure">
<img src="figs/rl3_1103.gif" alt="Figure 11-3" /></div><h4 class="objtitle">Figure 11-3. The KDE desktop at first startup</h4><p>KDE provides a number of workspaces that are accessible
<a name="INDEX-2341" />
		via the buttons in the middle of the panel, labeled
		One to Four by
		default. Try clicking on those buttons. You can see how the
		file manager window is visible only while you are on workspace
		One, while the panel and the taskbar are
		always visible. Now go to workspace Two and
		start a calculator by clicking on the calculator
		icon on the panel. When the panel appears, change workspaces
<a name="INDEX-2342" />
		again. You will see that the calculator is visible only while
		you are on workspace Two. When you are on
		any other workspace, click on the calculator
<?troff .ne 10?> label in the
		taskbar. This will immediately bring you back to the workspace
		where your calculator is shown.</p>

<p>To try another nifty feature, push the small button in
		the title bar of the calculator window that looks like a push
		pin. Now change workspaces again. You will see that the
		calculator window is now visible on every workspace--it
		has been "pinned down" to the background of the
		desktop, so to speak.</p>

<p>If you grow tired of the calculator window on every
		workspace, simply click on the pin again, and if you want
		to get rid of the window as a whole, click on the button with
		the little x on it in the upper-right corner.</p>

<p>There are lots of things that you can do with windows in
		KDE, but we'll take you now on a short exploration trip
<a name="INDEX-2343" />
		to the so-called <em class="emphasis">K menu</em>. You open the
		K menu by clicking on the icon with the gear-and-K symbol to
		the far left of the panel. Besides some options for
		configuring the K menu and the panel itself, you will find
		all installed KDE applications here, grouped into submenus. To
		start one of those applications, simply select the menu
		entry.</p>

<p>We have promised that you can run old X applications on
<a name="INDEX-2344" />
<a name="INDEX-2345" />
		your KDE desktop. You can do that either by
		opening a terminal window and typing the application name on
		the command line, or by pressing Ctrl-F2 and entering the
		application name in the small command line that appears in
		the middle of the screen. But you can also integrate non-KDE
		applications into the K menu and the panel, that is, showing them
		as icons that you can click on to run the associated programs,
		even though this requires a little bit more work.</p>

<p>Depending on how you have installed KDE, it may well be
		that there is already a submenu Non-KDE
		programs in your K menu that contains a number of
		non-KDE applications. If you don't have this, run the
<a name="INDEX-2346" />
		application <tt class="command">Appfinder</tt> that you can find in
		the <tt class="literal">System</tt> submenu. This is a tool that
		searches your system for a number of applications that it has
<a name="INDEX-2347" />
		in its database and integrates each one into the KDE desktop by
		generating a so-called <em class="filename">.kdelnk</em> file for
		it. If the program that you want to integrate into KDE is not
		included in the <tt class="command">Appfinder</tt>'s database, you
		will have to write such a <em class="filename">.kdelnk</em> file
		yourself, but as always in KDE, there are dialogs for doing
		this where you just have to fill in the required
		information. See the KDE documentation at <a href="../../../../../../www.kde.org/documentation/index.html">http://www.kde.org&hairsp;/documentation/index.html</a>.</p>

<p>By default, the panel already contains a number of icons
		to start the most often-used programs, but you can easily add
		your own. To do this, open the K menu again, but this time,
		first open the submenu Panel and then the
		submenu Add Application. Probably much to
		your surprise, something that looks like a copy of the K menu
		pops up. Find the application whose icon you want to add to
		the panel and select it, just as if you wanted to start it. KDE
		will then add the icon for this application to the panel. You
		can even add full submenus to the panel by selecting the first
		menu entry in a submenu in the Add
		Application tree. The icon will then have a small
		black arrow in it, which indicates that clicking on the
		icon opens a menu instead of starting an application.</p>

<p>There is only limited space on the panel, so you might
		need to remove some icons of programs that you do not
		often use. Just click with the right mouse button on
		the icon and select Remove. In general, you
		can get at a lot of functionality in KDE by clicking the right
		mouse button!</p>

<p>Next, we will show you how to configure your KDE desktop
		to your tastes. As promised, we will not edit any
		configuration files to do this.</p>

<p>Configuration is done in the KDE Control Center,
<a name="INDEX-2348" />
<a name="INDEX-2349" />
		which you
		can start from the K menu. All the configuration options are
		grouped at different levels. When you start up the control
		center, you will see the top-level groups. By clicking on the
		plus signs, you can open a group to see the entries in
		this group.</p>

<p>As an example, we will now change the background
<a name="INDEX-2350" />
<a name="INDEX-2351" />
		color to something else. To do this, open the
		Desktop group and choose Background. After a short time, the
		configuration window for configuring the background will
		appear (see <a href="ch11_03.htm">Figure 11-4</a>).</p>

<a name="x-100-3-fig-kdeconfbg" /><div class="figure"><img src="figs/rl3_1104.gif" alt="Figure 11-4" /></div>
<h4 class="objtitle">Figure 11-4. Configuring the background of the KDE desktop</h4><p>By default, the background is configured to have one
		single color. If you want to leave it at that and just change
		this color, click on the color field below the One
		Color button. A color selection dialog pops up where you
		can select a color to your tastes. When you close the color
		selection dialog, the new color is displayed in the
		monitor in the upper right corner of the configuration window. When
		you configure KDE, you often see such monitors that allow
		you to preview your choice. However, you also have the option
		to see what your choice looks like when in full use. Simply
		click on the Apply button at the lower
		border of the configuration window, and your change is
		automatically applied. There is no need to restart the
		desktop.</p>

<p>If you think that a single color is boring, maybe you
<a name="INDEX-2352" />
<a name="INDEX-2353" />
		want a gradient where one color is slowly morphed into
		another. In this case, select the Two Colors button
		and select a second color; KDE will compute the
		gradient and display it in the monitor.</p>

<p>You also have the option of using a background image. If
		that is what you want, go to the Wallpaper
		area of the configuration dialog. You can either select one of
		the wallpapers that come with KDE, which contains some very
		stylish ones, by choosing from the drop-down list, or you can
		select any graphics file of your own.</p>

<p>There are more things you can do with the background, but
		we'll leave it at that for now and look at something else:
		Configuring styles and colors of the windows.</p>

<p>With normal window managers, you can configure the color
		of the window decorations, but not of the window
		contents. With KDE, this is different. Since KDE is an
		integrated desktop, color and other settings apply both to the
		window decorations painted by the window manager and to
		the window contents painted by the applications. We'll now set
		off to configure a little bit of the appearance.</p>

<p>In the control center, open the Desktop group,
<a name="INDEX-2354" />
		and choose Colors. You'll see a preview
		window and a selection list where you can pick a color
		scheme. KDE does not work by configuring individual colors,
		but by defining so-called color schemes. This is because it
		does not make sense to change only one color; all colors must
		fit together to achieve a pleasing and eye-friendly
		look.</p>

<p>While KDE lets you create your own color schemes, doing
		so is a task that requires some knowledge about color
		psychology and human vision. we'd therefore suggest
		that you pick one of the predefined color schemes. Check in
		the preview monitor whether you like what you see. Now comes
		the fun part: click on the Apply button and
		watch how all running applications flicker a bit and suddenly
		change colors--without having to restart
		them. While Windows users tend to take this for
		granted, it was never seen before on Unix before KDE.</p>

<p>The same feature applies to other settings. For
<a name="INDEX-2355" />
<a name="INDEX-2356" />
		example, open the Desktop group and choose Style. Here, you can select "Windows 95" style. If
		this is selected, all user interface elements are drawn
		according to the Windows standard; if it is not selected, they
		are drawn according to the Motif standard common on Unix. You
		can change this setting by clicking Apply and
		watch your running applications change their style. The same
		goes, by the way, for the fonts that you can select on the
		Font page.</p>

<p>There are many more things to configure in KDE, but we
		cannot go through all the options here, otherwise there would
		not be much space left for other topics in this book. But
		there's one more thing that we'd like to show you. You will
<a name="INDEX-2357" />
<a name="INDEX-2358" />
		especially like this if English is not your native language or
		if you frequently converse in another language.</p>

<p>Go to the Language page in the Desktop group (see <a href="ch11_03.htm">Figure 11-5</a>). 
Here, you can select the
		language in which your KDE desktop and the KDE applications
		should be running. Currently, KDE lets you choose from more
		than thirty languages.</p>

<a name="x-100-3-kdeconflang" /><div class="figure"><img src="figs/rl3_1105.gif" alt="Figure 11-5" /></div>
<h4 class="objtitle">Figure 11-5. Configuring the language of the KDE desktop</h4><p>You might be wondering why you can select more than
		one language. The reason is that the KDE programs are
		translated by volunteers, and not all the applications are
		translated at the same time. Thus, a particular
		application might not be available in the language that you
		have chosen as your primary language. In this case, the secondary
		language is chosen automatically for that application, and if
		there is no translation available for this application, the
		tertiary language is chosen. If all else fails, English is
		chosen, which always exists.</p>

<p>There is much more to say about using the KDE desktop,
		but we'll let you explore it yourself.
		Besides the obvious and intuitive features, there are also
		those that are not so obvious but very useful nevertheless, so
		be sure to check the documentation at <a href="../../../../../../www.kde.org/documentation/index.html">http://www.kde.org&hairsp;/documentation/index.html</a>.</p>
</div>




<a name="INDEX-2359" />


<hr align="left" width="515" />
<div class="navbar"><table border="0" width="515"><tr><td width="172" valign="top" align="left"><a href="ch11_02.htm"><img src="../gifs/txtpreva.gif" alt="Previous" border="0" /></a></td><td width="171" valign="top" align="center"><a href="index.htm"><img src="../gifs/txthome.gif" alt="Home" border="0" /></a></td><td width="172" valign="top" align="right"><a href="ch11_04.htm"><img src="../gifs/txtnexta.gif" alt="Next" border="0" /></a></td></tr><tr><td width="172" valign="top" align="left">11.2. The fvwm Window Manager</td><td width="171" valign="top" align="center"><a href="index/index.htm"><img src="../gifs/index.gif" alt="Book Index" border="0" /></a></td><td width="172" valign="top" align="right">11.4. X Applications</td></tr></table></div>
<hr align="left" width="515" />

<img src="../gifs/navbar.gif" alt="Library Navigation Links" usemap="#library-map" border="0" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2001</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="1,1,83,102" shape="rect" /><area href="../lnut/index.htm" coords="81,0,152,95" shape="rect" /><area href="index.htm" coords="172,2,252,105" shape="rect" /><area href="../apache/index.htm" coords="238,2,334,95" shape="rect" /><area href="../sql/index.htm" coords="336,0,412,104" shape="rect" /><area href="../dbi/index.htm" coords="415,0,507,101" shape="rect" /><area href="../cgi/index.htm" coords="511,0,601,99" shape="rect" /></map>

</body></html>