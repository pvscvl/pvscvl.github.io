<html><head><title>Using Email to Collect Form Data  (HTML &amp; XHTML: The Definitive Guide, 4th Edition)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Chuck Musciano and Bill Kennedy" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="059600026XL" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="HTML &amp; XHTML: The Definitive Guide, 4th Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="HTML &amp; XHTML: The Definitive Guide" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch09_03.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm">HTML &amp; XHTML: The Definitive Guide, 4th Edition</a></td><td align="right" valign="top" width="228"><a href="ch09_05.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>
<hr width="684" align="left" />


<h2 class="sect1">9.4. Using Email to Collect Form Data </h2>

<p><a name="INDEX-1804" /> <a name="INDEX-1805" /> <a name="INDEX-1806" />
<a name="INDEX-1807" />It is increasingly common to find authors
who have no access to a web server other than to upload their
documents. Consequently, they have no ability to create or manage CGI
programs. In fact, some Internet Service Providers (ISPs),
particularly those hosting space for hundreds or even thousands of
sites, typically disable CGI services to limit their server's
processing load or as a security precaution.
</p>

<p>If you are working with one of the many sites where you cannot get a
form processed to save your life, all is not lost: you can use a
mailto URL as the value of the form's <tt class="literal">action</tt>
attribute. The latest browsers automatically will email the various
form parameters and values to the address supplied in the URL. The
recipient of the mail can then process the form and take action
accordingly.
</p>

<p>By substituting the following for the <tt class="literal">&lt;form&gt;</tt>
tag in our previous example:
</p>

<blockquote><pre class="code">&lt;form method=POST action="mailto:chuckandbill@oreilly.com"
    enctype="text/plain"
    onSubmit="window.alert('This form is being sent by email, even
    though it may not appear that anything has happened...')"&gt;</pre></blockquote>

<p>the form data gets emailed to <tt class="literal">chuckandbill</tt> when
submitted by the user, not otherwise processed by a server. Notice,
too, that we have a simple JavaScript alert message that appears when
the browser gets ready to send out the form data. The alert tells the
user not to expect confirmation that the form data was sent (see
<a href="ch09_04.htm">Figure 9-2</a>). Also, unless disabled by the user or
if you omit the <tt class="literal">method=POST</tt> attribute, the browser
typically will warn the user that they are about to send unencrypted
("text/plain") and thereby unsecured information over the
network and gives them the option to cancel the submission.
Otherwise, the form is sent via email without incident or
notification.
</p>

<a name="html4-CHP-9-FIG-2" /><div class="figure"><img height="217" alt="Figure 9-2" src="figs/xhtm.0902.gif" width="480" /></div><h4 class="objtitle">Figure 9-2. A warning about a mailto form submission</h4>

<p>The body of the resulting emailed form message looks something like
this:
</p>

<blockquote><pre class="code">name=wild bill
sex=M 
income=Under $25,000</pre></blockquote>

<a name="html4-CHP-9-SECT-4.1" /><div class="sect2">
<h3 class="sect2">9.4.1. Problems with Email Forms</h3>

<p>If you choose to use either mailto or a form-to-email facility, there
are several problems you may have to deal with:
</p>

<ul><li>
<p>
Your forms won't work on browsers that don't support a
mailto URL as a form action.
</p></li>
<li><p>Some browsers, including some early versions of Internet Explorer, do
not properly place the form data into the email message body and may
even open an email dialog box, confusing the user.
</p></li>

<li><p>A mailto doesn't present users with a confirmation page to
assure them that their form has been processed. After executing the
mailto form, the user is left looking at the form, as if nothing had
happened. (Use JavaScript to overcome this dilemma with an
<tt class="literal">onSubmit</tt> or <tt class="literal">onClick</tt> event
handler.) <a href="ch12_03.htm">Section 12.3.3, "JavaScript Event Handlers"</a>
</p></li>

<li><p>Your data may arrive in a form that is difficult, if not impossible,
to read, unless you use a readable <tt class="literal">enctype</tt>, such
as <tt class="literal">text/plain</tt>.
</p></li>

<li><p>You will lose whatever
<a name="INDEX-1808" />security protections that may
have been provided by the server with the form.
</p></li>
</ul>
<p>The last problem deserves additional explanation. Some web providers
support special "secure" web servers that attach an
encryption key to your web page when sent to the user browser. The
popular browsers use that key to encrypt any data your document may
send back to that same server, including the user's form data.
Since only the client's browser and the server know the key,
only that server will be able to decipher the information coming back
to it from the client browser, effectively securing the information
from nefarious eavesdroppers and hackers.
</p>

<p>However, if you use email to retrieve the form data, the server
decrypts it before packaging the form information into the body of an
email message and sending it to you. Email normally is highly
susceptible to eavesdropping and other types of snooping. Its
contents are very insecure.
</p>

<p>So, please, if you use an email method to retrieve sensitive form
data, such as credit cards and personal information, be aware of the
potential consequences. And don't be fooled or fool your users
with a "secure" server when insecure email comes out the
back end.
</p>

<p>In spite of all these problems, email forms present an attractive
alternative to the web author constrained by a restricted server. Our
advice: use CGI scripts if at all possible and fall back on mailto
URLs if all else fails.<a name="INDEX-1809" /> <a name="INDEX-1810" /> <a name="INDEX-1811" /> <a name="INDEX-1812" /> <a name="INDEX-1813" />
</p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch09_03.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch09_05.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">9.3. A Simple Form Example</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">9.5. The &lt;input&gt; Tag</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="0,1,78,93" shape="rect" /><area href="../wdesign/index.htm" coords="80,2,155,96" shape="rect" /><area href="index.htm" coords="158,0,263,97" shape="rect" /><area href="../audio/index.htm" coords="265,1,335,97" shape="rect" /><area href="../css/index.htm" coords="338,1,434,93" shape="rect" /><area href="../action/index.htm" coords="439,0,540,102" shape="rect" /><area href="../infoarch/index.htm" coords="544,0,685,102" shape="rect" /></map>

</body></html>