<html><head><title>What is MP3? (Designing Web Audio)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Josh Beggs and Dylan Thede" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565923537L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Designing Web Audio" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Designing Web Audio" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch08_01.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm">Designing Web Audio</a></td><td align="right" valign="top" width="228"><a href="ch08_03.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>
<hr width="684" align="left" />


<h2 class="sect1">8.2. What is MP3?</h2>

<p>The format known as <a name="INDEX-1047" />MPEG-1, Layer III (or MP3 for
short) was developed in the late 1980s and early 1990s and was
finalized in November 1992 by the <a name="INDEX-1048" />Motion Pictures Expert Group
(MPEG) as part of the original MPEG-1 standard. The MPEG committee is
a gathering of scientists and engineers who work under the auspices
of the <a name="INDEX-1049" /> <a name="INDEX-1050" />International Standards
Organization (ISO) and the <a name="INDEX-1051" />
<a name="INDEX-1052" />International Electro-Technical
Commission (IEC). The members of the MPEG group are responsible for
establishing standards for digital coding of moving pictures and
audio. (See <a href="ch08_02.htm">the sidebar "About the Motion Pictures Expert Group "</a>.)
</p>

<p>MP3 is more than a simple compression scheme. Most people are
familiar with file compressors such as <a name="INDEX-1053" />zip. But if you've ever tried
to zip up a WAV file, you've probably found that raw audio
doesn't compress well at all. Compression shaves only a tiny
percentage from the original file size. Instead, MP3 gets most of its
<a name="INDEX-1054" />compression
from the science of
<em class="emphasis">psychoacoustics</em><a name="INDEX-1055" />
 -- the modeling of human auditory perception. The theory is that
uncompressed audio streams carry a lot of data that isn't
actually perceived by humans, for a variety of reasons. The logic
follows: why store data that can't be perceived? MP3 encoders
analyze audio streams and compare them to mathematical models of
human psychoacoustics -- a far more complex and mathematically
intensive process than simple zip compression. The process is time-
and processor-intensive (compared to zip, anyway), but it has the
benefit of achieving more effective compression.
</p>

<p>Of course, the act of discarding data results in an imperfect audio
stream by definition. No MP3 file contains all the data found in the
original uncompressed source stream. But in practice, MP3s can be
created with high enough quality to render them indistinguishable
from the source to even the most discerning listener. At mid-level
bitrates (quality levels), MP3 streams can be indistinguishable from
the source to the ears of most people. The trick is in finding the
best possible balance or compromise between file size and quality.
</p>

<a name="sound-CHP-8-SIDEBAR-1" /><blockquote><table border="1" cellpadding="6"><tr><td>
<h4 class="objtitle">About the Motion Pictures Expert Group </h4>
&nbsp;
<p>The Motion Pictures Expert Group (MPEG) was established in January
1988 with the mandate to develop standards for coded representation
of moving pictures, audio, and their combination. It operates in the
framework of the <a name="INDEX-1056" />Joint ISO/IEC Technical
Committee ( JTC 1) on Information Technology. MPEG is the group that
is responsible for defining the standard we call MP3, as well as
numerous other standards.
</p>
&nbsp;
<p>Since its first meeting in May 1988 when 25 experts participated,
MPEG has grown to an unusually large committee. Some 350 experts from
200 companies and organizations located in more than 20 countries
typically take part in MPEG meetings. As a rule, MPEG meets three
times a year.
</p>
&nbsp;
<p>A large part of the membership of the MPEG working group is composed
of individuals operating in research and academia. Even though the
MPEG environment looks rather informal, the group has to bear in mind
standards that can be of high strategic relevance.
</p>
&nbsp;
<p>MPEG exists to produce
<a name="INDEX-1057" />standards.
Published standards are the last stage of a long process that starts
with the proposal of new work within a committee. The journey of the
MPEG-1 Layer III standard that we know as MP3 may have begun in 1989
and become final in November 1992. However, the process of defining
the MPEG family itself began long before that. The group is now
focused on the finalization of MPEG-4, an architecture encompassing
multichannel audio, video, multimedia, dimensional presentations,
security mechanisms, and more.
</p>
</td></tr></table></blockquote>

<a name="sound-CHP-8-SECT-2.1" /><div class="sect2">
<h3 class="sect2">8.2.1. MP3 technical details</h3>

<p>As stated earlier, MP3 is a perceptual audio coding scheme. MP3
encoders analyze an audio signal and compare it to psychoacoustic
models representing limitations in human auditory perception. They
then encode as much useful information as possible given the
restrictions set by the
<a name="INDEX-1058" />bitrate and
<a name="INDEX-1059" />sampling
frequency established in the encoder application. A number of
distinct steps comprise the encoding process, including:
</p>

<dl>
<dt><b>Minimal audition threshold</b></dt>
<dd>
<p>There are many aspects of audio to which the human ear is
insensitive. For starters, most
<a name="INDEX-1060" />audio streams cover a frequency
range much broader than that which humans can hear. The human hearing
range generally falls between 20 Hz and 20 kHz and is most sensitive
between 2 kHz to 4 kHz. As people grow older, their auditory acuity
is diminished -- many people cannot hear tones higher than 16 kHz.
MP3 encoders can immediately discard frequencies above or below this
range. The minimal audition threshold represents the level at which
the human ear will perceive sound. It is not necessary to code
frequencies under or over this threshold, because they won't be
perceived.
</p>
</dd>

<dt><b>Masking effects</b></dt>
<dd>
<p>When two or more sounds are played simultaneously and one sound is
louder than the other, the louder sound hides or "masks"
the softer one (this concept is also discussed in <a href="ch02_01.htm">Chapter 2, "The Science of Sound and Digital Audio"</a>).
<a name="INDEX-1061" />If
you record both sounds, the softer sound is still present in the
recorded spectrum. However, since the softer sound is masked and
therefore imperceptible, that sound can be safely removed from the
recording. Similarly, if two tones are close together on the
frequency spectrum, they may appear indistinct from one another.
However, if the two tones are sufficiently distinct, they will be
independently perceptible and must both be encoded. File size is cut
dramatically when undetectable (or barely detectable) sounds are
removed from the recording, preserving disk space.
</p>



<p>These two effects are called "<a name="INDEX-1062" />auditory masking" and
"<a name="INDEX-1063" />temporal masking" and may best be
understood by analogy. If you watch a flying bird, its outline may be
distinct against the sky. But if the bird passes in front of the sun,
the sun's brightness completely overpowers the bird's
outline. As the bird moves toward the other edge of the sun, it
becomes visible again. The same principle applies with masking
effects in MP3 encoding.
</p>
</dd>


<dt><b>Reservoir of bytes</b></dt>
<dd>
<p>MP3 files are stored as a series of
"<a name="INDEX-1064" />frames,"
which can be thought of much like the frames that make up a movie.
Each frame carries only a fraction of a second's worth of audio
data and is preceded by a header section describing the bitrate,
encoding method, and other metadata pertaining to the frame to come.
In some cases, a portion of the audio stream may be adequately
encoded with room leftover in its frame. The reservoir of bytes lets
the MP3 encoder "borrow" space from unfilled frames to
store data of adjacent frames that need additional space. The
reservoir of bytes is a sort of space-lending concept that helps to
ensure a consistent flow of data and quality rate.
</p>
</dd>

<dt><b>Joint stereo</b></dt>
<dd>
<p>While not an essential part of the MP3 encoding process,
<a name="INDEX-1065" /> <a name="INDEX-1066" />joint stereo is an option in most
encoders and is typically enabled by default. When joint stereo is
enabled, stereo sound is represented using a mixture of true stereo
and monophonic sound, along with some spatializing information. Joint
stereo is useful because very low and very high frequencies cannot be
located in space by humans with the same precision as normal
frequencies. The MP3 format exploits this fact by encoding very low
and very high frequencies in mono, thereby saving storage space in
the resultant file. To save additional storage space, try encoding in
mono. To make sure you trap all possible spatial data, encode in
stereo mode. Most users find that joint stereo is adequate for most
purposes.
</p>
</dd>

<dt><b>Huffman encoding</b></dt>
<dd>
<p>As mentioned earlier,
<a name="INDEX-1067" /> <a name="INDEX-1068" />compressing a WAV file with zip
doesn't shave much off the file size, which is why
psychoacoustics are employed. However, the MP3 encoding process
actually does employ the classic Huffman encoding algorithm. After
all
<a name="INDEX-1069" />psychoacoustic
methods have been applied, the Huffman encoding pass seeks out and
compresses any remaining redundancies in the bit pattern. It's
as though zip-type encoding were being run internally on the
psychoacoustically encoded data. While psychoacoustic coding is great
at dealing with polyphonous sections, it's not as efficient
when dealing with highly repetitive, or "pure" sections.
The Huffman pass, on the other hand, is great at handling
redundancies, for the same reason a text file filled with a million
zeros will compress to almost nothing.
</p>

<p>The Huffman encoding "pass" is very rapid and allows a
savings of 20% in file size, on average. The Huffman pass therefore
makes a perfect complement to perceptual coding techniques.
</p>
</dd>

</dl>

</div>
<blockquote><table border="1" cellpadding="6"><tr><td>
<h4 class="objtitle">A plethora of players</h4>
<p>While we cover only a few players in this chapter, there are literally hundreds of MP3 players on the market for virtually every operating system. Some are free; some require a small fee; some are basic and lightweight; others are full-featured and sometimes even bloated. Some work from the command line, while others in a normal window, and still others operate within funky, irregularly shaped interfaces. Check the software libraries for a list of MP3 players for your operating system.</p> 
<p>Note that when AOL purchased Nullsoft in late 1999, they made
Winamp freeware. Traditional audio players have acquired MP3 playback
capabilities as well. MP3 playback capabilities have been added to
Liquid Audio's LiquidPlayer (see <a href="ch08_08.htm">the sidebar "Liquid Audio: building a viable e-music system"</a> later in this chapter), RealAudio's RealPlayer (and their popular RealJukebox), Apple's QuickTime, and Microsoft Media players.</p>
</td></tr></table></blockquote>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch08_01.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch08_03.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">8. Playing, Serving, and Streaming MP3</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">8.3. Playing MP3 files</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="0,1,78,93" shape="rect" /><area href="../wdesign/index.htm" coords="80,2,155,96" shape="rect" /><area href="../xhtml/index.htm" coords="158,0,263,97" shape="rect" /><area href="index.htm" coords="265,1,335,97" shape="rect" /><area href="../css/index.htm" coords="338,1,434,93" shape="rect" /><area href="../action/index.htm" coords="439,0,540,102" shape="rect" /><area href="../infoarch/index.htm" coords="544,0,685,102" shape="rect" /></map>

</body></html>