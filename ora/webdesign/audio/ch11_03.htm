<html><head><title>Sonification tutorial (Designing Web Audio)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Josh Beggs and Dylan Thede" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565923537L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Designing Web Audio" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Designing Web Audio" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch11_02.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm">Designing Web Audio</a></td><td align="right" valign="top" width="228"><a href="ch11_04.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>
<hr width="684" align="left" />


<h2 class="sect1">11.3. Sonification tutorial</h2>

<p>To learn how to add basic interactive sonification to a web page,
let's build a version of the front page of the Sonicopia.com
web site, <a href="../../../../../../www.sonicopia.com/">http://www.sonicopia.com</a> (see <a href="ch11_03.htm">Figure 11-5</a>). Sonicopia is a web
design company that specializes in sound design using Beatnik
authoring tools. Please note that all the content for this tutorial
has been provided <a href="../../../../../../www.designingwebaudio.com/">http://www.designingwebaudio.com</a>.
</p>

<a name="sound-CHP-11-SECT-3.1" /><div class="sect2">
<h3 class="sect2">11.3.1. Lesson 1: A simple mouseover</h3>

<p>Here's a real basic <a name="INDEX-1450" /> <a name="INDEX-1451" />use of Beatnik.
</p>


<ol><li>
<p>Start with a standard HTML page:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0"&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>

<li>
<p>Source the Music Object into your HTML page:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;
&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0"&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Create a Music Object instance: </p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

listenPlayer = new Music ();

&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0"&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>

<a name="sound-CHP-11-FIG-5" /><div class="figure"><img height="288" alt="Figure 11-5" src="figs/aud.1105.gif" width="400" /></div><h4 class="objtitle">Figure 11-5. Mouseovers, audio navbars, background music, and automatic downloading of the plug-in are all included at the Sonicopia site. The lessons in this chapter take you through how to add these features to your own site.</h4>
</li>
<li>
<p>Embed an RMF file into the Music Object using the
<tt class="literal">preloadEmbed</tt> method, like this:
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

listenPlayer = new Music ();
listenPlayer.preloadEmbed ('rmf/listen.rmf');

&lt;/SCRIPT&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0"&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Set up the RMF file to play back when the user mouses over the
<em class="filename">home.jpg</em> image with the page:
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

listenPlayer = new Music ();
listenPlayer.preloadEmbed ('rmf/listen.rmf');

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;A HREF="JavaScript://" onMouseOver="listenPlayer.play();"&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0"&gt;&lt;/a&gt;
&lt;/CENTER&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Preview your file. Save your file <a name="INDEX-1452" /> <a name="INDEX-1453" />and preview it in your browser.
</p>
</li></ol>
<blockquote><table border="1" cellpadding="6"><tr><td>
<h4 class="objtitle">JavaScript tip</h4>
<p>Once you have placed the JavaScript in your HTML page, try previewing the sound by opening the file in your browser and rolling your mouse over the page element you sonified.  Make sure you have the Beatnik Player installed in your browser before you preview your <em class="filename">.rmf</em> file! This preview method can be used for all of the JavaScript examples in this chapter.</p>
</td></tr></table></blockquote>

</div>
<a name="sound-CHP-11-SECT-3.2" /><div class="sect2">
<h3 class="sect2">11.3.2. Lesson 2: Building a sonified navbar </h3>

<p>The best way to build interface sounds is by using the
<a name="INDEX-1454" /><a name="INDEX-1455" /> <a name="INDEX-1456" />
<a name="INDEX-1457" />Beatnik Player's built-in sound
bank as the source of those sounds. That way the sonification will
add almost <em class="emphasis">no</em> additional download time to the
page because the sounds are already in the Beatnik Player. If the
user does not have the Beatnik Player, the site will work exactly as
it did without sound; that visitor will not hear the sound.
</p>

<ol><li>
<p>Start with a standard HTML page:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;CENTER&gt;
&lt;A HREF="about.html"&gt;&lt;IMG SRC="images/about.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="services.html"&gt;&lt;IMG SRC="images/services.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="products.html"&gt;&lt;IMG SRC="images/products.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="gallery.html"&gt;&lt;IMG SRC="images/gallery.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="contact.html"&gt;&lt;IMG SRC="images/contact.gif" border="0"&gt;
&lt;/A&gt;
&lt;/CENTER&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Source the Music Object into your HTML page:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;
&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;A HREF="about.html"&gt;&lt;IMG SRC="images/about.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="services.html"&gt;&lt;IMG SRC="images/services.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="products.html"&gt;&lt;IMG SRC="images/products.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="gallery.html"&gt;&lt;IMG SRC="images/gallery.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="contact.html"&gt;&lt;IMG SRC="images/contact.gif" border="0"&gt;
&lt;/A&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Create a Music Object instance:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

notePlayer = new Music ();

&lt;A HREF="about.html"&gt;&lt;IMG SRC="images/about.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="services.html"&gt;&lt;IMG SRC="images/services.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="products.html"&gt;&lt;IMG SRC="images/products.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="gallery.html"&gt;&lt;IMG SRC="images/gallery.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="contact.html"&gt;&lt;IMG SRC="images/contact.gif" border="0"&gt;
&lt;/A&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Embed a "stub" RMF file into the Music Object using the
<tt class="literal">stubEmbed</tt> method:
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE=JavaScript&gt;

notePlayer = new Music ();
notePlayer.stubEmbed ('http://sonify.beatnik.com/stub.rmf'); 

&lt;/SCRIPT&gt;
&lt;A HREF="about.html"&gt;&lt;IMG SRC="images/about.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="services.html"&gt;&lt;IMG SRC="images/services.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="products.html"&gt;&lt;IMG SRC="images/products.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="gallery.html"&gt;&lt;IMG SRC="images/gallery.gif" border="0"&gt;
&lt;/A&gt;
&lt;A HREF="contact.html"&gt;&lt;IMG SRC="images/contact.gif" border="0"&gt;
&lt;/A&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>

<p>This Music Object instance will now be in a state where you can play
notes through it.
</p>
</li><li>
<p>Set up the page to play notes when the user mouses over the navbar
with the page, using the <tt class="literal">PlayNote</tt> method:
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

notePlayer = new Music ();
notePlayer.stubEmbed ('http://sonify.beatnik.com/stub.rmf'); 

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;A HREF="images/about.html" 
onMouseOver="notePlayer.playNote(1,0,91,61,100,1000);return
    false;"&gt; 
&lt;IMG SRC="images/about.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="images/services.html" 
onMouseOver="notePlayer.playNote (1,0,91,64,100,1000); return
    false;"&gt;
&lt;IMG SRC="images/services.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="images/products.html" 
onMouseOver="notePlayer.playNote(1,0,91,66,100,1000); return 
    false;"&gt;
&lt;IMG SRC="images/products.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="images/gallery.html"
onMouseOver="notePlayer.playNote(1,0,91,68,100,1000); return 
    false;"&gt;
&lt;IMG SRC="images/gallery.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="images/contact.html" 
onMouseOver="notePlayer.playNote(1,0,91,71,100,1000); return 
    false;"&gt;
&lt;IMG SRC="images/contact.gif" border="0"&gt;&lt;/A&gt;
&lt;/CENTER&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Preview your file. Save your file and preview it in your browser.
Incidentally, the sequence of numbers enclosed in parentheses and
separated by commas and following <tt class="literal">PlayNote</tt>, e.g.,
(1,0,91,71,100,1000), correspond to the MIDI channel, bank,
instrument number, <a name="INDEX-1458" /> <a name="INDEX-1459" /> <a name="INDEX-1460" />volume, and duration of the note
respectively.
</p>
</li></ol>
</div>
<a name="sound-CHP-11-SECT-3.3" /><div class="sect2">
<h3 class="sect2">11.3.3. Lesson 3: Adding simple background music </h3>

<p>Beatnik <a name="INDEX-1461" />
<a name="INDEX-1462" /> <a name="INDEX-1463" />offers a variety of ready-made
<a name="INDEX-1464" />RMF music you can license for a web
site -- some on the <a name="INDEX-1465" />Headspace label, some from various
third-party music developers, and some from production libraries like
Firstcom and Chappell. Of course, you may be strictly interested in
creating your own original <em class="filename">.rmf</em> content. Here we
will use a pre-existing background <em class="filename">.rmf</em> file.
This script will play background music when the page is loaded.
</p>

<ol><li>
<p>Start with a standard HTML page:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Source the Music Object into your HTML page:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;
&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Create a Music Object instance:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

backgroundPlayer = new Music ();

&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li><li>
<p>Embed the background RMF file into the Music Object using the
<tt class="literal">magicEmbed</tt> method, like this:
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

backgroundPlayer = new Music ();
backgroundPlayer.magicEmbed ('SRC="rmf/background.rmf"'); 

&lt;/SCRIPT&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li><li>
<p>Insert the <tt class="literal">HIDDEN</tt> parameter into the
<tt class="literal">magicEmbed</tt> method so that the Beatnik Player
control panel does not appear on the page:
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

backgroundPlayer = new Music ();
backgroundPlayer.magicEmbed ('SRC="rmf/background.rmf" HIDDEN');

&lt;/SCRIPT&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Preview your file. Save your file and preview it in your browser. </p>
</li></ol>
</div>
<a name="sound-CHP-11-SECT-3.4" /><div class="sect2">
<h3 class="sect2">11.3.4. Lesson 4: Creating multiple Music Object instances on a page </h3>

<p>In order to allow more complex interaction, you can create multiple
instances of the <a name="INDEX-1466" /> <a name="INDEX-1467" />Music Object in a single page. This
<a name="INDEX-1468" />allows separate <em class="filename">.rmf</em>
files to play, depending on what the user does with his or her mouse.
This example uses an image map to play different sounds when the
user's mouse passes over parts of a logo.
</p>

<ol><li>
<p>Start with the final HTML from Lesson 1 earlier in this chapter:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

listenPlayer = new Music ();
listenPlayer.preloadEmbed ('rmf/listen.rmf');

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;A HREF="JavaScript://" onMouseOver="listenPlayer.play();"&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0"&gt;&lt;/A&gt;
&lt;/CENTER&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Create three new Music Object instances:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

bePlayer = new Music ();
hearPlayer = new Music ();
nowPlayer = new Music ();
listenPlayer = new Music ();
listenPlayer.preloadEmbed ('rmf/listen.rmf');

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;A HREF="JavaScript://" onMouseOver="listenPlayer.play();"&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0"&gt;
&lt;/A&gt;
&lt;/CENTER&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Embed the "Be Hear Now" RMF files into the Music Object
by using the <tt class="literal">preloadEmbed</tt> method, like this:
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

bePlayer = new Music ();
hearPlayer = new Music ();
nowPlayer = new Music ();
listenPlayer = new Music ();

bePlayer.preloadEmbed ('rmf/be.rmf'); 
hearPlayer.preloadEmbed ('rmf/hear.rmf'); 
nowPlayer.preloadEmbed ('rmf/now.rmf'); 
listenPlayer.preloadEmbed ('rmf/listen.rmf');

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;A HREF="JavaScript://" onMouseOver="listenPlayer.play();"&gt;
&lt;IMG SRC ="images/home.jpg" width="600" height="400" border="0"&gt;
&lt;/A&gt;
&lt;/CENTER&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Set up the RMF files to play back when the user mouses over the image
map with the page:
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

bePlayer = new Music ();
hearPlayer = new Music ();
nowPlayer = new Music ();
listenPlayer = new Music ();

bePlayer.preloadEmbed ('rmf/be.rmf'); 
hearPlayer.preloadEmbed ('rmf/hear.rmf'); 
nowPlayer.preloadEmbed ('rmf/now.rmf'); 
listenPlayer.preloadEmbed ('rmf/listen.rmf');

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0" 
    usemap="#SonicopiaLogo"&gt; 
&lt;/CENTER&gt;
&lt;map name="SonicopiaLogo"&gt;
&lt;area shape="rect" coords="41,161,118,211" href="JavaScript://"
    onMouseOver="bePlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="121,162,198,211" href="JavaScript://"
    onMouseOver="hearPlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="202,162,278,211" href="JavaScript://"
    onMouseOver="nowPlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="306,136,558,214" href="JavaScript://"
    onMouseOver="listenPlayer.play();return false;"&gt;
&lt;/map&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Preview your file. Save your file <a name="INDEX-1469" />and preview it in<a name="INDEX-1470" /> <a name="INDEX-1471" /> your browser.
</p>
</li></ol>
</div>
<a name="sound-CHP-11-SECT-3.5" /><div class="sect2">
<h3 class="sect2">11.3.5. Lesson 5: Putting it all together </h3>

<p>Now you can add all the <a name="INDEX-1472" /> <a name="INDEX-1473" />audio behaviors, such as those found
on the <a name="INDEX-1474" />Sonicopia
home page, to your own page. The Sonicopia page is designed so the
note numbers selected are part of a musical scale that fits nicely
with the background <em class="filename">.rmf</em> file.
</p>

<ol><li>
<p>Start with the final HTML from Lesson 4 earlier in this chapter:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

bePlayer = new Music ();
hearPlayer = new Music ();
nowPlayer = new Music ();
listenPlayer = new Music ();

bePlayer.preloadEmbed ('rmf/be.rmf'); 
hearPlayer.preloadEmbed ('rmf/hear.rmf'); 
nowPlayer.preloadEmbed ('rmf/now.rmf'); 
listenPlayer.preloadEmbed ('rmf/listen.rmf');

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0" 
    usemap="#SonicopiaLogo"&gt; 
&lt;/CENTER&gt;
&lt;map name="SonicopiaLogo"&gt;
&lt;area shape="rect" coords="41,161,118,211" href="JavaScript://"
    onMouseOver="bePlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="121,162,198,211" href="JavaScript://"
    onMouseOver="hearPlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="202,162,278,211" href="JavaScript://"
    onMouseOver="nowPlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="306,136,558,214" href="JavaScript://"
    onMouseOver="listenPlayer.play();return false;"&gt;
&lt;/map&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Copy the Music Object instances from Lessons 2 and 3:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

bePlayer = new Music ();
hearPlayer = new Music ();
nowPlayer = new Music ();
listenPlayer = new Music ();
notePlayer = new Music ();
backgroundPlayer = new Music ();

bePlayer.preloadEmbed ('rmf/be.rmf'); 
hearPlayer.preloadEmbed ('rmf/hear.rmf'); 
nowPlayer.preloadEmbed ('rmf/now.rmf'); 
listenPlayer.preloadEmbed ('rmf/listen.rmf');

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0"
     usemap="#SonicopiaLogo"&gt; 
&lt;/CENTER&gt;
&lt;map name="SonicopiaLogo"&gt;
&lt;area shape="rect" coords="41,161,118,211" href="JavaScript://"
    onMouseOver="bePlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="121,162,198,211" href="JavaScript://"
    onMouseOver="hearPlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="202,162,278,211" href="JavaScript://"
    onMouseOver="nowPlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="306,136,558,214" href="JavaScript://"
    onMouseOver="listenPlayer.play();return false;"&gt;
&lt;/map&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Copy the <tt class="literal">stubEmbed</tt> and
<tt class="literal">magicEmbed</tt> lines from Lessons 2 and 3:
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

bePlayer = new Music ();
hearPlayer = new Music ();
nowPlayer = new Music ();
listenPlayer = new Music ();
notePlayer = new Music ();
backgroundPlayer = new Music ();

bePlayer.preloadEmbed ('rmf/be.rmf'); 
hearPlayer.preloadEmbed ('rmf/hear.rmf'); 
nowPlayer.preloadEmbed ('rmf/now.rmf'); 
listenPlayer.preloadEmbed ('rmf/listen.rmf');
notePlayer.stubEmbed ('http://sonify.beatnik.com/stub.rmf');
backgroundPlayer.magicEmbed ('SRC="rmf/background.rmf" HIDDEN');

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0" 
    usemap="#SonicopiaLogo"&gt; 
&lt;map name="SonicopiaLogo"&gt;
&lt;area shape="rect" coords="41,161,118,211" href="JavaScript://"
    onMouseOver="bePlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="121,162,198,211" href="JavaScript://"
    onMouseOver="hearPlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="202,162,278,211" href="JavaScript://"
    onMouseOver="nowPlayer.play ();return false;"&gt;
&lt;area shape="rect" coords="306,136,558,214" href="JavaScript://"
    onMouseOver="listenPlayer.play();return false;"&gt;
&lt;/map&gt;
&lt;/CENTER&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Copy the navigation bar from Lesson 2:</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE=JavaScript&gt;

bePlayer = new Music ();
hearPlayer = new Music ();
nowPlayer = new Music ();
listenPlayer = new Music ();
notePlayer = new Music ();
backgroundPlayer = new Music ();

bePlayer.preloadEmbed ('rmf/be.rmf'); 
hearPlayer.preloadEmbed ('rmf/hear.rmf'); 
nowPlayer.preloadEmbed ('rmf/now.rmf'); 
listenPlayer.preloadEmbed ('rmf/listen.rmf');
notePlayer.stubEmbed ('http://sonify.beatnik.com/stub.rmf');
backgroundPlayer.magicEmbed ('SRC="rmf/background.rmf" HIDDEN');

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;A HREF="about.html"
    onMouseOver="notePlayer.playNote(1,0,91,61,100,1000);return
    false;"&gt; 
&lt;IMG SRC="images/about.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="services.html"
    onMouseOver="notePlayer.playNote (1,0,91,64,100,1000); return
    false;"&gt;
&lt;IMG SRC="images/services.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="products.html" 
    onMouseOver="notePlayer.playNote(1,0,91,66,100,1000); return
    false;"&gt;
&lt;IMG SRC="images/products.gif" border="0"&gt;&lt;/A&gt;

&lt;A HREF="gallery.html"
    onMouseOver="notePlayer.playNote(1,0,91,68,100,1000); return
    false;"&gt;
&lt;IMG SRC="images/gallery.gif" border="0"&gt;&lt;/A&gt;

&lt;A HREF="contact.html" 
    onMouseOver="notePlayer.playNote(1,0,91,71,100,1000); return
    false;"&gt;
&lt;IMG SRC="images/contact.gif" border="0"&gt;&lt;/A&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0"
    usemap="#SonicopiaLogo"&gt; 
&lt;map name="SonicopiaLogo"&gt;
&lt;area shape="rect" coords="202,162,278,211" href="JavaScript://"
    onMouseOver="beHearNowPlayer.playNote
    (1,2,3,60,100,1000);return false;"&gt;
&lt;area shape="rect" coords="121,162,198,211" href="JavaScript://"
    onMouseOver="beHearNowPlayer.playNote 
    (1,2,2,60,100,1000);return false;"&gt;
&lt;area shape="rect" coords="41,161,118,211" href="JavaScript://"
    onMouseOver="beHearNowPlayer.playNote
    (1,2,1,60,100,1000);return false;"&gt;
&lt;area shape="rect" coords="306,136,558,214" href="JavaScript://"
    onMouseOver="listenPlayer.play();return false;"&gt;
&lt;/map&gt;
&lt;/CENTER&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>It is important to move the <tt class="literal">Embed</tt> commands to the
bottom of the HTML page in their own JavaScript block in order to
avoid a known page display artifact where the embed command shows up
as a two-pixel by two-pixel dot in the finished web page:
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

bePlayer = new Music ();
hearPlayer = new Music ();
nowPlayer = new Music ();
listenPlayer = new Music ();
notePlayer = new Music ();
backgroundPlayer = new Music ();

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;A HREF="about.html" 
    onMouseOver="notePlayer.playNote(1,0,91,61,100,1000);return
    false;"&gt; 
&lt;IMG SRC="images/about.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="services.html" 
    onMouseOver="notePlayer.playNote (1,0,91,64,100,1000); return
    false;"&gt;
&lt;IMG SRC="images/services.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="products.html" 
    onMouseOver="notePlayer.playNote(1,0,91,66,100,1000); return
    false;"&gt;
&lt;IMG SRC="images/products.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="gallery.html"
    onMouseOver="notePlayer.playNote(1,0,91,68,100,1000); return
    false;"&gt;
&lt;IMG SRC="images/gallery.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="contact.html" 
    onMouseOver="notePlayer.playNote(1,0,91,71,100,1000); return 
    false;"&gt;
&lt;IMG SRC="images/contact.gif" border="0"&gt;&lt;/A&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0"
     usemap="#SonicopiaLogo"&gt; 
&lt;map name="SonicopiaLogo"&gt;
&lt;area shape="rect" coords="202,162,278,211" href="JavaScript://" 
    onMouseOver="beHearNowPlayer.playNote
    (1,2,3,60,100,1000);return false;"&gt;
&lt;area shape="rect" coords="121,162,198,211" href="JavaScript://" 
    onMouseOver="beHearNowPlayer.playNote
    (1,2,2,60,100,1000);return false;"&gt;
&lt;area shape="rect" coords="41,161,118,211" href="JavaScript://" 
    onMouseOver="beHearNowPlayer.playNote 
    (1,2,1,60,100,1000);return false;"&gt;
&lt;area shape="rect" coords="306,136,558,214" href="JavaScript://" 
    onMouseOver="listenPlayer.play();return false;"&gt;
&lt;/map&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

bePlayer.preloadEmbed ('rmf/be.rmf'); 
hearPlayer.preloadEmbed ('rmf/hear.rmf'); 
nowPlayer.preloadEmbed ('rmf/now.rmf'); 
listenPlayer.preloadEmbed ('rmf/listen.rmf');
notePlayer.stubEmbed ('http://sonify.beatnik.com/stub.rmf');
backgroundPlayer.magicEmbed ('SRC="rmf/background.rmf" HIDDEN');

&lt;/SCRIPT&gt;
&lt;/CENTER&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>Add in code to help your users who do not have the Beatnik Player.
Once you've sourced in the Music Object, the Player installer
automatically launches if your user's browser supports the
Player and the Player is not yet installed. By default, it launches a
slightly scary window. For this lesson, we have turned the default
off and turned on the regular Beatnik Player Install Wizard. The
installation process shuts down your user's browser and then
automatically restarts the browser. If you specify a URL in the
<tt class="literal">installerOptions.returnURL</tt> function, as follows,
it then returns to the URL you specified. Usually this will be the
page your user was just on.
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

bePlayer = new Music ();
hearPlayer = new Music ();
nowPlayer = new Music ();
listenPlayer = new Music ();
notePlayer = new Music ();
backgroundPlayer = new Music ();

Music.installerOptions.returnURL = "http://www.sonicopia.com";
Music.showCompatibilityPrompt = false;
if (Music.clientSupported &amp;&amp; !Music.isPlayerCompatible ()) {
  (Music.installPlayer ());
}

&lt;/SCRIPT&gt;
&lt;CENTER&gt;
&lt;A HREF="about.html" 
    onMouseOver="notePlayer.playNote(1,0,91,61,100,1000);return 
    false;"&gt; 
&lt;IMG SRC="images/about.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="services.html" 
    onMouseOver="notePlayer.playNote (1,0,91,64,100,1000); return 
    false;"&gt;
&lt;IMG SRC="images/services.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="products.html" 
    onMouseOver="notePlayer.playNote(1,0,91,66,100,1000); return 
    false;"&gt;
&lt;IMG SRC="images/products.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="gallery.html"
    onMouseOver="notePlayer.playNote(1,0,91,68,100,1000); return 
    false;"&gt;
&lt;IMG SRC="images/gallery.gif" border="0"&gt;&lt;/A&gt;
&lt;A HREF="contact.html" 
    onMouseOver="notePlayer.playNote(1,0,91,71,100,1000); return 
    false;"&gt;
&lt;IMG SRC="images/contact.gif" border="0"&gt;&lt;/A&gt;
&lt;IMG SRC="images/home.jpg" width="600" height="400" border="0" 
    usemap="#SonicopiaLogo"&gt; 
&lt;map name="SonicopiaLogo"&gt;
&lt;area shape="rect" coords="202,162,278,211" href="JavaScript://" 
    onMouseOver="beHearNowPlayer.playNote 
    (1,2,3,60,100,1000);return false;"&gt;
&lt;area shape="rect" coords="121,162,198,211" href="JavaScript://" 
    onMouseOver="beHearNowPlayer.playNote
    (1,2,2,60,100,1000);return false;"&gt;
&lt;area shape="rect" coords="41,161,118,211" href="JavaScript://" 
    onMouseOver="beHearNowPlayer.playNote 
    (1,2,1,60,100,1000);return false;"&gt;
&lt;area shape="rect" coords="306,136,558,214" href="JavaScript://" 
    onMouseOver="listenPlayer.play();return false;"&gt;
&lt;/map&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

listenPlayer.preloadEmbed ('rmf/listen.rmf');
bePlayer.preloadEmbed ('rmf/be.rmf');
hearPlayer.preloadEmbed ('rmf/hear.rmf');
nowPlayer.preloadEmbed ('rmf/now.rmf');
notePlayer.stubEmbed ('http://sonify.beatnik.com/stub.rmf');
backgroundPlayer.magicEmbed ('SRC="rmf/background.rmf" HIDDEN');

&lt;/SCRIPT&gt;
&lt;/CENTER&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</pre></blockquote>
</li>
<li>
<p>An alternative to automatically launching the Player Installer (if
the user does not have the Player) is to put a graphic or link on
your page that notifies the visitor that the page is sonified and
lets the user control the installation option. Simply call the
<tt class="literal">Music.installPlayer()</tt> method when the visitor
clicks on the link. In this lesson, we add a notice with a sonified
Beatnik "Get the Player" graphic and remove the automatic
installer code.
</p>

<blockquote><pre class="code">&lt;HTML&gt;
&lt;HEAD&gt;
&lt;/HEAD&gt;
&lt;BODY BGCOLOR="black"&gt;
&lt;SCRIPT SRC="http://sonify.beatnik.com/music-object.js"&gt;&lt;/SCRIPT&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;

bePlayer = new Music ();
hearPlayer = new Music ();
nowPlayer = new Music ();
listenPlayer = new Music ();
notePlayer = new Music ();
backgroundPlayer = new Music ();

Music.installerOptions.returnURL = "http://www.sonicopia.com";
Music.showCompatibilityPrompt = false;

&lt;/SCRIPT&gt; 
&lt;CENTER&gt;
    &lt;A HREF="images/about.html" onMouseOver="notePlayer.playNote 
    (1,0,91,61,100,1000);return false;"&gt;
    &lt;IMG SRC="images/about.gif" border="0"&gt;&lt;/A&gt;
    &lt;A HREF="images/services.html" onMouseOver="notePlayer.playNote 
    (1,0,91,64,100,1000);return false;"&gt;
    &lt;IMG SRC="images/services.gif" border="0"&gt;&lt;/A&gt;
    &lt;A HREF="images/products.html" onMouseOver="notePlayer.playNote 
    (1,0,91,66,100,1000);return false;"&gt;
    &lt;IMG SRC="images/products.gif" border="0"&gt;&lt;/A&gt;
    &lt;A HREF="images/gallery.html" onMouseOver="notePlayer.playNote 
    (1,0,91,68,100,1000);return false;"&gt;
    &lt;IMG SRC="images/gallery.gif" border="0"&gt;&lt;/A&gt;
    &lt;A HREF="images/contact.html" onMouseOver="notePlayer.playNote 
    (1,0,91,71,100,1000);return false;"&gt;
    &lt;IMG SRC="images/contact.gif" border="0"&gt;&lt;/A&gt;
&lt;br&gt;
&lt;img src="images/home.jpg" width="600" height="400" border="0" 
    usemap="#SonicopiaLogo"&gt;
&lt;br&gt;
&lt;font color="white" face="Arial,Helvetica,Geneva" size=-2&gt;This page 
    is sonified. You will need the Beatnik Player to experience the 
    interactive sounds&lt;/font&gt;&lt;p&gt;
&lt;A HREF="JavaScript://" 
    onMouseOver="notePlayer.playNote(1,1,112,60,100,1000)" 
    onClick="Music.installPlayer ()"; return false&gt;
&lt;img src="images/getbeatnik.gif" width="90" height="30" border="0" alt="Get Beatnik"&gt;&lt;/a&gt;
&lt;/CENTER&gt;
&lt;MAP NAME="SonicopiaLogo"&gt;
   &lt;area shape="rect" coords="41,161,118,211" href="JavaScript://" 
   onMouseOver="bePlayer.play();return false;"&gt;
   &lt;area shape="rect" coords="121,162,198,211" href="JavaScript://"
   onMouseOver="hearPlayer.play();return false;"&gt;
   &lt;area shape="rect" coords="202,162,278,211" href="JavaScript://"
   onMouseOver="nowPlayer.play();return false;"&gt;
   &lt;area shape="rect" coords="306,136,558,214" href="JavaScript://"
   onMouseOver="listenPlayer.play()"&gt;
&lt;/map&gt;
&lt;SCRIPT LANGUAGE="JavaScript"&gt;&lt;!--
bePlayer.preloadEmbed ('rmf/be.rmf');
hearPlayer.preloadEmbed ('rmf/hear.rmf');
nowPlayer.preloadEmbed ('rmf/now.rmf');
listenPlayer.preloadEmbed ('rmf/listen.rmf');
notePlayer.stubEmbed ('http://sonify.beatnik.com/stub.rmf');
backgroundPlayer.magicEmbed ('SRC="rmf/background.rmf" HIDDEN');
// --&gt; &lt;/SCRIPT&gt;
&lt;/BODY&gt;
&lt;/HTML&gt; </pre></blockquote>
</li>
<li>
<p>Preview your file. Save your file and preview it in your browser.
Assuming you already have the Beatnik Player installed in that
browser, the background RMF file should begin to play when the page
loads, and the graphics and image maps play sounds when you mouse
over them.
</p>
</li></ol>
<p>You've just built <a name="INDEX-1475" /> <a name="INDEX-1476" />your first <a name="INDEX-1477" /> <a name="INDEX-1478" />sonified site.
</p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch11_02.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch11_04.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">11.2. Beatnik authoring system</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">11.4. Using the Beatnik Editor </td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="0,1,78,93" shape="rect" /><area href="../wdesign/index.htm" coords="80,2,155,96" shape="rect" /><area href="../xhtml/index.htm" coords="158,0,263,97" shape="rect" /><area href="index.htm" coords="265,1,335,97" shape="rect" /><area href="../css/index.htm" coords="338,1,434,93" shape="rect" /><area href="../action/index.htm" coords="439,0,540,102" shape="rect" /><area href="../infoarch/index.htm" coords="544,0,685,102" shape="rect" /></map>

</body></html>