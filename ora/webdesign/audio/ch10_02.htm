<html><head><title>Adding MIDI to your web pages (Designing Web Audio)</title><link rel="stylesheet" type="text/css" href="../style/style1.css" />

<meta name="DC.Creator" content="Josh Beggs and Dylan Thede" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="1565923537L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Designing Web Audio" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Designing Web Audio" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch10_01.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm">Designing Web Audio</a></td><td align="right" valign="top" width="228"><a href="ch10_03.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>
<hr width="684" align="left" />


<h2 class="sect1">10.2. Adding MIDI to your web pages</h2>

<p>Making MIDI files can be fun and easy; placing them on your
<a name="INDEX-1351" />web page can be even easier. Simply
enter this line of code in your HTML:
</p>

<blockquote><pre class="code">&lt;BGSOUND SRC="Yoursound.mid"&gt;</pre></blockquote>

<p>Note that this example is for Explorer. If Navigator has trouble with
the <tt class="literal">BGSOUND</tt><a name="INDEX-1352" /> tag, try the
following example in addition to the <tt class="literal">BGSOUND</tt>:
</p>

<blockquote><pre class="code">&lt;EMBED SRC="Yoursound.mid" HIDDEN="true"&gt;</pre></blockquote>

<p>This code causes a MIDI file to begin playback whenever the page is
loaded into the user's browser. Furthermore, you can set basic
parameters such as looping, volume, and so forth, by simply adding
them to the tag. Here is the most basic way to add MIDI sound to your
web page:
</p>

<blockquote><pre class="code">&lt;EMBED SRC="Yoursound.mid" HIDDEN="true"
loop="yes"
volume="10"
autostart="true"&gt;</pre></blockquote>

<p>This example HTML code will instruct a web page to play
<em class="filename">Yoursound.mid</em>. The file will loop, the volume
will be at the max limit of 10, the autostart function will be in
effect, and the file will begin playback automatically
</p>

<p>If you want to have MIDI sound available on your web page via a
hyperlink, but do not want the file to begin playback automatically,
simply add an <tt class="literal">HREF</tt><a name="INDEX-1353" />
tag to the MIDI file, and it will be available for download whenever
the user clicks on the link:
</p>

<blockquote><pre class="code">&lt;A HREF="Yoursound.mid"&gt;</pre></blockquote>

<a name="sound-CHP-10-SECT-2.1" /><div class="sect2">
<h3 class="sect2">10.2.1. Making a MIDI jukebox</h3>

<p>Many web designers have taken advantage of the short download times
and cross-platform performance of MIDI and have created a variety of
tools and tricks that you can use on your own web pages. One basic
example of how to use MIDI on your site is the
<a name="INDEX-1354" />MIDI
jukebox.
</p>

<p>A MIDI jukebox functions as a typical jukebox functions in that a
user selects a requested song by clicking a button. Once the button
is clicked, the MIDI file is downloaded to the user's browser
(both IE and Netscape have included MIDI-compatible plug-ins with
releases 4.0 and later). It then begins playing almost immediately
via any MIDI-compatible plug-in or external system (in actuality, the
MIDI plug-in only pipes the MIDI data to the appropriate playback
device, such as the Netscape MIDI window or QuickTime player).
There's no waiting for long download times, just fast and easy
music. A typical
<a name="INDEX-1355" />jukebox,
as shown in <a href="ch10_02.htm">Figure 10-1</a>, can be used to provide
examples of your music or simply to entertain visitors to your site.
</p>

<a name="sound-CHP-10-FIG-1" /><div class="figure"><img height="285" alt="Figure 10-1" src="figs/aud.1001.gif" width="400" /></div><h4 class="objtitle">Figure 10-1. A typical MIDI jukebox</h4>

<p>To fill your MIDI jukebox with popular MIDI files, visit one of the
many online MIDI archives. You also can easily create your own MIDI
files with a MIDI sequencing application. We've used different
applications, but one we have used extensively is
<a name="INDEX-1356" />Vision by
<a name="INDEX-1357" />Opcode
Systems. Vision provides an ideal creative environment, syncs up
easily to QuickTime and other standard digital audio file types, and
is relatively inexpensive and easy to use. We have included a 30-day
trial version of Vision at <a href="../../../../../../www.designingwebaudio.com/">http://www.designingwebaudio.com</a>. We
recommend that you take advantage of the application and its tutorial
sections. To find out where to find MIDI file libraries, check the
Opcode <a name="INDEX-1358" />site at <a href="../../../../../../www.opcode.com/">http://www.opcode.com</a> or try any of the
following sites:
</p>

<ul><li>
<p>Harmony Central (<a href="../../../../../../www.harmony-central.com/">http://www.harmony-central.com</a>)
</p>
</li><li>
<p>The MIDI file and CD Music Finder located at the
<a name="INDEX-1359" />MIDI Manufacturers Association home page
(<a href="../../../../../../www.MIDI.org/">http://www.MIDI.org</a>)
</p>
</li><li>
<p>Laura's MIDI heaven (<a href="../../../../../../www.laurasmidiheaven.com/">http://www.laurasmidiheaven.com</a>)
</p>
</li></ul>
<a name="sound-CHP-10-SECT-2.1.1" /><div class="sect3">
<h3 class="sect3">10.2.1.1. Jukebox code: a step-by-step guide</h3>

<p>To use the <a name="INDEX-1360" />jukebox on your web site, customize
the HTML code in <a href="ch10_02.htm">Example 10-1</a> to your specifications.
</p>

<a name="sound-CHP-10-EX-1" /><div class="example">
<h4 class="objtitle">Example 10-1. HTML code for creating a jukebox </h4>
<blockquote><pre class="code">&lt;TABLE&gt;
&lt;TR&gt;
&lt;TD ALIGN="CENTER" VALIGN="MIDDLE"&gt; 
&lt;H2&gt;&lt;FONT FACE="Arial, Helvetica, sans-serif"&gt;
    &lt;A HREF="MIDI-Jukebox.com"&gt;MIDI-Jukebox.com&lt;/A&gt;
&lt;BR&gt;
MIDI JukeBox&lt;/FONT&gt;&lt;/H2&gt;
&lt;BR&gt;
&lt;IMG SRC="http://www.yoursite.com/images/yourimage.gif" WIDTH="32"
    HEIGHT="32"&gt;
&lt;/TD&gt;
&lt;TR&gt;
&lt;TD ALIGN="CENTER" VALIGN="TOP"&gt; 
&lt;A HREF="http://www.yoursite.com/yourMIDIdirectory/yourMIDI.mid"&gt; 
&lt;FONT SIZE="1" FACE="Arial, Helvetica, sans-serif"&gt;Yoursong.mid&lt;/FONT&gt;
&lt;FONT FACE="Arial, Helvetica, sans-serif" size="1"&gt;
&lt;BR&gt;
Your Song&lt;/FONT&gt;&lt;/A&gt; 
&lt;/TABLE&gt;</pre></blockquote>
</div>

<p><a href="ch10_02.htm">Example 10-1</a> includes an image tag for displaying a
graphic or GIF animation. Remove the image tag if you do not want a
graphic displayed on your web page. The table format in <a href="ch10_02.htm">Example 10-1</a> tends to work best, but you can experiment
with different graphic layout ideas. Simply repeat these steps for as
many MIDI files as you want in your jukebox.
</p>

</div>
</div>
<a name="sound-CHP-10-SECT-2.2" /><div class="sect2">
<h3 class="sect2">10.2.2. Add a bit of spice to your site</h3>

<p>Another excellent way to implement MIDI on your site is to use small
<a name="INDEX-1361" />MIDI event sounds that start and stop
within a few seconds. We have included a group of small MIDI files
created by DigArtz, called "PageTunes" at <a href="../../../../../../www.designingwebaudio.com/">http://www.designingwebaudio.com</a>. These are
short, extremely small (2 KB to 4 KB)<a name="INDEX-1362" /> MIDI files that are designed
specifically for web-based interaction. For example, if users request
a certain page, they will be greeted with a short MIDI file to let
them know they have arrived. Along with
<a name="INDEX-1363" />PageTunes, we have
included a set of <a name="INDEX-1364" />Holiday PageTunes, and a set of
special<a name="INDEX-1365" />
SoundFX PageTunes. Again, you may add any PageTunes or other short
MIDI files to your site by using the basic <tt class="literal">EMBED</tt>
HTML tag, as long as you give proper credit to
<a name="INDEX-1366" />DigArtz for their use.
</p>

</div>
<a name="sound-CHP-10-SECT-2.3" /><div class="sect2">
<h3 class="sect2">10.2.3. Playing a different tune</h3>

<p>When using sound on your web site, keep in mind that once a user
becomes familiar with the sound, he or she may get bored quickly.
Accordingly, it is wise to frequently change or alter the sound on
your site to avoid repetition. You can do this by using a simple
script that rotates the MIDI file (or <em class="filename">.au</em>,
<em class="filename">.wav</em>, or other file type) each time a user
enters your site or with a script that changes the tune on the hour,
and so on.
</p>

<p>Here is an example of a script that changes the MIDI file based on
the time of day. The code is simple -- just copy and paste it
directly into your HTML code, then add your own MIDI files. Again,
you can find MIDI files by visiting any number of MIDI archives on
the Web, including those listed earlier in this chapter.
</p>

<blockquote><pre class="code">&lt;SCRIPT&gt;
&lt;!-- 
var numMIDI = 12
day = new Date(  )
seed = day.getTime(  )
ran = parseInt(((seed - (parseInt(seed/1000,10) * 1000))/10)/100*numMIDI + 1,10)
if (ran == (1))    
MIDI=("web001.mid") 
if (ran == (2))
MIDI=("web002.mid") 
if (ran == (3))
MIDI=("web003.mid")  
if (ran == (4))
MIDI=("web004.mid")  
if (ran == (5))       
MIDI=("web005.mid")  
if (ran == (6))       
MIDI=("web006.mid")  
if (ran == (7))       
MIDI=("web007.mid")  
if (ran == (8))       
MIDI=("web008.mid")  
if (ran == (9))       
MIDI=("web009.mid")  
if (ran == (10))       
MIDI=("web010.mid")  
if (ran == (11))       
MIDI=("web011.mid")  
if (ran == (12))       
MIDI=("web012.mid")  

document.write('&lt;EMBED SRC="http://yoursite.com/MIDI/' + MIDI + '" WIDTH=0 HEIGHT=0 AUTOSTART=TRUE&gt;')
document.write('&lt;BGSOUND SRC="http://yoursite.com/MIDI/' + MIDI + '" AUTOSTART=TRUE&gt;')
// --&gt;
&lt;/SCRIPT&gt;</pre></blockquote>

</div>


<hr width="684" align="left" />
<div class="navbar"><table width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch10_01.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch10_03.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">10. MIDI: Quick and Easy Audio for the Web</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">10.3. Creating your own MIDI files</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="0,1,78,93" shape="rect" /><area href="../wdesign/index.htm" coords="80,2,155,96" shape="rect" /><area href="../xhtml/index.htm" coords="158,0,263,97" shape="rect" /><area href="index.htm" coords="265,1,335,97" shape="rect" /><area href="../css/index.htm" coords="338,1,434,93" shape="rect" /><area href="../action/index.htm" coords="439,0,540,102" shape="rect" /><area href="../infoarch/index.htm" coords="544,0,685,102" shape="rect" /></map>

</body></html>