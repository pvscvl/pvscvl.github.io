<html><head><title>Browser Detection (Web Design in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="style/style1.css" />

<meta name="DC.Creator" content="Jennifer Niederst" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596001967L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Web Design in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Web Design in a Nutshell" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table cellpadding=3 width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch29_05.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm">Web Design in a Nutshell, 2nd Edition</a></td><td align="right" valign="top" width="228"><a href="ch29_07.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>
<hr width="684" align="left" />


<h2 class="sect1">29.6. Browser Detection</h2>

<p>All <a name="INDEX-2942" />of the <a name="INDEX-2943" />DHTML examples we've looked at in
this chapter depend on features of the DOM Level 1 and DOM Level 2
standards, which means that they only work in the latest web
browsers, Netscape 6 and Internet Explorer 5.5. This means that if
you use one of these examples, you must first check for the
user's browser type and version, so that you can make sure that
the browser supports the script. Each of the example scripts should
begin like this:
</p>

<blockquote><pre class="code">&lt;script language="JavaScript"&gt; 
var isNN4, isIE4, isDOM;

if (document.getElementById) {
    isDOM = true;
}
else {
    if ( parseInt(navigator.appVersion) == 4) {
        if ( navigator.appName == "Netscape" ) {
            isNN4 = true;
        }
        if ( navigator.appName == "Microsoft Internet Explorer" ) {
            isIE4 = true;
        }
    }
}
&lt;/script&gt;</pre></blockquote>

<p>This code checks the identity and version of the browser and sets the
appropriate variable to <tt class="literal">true</tt>:
<tt class="literal">isDOM</tt> for a standards-compliant version of
Navigator or IE, <tt class="literal">isNN4</tt> for Netscape Navigator 4,
or <tt class="literal">isIE4</tt> for IE 4.
</p>

<p>Once we have tested the user's browser and set the appropriate
variable, we can use that variable to run the right browser-specific
code:
</p>

<blockquote><pre class="code">if (isDOM) {
    // Insert W3C DOM-based DHTML here
}
else if (isIE4) {
    // Insert IE 4 DHTML here
}
else if (isNN4) {
    // Insert Navigator 4 DHTML here
}</pre></blockquote>

<a name="wdnut2-CHP-29-SECT-6.1" /><div class="sect2">
<h3 class="sect2">29.6.1. Layers in the 4.0 Browsers</h3>

<p>The <a name="INDEX-2944" />
<a name="INDEX-2945" />DHTML code that we've used to
access and manipulate layers works only in the latest web browsers.
If you need to support the 4.0 browsers, there are a few things you
need to know about their proprietary versions of DHTML.
</p>

<p>Netscape introduced a <tt class="literal">&lt;layer&gt;</tt> tag in
Navigator 4.0 for creating layers, while Microsoft implemented layers
with <tt class="literal">&lt;div&gt;</tt>tags in
Internet Explorer 4.0. As of Netscape 6, Netscape has dropped the
<tt class="literal">&lt;layer&gt;</tt> tag because it never became a
standard, so you can use <tt class="literal">&lt;div&gt;</tt> layers in
both browsers from now on.
</p>

<p>The key thing with DHTML is being able to access the layer objects,
so that you can manipulate them. In the Internet Explorer 4.0 DOM,
you can access all the layers in a document through the
<tt class="literal">all</tt> property of the document. A reference to a
layer looks like this:
</p>

<blockquote><pre class="code">document.all.<em class="replaceable">layer_name</em></pre></blockquote>

<p>Thus we would access our sliding tab layer like this:</p>

<blockquote><pre class="code">document.all.TabLayer</pre></blockquote>

<p>Once you have a reference to a layer in IE 4.0, you can access the
CSS properties through the <tt class="literal">style</tt> property, just as
we've been doing in all of the examples in this chapter:
</p>

<blockquote><pre class="code">document.all.TabLayer.style.left</pre></blockquote>

<p>Unfortunately, with Netscape Navigator 4.0, things aren't quite
so simple. You access a Navigator 4.0
<tt class="literal">&lt;layer&gt;</tt> like this:
</p>

<blockquote><pre class="code">document.<em class="replaceable">layer_name</em></pre></blockquote>

<p>So the following code would refer to our sliding tab layer:</p>

<blockquote><pre class="code">document.TabLayer</pre></blockquote>

<p>In Navigator 4.0, the layer object defines a number of properties and
methods that you can use to manipulate the layer. The properties
largely correspond to the CSS property names, but you access them
directly through the layer object; there is no
<tt class="literal">style</tt> property:
</p>

<blockquote><pre class="code">document.TabLayer.left</pre></blockquote>

<p>Obviously, this discussion barely scratches the surface of the
complexity of developing DHTML for the 4.0 browsers. If you want to
learn more, see Danny Goodman's book, <em class="emphasis">Dynamic HTML:
The Definitive Reference</em> (O'Reilly).
</p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table cellpadding=3 width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch29_05.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch29_07.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">29.5. DHTML Examples</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">29.7. DHTML Tools</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="0,0,77,93" shape="rect" /><area href="index.htm" coords="81,0,156,93" shape="rect" /><area href="../xhtml/index.htm" coords="161,0,261,102" shape="rect" /><area href="../audio/index.htm" coords="265,1,335,97" shape="rect" /><area href="../css/index.htm" coords="339,1,433,109" shape="rect" /><area href="../action/index.htm" coords="438,2,540,109" shape="rect" /><area href="../infoarch/index.htm" coords="544,0,694,104" shape="rect" /></map>

</body></html>