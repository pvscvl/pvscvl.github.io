<html><head><title>Minimizing GIF File Sizes (Web Design in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="style/style1.css" />

<meta name="DC.Creator" content="Jennifer Niederst" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596001967L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Web Design in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Web Design in a Nutshell" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table cellpadding=3 width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch19_07.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm">Web Design in a Nutshell, 2nd Edition</a></td><td align="right" valign="top" width="228"><a href="ch20_01.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>
<hr width="684" align="left" />


<h2 class="sect1">19.8. Minimizing GIF File Sizes</h2>

<p><a name="INDEX-2326" /> <a name="INDEX-2327" /> <a name="INDEX-2328" /> <a name="INDEX-2329" />
<a name="INDEX-2330" />When you are designing and
producing graphics for the Web, it is of utmost importance to keep
your file sizes as small as possible. The standard guideline for
estimating download time over a modem is 1 second per kilobyte. Of
course, actual download times will vary widely, but this gives you a
ballpark number to use for comparisons.
</p>

<p>There are a few simple strategies you can follow to minimize the size
of your GIF files, described in the following sections.
</p>

<a name="wdnut2-CHP-19-SECT-8.1" /><div class="sect2">
<h3 class="sect2">19.8.1. Tools for Optimizing GIFs</h3>

<p>There<a name="INDEX-2331" /> are
several software tools available specifically for creating and
optimizing graphics for the Web. One of the greatest benefits is that
they offer previews of your optimization settings (even providing
side-by-side comparisons), so you can make adjustments to the
settings while keeping an eye on the resulting file size and overall
image quality.
</p>

<p>The big two are Adobe Photoshop/ImageReady and Macromedia Fireworks.
Both offer very similar controls for file format, color depth,
palette dithering, loss, and color palette editing. If you want to
make professional-level web graphics, it is highly recommended you
use one of these tools. The one you choose is up to your personal
preference. Photoshop has the advantages of being the industry
standard program for digital imaging and an interface that many
designers are already familiar with. Fireworks provides an all-in-one
package, impressive compression rates, and good integration with
Dreamweaver, the industry-standard web authoring program.
</p>

<p>If you are really serious about making your GIFs as small as
possible, consider using HVS ColorGIF (<a href="../../../../../../www.digfrontiers.com/">http://www.digfrontiers.com</a>), a third-party
plug-in designed specifically for GIF optimization. HVS ColorGIF is
in a class by itself when it comes to GIF optimization. In all the
tests I've run, HVS ColorGIF's compression algorithms
produce the smallest GIFs while maintaining the highest image quality
compared to other optimizing tools. It can be used with Photoshop,
ImageReady, Fireworks, Paint Shop Pro, and any graphics application
that supports plug-ins.
</p>

</div>
<a name="wdnut2-CHP-19-SECT-8.2" /><div class="sect2">
<h3 class="sect2">19.8.2. Design Strategies</h3>

<p>You can help keep file size under control by the design decisions you
make. After a while, designing graphics for the Web becomes second
nature.
</p>

<a name="wdnut2-CHP-19-SECT-8.2.1" /><div class="sect3">
<h3 class="sect3">19.8.2.1. Limit dimensions</h3>

<p>Though it may seem obvious, the easiest way to keep file size down is
to limit the dimensions of your graphic. There aren't any
numerical guidelines here; just don't make graphics larger than
they need to be.
</p>

<ul><li>
<p>Scale large images down (see <a href="ch03_04.htm">Section 3.4.4.2, "Resizing tips"</a> in
<a href="ch03_01.htm">Chapter 3, "Web Design Principles for Print Designers"</a>).
</p>
</li><li>
<p>	Crop out any extra space around the important areas of your image. </p>
</li><li>
<p>	Avoid large graphics if they are not absolutely necessary.</p>
</li></ul>
</div>

<a name="wdnut2-CHP-19-SECT-8.2.2" /><div class="sect3">
<h3 class="sect3">19.8.2.2. Design with flat color</h3>

<p><a name="INDEX-2332" />
<a name="INDEX-2333" />If you design your graphics with flat
color from the beginning, you are basically giving the LZW
compression the kind of file it likes -- rows of repetitive pixel
colors.
</p>

<ul><li>
<p>Fill areas with solid colors rather than gradients (fades from one
color to another).
</p>
</li><li>
<p>Limit the amount of photographic material in your GIFs (use JPEGs for
photo images).
</p>
</li><li>
<p>Favor horizontal fields of color in your designs when applicable; for
example, horizontal stripes condense better than vertical stripes.
</p>
</li><li>
<p>Turn off anti-aliasing when it isn't necessary. The blur that
makes smooth (not stair-stepped) contours also adds to the number of
colors in the image.
</p>
</li></ul>
</div>

<a name="wdnut2-CHP-19-SECT-8.2.3" /><div class="sect3">
<h3 class="sect3">19.8.2.3. Reduce number of colors (bit depth)</h3>

<p><a name="INDEX-2334" />
<a name="INDEX-2335" />Although GIF format can support
8-bit color information with a maximum of 256 colors, you don't
necessarily have to use all of them. In fact, you can reduce the size
of a file considerably by saving it at a lower bit depth, which
corresponds to fewer number of colors. Adobe Photoshop Versions 5 and
higher allow you to select the number of colors you'd like in
the image. Other tools ask you to choose from a list of bit depths.
The effect is the same; it's just useful to know how bit depth
translates into numbers of colors for the latter (see <a href="ch19_08.htm">Table 19-1</a> for translations).
</p>

<a name="wdnut2-CHP-19-TABLE-1" /><h4 class="objtitle">Table 19-1. Color depth equivalents for bit depths </h4><table cellpadding=3 border="1">



<tr>
<th>
<p>Bit depth</p>
</th>
<th>
<p>Number of colors</p>
</th>
</tr>


<tr>
<td>
<p>1-bit</p>
</td>
<td>
<p>2 (black and white)</p>
</td>
</tr>
<tr>
<td>
<p>2-bit</p>
</td>
<td>
<p>4 </p>
</td>
</tr>
<tr>
<td>
<p>3-bit</p>
</td>
<td>
<p>8</p>
</td>
</tr>
<tr>
<td>
<p>4-bit</p>
</td>
<td>
<p>16</p>
</td>
</tr>
<tr>
<td>
<p>5-bit</p>
</td>
<td>
<p>32</p>
</td>
</tr>
<tr>
<td>
<p>6-bit</p>
</td>
<td>
<p>64</p>
</td>
</tr>
<tr>
<td>
<p>7-bit</p>
</td>
<td>
<p>128</p>
</td>
</tr>
<tr>
<td>
<p>8-bit</p>
</td>
<td>
<p>256</p>
</td>
</tr>

</table>

<p>The goal is to find the minimum number of colors (smallest bit depth)
that still maintains the integrity and overall character of the
image<b class="emphasis-bold">.</b> You may be surprised to find
how many images survive a reduction to just 32 colors. Of course, the
bit-depth at which the image quality becomes unacceptable depends on
the specific image and your personal preferences.
</p>

<p>Reducing the number of colors reduces file size in two ways. First,
lower bit depths have less data in the file. In addition, clusters of
similarly colored pixels suddenly become the same color, creating
more pockets of repeating pixels for LZW compression to work on. For
that reason, fewer image colors take better advantage of GIF's
compression scheme, resulting in smaller files. The real file size
savings kicks in when there are large areas of flat color. Even if an
image has only eight pixel colors, if it has a lot of blends and
gradients, you won't see the kind of file size savings you
might expect with that kind of severe color reduction.
</p>

</div>

<a name="wdnut2-CHP-19-SECT-8.2.4" /><div class="sect3">
<h3 class="sect3">19.8.2.4. Limit dithering</h3>

<p><a name="INDEX-2336" />
<a name="INDEX-2337" />
<a name="INDEX-2338" />
<a name="INDEX-2339" />When<a name="INDEX-2340" />
an RGB image (made up of colors from the true color space of millions
of colors) is reduced to an Indexed Color palette of only 256 colors,
dithering usually occurs. <em class="firstterm">Dithering</em> is the
random dot pattern that results when colors are approximated by
mixing similar and available colors from a limited palette. Dithering
is relevant to GIF file size because it interrupts the clean areas of
flat color that are conducive to efficient LZW compression, and can
make the file size larger than it needs to be.
</p>

<p>Nearly all image editing tools allow you to turn on and off
dithering. Current web graphics tools (Fireworks and
Photoshop/Imageready) go one step further by allowing the amount of
dithering to be selected on a sliding scale from 0 to 100. You can
preview the results of various settings, making it easy to select the
best balance of file size and image quality.
</p>

<p>Bear in mind, however, that dithering also enables you to maintain
image quality and character at lower bit depths, and in this respect
can be considered a friend of optimization. Lower bit depths
generally result in smaller file sizes.
</p>

</div>

<a name="wdnut2-CHP-19-SECT-8.2.5" /><div class="sect3">
<h3 class="sect3">19.8.2.5. Lossy GIFs</h3>

<p>As <a name="INDEX-2341" />
<a name="INDEX-2342" />explained
earlier in this chapter, GIF compression is "lossless,"
meaning every pixel in the image is preserved during compression. The
current web graphics tools allow you to force some pixels out during
the conversion process using the "Loss" or
"Lossy" setting. Throwing out stray pixels is all in the
name of maximizing the number of uninterrupted rows of pixel colors,
thus allowing the LZW compression to work more efficiently. Depending
on the image, a loss value of 5-30% will maintain the integrity of
the image while reducing file sizes significantly. This technique
works best on images with areas of continuous tone (blended colors)
and photographic content.
</p>

</div>
</div>
<a name="wdnut2-CHP-19-SECT-8.3" /><div class="sect2">
<h3 class="sect2">19.8.3. Weighted Optimization (Photoshop 6/ImageReady 3)</h3>

<p>Photoshop 6 and ImageReady 3 offer yet another advance in graphic
optimization. Their weighted optimization feature allows you to apply
varying amounts of optimization to different parts of the image. This
preserves the integrity of the most important areas while maximizing
file size savings for the remainder.
</p>

<p>Weighted optimization uses an alpha channel (called a mask) to select
areas of the image for various optimization levels. The white areas
of the mask correspond to the highest level of image quality, while
black areas describe the lowest (gray areas are on a linear scale in
between). Channels can be used to control color reduction, dithering,
and lossiness in a GIF image.
</p>

<p>To access the Modify dialog box (<a href="ch19_08.htm">Figure 19-9</a>), click
the Channel button next to each of these controls on the Optimization
palette. In the dialog box, use the sliders to set the maximum (white
tab on the left) and minimum (black tab on the right) levels of
optimization.
</p>

<a name="wdnut2-CHP-19-FIG-9" /><div class="figure"><img height="148" alt="Figure 19-9" src="figs/WDN2_1909.gif" width="431" /></div><h4 class="objtitle">Figure 19-9. Weighted Optimization dialog box in ImageReady 3</h4>

<p>In Photoshop, create the alpha channel by saving a selection and
giving the channel a name (the channel can then be accessed from the
Modify dialog boxes). In ImageReady, you can create a new channel
based on a selected image area on the fly when you click the Channel
button.
</p>

<a name="wdnut2-CHP-19-SECT-8.3.1" /><div class="sect3">
<h3 class="sect3">19.8.3.1. Weighted color reduction</h3>

<p>When<a name="INDEX-2343" /> you use the alpha channel to reduce
colors in parts of an image, the white areas of the mask determine
what areas of the image are most important. Colors in those areas
will be weighted more heavily when calculating the color table for
the image.
</p>

</div>

<a name="wdnut2-CHP-19-SECT-8.3.2" /><div class="sect3">
<h3 class="sect3">19.8.3.2. Weighted dithering</h3>

<p>When using the alpha channel with dithering, the white areas of the
mask correspond to the areas that receive the most dithering. Black
areas yield the least dithering. Set the percentage amounts for each
using the black and white tabs on the slider.
</p>

</div>

<a name="wdnut2-CHP-19-SECT-8.3.3" /><div class="sect3">
<h3 class="sect3">19.8.3.3. Weighted lossiness</h3>

<p>Similarly, w<a name="INDEX-2344" />hen using the alpha channel with
lossiness, the white areas of the mask correspond to the highest
image quality. However, because more lossiness results in less
quality, the settings are reversed. To set the highest level of
quality (with the white tab) or enter a value in the Minimum text
box. For lowest level of quality, drag the right (black) tab or enter
a value in the Maximum text box.
</p>

</div>
</div>
<a name="wdnut2-CHP-19-SECT-8.4" /><div class="sect2">
<h3 class="sect2">19.8.4. Optimize to a File Size in Photoshop 5.5+</h3>

<p>In <a name="INDEX-2345" />some cases, you may know
ahead of time what you'd like the file size of your GIF file to
be, for example, when designing an ad banner with a specific file
size limitation.
</p>

<p>Photoshop 5.5 and higher offers an "Optimize to File
Size" function that automatically optimizes an image to meet a
target file size. This enables you to achieve your desired file size
without having to test a variety of file size settings. The Optimize
to File Size function is accessible from the "Save for
Web" dialog box as shown in <a href="ch19_08.htm">Figure 19-10</a>.
</p>

<a name="wdnut2-CHP-19-FIG-10" /><div class="figure"><img height="313" alt="Figure 19-10" src="figs/WDN2_1910.gif" width="396" /></div><h4 class="objtitle">Figure 19-10. "Optimize to File Size" shown in Photoshop 6</h4>

<p>This function works about the same in Versions 5.5 and 6.0, but 6.0
adds the ability to set a target size for a single slice (a portion
created with<a name="INDEX-2346" /> <a name="INDEX-2347" /> the<a name="INDEX-2348" /> <a name="INDEX-2349" /> <a name="INDEX-2350" /> <a name="INDEX-2351" /> <a name="INDEX-2352" /> slicing tool) of an image.
</p>



</div>


<hr width="684" align="left" />
<div class="navbar"><table cellpadding=3 width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch19_07.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch20_01.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">19.7. Transparency</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">20. JPEG Format</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="0,0,77,93" shape="rect" /><area href="index.htm" coords="81,0,156,93" shape="rect" /><area href="../xhtml/index.htm" coords="161,0,261,102" shape="rect" /><area href="../audio/index.htm" coords="265,1,335,97" shape="rect" /><area href="../css/index.htm" coords="339,1,433,109" shape="rect" /><area href="../action/index.htm" coords="438,2,540,109" shape="rect" /><area href="../infoarch/index.htm" coords="544,0,694,104" shape="rect" /></map>

</body></html>