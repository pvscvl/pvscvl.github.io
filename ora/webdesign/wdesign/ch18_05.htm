<html><head><title>XSSI (Web Design in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="style/style1.css" />

<meta name="DC.Creator" content="Jennifer Niederst" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596001967L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Web Design in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Web Design in a Nutshell" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table cellpadding=3 width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch18_04.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm">Web Design in a Nutshell, 2nd Edition</a></td><td align="right" valign="top" width="228"><a href="ch18_06.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>
<hr width="684" align="left" />


<h2 class="sect1">18.5. XSSI</h2>

<p>Apache also supports <a name="INDEX-2213" /> <a name="INDEX-2214" /> <a name="INDEX-2215" />XSSI (eXtended Server Side Includes),
which provides more advanced command functions (and, consequently,
uses code that is a bit more complicated for non-programmer types).
</p>

<p>This section presents a brief overview of features unique to XSSI.
For the nitty-gritty how-to information, see the Apache 1.3
<tt class="literal">mod_include</tt> documentation at <a href="../../../../../../www.apache.org/docs/mod/mod_include.html">http://www.apache.org/docs/mod/mod_include.html</a>.
There are several good articles on XSSI available on the Webmonkey
site (<a href="../../../../../../hotwired.lycos.com/webmonkey/backend/apache_xssi/index.html">http://hotwired.lycos.com/webmonkey/backend/apache_xssi/index.html</a>),
which provide good explanations and examples of real-world
implementations of XSSI. Despite being several years old, the
information is still valid.
</p>

<a name="wdnut2-CHP-18-SECT-5.1" /><div class="sect2">
<h3 class="sect2">18.5.1. Flow Control Elements</h3>

<p><a name="INDEX-2216" />Flow control elements are a set of
if/else commands (similar to if statements used in a programming
language) that allow authors to create conditional commands. Using
flow control elements, authors can make documents display differently
based on specific variables (the "test conditions"). For
instance, you could publish one version of your page for users
accessing it with the Navigator browser and another for Internet
Explorer users.
</p>

<p>The basic flow elements are:<a name="INDEX-2217" />
</p>

<blockquote><pre class="code">&lt;!--#if expr="test_condition" --&gt;
&lt;!--#elif expr="test_condition" --&gt;
&lt;!--#else --&gt;
&lt;!--#endif --&gt;</pre></blockquote>

<p>The first command contains the
<tt class="literal">if</tt><a name="INDEX-2218" /> statement that causes the server to test
for a condition (e.g., if the browser is Navigator). If it is found
to be true, the server prints the text or executes any SSI commands
immediately following the <tt class="literal">if</tt> command. If the test
condition posed by the <tt class="literal">if</tt> statement is false, the
<tt class="literal">elif</tt><a name="INDEX-2219" /> <a name="INDEX-2220" /> statement (which stands for "else
if") is tried next. If the <tt class="literal">elif</tt> test
condition is true, the server prints or executes whatever follows it.
</p>

<p>Otherwise, the server prints or executes whatever comes after
<tt class="literal">else</tt>, which acts as a catch-all for every other
condition that might exist. An if/else statement like this can have
as many <tt class="literal">elifs</tt> as you want to add, each of which is
tested in turn, and it does not require that you have an
<tt class="literal">else</tt> statement at the end -- in which case, if
none of the <tt class="literal">if</tt> or <tt class="literal">elif</tt>
statements are found to be true, the server does not do anything.
</p>

<p>The<tt class="literal"> endif</tt><a name="INDEX-2221" /> element ends the <tt class="literal">if</tt>
element and is required.
</p>

<p>In the following example, a greeting is customized based on the
user's browser:
</p>

<blockquote><pre class="code">&lt;!--#if expr="\"$HTTP_USER_AGENT\" = \"Mozilla\"" --&gt;
Welcome Netscape User! 
&lt;!--#elif expr="\"$HTTP_USER_AGENT\" = \"Explorer\"" --&gt;
Welcome Internet Explorer User!
&lt;!--#else --&gt;
Welcome!
&lt;!--#endif --&gt;</pre></blockquote>

<p>As you can see, this is where a little programming knowledge comes in
handy for getting the most out of SSI.
</p>

</div>
<a name="wdnut2-CHP-18-SECT-5.2" /><div class="sect2">
<h3 class="sect2">18.5.2. Setting Variables</h3>

<p>The standard available environment variables were introduced earlier
in this chapter. XSSI adds the capability to create your own
variables using the <tt class="literal">set</tt> element as follows:
</p>

<blockquote><pre class="code">&lt;!--#set var="category" value="help" --&gt;</pre></blockquote>

<p>Your customized variables can then be used as test conditions using
the flow control elements listed earlier.
</p>

</div>


<hr width="684" align="left" />
<div class="navbar"><table cellpadding=3 width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch18_04.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch18_06.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">18.4. Using Environment Variables</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">18.6. SSI Commands</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="0,0,77,93" shape="rect" /><area href="index.htm" coords="81,0,156,93" shape="rect" /><area href="../xhtml/index.htm" coords="161,0,261,102" shape="rect" /><area href="../audio/index.htm" coords="265,1,335,97" shape="rect" /><area href="../css/index.htm" coords="339,1,433,109" shape="rect" /><area href="../action/index.htm" coords="438,2,540,109" shape="rect" /><area href="../infoarch/index.htm" coords="544,0,694,104" shape="rect" /></map>

</body></html>