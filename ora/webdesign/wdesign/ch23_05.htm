<html><head><title>Creating Animated GIFs (Web Design in a Nutshell, 2nd Edition)</title><link rel="stylesheet" type="text/css" href="style/style1.css" />

<meta name="DC.Creator" content="Jennifer Niederst" /><meta name="DC.Format" content="text/xml" scheme="MIME" /><meta name="DC.Language" content="en-US" /><meta name="DC.Publisher" content="O'Reilly &amp; Associates, Inc." /><meta name="DC.Source" scheme="ISBN" content="0596001967L" /><meta name="DC.Subject.Keyword" content="stuff" /><meta name="DC.Title" content="Web Design in a Nutshell, 2nd Edition" /><meta name="DC.Type" content="Text.Monograph" />

</head><body bgcolor="#ffffff">

<img alt="Book Home" border="0" src="gifs/smbanner.gif" usemap="#banner-map" /><map name="banner-map"><area shape="rect" coords="1,-2,616,66" href="index.htm" alt="Web Design in a Nutshell" /><area shape="rect" coords="629,-11,726,25" href="jobjects/fsearch.htm" alt="Search this book" /></map>

<div class="navbar"><table cellpadding=3 width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch23_04.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm">Web Design in a Nutshell, 2nd Edition</a></td><td align="right" valign="top" width="228"><a href="ch23_06.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr></table></div>
<hr width="684" align="left" />


<h2 class="sect1">23.5. Creating Animated GIFs</h2><a name="INDEX-2536" /><a name="INDEX-2537" /><a name="INDEX-2538" />

<p><a name="INDEX-2539" />Regardless
of the tool you choose, the process of creating an animated GIF is
about the same and involves making decisions about a standard set of
features and options. Some of the following descriptions use
GIFBuilder's terminology, but the concepts and settings are
consistent across tools.
</p>

<a name="wdnut2-CHP-23-SECT-5.1" /><div class="sect2">
<h3 class="sect2">23.5.1. Frame Delay</h3>

<p><a name="INDEX-2540" />
<a name="INDEX-2541" />
<a name="INDEX-2542" />Also called "interframe
delay," this setting specifies the amount of time between
frames. Frame delays are measured in 1/100ths of a second. You can
apply a different delay time to each frame in the animation to create
pauses and other timing effects. This differs from digital video
formats, in which the delay between all frames is consistent.
</p>

</div>
<a name="wdnut2-CHP-23-SECT-5.2" /><div class="sect2">
<h3 class="sect2">23.5.2. Transparency</h3>

<p><a name="INDEX-2543" />You
can set transparency for each frame within an animation. Previous
frames will show through the transparent area of a later frame if
disposal methods are set correctly.
</p>

<p>If the background frame is made transparent, the browser background
color or pattern will show through.
</p>

<a name="ch23-11-fm2xml" /><blockquote><h4>WARNING</h4>
<p>There is a bug in early versions of Navigator in which transparency
works only with background patterns, not colors specified in HTML.
</p>
</blockquote>

<p>Don't be surprised if the transparent areas you specified in
your original graphics are ignored when you import them into a GIF
animation utility. You may need to set transparency in the animation
package. Some standard transparency options include:
</p>

<dl>
<dt><b>None</b></dt>
<dd>
<p>No transparency.</p>
</dd>

</dl>

<dl>
<dt><b>White</b></dt>
<dd>
<p>All the white pixels in the image will become transparent.</p>
</dd>

</dl>

<dl>
<dt><b>Based on first pixel</b></dt>
<dd>
<p>The color of the "first pixel" -- that is, the top
left pixel, the one at coordinates 0,0 -- is transparent. This is
a handy option since you'll often have an image in the center,
and the four corners will be transparent.
</p>
</dd>

</dl>

<dl>
<dt><b>Other</b></dt>
<dd>
<p>This option lets you select one of the palette colors as transparent.</p>
</dd>

</dl>

</div>
<a name="wdnut2-CHP-23-SECT-5.3" /><div class="sect2">
<h3 class="sect2">23.5.3. Disposal Methods</h3>

<p><a name="INDEX-2544" />Disposal method gives instructions
on what to do with the previous frame once a new frame is displayed.
</p>

<p>Most GIF animation utilities offer "optimization," a
file-size reducing process that takes advantage of the fact that
previous frames will "show through" transparent areas of
a later frame. In order for this process to work, the disposal method
must be set to Do Not Dispose (or Leave Alone, Leave As Is, etc.).
With this method, areas of previous frames continue to display unless
covered up by an area in a succeeding frame. The four choices are:
</p>

<dl>
<dt><b>Unspecified (Nothing)</b></dt>
<dd>
<p><a name="INDEX-2545" />
<a name="INDEX-2546" />Use
this option to replace one full-size, nontransparent frame with
another.
</p>
</dd>

</dl>

<a name="INDEX-2547" />
<a name="INDEX-2548" />
<dl>
<dt><b>Do Not Dispose (Leave As Is)</b></dt>
<dd>
<p>In this option, any pixels not covered by the next frame continue to
display. Use this when you want a frame to continue to show
throughout the animation.
</p>
</dd>

</dl>

<a name="INDEX-2549" />
<dl>
<dt><b>Restore to Background</b></dt>
<dd>
<p>The background color or background tile shows through the transparent
pixels of the new frame (replacing the image areas of the previous
frame).
</p>
</dd>

</dl>

<dl>
<dt><b>Restore to Previous</b></dt>
<dd>
<p>This option restores to the state of the previous, undisposed frame.
For example, if you have a static background that is set to Do Not
Dispose, that image will reappear in the areas left by a replaced
frame.
</p>

<p>This disposal method is not correctly supported in Netscape Navigator
(it is treated like Do Not Dispose), leading to all the frames being
visible and stacking up. Although it can produce better optimized
animation files, it is safest not to use it.
</p>
</dd>

</dl>

<p>The effects of each of these disposal methods are compared in <a href="ch23_05.htm">Figure 23-1</a>. 
</p>

<a name="wdnut2-CHP-23-FIG-1" /><div class="figure"><img height="539" alt="Figure 23-1" src="figs/WDN2_2301.gif" width="431" /></div><h4 class="objtitle">Figure 23-1. Disposal method comparison</h4>

</div>
<a name="wdnut2-CHP-23-SECT-5.4" /><div class="sect2">
<h3 class="sect2">23.5.4. Color Palette</h3>

<p><a name="INDEX-2550" />Animated GIFs, like static GIF files, use
a list of up to 256 colors that can be used in the image. They can
have multiple palettes (one for each frame) or one global palette.
The palette choice affects how well the images appear on the
inevitable variety of systems and monitor setups.
</p>

<p>One problem with using multiple, frame-specific palettes is that they
can cause a flashing effect on some early versions of Navigator (it
cannot load the frames and their respective palettes in sync). In any
case, multiple palettes dramatically increase file size. It is
recommended you use one global palette for the whole animation.
GifMation and Ulead GIF Animator allow you to create a customized
global palette. In fact, any image editor can be used to create a
global palette. Just place all images to be used in one document,
then index the document. The resulting palette will be a global
palette for the entire animation.
</p>

<p>Other palette options include:</p>

<a name="INDEX-2551" />
<dl>
<dt><b>System palette</b></dt>
<dd>
<p>You can apply the Mac or Windows system palettes to your animation if
you know it will be viewed exclusively on one platform.
</p>
</dd>

</dl>

<dl>
<dt><b>Grayscale</b></dt>
<dd>
<p><a name="INDEX-2552" />This converts your image to 256 shades of
gray. Keep in mind, however, that browsers running on 8-bit monitors
will try to convert the various shades of gray to the web palette.
Since there are only a few true grays in the web palette, a grayscale
image may not look very good on those monitors.
</p>
</dd>

</dl>

<a name="INDEX-2553" />
<dl>
<dt><b>Adaptive palette</b></dt>
<dd>
<p>Either ask your utility to create a global palette from the colors in
the animation, or import one you created in another program. For most
animations, this is your best bet.
</p>
</dd>

</dl>

<a name="INDEX-2554" />
<dl>
<dt><b>Web palette (6  <img src="figs/U00D7.gif">  6  &times;  6 palette)</b></dt>
<dd>
<p>Use the web palette if your animation is composed largely of flat
colors and you want to be sure they don't dither on 8-bit
displays. The web palette is explained in <a href="ch03_01.htm">Chapter 3, "Web Design Principles for Print Designers"</a> and <a href="ch22_01.htm">Chapter 22, "Designing Graphics with the Web Palette"</a>.
</p>
</dd>

</dl>

</div>
<a name="wdnut2-CHP-23-SECT-5.5" /><div class="sect2">
<h3 class="sect2">23.5.5. Other Options</h3>

<p>The following are descriptions of other aspects of animated GIF files
that can be set within most animation programs.
</p>

<dl>
<dt><b>Loop</b></dt>
<dd>
<p><a name="INDEX-2555" />You can
specify the number of times an animation repeats -- none, forever,
or a specific number. As noted earlier, not all browsers support a
specific number of loops (the animation either loops or does not).
One workaround to this problem is to build looping right into a file
by repeating the frame sequence a number of times; of course, this
increases the file size and download time.
</p>
</dd>

</dl>

<dl>
<dt><b>Interlaced</b></dt>
<dd>
<p><a name="INDEX-2556" />
<a name="INDEX-2557" />
<a name="INDEX-2558" />Like ordinary GIF89a graphics, animated
GIFs can be set to be interlaced, which causes them to display in a
series of passes (starting blocky, finishing clear). It is
recommended that you leave the interlacing option set to
"no" or "off" because each frame is on the
screen for only a short amount of time.
</p>
</dd>

</dl>

<dl>
<dt><b>Depth</b></dt>
<dd>
<p><a name="INDEX-2559" />
<a name="INDEX-2560" />
<a name="INDEX-2561" />
<a name="INDEX-2562" />This option allows you
to limit the bit depth of the image to some number less than 8 (the
default for GIF). Bit depth and its effect on file size is discussed
in detail in <a href="ch19_01.htm">Chapter 19, "GIF Format"</a>. Note that if you select
the web (6 <img src="figs/U00D7.gif"> 6 &times; 6) palette, you will need to keep the
bit depth set to 8.
</p>
</dd>

</dl>

<dl>
<dt><b>Dithering</b></dt>
<dd>
<p><a name="INDEX-2563" />
<a name="INDEX-2564" />Dithering is a way to simulate
intermediate color shades. It should be used with continuous-tone
images.
</p>
</dd>

</dl>

<dl>
<dt><b>Background Color</b></dt>
<dd>
<p><a name="INDEX-2565" />Regardless of what color you select
in the background color option, Navigator and Internet Explorer
display the background color or image you specify in your HTML page.
So, this option doesn't affect the display of the GIF in a
browser, only within the tool itself.
</p>
</dd>

</dl>

</div>
<a name="wdnut2-CHP-23-SECT-5.6" /><div class="sect2">
<h3 class="sect2">23.5.6. Starting Points</h3>

<p>These settings are a good starting point for creating full-frame
animations:
</p>

<blockquote class="simplelist">

<p><b class="emphasis-bold">Color Palette:</b> Global, adaptive palette</p>

<p><b class="emphasis-bold">Interlacing:</b> Off</p>

<p><b class="emphasis-bold">Dithering:</b> On for photographic images; Off for drawings with few colors</p>

<p><b class="emphasis-bold">Image Size:</b> Minimum Size</p>

<p><b class="emphasis-bold">Background Color</b>: Black</p>

<p><b class="emphasis-bold">Looping</b>: None or Forever</p>

<p><b class="emphasis-bold">Transparency</b>: Off</p>

<p><b class="emphasis-bold">Disposal Method</b>: Do Not Dispose<a name="INDEX-2566" /></p>

</blockquote>

</div>


<hr width="684" align="left" />
<div class="navbar"><table cellpadding=3 width="684" border="0"><tr><td align="left" valign="top" width="228"><a href="ch23_04.htm"><img alt="Previous" border="0" src="../gifs/txtpreva.gif" /></a></td><td align="center" valign="top" width="228"><a href="index.htm"><img alt="Home" border="0" src="../gifs/txthome.gif" /></a></td><td align="right" valign="top" width="228"><a href="ch23_06.htm"><img alt="Next" border="0" src="../gifs/txtnexta.gif" /></a></td></tr><tr><td align="left" valign="top" width="228">23.4. Tools</td><td align="center" valign="top" width="228"><a href="index/index.htm"><img alt="Book Index" border="0" src="../gifs/index.gif" /></a></td><td align="right" valign="top" width="228">23.6. Optimizing Animated GIFs</td></tr></table></div>
<hr width="684" align="left" />

<img alt="Library Navigation Links" border="0" src="../gifs/navbar.gif" usemap="#library-map" />
<p><font size="-1"><a href="copyrght.htm">Copyright &copy; 2002</a> O'Reilly &amp; Associates. All rights reserved.</font></p>

<map name="library-map"><area href="../index.htm" coords="0,0,77,93" shape="rect" /><area href="index.htm" coords="81,0,156,93" shape="rect" /><area href="../xhtml/index.htm" coords="161,0,261,102" shape="rect" /><area href="../audio/index.htm" coords="265,1,335,97" shape="rect" /><area href="../css/index.htm" coords="339,1,433,109" shape="rect" /><area href="../action/index.htm" coords="438,2,540,109" shape="rect" /><area href="../infoarch/index.htm" coords="544,0,694,104" shape="rect" /></map>

</body></html>